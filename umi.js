(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/echarts-for-react/",n(n.s=0)})({"+3Ak":function(e,t,n){var r=n("HIsA");r({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},"+3y3":function(e,t,n){"use strict";var r=n("HIsA"),i=n("PaPB"),a=n("t0cd"),o="Invalid number representation",s="Invalid radix",u=/^[\da-z]+$/;r({target:"Number",stat:!0},{fromString:function(e,t){var n,r,l=1;if("string"!=typeof e)throw TypeError(o);if(!e.length)throw SyntaxError(o);if("-"==e.charAt(0)&&(l=-1,e=e.slice(1),!e.length))throw SyntaxError(o);if(n=void 0===t?10:i(t),n<2||n>36)throw RangeError(s);if(!u.test(e)||(r=a(e,n)).toString(n)!==e)throw SyntaxError(o);return l*r}})},"+4Yi":function(e,t,n){var r=n("JqKL");r("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"+7Kl":function(e,t,n){"use strict";var r=n("HIsA"),i=n("Hiyu"),a=n("QD/U"),o=n("DDwO"),s=n("hXyk"),u=n("pxmn"),l=n("xOST"),c=n("2RC6").f,f=n("D8FR"),h=n("masK"),d=n("0Ccx"),p=n("Ji6T"),g=n("liI8"),m=n("kPvK"),v=n("twJ5"),y=m("observable"),_=v.get,b=v.set,x=function(e){return null==e?void 0:o(e)},w=function(e){var t=e.cleanup;if(t){e.cleanup=void 0;try{t()}catch(n){g(n)}}},S=function(e){return void 0===e.observer},T=function(e,t){if(!i){e.closed=!0;var n=t.subscriptionObserver;n&&(n.closed=!0)}t.observer=void 0},E=function(e,t){var n,r=b(this,{cleanup:void 0,observer:s(e),subscriptionObserver:void 0});i||(this.closed=!1);try{(n=x(e.start))&&n.call(e,this)}catch(c){g(c)}if(!S(r)){var a=r.subscriptionObserver=new M(this);try{var u=t(a),l=u;null!=u&&(r.cleanup="function"===typeof u.unsubscribe?function(){l.unsubscribe()}:o(u))}catch(c){return void a.error(c)}S(r)&&w(r)}};E.prototype=h({},{unsubscribe:function(){var e=_(this);S(e)||(T(this,e),w(e))}}),i&&c(E.prototype,"closed",{configurable:!0,get:function(){return S(_(this))}});var M=function(e){b(this,{subscription:e}),i||(this.closed=!1)};M.prototype=h({},{next:function(e){var t=_(_(this).subscription);if(!S(t)){var n=t.observer;try{var r=x(n.next);r&&r.call(n,e)}catch(i){g(i)}}},error:function(e){var t=_(this).subscription,n=_(t);if(!S(n)){var r=n.observer;T(t,n);try{var i=x(r.error);i?i.call(r,e):g(e)}catch(a){g(a)}w(n)}},complete:function(){var e=_(this).subscription,t=_(e);if(!S(t)){var n=t.observer;T(e,t);try{var r=x(n.complete);r&&r.call(n)}catch(i){g(i)}w(t)}}}),i&&c(M.prototype,"closed",{configurable:!0,get:function(){return S(_(_(this).subscription))}});var C=function(e){l(this,C,"Observable"),b(this,{subscriber:o(e)})};h(C.prototype,{subscribe:function(e){var t=arguments.length;return new E("function"===typeof e?{next:e,error:t>1?arguments[1]:void 0,complete:t>2?arguments[2]:void 0}:u(e)?e:{},_(this).subscriber)}}),h(C,{from:function(e){var t="function"===typeof this?this:C,n=x(s(e)[y]);if(n){var r=s(n.call(e));return r.constructor===t?r:new t((function(e){return r.subscribe(e)}))}var i=d(e);return new t((function(e){p(i,(function(t){if(e.next(t),e.closed)return p.stop()}),void 0,!1,!0),e.complete()}))},of:function(){var e="function"===typeof this?this:C,t=arguments.length,n=new Array(t),r=0;while(r<t)n[r]=arguments[r++];return new e((function(e){for(var r=0;r<t;r++)if(e.next(n[r]),e.closed)return;e.complete()}))}}),f(C.prototype,y,(function(){return this})),r({global:!0},{Observable:C}),a("Observable")},"+G+T":function(e,t,n){n("n2r9")},"+S3R":function(e,t){function n(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}e.exports=n},"+eKy":function(e,t,n){var r=n("HIsA"),i=n("bXon"),a=n("DDwO"),o=n("hXyk"),s=n("7+LC"),u=i("Reflect","apply"),l=Function.apply,c=!s((function(){u((function(){}))}));r({target:"Reflect",stat:!0,forced:c},{apply:function(e,t,n){return a(e),o(n),u?u(e,t,n):l.call(e,t,n)}})},"+kF3":function(e,t,n){"use strict";var r=n("NVMI"),i=n("4dbd"),a=n("2I03");e.exports=function(e){var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);while(l>s)t[s++]=e;return t}},"+noq":function(e,t,n){n("1Xnk")},"+qhb":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"/5yA":function(e,t,n){var r=n("Hiyu"),i=n("7+LC"),a=n("+qhb"),o=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||(t={});var n=[][e],l=!!a(t,"ACCESSORS")&&t.ACCESSORS,c=a(t,0)?t[0]:u,f=a(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(l&&!r)return!0;var e={length:-1};l?o(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,c,f)}))}},"/7QA":function(e,t,n){"use strict";n.r(t),n.d(t,"EChartsReactProps",(function(){return i["EChartsReactProps"]})),n.d(t,"EChartsOption",(function(){return i["EChartsOption"]})),n.d(t,"EChartsInstance",(function(){return i["EChartsInstance"]})),n.d(t,"default",(function(){return g}));var r=n("Fk5u"),i=n("p21n"),a=n("Fano"),o=n("xwgP"),s=n.n(o),u=n("bCfE");function l(e,t){var n={};return t.forEach((t=>{n[t]=e[t]})),n}function c(e){return"function"===typeof e}function f(e){return"string"===typeof e}var h=n("Diaw"),d=n.n(h);class p extends o["PureComponent"]{constructor(e){super(e),this.ele=void 0,this.echarts=void 0,this.echarts=e.echarts,this.ele=null}componentDidMount(){this.renderNewEcharts()}componentDidUpdate(e){var t=this.props.shouldSetOption;if(!c(t)||t(e,this.props)){if(!d()(e.theme,this.props.theme)||!d()(e.opts,this.props.opts)||!d()(e.onEvents,this.props.onEvents))return this.dispose(),void this.renderNewEcharts();var n=["option","notMerge","lazyUpdate","showLoading","loadingOption"];if(!d()(l(this.props,n),l(e,n))){var r=this.updateEChartsOption();if(!d()(e.style,this.props.style)||!d()(e.className,this.props.className))try{r.resize()}catch(i){console.warn(i)}}}}componentWillUnmount(){this.dispose()}getEchartsInstance(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)}dispose(){if(this.ele){try{Object(u["clear"])(this.ele)}catch(e){console.warn(e)}this.echarts.dispose(this.ele)}}renderNewEcharts(){var e=this.props,t=e.onEvents,n=e.onChartReady,r=this.updateEChartsOption();this.bindEvents(r,t||{}),c(n)&&n(r),this.ele&&Object(u["bind"])(this.ele,(()=>{try{r.resize()}catch(e){console.warn(e)}}))}bindEvents(e,t){function n(t,n){f(t)&&c(n)&&e.on(t,(t=>{n(t,e)}))}for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n(r,t[r])}updateEChartsOption(){var e=this.props,t=e.option,n=e.notMerge,r=void 0!==n&&n,i=e.lazyUpdate,a=void 0!==i&&i,o=e.showLoading,s=e.loadingOption,u=void 0===s?null:s,l=this.getEchartsInstance();return l.setOption(t,r,a),o?l.showLoading(u):l.hideLoading(),l}render(){var e=this.props,t=e.style,n=e.className,r=void 0===n?"":n,i=Object(a["a"])({height:300},t);return s.a.createElement("div",{ref:e=>{this.ele=e},style:i,className:"echarts-for-react ".concat(r)})}}class g extends p{constructor(e){super(e),this.echarts=r}}},"/Fc6":function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol["for"],i=r?Symbol["for"]("react.element"):60103,a=r?Symbol["for"]("react.portal"):60106,o=r?Symbol["for"]("react.fragment"):60107,s=r?Symbol["for"]("react.strict_mode"):60108,u=r?Symbol["for"]("react.profiler"):60114,l=r?Symbol["for"]("react.provider"):60109,c=r?Symbol["for"]("react.context"):60110,f=r?Symbol["for"]("react.async_mode"):60111,h=r?Symbol["for"]("react.concurrent_mode"):60111,d=r?Symbol["for"]("react.forward_ref"):60112,p=r?Symbol["for"]("react.suspense"):60113,g=r?Symbol["for"]("react.suspense_list"):60120,m=r?Symbol["for"]("react.memo"):60115,v=r?Symbol["for"]("react.lazy"):60116,y=r?Symbol["for"]("react.block"):60121,_=r?Symbol["for"]("react.fundamental"):60117,b=r?Symbol["for"]("react.responder"):60118,x=r?Symbol["for"]("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type,e){case f:case h:case o:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof,e){case c:case d:case v:case m:case l:return e;default:return t}}case a:return t}}}function S(e){return w(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===f},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===u||e===s||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===_||e.$$typeof===b||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w},"/Izz":function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},"/P+o":function(e,t,n){"use strict";var r=n("HIsA"),i=n("Hiyu"),a=n("12fA"),o=n("NVMI"),s=n("DDwO"),u=n("2RC6");i&&r({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){u.f(o(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},"/llE":function(e,t,n){"use strict";var r=n("HIsA"),i=n("PBBb");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"/p+0":function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("DDwO");r({target:"Map",proto:!0,real:!0,forced:i},{update:function(e,t){var n=a(this),r=arguments.length;o(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");var s=i?n.get(e):o(r>2?arguments[2]:void 0)(e,n);return n.set(e,t(s,e,n)),n}})},0:function(e,t,n){e.exports=n("tB8F")},"0Brq":function(e,t,n){var r=n("JqKL");r("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"0Ccx":function(e,t,n){var r=n("hXyk"),i=n("tg/3");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},"0MLT":function(e,t,n){"use strict";var r=n("DDwO"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},"0Uim":function(e,t,n){var r=n("HIsA"),i=n("Rkte");r({target:"Math",stat:!0},{scale:i})},"0f0C":function(e,t,n){var r=n("pxmn");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"0ou5":function(e,t,n){},"1+Eb":function(e,t,n){"use strict";var r=n("7+LC");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},"12fA":function(e,t,n){"use strict";var r=n("m52V"),i=n("2JD6"),a=n("7+LC");e.exports=r||!a((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}))},"13/t":function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},"1Je0":function(e,t,n){"use strict";var r=n("HIsA"),i=n("Xf1w").some,a=n("1+Eb"),o=n("/5yA"),s=a("some"),u=o("some");r({target:"Array",proto:!0,forced:!s||!u},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"1PYm":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=a(n("xwgP")),i=n("CU0g");function a(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return e.offsetTop+(e.offsetParent?s(e.offsetParent):0)}var u=function e(t){var n,a=(null===(n=t.to.match(/(#.+)$/))||void 0===n?void 0:n[1])||"";return r["default"].createElement(i.NavLink,o({},t,{onClick:function(){return e.scrollToAnchor(a.substring(1))},isActive:function(e,t){return a&&decodeURIComponent(t.hash)===a}}))};u.scrollToAnchor=function(e){window.requestAnimationFrame((function(){var t=document.getElementById(decodeURIComponent(e));t&&window.scrollTo(0,s(t)-100)}))};var l=u;t["default"]=l},"1PaV":function(e,t,n){var r=n("2JD6"),i=r.isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},"1XUj":function(e,t,n){var r=n("HIsA"),i=n("RUgK").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},"1Xnk":function(e,t,n){var r=n("HIsA"),i=n("2JD6");r({global:!0},{globalThis:i})},"1agv":function(e,t){e.exports={}},"2+gS":function(e,t,n){var r=n("Hiyu"),i=n("2RC6"),a=n("hXyk"),o=n("y6vz");e.exports=r?Object.defineProperties:function(e,t){a(e);var n,r=o(t),s=r.length,u=0;while(s>u)i.f(e,n=r[u++],t[n]);return e}},"27OL":function(e,t,n){"use strict";var r=n("HIsA"),i=n("Xf1w").filter,a=n("HqdE"),o=n("/5yA"),s=a("filter"),u=o("filter");r({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"2BKa":function(e,t,n){"use strict";var r=2147483647,i=36,a=1,o=26,s=38,u=700,l=72,c=128,f="-",h=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",g=i-a,m=Math.floor,v=String.fromCharCode,y=function(e){var t=[],n=0,r=e.length;while(n<r){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},_=function(e){return e+22+75*(e<26)},b=function(e,t,n){var r=0;for(e=n?m(e/u):e>>1,e+=m(e/t);e>g*o>>1;r+=i)e=m(e/g);return m(r+(g+1)*e/(e+s))},x=function(e){var t=[];e=y(e);var n,s,u=e.length,h=c,d=0,g=l;for(n=0;n<e.length;n++)s=e[n],s<128&&t.push(v(s));var x=t.length,w=x;x&&t.push(f);while(w<u){var S=r;for(n=0;n<e.length;n++)s=e[n],s>=h&&s<S&&(S=s);var T=w+1;if(S-h>m((r-d)/T))throw RangeError(p);for(d+=(S-h)*T,h=S,n=0;n<e.length;n++){if(s=e[n],s<h&&++d>r)throw RangeError(p);if(s==h){for(var E=d,M=i;;M+=i){var C=M<=g?a:M>=g+o?o:M-g;if(E<C)break;var A=E-C,O=i-C;t.push(v(_(C+A%O))),E=m(A/O)}t.push(v(_(E))),g=b(d,T,w==x),d=0,++w}}++d,++h}return t.join("")};e.exports=function(e){var t,n,r=[],i=e.toLowerCase().replace(d,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(h.test(n)?"xn--"+x(n):n);return r.join(".")}},"2Dhz":function(e,t,n){var r=n("JqKL");r("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"2I03":function(e,t,n){var r=n("PaPB"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"2JD6":function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("UywP"))},"2Pxf":function(e,t,n){"use strict";var r=n("Hiyu"),i=n("7+LC"),a=n("y6vz"),o=n("CmBG"),s=n("73Ew"),u=n("NVMI"),l=n("aS93"),c=Object.assign,f=Object.defineProperty;e.exports=!c||i((function(){if(r&&1!==c({b:1},c(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||a(c({},t)).join("")!=i}))?function(e,t){var n=u(e),i=arguments.length,c=1,f=o.f,h=s.f;while(i>c){var d,p=l(arguments[c++]),g=f?a(p).concat(f(p)):a(p),m=g.length,v=0;while(m>v)d=g[v++],r&&!h.call(p,d)||(n[d]=p[d])}return n}:c},"2RC6":function(e,t,n){var r=n("Hiyu"),i=n("IDl8"),a=n("hXyk"),o=n("n2ef"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"2hCa":function(e,t,n){var r=n("aS93"),i=n("JzK+");e.exports=function(e){return r(i(e))}},"2kiq":function(e,t,n){"use strict";e.exports=n("/Fc6")},"2x2d":function(e,t,n){var r=n("HIsA"),i=n("icJ8"),a=n("hXyk"),o=n("kI7s"),s=i.has,u=i.get,l=i.toKey,c=function(e,t,n){var r=s(e,t,n);if(r)return u(e,t,n);var i=o(t);return null!==i?c(e,i,n):void 0};r({target:"Reflect",stat:!0},{getMetadata:function(e,t){var n=arguments.length<3?void 0:l(arguments[2]);return c(e,a(t),n)}})},"3/xt":function(e,t,n){"use strict";n.r(t);var r=n("xwgP"),i=n.n(r),a=n("kvV8"),o=n("lBQG"),s=i.a.memo(n("Rsk4").default["dynamic-demo"].component);t["default"]=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"dynamic"},i.a.createElement(a["AnchorLink"],{to:"#dynamic","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:["icon","icon-link"]})),"Dynamic")),i.a.createElement(o["default"],n("Rsk4").default["dynamic-demo"].previewerProps,i.a.createElement(s,null))))}},"3fYz":function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("LTDN");r({target:"WeakSet",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},"3i2j":function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("bXon"),o=n("hXyk"),s=n("DDwO"),u=n("0Ccx"),l=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=u(this),n=o(e),r=n.has;return"function"!=typeof r&&(n=new(a("Set"))(e),r=s(n.has)),!l(t,(function(e){if(!1===r.call(n,e))return l.stop()}),void 0,!1,!0).stopped}})},"40mc":function(e,t,n){var r=n("DDwO");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"41ra":function(e,t,n){"use strict";var r=n("HIsA"),i=n("UTnC");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},"45XY":function(e,t,n){var r=n("EPMC"),i=n("4lsV"),a=n("egoY"),o=n("B2Tl");function s(e,t){return r(e)||i(e,t)||a(e,t)||o()}e.exports=s},"4CZv":function(e,t){var n=1/0,r=Math.abs,i=Math.pow,a=Math.floor,o=Math.log,s=Math.LN2,u=function(e,t,u){var l,c,f,h=new Array(u),d=8*u-t-1,p=(1<<d)-1,g=p>>1,m=23===t?i(2,-24)-i(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;for(e=r(e),e!=e||e===n?(c=e!=e?1:0,l=p):(l=a(o(e)/s),e*(f=i(2,-l))<1&&(l--,f*=2),e+=l+g>=1?m/f:m*i(2,1-g),e*f>=2&&(l++,f/=2),l+g>=p?(c=0,l=p):l+g>=1?(c=(e*f-1)*i(2,t),l+=g):(c=e*i(2,g-1)*i(2,t),l=0));t>=8;h[y++]=255&c,c/=256,t-=8);for(l=l<<t|c,d+=t;d>0;h[y++]=255&l,l/=256,d-=8);return h[--y]|=128*v,h},l=function(e,t){var r,a=e.length,o=8*a-t-1,s=(1<<o)-1,u=s>>1,l=o-7,c=a-1,f=e[c--],h=127&f;for(f>>=7;l>0;h=256*h+e[c],c--,l-=8);for(r=h&(1<<-l)-1,h>>=-l,l+=t;l>0;r=256*r+e[c],c--,l-=8);if(0===h)h=1-u;else{if(h===s)return r?NaN:f?-n:n;r+=i(2,t),h-=u}return(f?-1:1)*r*i(2,h-t)};e.exports={pack:u,unpack:l}},"4FMk":function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=n},"4Rd9":function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("keKz"),o=n("7+LC"),s=n("bXon"),u=n("70zE"),l=n("n+WB"),c=n("GUTS"),f=!!a&&o((function(){a.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:f},{finally:function(e){var t=u(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof a||a.prototype["finally"]||c(a.prototype,"finally",s("Promise").prototype["finally"])},"4YzK":function(e,t,n){var r=n("R64i"),i=n("GUTS"),a=n("Uvls");r||i(Object.prototype,"toString",a,{unsafe:!0})},"4dbd":function(e,t,n){var r=n("PaPB"),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},"4dmQ":function(e,t,n){var r=n("IRht");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},"4e8G":function(e,t,n){n("Nau9")},"4lsV":function(e,t){function n(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}e.exports=n},"5AZ8":function(e,t,n){"use strict";var r=n("DDwO"),i=n("40mc"),a=n("Ji6T");e.exports=function(e){var t,n,o,s,u=arguments.length,l=u>1?arguments[1]:void 0;return r(this),t=void 0!==l,t&&r(l),void 0==e?new this:(n=[],t?(o=0,s=i(l,u>2?arguments[2]:void 0,2),a(e,(function(e){n.push(s(e,o++))}))):a(e,n.push,n),new this(n))}},"5Au7":function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("40mc"),s=n("YjHi"),u=n("Ji6T");r({target:"Map",proto:!0,real:!0,forced:i},{find:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e,n){if(r(n,e,t))return u.stop(n)}),void 0,!0,!0).result}})},"5D2R":function(e,t,n){"use strict";var r=n("fAam");function i(){var e=s(n("xwgP"));return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n("kvV8");function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n["default"]=e,t&&t.set(e,n),n}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return m(e)||g(e,t)||d(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}function m(e){if(Array.isArray(e))return e}var v=function(e){var t=(0,i().useContext)(a.context),n=t.locale,o=t.routes,s=t.config.locales,u=(0,i().useState)([]),l=f(u,2),c=l[0],h=l[1],d=(0,i().useState)([]),p=f(d,2),g=p[0],m=p[1];return(0,i().useEffect)((function(){h(o.filter((function(e){var t=e.title,r=e.meta,i=(null===r||void 0===r?void 0:r.locale)===n,a=(null===r||void 0===r?void 0:r.locale)===s[0].name||!(null===r||void 0===r?void 0:r.locale)&&(!s.length||n===s[0].name);return t&&(a||i)})).reduce((function(e,t){var n,i,a={title:t.title,path:t.path};return(null===(n=t.meta)||void 0===n?void 0:n.group)&&(a.parent=t.meta.group),e.push(a),e.push.apply(e,r(((null===(i=t.meta)||void 0===i?void 0:i.slugs)||[]).filter((function(e){var n=e.value;return n!==t.title})).map((function(e){return{title:e.value,path:"".concat(t.path,"#").concat(e.heading),parent:a}})))),e}),[]))}),[o.length,n]),(0,i().useEffect)((function(){var t=null===e||void 0===e?void 0:e.trim().toUpperCase();if(t){for(var n=[],r=0;r<c.length&&n.length<6;r+=1)c[r].title.toUpperCase().indexOf(t)>-1&&n.push(c[r]);m(n)}else m([])}),[e,c.length]),g},y=function(){var e=(0,i().useContext)(a.context),t=e.config.algolia,n=(0,i().useCallback)((function(e){window.docsearch(l({inputSelector:e},t))}),[t]);return n},_=function(e){var t=(0,i().useContext)(a.context),n=t.config,r=v(e),o=y();return n.algolia?o:r};t["default"]=_},"5M8n":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){e.apply(r,a)}),t)}};t["default"]=r},"5Nth":function(e,t,n){var r=n("2JD6"),i=n("D8FR");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},"5isN":function(e,t,n){"use strict";var r=n("40mc"),i=n("NVMI"),a=n("acWz"),o=n("mKn/"),s=n("2I03"),u=n("G70G"),l=n("tg/3");e.exports=function(e){var t,n,c,f,h,d,p=i(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,y=void 0!==v,_=l(p),b=0;if(y&&(v=r(v,m>2?arguments[2]:void 0,2)),void 0==_||g==Array&&o(_))for(t=s(p.length),n=new g(t);t>b;b++)d=y?v(p[b],b):p[b],u(n,b,d);else for(f=_.call(p),h=f.next,n=new g;!(c=h.call(f)).done;b++)d=y?a(f,v,[c.value,b],!0):c.value,u(n,b,d);return n.length=b,n}},"6Nbm":function(e,t,n){var r=n("7+LC"),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==l||n!=u&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},"6UgN":function(e,t,n){"use strict";n.r(t),n.d(t,"matchRoutes",(function(){return s})),n.d(t,"renderRoutes",(function(){return u}));var r=n("q5+0"),i=n("a1z2"),a=n("xwgP"),o=n.n(a);function s(e,t,n){return void 0===n&&(n=[]),e.some((function(e){var i=e.path?Object(r["i"])(t,e):n.length?n[n.length-1].match:r["e"].computeRootMatch(t);return i&&(n.push({route:e,match:i}),e.routes&&s(e.routes,t,n)),i})),n}function u(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e?o.a.createElement(r["g"],n,e.map((function(e,n){return o.a.createElement(r["d"],{key:e.key||n,path:e.path,exact:e.exact,strict:e.strict,render:function(n){return e.render?e.render(Object(i["a"])({},n,{},t,{route:e})):o.a.createElement(e.component,Object(i["a"])({},n,t,{route:e}))}})}))):null}},"6mmk":function(e,t,n){"use strict";var r=n("HIsA"),i=n("4dbd"),a=n("PaPB"),o=n("2I03"),s=n("NVMI"),u=n("HKEF"),l=n("G70G"),c=n("HqdE"),f=n("/5yA"),h=c("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h||!d},{splice:function(e,t){var n,r,c,f,h,d,y=s(this),_=o(y.length),b=i(e,_),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=_-b):(n=x-2,r=g(p(a(t),0),_-b)),_+n-r>m)throw TypeError(v);for(c=u(y,r),f=0;f<r;f++)h=b+f,h in y&&l(c,f,y[h]);if(c.length=r,n<r){for(f=b;f<_-r;f++)h=f+r,d=f+n,h in y?y[d]=y[h]:delete y[d];for(f=_;f>_-r+n;f--)delete y[f-1]}else if(n>r)for(f=_-r;f>b;f--)h=f+r-1,d=f+n-1,h in y?y[d]=y[h]:delete y[d];for(f=0;f<n;f++)y[f+b]=arguments[f+2];return y.length=_-r+n,c}})},"6tTE":function(e,t,n){var r=n("+qhb"),i=n("2hCa"),a=n("Ra/9").indexOf,o=n("1agv");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)!r(o,n)&&r(s,n)&&l.push(n);while(t.length>u)r(s,n=t[u++])&&(~a(l,n)||l.push(n));return l}},"7+LC":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"7/qK":function(e,t,n){"use strict";function r(){var e=s(n("xwgP"));return r=function(){return e},e}function i(){var e=a(n("rXtS"));return i=function(){return e},e}function a(e){return e&&e.__esModule?e:{default:e}}function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n["default"]=e,t&&t.set(e,n),n}function u(e,t){return d(e)||h(e,t)||c(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}function d(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var p=function(){var e=(0,r().useState)(),t=u(e,2),n=t[0],a=t[1],o=(0,r().useState)("ready"),s=u(o,2),l=s[0],c=s[1],f=(0,r().useCallback)((function(e){(0,i()["default"])(e),c("copied"),clearTimeout(n),a(setTimeout((function(){c("ready")}),2e3))}),[]);return[f,l]};t["default"]=p},"70zE":function(e,t,n){var r=n("hXyk"),i=n("DDwO"),a=n("kPvK"),o=a("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},"72Hr":function(e,t,n){"use strict";var r=n("qesp");function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},"73Ew":function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},"7GOV":function(e,t,n){"use strict";n.r(t);var r=n("ob7Q"),i=n("xwgP"),a=n.n(i),o=n("kvV8"),s=n("9kvl"),u=(n("dao+"),e=>{var t=e.location,n=Object(i["useContext"])(o["context"]),r=n.base,u=n.locale,l=n.config.locales,c=l.find((e=>{var t=e.name;return t!==u}));function f(e){var n=r.replace("/".concat(u),""),i=t.pathname.replace(r,n)||"/";if(e!==l[0].name){var a="".concat(n,"/").concat(e).replace(/\/\//,"/"),o=t.pathname.replace(r.replace(/^\/$/,"//"),"");return"".concat(a).concat(o).replace(/\/$/,"")}return i}return c?a.a.createElement("div",{className:"__dumi-default-locale-select","data-locale-count":l.length},l.length>2?a.a.createElement("select",{value:u,onChange:e=>s["a"].push(f(e.target.value))},l.map((e=>a.a.createElement("option",{value:e.name,key:e.name},e.label)))):a.a.createElement(o["Link"],{to:f(c.name)},c.label)):null}),l=u,c=(n("CE66"),e=>{var t=e.onMobileMenuClick,n=e.navPrefix,r=e.location,s=Object(i["useContext"])(o["context"]),u=s.base,c=s.config,f=c.mode,h=c.title,d=c.logo,p=s.nav;return a.a.createElement("div",{className:"__dumi-default-navbar","data-mode":f},a.a.createElement("button",{className:"__dumi-default-navbar-toggle",onClick:t}),a.a.createElement(o["Link"],{className:"__dumi-default-navbar-logo",style:{backgroundImage:d&&"url('".concat(d,"')")},to:u,"data-plaintext":!1===d||void 0},h),a.a.createElement("nav",null,n,p.map((e=>{var t,n=Boolean(null===(t=e.children)||void 0===t?void 0:t.length)&&a.a.createElement("ul",null,e.children.map((e=>a.a.createElement("li",{key:e.path},a.a.createElement(o["NavLink"],{to:e.path},e.title)))));return a.a.createElement("span",{key:e.title||e.path},e.path?a.a.createElement(o["NavLink"],{to:e.path,key:e.path},e.title):e.title,n)})),a.a.createElement(l,{location:r})))}),f=c,h=n("a1z2"),d=n("gDF8"),p=(n("UyjF"),e=>{var t=e.slugs,n=Object(d["a"])(e,["slugs"]);return a.a.createElement("ul",Object(h["a"])({role:"slug-list"},n),t.filter((e=>{var t=e.depth;return t>1&&t<4})).map((e=>a.a.createElement("li",{key:e.heading,title:e.value,"data-depth":e.depth},a.a.createElement(o["AnchorLink"],{to:"#".concat(e.heading)},a.a.createElement("span",null,e.value))))))}),g=p,m=(n("WZyy"),e=>{var t=e.mobileMenuCollapsed,n=e.location,r=Object(i["useContext"])(o["context"]),s=r.config,u=s.logo,c=s.title,f=s.description,h=s.mode,d=s.repository.url,p=r.menu,m=r.nav,v=r.base,y=r.meta,_=Boolean((y.hero||y.features||y.gapless)&&"site"===h)||!1===y.sidemenu||void 0;return a.a.createElement("div",{className:"__dumi-default-menu","data-mode":h,"data-hidden":_,"data-mobile-show":!t||void 0},a.a.createElement("div",{className:"__dumi-default-menu-inner"},a.a.createElement("div",{className:"__dumi-default-menu-header"},a.a.createElement(o["Link"],{to:v,className:"__dumi-default-menu-logo",style:{backgroundImage:u&&"url('".concat(u,"')")}}),a.a.createElement("h1",null,c),a.a.createElement("p",null,f),/github\.com/.test(d)&&"doc"===h&&a.a.createElement("p",null,a.a.createElement("object",{type:"image/svg+xml",data:"https://img.shields.io/github/stars".concat(d.match(/((\/[^\/]+){2})$/)[1],"?style=social")}))),m.length?a.a.createElement("div",{className:"__dumi-default-menu-mobile-area"},a.a.createElement("ul",{className:"__dumi-default-menu-nav-list"},m.map((e=>{var t,n=Boolean(null===(t=e.children)||void 0===t?void 0:t.length)&&a.a.createElement("ul",null,e.children.map((e=>a.a.createElement("li",{key:e.path||e.title},a.a.createElement(o["NavLink"],{to:e.path},e.title)))));return a.a.createElement("li",{key:e.path||e.title},e.path?a.a.createElement(o["NavLink"],{to:e.path},e.title):e.title,n)}))),a.a.createElement(l,{location:n})):a.a.createElement("div",{className:"__dumi-default-menu-doc-locale"},a.a.createElement(l,{location:n})),a.a.createElement("ul",{className:"__dumi-default-menu-list"},!_&&p.map((e=>{var t,r=Boolean(null===(t=y.slugs)||void 0===t?void 0:t.length),i=e.children&&Boolean(e.children.length),s="menu"===y.toc&&!i&&r&&e.path===n.pathname;return a.a.createElement("li",{key:e.path||e.title},a.a.createElement(o["NavLink"],{to:e.path,exact:!(e.children&&e.children.length)},e.title),Boolean(e.children&&e.children.length)&&a.a.createElement("ul",null,e.children.map((e=>a.a.createElement("li",{key:e.path},a.a.createElement(o["NavLink"],{to:e.path,exact:!0},a.a.createElement("span",null,e.title)),Boolean("menu"===y.toc&&"undefined"!==typeof window&&e.path===n.pathname&&r)&&a.a.createElement(g,{slugs:y.slugs}))))),s&&a.a.createElement(g,{slugs:y.slugs}))})))))}),v=m,y=(n("HVuH"),()=>{var e=Object(i["useState"])(""),t=Object(r["default"])(e,2),n=t[0],s=t[1],u=Object(i["useState"])([]),l=Object(r["default"])(u,2),c=l[0],f=l[1],d=Object(i["useRef"])(),p=Object(o["useSearch"])(n);return Object(i["useEffect"])((()=>{Array.isArray(p)?f(p):"function"===typeof p&&p(".".concat(d.current.className))}),[p]),a.a.createElement("div",{className:"__dumi-default-search"},a.a.createElement("input",Object(h["a"])({className:"__dumi-default-search-input",type:"search",ref:d},Array.isArray(p)?{value:n,onChange:e=>s(e.target.value)}:{})),a.a.createElement("ul",null,c.map((e=>{var t;return a.a.createElement("li",{key:e.path,onClick:()=>s("")},a.a.createElement(o["AnchorLink"],{to:e.path},(null===(t=e.parent)||void 0===t?void 0:t.title)&&a.a.createElement("span",null,e.parent.title),e.title))}))))}),_=(n("Wovb"),e=>a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"__dumi-default-layout-hero"},e.image&&a.a.createElement("img",{src:e.image}),a.a.createElement("h1",null,e.title),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.desc}}),e.actions&&e.actions.map((e=>a.a.createElement(o["Link"],{to:e.link,key:e.text},a.a.createElement("button",{type:"button"},e.text))))))),b=e=>a.a.createElement("div",{className:"__dumi-default-layout-features"},e.map((e=>a.a.createElement("dl",{key:e.title,style:{backgroundImage:e.icon?"url(".concat(e.icon,")"):void 0}},e.link?a.a.createElement(o["Link"],{to:e.link},a.a.createElement("dt",null,e.title)):a.a.createElement("dt",null,e.title),a.a.createElement("dd",{dangerouslySetInnerHTML:{__html:e.desc}}))))),x=e=>{var t,n,s=e.children,u=e.location,l=Object(i["useContext"])(o["context"]),c=l.config,h=c.mode,d=c.repository,p=l.meta,m=l.locale,x=d.url,w=d.branch,S=d.platform,T=Object(i["useState"])(!0),E=Object(r["default"])(T,2),M=E[0],C=E[1],A="site"===h,O=A&&p.hero,D=A&&p.features,P=!1!==p.sidemenu&&!O&&!D&&!p.gapless,L=!O&&!D&&Boolean(null===(t=p.slugs)||void 0===t?void 0:t.length)&&("content"===p.toc||void 0===p.toc)&&!p.gapless,I=/^zh|cn$/i.test(m),R=new Date(p.updatedTime),k="".concat(R.toLocaleDateString([],{hour12:!1})," ").concat(R.toLocaleTimeString([],{hour12:!1})),N={github:"GitHub",gitlab:"GitLab"}[(null===(n=(x||"").match(/(github|gitlab)/))||void 0===n?void 0:n[1])||"nothing"]||S;return a.a.createElement("div",{className:"__dumi-default-layout","data-route":u.pathname,"data-show-sidemenu":String(P),"data-show-slugs":String(L),"data-site-mode":A,"data-gapless":String(!!p.gapless),onClick:()=>{M||C(!0)}},a.a.createElement(f,{location:u,navPrefix:a.a.createElement(y,null),onMobileMenuClick:e=>{C((e=>!e)),e.stopPropagation()}}),a.a.createElement(v,{mobileMenuCollapsed:M,location:u}),L&&a.a.createElement(g,{slugs:p.slugs,className:"__dumi-default-layout-toc"}),O&&_(p.hero),D&&b(p.features),a.a.createElement("div",{className:"__dumi-default-layout-content"},s,!O&&!D&&p.filePath&&!p.gapless&&a.a.createElement("div",{className:"__dumi-default-layout-footer-meta"},N&&a.a.createElement(o["Link"],{to:"".concat(x,"/edit/").concat(w,"/").concat(p.filePath)},I?"\u5728 ".concat(N," \u4e0a\u7f16\u8f91\u6b64\u9875"):"Edit this doc on ".concat(N)),a.a.createElement("span",{"data-updated-text":I?"\u6700\u540e\u66f4\u65b0\u65f6\u95f4\uff1a":"Last update: "},k)),(O||D)&&p.footer&&a.a.createElement("div",{className:"__dumi-default-layout-footer",dangerouslySetInnerHTML:{__html:p.footer}})))};t["default"]=x},"7Kf9":function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("DDwO"),s=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var t=a(this),n=o(t.has);return!s(e,(function(e){if(!1===n.call(t,e))return s.stop()})).stopped}})},"7LRl":function(e,t,n){"use strict";var r=n("HIsA"),i=n("Ra/9").indexOf,a=n("1+Eb"),o=n("/5yA"),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,l=a("indexOf"),c=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!l||!c},{indexOf:function(e){return u?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},"7Q2v":function(e,t,n){"use strict";var r,i,a,o,s=n("HIsA"),u=n("m52V"),l=n("2JD6"),c=n("bXon"),f=n("keKz"),h=n("GUTS"),d=n("masK"),p=n("J7X1"),g=n("QD/U"),m=n("pxmn"),v=n("DDwO"),y=n("xOST"),_=n("IRht"),b=n("ECWN"),x=n("Ji6T"),w=n("9HG5"),S=n("70zE"),T=n("vYQ8").set,E=n("I67C"),M=n("n+WB"),C=n("liI8"),A=n("0MLT"),O=n("uCRN"),D=n("twJ5"),P=n("6Nbm"),L=n("kPvK"),I=n("9ZTU"),R=L("species"),k="Promise",N=D.get,F=D.set,B=D.getterFor(k),z=f,j=l.TypeError,H=l.document,U=l.process,V=c("fetch"),G=A.f,W=G,X="process"==_(U),K=!!(H&&H.createEvent&&l.dispatchEvent),q="unhandledrejection",Y="rejectionhandled",Z=0,$=1,Q=2,J=1,ee=2,te=P(k,(function(){var e=b(z)!==String(z);if(!e){if(66===I)return!0;if(!X&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!z.prototype["finally"])return!0;if(I>=51&&/native code/.test(z))return!1;var t=z.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[R]=n,!(t.then((function(){}))instanceof n)})),ne=te||!w((function(e){z.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;E((function(){var i=t.value,a=t.state==$,o=0;while(r.length>o){var s,u,l,c=r[o++],f=a?c.ok:c.fail,h=c.resolve,d=c.reject,p=c.domain;try{f?(a||(t.rejection===ee&&ue(e,t),t.rejection=J),!0===f?s=i:(p&&p.enter(),s=f(i),p&&(p.exit(),l=!0)),s===c.promise?d(j("Promise-chain cycle")):(u=re(s))?u.call(s,h,d):h(s)):d(i)}catch(g){p&&!l&&p.exit(),d(g)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&oe(e,t)}))}},ae=function(e,t,n){var r,i;K?(r=H.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},(i=l["on"+e])?i(r):e===q&&C("Unhandled promise rejection",n)},oe=function(e,t){T.call(l,(function(){var n,r=t.value,i=se(t);if(i&&(n=O((function(){X?U.emit("unhandledRejection",r,e):ae(q,e,r)})),t.rejection=X||se(t)?ee:J,n.error))throw n.value}))},se=function(e){return e.rejection!==J&&!e.parent},ue=function(e,t){T.call(l,(function(){X?U.emit("rejectionHandled",e):ae(Y,e,t.value)}))},le=function(e,t,n,r){return function(i){e(t,n,i,r)}},ce=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=Q,ie(e,t,!0))},fe=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw j("Promise can't be resolved itself");var i=re(n);i?E((function(){var r={done:!1};try{i.call(n,le(fe,e,r,t),le(ce,e,r,t))}catch(a){ce(e,r,a,t)}})):(t.value=n,t.state=$,ie(e,t,!1))}catch(a){ce(e,{done:!1},a,t)}}};te&&(z=function(e){y(this,z,k),v(e),r.call(this);var t=N(this);try{e(le(fe,this,t),le(ce,this,t))}catch(n){ce(this,t,n)}},r=function(e){F(this,{type:k,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Z,value:void 0})},r.prototype=d(z.prototype,{then:function(e,t){var n=B(this),r=G(S(this,z));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=X?U.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=Z&&ie(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=N(e);this.promise=e,this.resolve=le(fe,e,t),this.reject=le(ce,e,t)},A.f=G=function(e){return e===z||e===a?new i(e):W(e)},u||"function"!=typeof f||(o=f.prototype.then,h(f.prototype,"then",(function(e,t){var n=this;return new z((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return M(z,V.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:te},{Promise:z}),p(z,k,!1,!0),g(k),a=c(k),s({target:k,stat:!0,forced:te},{reject:function(e){var t=G(this);return t.reject.call(void 0,e),t.promise}}),s({target:k,stat:!0,forced:u||te},{resolve:function(e){return M(u&&this===a?z:this,e)}}),s({target:k,stat:!0,forced:ne},{all:function(e){var t=this,n=G(t),r=n.resolve,i=n.reject,a=O((function(){var n=v(t.resolve),a=[],o=0,s=1;x(e,(function(e){var u=o++,l=!1;a.push(void 0),s++,n.call(t,e).then((function(e){l||(l=!0,a[u]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=G(t),r=n.reject,i=O((function(){var i=v(t.resolve);x(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},"7QR1":function(e,t,n){var r,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var a={compressToBase64:function(e){if(null==e)return"";var n=a._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:a._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":a._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var o=t.charCodeAt(r);n[2*r]=o>>>8,n[2*r+1]=o%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return a.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var o=[];return n.forEach((function(t){o.push(e(t))})),a.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),a._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return a._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,a,o={},s={},u="",l="",c="",f=2,h=3,d=2,p=[],g=0,m=0;for(a=0;a<e.length;a+=1)if(u=e.charAt(a),Object.prototype.hasOwnProperty.call(o,u)||(o[u]=h++,s[u]=!0),l=c+u,Object.prototype.hasOwnProperty.call(o,l))c=l;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,m==t-1?(m=0,p.push(n(g)),g=0):m++;for(i=c.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&i,m==t-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}else{for(i=1,r=0;r<d;r++)g=g<<1|i,m==t-1?(m=0,p.push(n(g)),g=0):m++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&i,m==t-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}f--,0==f&&(f=Math.pow(2,d),d++),delete s[c]}else for(i=o[c],r=0;r<d;r++)g=g<<1|1&i,m==t-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;f--,0==f&&(f=Math.pow(2,d),d++),o[l]=h++,c=String(u)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,m==t-1?(m=0,p.push(n(g)),g=0):m++;for(i=c.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&i,m==t-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}else{for(i=1,r=0;r<d;r++)g=g<<1|i,m==t-1?(m=0,p.push(n(g)),g=0):m++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&i,m==t-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}f--,0==f&&(f=Math.pow(2,d),d++),delete s[c]}else for(i=o[c],r=0;r<d;r++)g=g<<1|1&i,m==t-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;f--,0==f&&(f=Math.pow(2,d),d++)}for(i=2,r=0;r<d;r++)g=g<<1|1&i,m==t-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;while(1){if(g<<=1,m==t-1){p.push(n(g));break}m++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,a,o,s,u,l,c,f=[],h=4,d=4,p=3,g="",m=[],v={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)f[i]=i;o=0,u=Math.pow(2,2),l=1;while(l!=u)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),o|=(s>0?1:0)*l,l<<=1;switch(o){case 0:o=0,u=Math.pow(2,8),l=1;while(l!=u)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),o|=(s>0?1:0)*l,l<<=1;c=e(o);break;case 1:o=0,u=Math.pow(2,16),l=1;while(l!=u)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),o|=(s>0?1:0)*l,l<<=1;c=e(o);break;case 2:return""}f[3]=c,a=c,m.push(c);while(1){if(v.index>t)return"";o=0,u=Math.pow(2,p),l=1;while(l!=u)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),o|=(s>0?1:0)*l,l<<=1;switch(c=o){case 0:o=0,u=Math.pow(2,8),l=1;while(l!=u)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),o|=(s>0?1:0)*l,l<<=1;f[d++]=e(o),c=d-1,h--;break;case 1:o=0,u=Math.pow(2,16),l=1;while(l!=u)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),o|=(s>0?1:0)*l,l<<=1;f[d++]=e(o),c=d-1,h--;break;case 2:return m.join("")}if(0==h&&(h=Math.pow(2,p),p++),f[c])g=f[c];else{if(c!==d)return null;g=a+a.charAt(0)}m.push(g),f[d++]=a+g.charAt(0),h--,a=g,0==h&&(h=Math.pow(2,p),p++)}}};return a}();r=function(){return i}.call(t,n,t,e),void 0===r||(e.exports=r)},"7SXh":function(e,t,n){"use strict";var r=n("hXyk"),i=n("DDwO");e.exports=function(){for(var e=r(this),t=i(e.add),n=0,a=arguments.length;n<a;n++)t.call(e,arguments[n]);return e}},"7saB":function(e,t,n){var r=n("7+LC");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"892e":function(e,t,n){"use strict";var r=n("HIsA"),i=n("2JD6"),a=n("bXon"),o=n("m52V"),s=n("Hiyu"),u=n("xUti"),l=n("dMsU"),c=n("7+LC"),f=n("+qhb"),h=n("dOdC"),d=n("pxmn"),p=n("hXyk"),g=n("NVMI"),m=n("2hCa"),v=n("n2ef"),y=n("OLna"),_=n("bWCM"),b=n("y6vz"),x=n("szjD"),w=n("wFHg"),S=n("CmBG"),T=n("qmtO"),E=n("2RC6"),M=n("73Ew"),C=n("D8FR"),A=n("GUTS"),O=n("bShA"),D=n("fbKl"),P=n("1agv"),L=n("fotI"),I=n("kPvK"),R=n("Q1Da"),k=n("bVFb"),N=n("J7X1"),F=n("twJ5"),B=n("Xf1w").forEach,z=D("hidden"),j="Symbol",H="prototype",U=I("toPrimitive"),V=F.set,G=F.getterFor(j),W=Object[H],X=i.Symbol,K=a("JSON","stringify"),q=T.f,Y=E.f,Z=w.f,$=M.f,Q=O("symbols"),J=O("op-symbols"),ee=O("string-to-symbol-registry"),te=O("symbol-to-string-registry"),ne=O("wks"),re=i.QObject,ie=!re||!re[H]||!re[H].findChild,ae=s&&c((function(){return 7!=_(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=q(W,t);r&&delete W[t],Y(e,t,n),r&&e!==W&&Y(W,t,r)}:Y,oe=function(e,t){var n=Q[e]=_(X[H]);return V(n,{type:j,tag:e,description:t}),s||(n.description=t),n},se=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof X},ue=function(e,t,n){e===W&&ue(J,t,n),p(e);var r=v(t,!0);return p(n),f(Q,r)?(n.enumerable?(f(e,z)&&e[z][r]&&(e[z][r]=!1),n=_(n,{enumerable:y(0,!1)})):(f(e,z)||Y(e,z,y(1,{})),e[z][r]=!0),ae(e,r,n)):Y(e,r,n)},le=function(e,t){p(e);var n=m(t),r=b(n).concat(pe(n));return B(r,(function(t){s&&!fe.call(n,t)||ue(e,t,n[t])})),e},ce=function(e,t){return void 0===t?_(e):le(_(e),t)},fe=function(e){var t=v(e,!0),n=$.call(this,t);return!(this===W&&f(Q,t)&&!f(J,t))&&(!(n||!f(this,t)||!f(Q,t)||f(this,z)&&this[z][t])||n)},he=function(e,t){var n=m(e),r=v(t,!0);if(n!==W||!f(Q,r)||f(J,r)){var i=q(n,r);return!i||!f(Q,r)||f(n,z)&&n[z][r]||(i.enumerable=!0),i}},de=function(e){var t=Z(m(e)),n=[];return B(t,(function(e){f(Q,e)||f(P,e)||n.push(e)})),n},pe=function(e){var t=e===W,n=Z(t?J:m(e)),r=[];return B(n,(function(e){!f(Q,e)||t&&!f(W,e)||r.push(Q[e])})),r};if(u||(X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),n=function(e){this===W&&n.call(J,e),f(this,z)&&f(this[z],t)&&(this[z][t]=!1),ae(this,t,y(1,e))};return s&&ie&&ae(W,t,{configurable:!0,set:n}),oe(t,e)},A(X[H],"toString",(function(){return G(this).tag})),A(X,"withoutSetter",(function(e){return oe(L(e),e)})),M.f=fe,E.f=ue,T.f=he,x.f=w.f=de,S.f=pe,R.f=function(e){return oe(I(e),e)},s&&(Y(X[H],"description",{configurable:!0,get:function(){return G(this).description}}),o||A(W,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:X}),B(b(ne),(function(e){k(e)})),r({target:j,stat:!0,forced:!u},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=X(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:ce,defineProperty:ue,defineProperties:le,getOwnPropertyDescriptor:he}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:de,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:c((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(g(e))}}),K){var ge=!u||c((function(){var e=X();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))}));r({target:"JSON",stat:!0,forced:ge},{stringify:function(e,t,n){var r,i=[e],a=1;while(arguments.length>a)i.push(arguments[a++]);if(r=t,(d(t)||void 0!==e)&&!se(e))return h(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),i[1]=t,K.apply(null,i)}})}X[H][U]||C(X[H],U,X[H].valueOf),N(X,j),P[z]=!0},"8CG2":function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var l=a[u];if(!s(l))return!1;var c=e[l],f=t[l];if(i=n?n.call(r,c,f,l):void 0,!1===i||void 0===i&&c!==f)return!1}return!0}},"8Jzd":function(e,t,n){var r=n("HIsA"),i=n("2Pxf");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},"8al2":function(e,t,n){"use strict";n("lttk");var r,i=n("HIsA"),a=n("Hiyu"),o=n("nXFK"),s=n("2JD6"),u=n("2+gS"),l=n("GUTS"),c=n("xOST"),f=n("+qhb"),h=n("2Pxf"),d=n("5isN"),p=n("9izy").codeAt,g=n("2BKa"),m=n("J7X1"),v=n("w3Dd"),y=n("twJ5"),_=s.URL,b=v.URLSearchParams,x=v.getState,w=y.set,S=y.getterFor("URL"),T=Math.floor,E=Math.pow,M="Invalid authority",C="Invalid scheme",A="Invalid host",O="Invalid port",D=/[A-Za-z]/,P=/[\d+-.A-Za-z]/,L=/\d/,I=/^(0x|0X)/,R=/^[0-7]+$/,k=/^\d+$/,N=/^[\dA-Fa-f]+$/,F=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,B=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,z=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,j=/[\u0009\u000A\u000D]/g,H=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return A;if(n=V(t.slice(1,-1)),!n)return A;e.host=n}else if(Q(e)){if(t=g(t),F.test(t))return A;if(n=U(t),null===n)return A;e.host=n}else{if(B.test(t))return A;for(n="",r=d(t),i=0;i<r.length;i++)n+=Z(r[i],X);e.host=n}},U=function(e){var t,n,r,i,a,o,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),t=u.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=u[r],""==i)return e;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=I.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?k:8==a?R:N).test(i))return e;o=parseInt(i,a)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=E(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*E(256,3-r);return s},V=function(e){var t,n,r,i,a,o,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,f=0,h=function(){return e.charAt(f)};if(":"==h()){if(":"!=e.charAt(1))return;f+=2,l++,c=l}while(h()){if(8==l)return;if(":"!=h()){t=n=0;while(n<4&&N.test(h()))t=16*t+parseInt(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,l>6)return;r=0;while(h()){if(i=null,r>0){if(!("."==h()&&r<4))return;f++}if(!L.test(h()))return;while(L.test(h())){if(a=parseInt(h(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;f++}u[l]=256*u[l]+i,r++,2!=r&&4!=r||l++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;u[l++]=t}else{if(null!==c)return;f++,l++,c=l}}if(null!==c){o=l-c,l=7;while(0!=l&&o>0)s=u[l],u[l--]=u[c+o-1],u[c+--o]=s}else if(8!=l)return;return u},G=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t},W=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=T(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=G(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},X={},K=h({},X,{" ":1,'"':1,"<":1,">":1,"`":1}),q=h({},K,{"#":1,"?":1,"{":1,"}":1}),Y=h({},q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Z=function(e,t){var n=p(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},$={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(e){return f($,e.scheme)},J=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&D.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},ae=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},oe={},se={},ue={},le={},ce={},fe={},he={},de={},pe={},ge={},me={},ve={},ye={},_e={},be={},xe={},we={},Se={},Te={},Ee={},Me={},Ce=function(e,t,n,i){var a,o,s,u,l=n||oe,c=0,h="",p=!1,g=!1,m=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(z,"")),t=t.replace(j,""),a=d(t);while(c<=a.length){switch(o=a[c],l){case oe:if(!o||!D.test(o)){if(n)return C;l=ue;continue}h+=o.toLowerCase(),l=se;break;case se:if(o&&(P.test(o)||"+"==o||"-"==o||"."==o))h+=o.toLowerCase();else{if(":"!=o){if(n)return C;h="",l=ue,c=0;continue}if(n&&(Q(e)!=f($,h)||"file"==h&&(J(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,n)return void(Q(e)&&$[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?l=_e:Q(e)&&i&&i.scheme==e.scheme?l=le:Q(e)?l=de:"/"==a[c+1]?(l=ce,c++):(e.cannotBeABaseURL=!0,e.path.push(""),l=Te)}break;case ue:if(!i||i.cannotBeABaseURL&&"#"!=o)return C;if(i.cannotBeABaseURL&&"#"==o){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,l=Me;break}l="file"==i.scheme?_e:fe;continue;case le:if("/"!=o||"/"!=a[c+1]){l=fe;continue}l=pe,c++;break;case ce:if("/"==o){l=ge;break}l=Se;continue;case fe:if(e.scheme=i.scheme,o==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==o||"\\"==o&&Q(e))l=he;else if("?"==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",l=Ee;else{if("#"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),l=Se;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Me}break;case he:if(!Q(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,l=Se;continue}l=ge}else l=pe;break;case de:if(l=pe,"/"!=o||"/"!=h.charAt(c+1))continue;c++;break;case pe:if("/"!=o&&"\\"!=o){l=ge;continue}break;case ge:if("@"==o){p&&(h="%40"+h),p=!0,s=d(h);for(var v=0;v<s.length;v++){var y=s[v];if(":"!=y||m){var _=Z(y,Y);m?e.password+=_:e.username+=_}else m=!0}h=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(p&&""==h)return M;c-=d(h).length+1,h="",l=me}else h+=o;break;case me:case ve:if(n&&"file"==e.scheme){l=xe;continue}if(":"!=o||g){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(Q(e)&&""==h)return A;if(n&&""==h&&(J(e)||null!==e.port))return;if(u=H(e,h),u)return u;if(h="",l=we,n)return;continue}"["==o?g=!0:"]"==o&&(g=!1),h+=o}else{if(""==h)return A;if(u=H(e,h),u)return u;if(h="",l=ye,n==ve)return}break;case ye:if(!L.test(o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)||n){if(""!=h){var b=parseInt(h,10);if(b>65535)return O;e.port=Q(e)&&b===$[e.scheme]?null:b,h=""}if(n)return;l=we;continue}return O}h+=o;break;case _e:if(e.scheme="file","/"==o||"\\"==o)l=be;else{if(!i||"file"!=i.scheme){l=Se;continue}if(o==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==o)e.host=i.host,e.path=i.path.slice(),e.query="",l=Ee;else{if("#"!=o){ne(a.slice(c).join(""))||(e.host=i.host,e.path=i.path.slice(),re(e)),l=Se;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Me}}break;case be:if("/"==o||"\\"==o){l=xe;break}i&&"file"==i.scheme&&!ne(a.slice(c).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),l=Se;continue;case xe:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&te(h))l=Se;else if(""==h){if(e.host="",n)return;l=we}else{if(u=H(e,h),u)return u;if("localhost"==e.host&&(e.host=""),n)return;h="",l=we}continue}h+=o;break;case we:if(Q(e)){if(l=Se,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=r&&(l=Se,"/"!=o))continue}else e.fragment="",l=Me;else e.query="",l=Ee;break;case Se:if(o==r||"/"==o||"\\"==o&&Q(e)||!n&&("?"==o||"#"==o)){if(ae(h)?(re(e),"/"==o||"\\"==o&&Q(e)||e.path.push("")):ie(h)?"/"==o||"\\"==o&&Q(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(o==r||"?"==o||"#"==o))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==o?(e.query="",l=Ee):"#"==o&&(e.fragment="",l=Me)}else h+=Z(o,q);break;case Te:"?"==o?(e.query="",l=Ee):"#"==o?(e.fragment="",l=Me):o!=r&&(e.path[0]+=Z(o,X));break;case Ee:n||"#"!=o?o!=r&&("'"==o&&Q(e)?e.query+="%27":e.query+="#"==o?"%23":Z(o,X)):(e.fragment="",l=Me);break;case Me:o!=r&&(e.fragment+=Z(o,K));break}c++}},Ae=function(e){var t,n,r=c(this,Ae,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),s=w(r,{type:"URL"});if(void 0!==i)if(i instanceof Ae)t=S(i);else if(n=Ce(t={},String(i)),n)throw TypeError(n);if(n=Ce(s,o,null,t),n)throw TypeError(n);var u=s.searchParams=new b,l=x(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},a||(r.href=De.call(r),r.origin=Pe.call(r),r.protocol=Le.call(r),r.username=Ie.call(r),r.password=Re.call(r),r.host=ke.call(r),r.hostname=Ne.call(r),r.port=Fe.call(r),r.pathname=Be.call(r),r.search=ze.call(r),r.searchParams=je.call(r),r.hash=He.call(r))},Oe=Ae.prototype,De=function(){var e=S(this),t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,l=t+":";return null!==i?(l+="//",J(e)&&(l+=n+(r?":"+r:"")+"@"),l+=W(i),null!==a&&(l+=":"+a)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Pe=function(){var e=S(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&Q(e)?t+"://"+W(e.host)+(null!==n?":"+n:""):"null"},Le=function(){return S(this).scheme+":"},Ie=function(){return S(this).username},Re=function(){return S(this).password},ke=function(){var e=S(this),t=e.host,n=e.port;return null===t?"":null===n?W(t):W(t)+":"+n},Ne=function(){var e=S(this).host;return null===e?"":W(e)},Fe=function(){var e=S(this).port;return null===e?"":String(e)},Be=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},ze=function(){var e=S(this).query;return e?"?"+e:""},je=function(){return S(this).searchParams},He=function(){var e=S(this).fragment;return e?"#"+e:""},Ue=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&u(Oe,{href:Ue(De,(function(e){var t=S(this),n=String(e),r=Ce(t,n);if(r)throw TypeError(r);x(t.searchParams).updateSearchParams(t.query)})),origin:Ue(Pe),protocol:Ue(Le,(function(e){var t=S(this);Ce(t,String(e)+":",oe)})),username:Ue(Ie,(function(e){var t=S(this),n=d(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Z(n[r],Y)}})),password:Ue(Re,(function(e){var t=S(this),n=d(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Z(n[r],Y)}})),host:Ue(ke,(function(e){var t=S(this);t.cannotBeABaseURL||Ce(t,String(e),me)})),hostname:Ue(Ne,(function(e){var t=S(this);t.cannotBeABaseURL||Ce(t,String(e),ve)})),port:Ue(Fe,(function(e){var t=S(this);ee(t)||(e=String(e),""==e?t.port=null:Ce(t,e,ye))})),pathname:Ue(Be,(function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],Ce(t,e+"",we))})),search:Ue(ze,(function(e){var t=S(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ce(t,e,Ee)),x(t.searchParams).updateSearchParams(t.query)})),searchParams:Ue(je),hash:Ue(He,(function(e){var t=S(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ce(t,e,Me)):t.fragment=null}))}),l(Oe,"toJSON",(function(){return De.call(this)}),{enumerable:!0}),l(Oe,"toString",(function(){return De.call(this)}),{enumerable:!0}),_){var Ve=_.createObjectURL,Ge=_.revokeObjectURL;Ve&&l(Ae,"createObjectURL",(function(e){return Ve.apply(_,arguments)})),Ge&&l(Ae,"revokeObjectURL",(function(e){return Ge.apply(_,arguments)}))}m(Ae,"URL"),i({global:!0,forced:!o,sham:!a},{URL:Ae})},"8g5g":function(e,t,n){"use strict";var r=n("HIsA"),i=n("WNir").right,a=n("1+Eb"),o=n("/5yA"),s=a("reduceRight"),u=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"8iHL":function(e,t,n){var r=n("7+LC"),i=n("/Izz"),a="\u200b\x85\u180e";e.exports=function(e){return r((function(){return!!i[e]()||a[e]()!=a||i[e].name!==e}))}},"8idk":function(e,t,n){var r=n("tGsd");e.exports=y,e.exports.parse=a,e.exports.compile=o,e.exports.tokensToFunction=l,e.exports.tokensToRegExp=v;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){var n,r=[],a=0,o=0,s="",u=t&&t.delimiter||"/";while(null!=(n=i.exec(e))){var l=n[0],h=n[1],d=n.index;if(s+=e.slice(o,d),o=d+l.length,h)s+=h[1];else{var p=e[o],g=n[2],m=n[3],v=n[4],y=n[5],_=n[6],b=n[7];s&&(r.push(s),s="");var x=null!=g&&null!=p&&p!==g,w="+"===_||"*"===_,S="?"===_||"*"===_,T=n[2]||u,E=v||y;r.push({name:m||a++,prefix:g||"",delimiter:T,optional:S,repeat:w,partial:x,asterisk:!!b,pattern:E?f(E):b?".*":"[^"+c(T)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e,t){return l(a(e,t),t)}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function l(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var a="",o=t||{},l=i||{},c=l.pretty?s:encodeURIComponent,f=0;f<e.length;f++){var h=e[f];if("string"!==typeof h){var d,p=o[h.name];if(null==p){if(h.optional){h.partial&&(a+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(r(p)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var g=0;g<p.length;g++){if(d=c(p[g]),!n[f].test(d))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(d)+"`");a+=(0===g?h.prefix:h.delimiter)+d}}else{if(d=h.asterisk?u(p):c(p),!n[f].test(d))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+d+'"');a+=h.prefix+d}}else a+=h}return a}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function f(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function h(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function p(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(e,t)}function g(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(y(e[i],t,n).source);var a=new RegExp("(?:"+r.join("|")+")",d(n));return h(a,t)}function m(e,t,n){return v(a(e,n),t,n)}function v(e,t,n){r(t)||(n=t||n,t=[]),n=n||{};for(var i=n.strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)o+=c(u);else{var l=c(u.prefix),f="(?:"+u.pattern+")";t.push(u),u.repeat&&(f+="(?:"+l+f+")*"),f=u.optional?u.partial?l+"("+f+")?":"(?:"+l+"("+f+"))?":l+"("+f+")",o+=f}}var p=c(n.delimiter||"/"),g=o.slice(-p.length)===p;return i||(o=(g?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&g?"":"(?="+p+"|$)",h(new RegExp("^"+o,d(n)),t)}function y(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?p(e,t):r(e)?g(e,t,n):m(e,t,n)}},"8kSY":function(e,t,n){"use strict";var r=n("sJYe");Object.defineProperty(t,"__esModule",{value:!0});var i=n("fK+4"),a=n("xwgP"),o=n("CU0g"),s=n("6UgN");function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var l=u(a);function c(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){c(a,r,i,o,s,"next",e)}function s(e){c(a,r,i,o,s,"throw",e)}o(void 0)}))}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function v(e,t){if(null==e)return{};var n,r,i=m(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){return _(e)||b(e,t)||x(e,t)||S()}function _(e){if(Array.isArray(e))return e}function b(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}function x(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function E(e){return l["default"].createElement(o.__RouterContext.Consumer,null,(function(t){var n,r=e.children,i=v(e,["children"]),s=t.location,u=null;return a.Children.forEach(r,(function(e){if(null===u&&a.isValidElement(e)){n=e;var r=e.props.path||e.props.from;u=r?o.matchPath(s.pathname,g(g({},e.props),{},{path:r})):t.match}})),u?a.cloneElement(n,{location:s,computedMatch:u,layoutProps:i}):null}))}function M(e){return l["default"].createElement(o.__RouterContext.Consumer,null,(function(t){var n=t.location,r=e.computedMatch,i=g(g({},t),{},{location:n,match:r}),a=e.render;return l["default"].createElement(o.__RouterContext.Provider,{value:i},i.match?a(g(g({},e.layoutProps),i)):null)}))}function C(e,t){e.component;var n=v(e,["component"]),i=e.component;function s(s){var u=a.useState((function(){return window.g_initialProps})),c=y(u,2),h=c[0],p=c[1];return a.useEffect((function(){var a=function(){var a=f(r.mark((function a(){var u,l,c,f,h;return r.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!i.preload){r.next=5;break}return r.next=3,i.preload();case 3:l=r.sent,i=l["default"]||l;case 5:if(c=g(g({isServer:!1,match:null===s||void 0===s?void 0:s.match,history:null===s||void 0===s?void 0:s.history,route:e},t.getInitialPropsCtx||{}),n),!(null===(u=i)||void 0===u?void 0:u.getInitialProps)){r.next=14;break}return r.next=9,t.plugin.applyPlugins({key:"ssr.modifyGetInitialPropsCtx",type:o.ApplyPluginsType.modify,initialValue:c,async:!0});case 9:return f=r.sent,r.next=12,i.getInitialProps(f||c);case 12:h=r.sent,p(h);case 14:case"end":return r.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();window.g_initialProps||a()}),[window.location.pathname,window.location.search]),l["default"].createElement(i,d({},s,h))}return s.wrapInitialPropsLoaded=!0,s.displayName="ComponentWithInitialPropsFetch",s}function A(e){var t=e.route,n=e.opts,r=e.props,i=D(g(g({},n),{},{routes:t.routes||[],rootRoutes:n.rootRoutes})),o=t.component,s=t.wrappers;if(o){var u=n.isServer?{}:window.g_initialProps,c=g(g(g(g({},r),n.extraProps),n.pageInitialProps||u),{},{route:t,routes:n.rootRoutes}),f=l["default"].createElement(o,c,i);if(s){var h=s.length-1;while(h>=0)f=a.createElement(s[h],c,f),h-=1}return f}return i}function O(e){var t,n,r,i=e.route,a=e.index,s=e.opts,u={key:i.key||a,exact:i.exact,strict:i.strict,sensitive:i.sensitive,path:i.path};return i.redirect?l["default"].createElement(o.Redirect,d({},u,{from:i.path,to:i.redirect})):(!s.ssrProps||s.isServer||(null===(t=i.component)||void 0===t?void 0:t.wrapInitialPropsLoaded)||!(null===(n=i.component)||void 0===n?void 0:n.getInitialProps)&&!(null===(r=i.component)||void 0===r?void 0:r.preload)||(i.component=C(i,s)),l["default"].createElement(M,d({},u,{render:function(e){return A({route:i,opts:s,props:e})}})))}function D(e){return e.routes?l["default"].createElement(E,null,e.routes.map((function(t,n){return O({route:t,index:n,opts:g(g({},e),{},{rootRoutes:e.rootRoutes||e.routes})})}))):null}function P(e){var t=e.history,n=v(e,["history"]);return a.useEffect((function(){function r(t,r){var i=s.matchRoutes(e.routes,t.pathname);"undefined"!==typeof document&&void 0!==n.defaultTitle&&(document.title=i.length&&i[i.length-1].route.title||n.defaultTitle||""),e.plugin.applyPlugins({key:"onRouteChange",type:o.ApplyPluginsType.event,args:{routes:e.routes,matchedRoutes:i,location:t,action:r}})}return window.g_useSSR&&(window.g_initialProps=null),r(t.location,"POP"),t.listen(r)}),[t]),l["default"].createElement(o.Router,{history:t},D(n))}function L(e){return I.apply(this,arguments)}function I(){return I=f(r.mark((function e(t){var n,i,a,o,u,l,c,f,h=arguments;return r.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=h.length>1&&void 0!==h[1]?h[1]:window.location.pathname,i=s.matchRoutes(t,n),a=T(i),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=19;break}if(l=o.value,c=l.route,!(null===(u=c.component)||void 0===u?void 0:u.preload)){e.next=13;break}return e.next=11,c.component.preload();case 11:f=e.sent,c.component=f["default"]||f;case 13:if(!c.routes){e.next=17;break}return e.next=16,L(c.routes,n);case 16:c.routes=e.sent;case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](3),a.e(e.t0);case 24:return e.prev=24,a.f(),e.finish(24);case 27:return e.abrupt("return",t);case 28:case"end":return e.stop()}}),e,null,[[3,21,24,27]])}))),I.apply(this,arguments)}function R(e){var t=e.plugin.applyPlugins({type:o.ApplyPluginsType.modify,key:"rootContainer",initialValue:l["default"].createElement(P,{history:e.history,routes:e.routes,plugin:e.plugin,ssrProps:e.ssrProps,defaultTitle:e.defaultTitle}),args:{history:e.history,routes:e.routes,plugin:e.plugin}});if(!e.rootElement)return t;var n="string"===typeof e.rootElement?document.getElementById(e.rootElement):e.rootElement,r=e.callback||function(){};window.g_useSSR?e.dynamicImport?L(e.routes).then((function(){i.hydrate(t,n,r)})):i.hydrate(t,n,r):i.render(t,n,r)}t.renderClient=R,t.renderRoutes=D},"8rjF":function(e,t,n){var r=n("bVFb");r("hasInstance")},"8wsV":function(e,t,n){"use strict";var r=n("Wp5u"),i=n("Ra/9").includes,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},"9A8K":function(e,t,n){"use strict";(function(e){var r=n("xwgP"),i=n.n(r),a=n("HMkG"),o=n("EH+i"),s=n.n(o),u=1073741823,l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function c(){var e="__global_unique_id__";return l[e]=(l[e]||0)+1}function f(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function h(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}function d(e){return Array.isArray(e)?e[0]:e}function p(e,t){var n,i,o="__create-react-context-"+c()+"__",l=function(e){function n(){var t;return t=e.apply(this,arguments)||this,t.emitter=h(t.props.value),t}Object(a["a"])(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return e={},e[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;f(r,i)?n=0:(n="function"===typeof t?t(r,i):u,n|=0,0!==n&&this.emitter.set(e.value,n))}},r.render=function(){return this.props.children},n}(r["Component"]);l.childContextTypes=(n={},n[o]=s.a.object.isRequired,n);var p=function(t){function n(){var e;return e=t.apply(this,arguments)||this,e.state={value:e.getValue()},e.onUpdate=function(t,n){var r=0|e.observedBits;0!==(r&n)&&e.setState({value:e.getValue()})},e}Object(a["a"])(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return d(this.props.children)(this.state.value)},n}(r["Component"]);return p.contextTypes=(i={},i[o]=s.a.object,i),{Provider:l,Consumer:p}}var g=i.a.createContext||p;t["a"]=g}).call(this,n("UywP"))},"9HG5":function(e,t,n){var r=n("kPvK"),i=r("iterator"),a=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){a=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(u){}return n}},"9Ihz":function(e,t){},"9OO5":function(e,t,n){"use strict";var r=n("sqIH"),i=n("hXyk"),a=n("2I03"),o=n("JzK+"),s=n("OOuR"),u=n("WdrS");r("match",1,(function(e,t,n){return[function(t){var n=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),l=String(this);if(!o.global)return u(o,l);var c=o.unicode;o.lastIndex=0;var f,h=[],d=0;while(null!==(f=u(o,l))){var p=String(f[0]);h[d]=p,""===p&&(o.lastIndex=s(l,a(o.lastIndex),c)),d++}return 0===d?null:h}]}))},"9VYP":function(e,t,n){"use strict";var r=n("dZOt"),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||y}function x(){}function w(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||y}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=b.prototype;var S=w.prototype=new x;S.constructor=w,r(S,b.prototype),S.isPureReactComponent=!0;var T={current:null},E=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&!M.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:T.current}}function A(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}function D(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}var P=/\/+/g,L=[];function I(e,t,n,r){if(L.length){var i=L.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function k(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return n(r,e,""===t?"."+F(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){i=e[u];var l=t+F(i,u);s+=k(i,l,n,r)}else if(null===e||"object"!==typeof e?l=null:(l=m&&e[m]||e["@@iterator"],l="function"===typeof l?l:null),"function"===typeof l)for(e=l.call(e),u=0;!(i=e.next()).done;)i=i.value,l=t+F(i,u++),s+=k(i,l,n,r);else if("object"===i)throw n=""+e,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function N(e,t,n){return null==e?0:k(e,"",t,n)}function F(e,t){return"object"===typeof e&&null!==e&&null!=e.key?D(e.key):t.toString(36)}function B(e,t){e.func.call(e.context,t,e.count++)}function z(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,(function(e){return e})):null!=e&&(O(e)&&(e=A(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(P,"$&/")+"/"),t=I(t,a,r,i),N(e,z,t),R(t)}var H={current:null};function U(){var e=H.current;if(null===e)throw Error(v(321));return e}var V={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=I(null,null,t,n),N(e,B,t),R(t)},count:function(e){return N(e,(function(){return null}),null)},toArray:function(e){var t=[];return j(e,t,null,(function(e){return e})),t},only:function(e){if(!O(e))throw Error(v(143));return e}},t.Component=b,t.Fragment=s,t.Profiler=l,t.PureComponent=w,t.StrictMode=u,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=T.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!M.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.14.0"},"9Vf9":function(e,t,n){var r=n("HIsA"),i=Math.hypot,a=Math.abs,o=Math.sqrt,s=!!i&&i(1/0,NaN)!==1/0;r({target:"Math",stat:!0,forced:s},{hypot:function(e,t){var n,r,i=0,s=0,u=arguments.length,l=0;while(s<u)n=a(arguments[s++]),l<n?(r=l/n,i=i*r*r+1,l=n):n>0?(r=n/l,i+=r*r):i+=n;return l===1/0?1/0:l*o(i)}})},"9Ywa":function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("LTDN");r({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},"9ZTU":function(e,t,n){var r,i,a=n("2JD6"),o=n("T9r4"),s=a.process,u=s&&s.versions,l=u&&u.v8;l?(r=l.split("."),i=r[0]+r[1]):o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},"9izy":function(e,t,n){var r=n("PaPB"),i=n("JzK+"),a=function(e){return function(t,n){var a,o,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}};e.exports={codeAt:a(!1),charAt:a(!0)}},"9kvl":function(e,t,n){"use strict";var r=n("FfOG");n.d(t,"a",(function(){return r["b"]}));n("bCY9")},A2sQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var r=n("PJ1B"),i=n("BF5W"),a="undefined"!==typeof ResizeObserver?i.createSensor:r.createSensor;t.createSensor=a},AKk7:function(e,t,n){"use strict";var r=!0,i="Invariant failed";function a(e,t){if(!e){if(r)throw new Error(i);throw new Error(i+": "+(t||""))}}t["a"]=a},B2Tl:function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n},B6LR:function(e,t,n){var r=n("ihzt");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},B7jn:function(e,t,n){var r=n("bVFb");r("species")},BF5W:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var r=i(n("5M8n"));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=void 0,n=[],i=(0,r["default"])((function(){n.forEach((function(t){t(e)}))})),a=function(){var t=new ResizeObserver(i);return t.observe(e),i(),t},o=function(e){t||(t=a()),-1===n.indexOf(e)&&n.push(e)},s=function(){t.disconnect(),n=[],t=void 0},u=function(e){var r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&t&&s()};return{element:e,bind:o,destroy:s,unbind:u}};t.createSensor=a},Bktt:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},BlUI:function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype["delete"]=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),a=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}(),o=2;function s(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&l()}function u(){a(s)}function l(){var e=Date.now();if(n){if(e-i<o)return;r=!0}else n=!0,r=!1,setTimeout(u,t);i=e}return l}var u=20,l=["top","right","bottom","left","width","height","size","weight"],c="undefined"!==typeof MutationObserver,f=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),u)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=l.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),h=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||i},p=T(0,0,0,0);function g(e){return parseFloat(e)||0}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){var r=e["border-"+n+"-width"];return t+g(r)}),0)}function v(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var a=i[r],o=e["padding-"+a];n[a]=g(o)}return n}function y(e){var t=e.getBBox();return T(0,0,t.width,t.height)}function _(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=d(e).getComputedStyle(e),i=v(r),a=i.left+i.right,o=i.top+i.bottom,s=g(r.width),u=g(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=m(r,"left","right")+a),Math.round(u+o)!==n&&(u-=m(r,"top","bottom")+o)),!x(e)){var l=Math.round(s+a)-t,c=Math.round(u+o)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return T(i.left,i.top,s,u)}var b=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox}}();function x(e){return e===d(e).document.documentElement}function w(e){return r?b(e)?y(e):_(e):p}function S(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return h(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}function T(e,t,n,r){return{x:e,y:t,width:n,height:r}}var E=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=T(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=w(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),M=function(){function e(e,t){var n=S(t);h(this,{target:e,contentRect:n})}return e}(),C=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new E(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t["delete"](e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new M(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),A="undefined"!==typeof WeakMap?new WeakMap:new n,O=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=f.getInstance(),r=new C(t,n,this);A.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach((function(e){O.prototype[e]=function(){var t;return(t=A.get(this))[e].apply(t,arguments)}}));var D=function(){return"undefined"!==typeof i.ResizeObserver?i.ResizeObserver:O}();t["a"]=D}).call(this,n("UywP"))},BtfP:function(e,t,n){"use strict";function r(){var e=a(n("xwgP"));return r=function(){return e},e}function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n["default"]=e,t&&t.set(e,n),n}function o(e,t){return f(e)||c(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}function f(e){if(Array.isArray(e))return e}function h(){return"BASEMENT"===Object({NODE_ENV:"production"}).PLATFORM_TYPE}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.getDemoUrl=t.getDemoRouteName=void 0;var d=function(){return h()?"_demos":"~demos"};t.getDemoRouteName=d;var p=function(e){var t,n=window,r=n.location,i=r.href,a=r.origin,s=i.split(/#\//),u=o(s,2),l=u[0],c=u[1],f="string"===typeof c;return[f?"".concat(l,"#"):a,"".concat((null===(t=window)||void 0===t?void 0:t.routerBase)||"","/").replace(/\/\/$/,"/"),d(),"/",e,h()?"/index.html":""].join("")};t.getDemoUrl=p;var g=function(e){var t=(0,r().useState)(""),n=o(t,2),i=n[0],a=n[1];return(0,r().useEffect)((function(){a(p(e))}),[e]),i};t["default"]=g},CE66:function(e,t,n){},CG2G:function(e,t,n){"use strict";var r=n("HIsA"),i=n("dOdC"),a=[].reverse,o=[1,2];r({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),a.call(this)}})},CLo7:function(e,t,n){var r=n("2JD6"),i=n("Bktt"),a=n("PBBb"),o=n("D8FR");for(var s in i){var u=r[s],l=u&&u.prototype;if(l&&l.forEach!==a)try{o(l,"forEach",a)}catch(c){l.forEach=a}}},CNWJ:function(e,t,n){"use strict";var r=n("HIsA"),i=n("DDwO"),a=n("NVMI"),o=n("7+LC"),s=n("1+Eb"),u=[],l=u.sort,c=o((function(){u.sort(void 0)})),f=o((function(){u.sort(null)})),h=s("sort"),d=c||!f||!h;r({target:"Array",proto:!0,forced:d},{sort:function(e){return void 0===e?l.call(a(this)):l.call(a(this),i(e))}})},CRiW:function(e,t,n){"use strict";n.r(t);var r=n("xwgP"),i=n.n(r),a=n("kvV8"),o=n("lBQG"),s=i.a.memo(n("Rsk4").default["simple-demo"].component);t["default"]=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u7b80\u5355\u5806\u79ef\u9762\u79ef\u56fe"},i.a.createElement(a["AnchorLink"],{to:"#\u7b80\u5355\u5806\u79ef\u9762\u79ef\u56fe","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:["icon","icon-link"]})),"\u7b80\u5355\u5806\u79ef\u9762\u79ef\u56fe")),i.a.createElement(o["default"],n("Rsk4").default["simple-demo"].previewerProps,i.a.createElement(s,null))))}},CU0g:function(e,t,n){"use strict";n.r(t),n.d(t,"Link",(function(){return _})),n.d(t,"MemoryRouter",(function(){return a["a"]})),n.d(t,"NavLink",(function(){return T})),n.d(t,"Prompt",(function(){return a["b"]})),n.d(t,"Redirect",(function(){return a["c"]})),n.d(t,"Route",(function(){return a["d"]})),n.d(t,"Router",(function(){return a["e"]})),n.d(t,"StaticRouter",(function(){return a["f"]})),n.d(t,"Switch",(function(){return a["g"]})),n.d(t,"matchPath",(function(){return a["i"]})),n.d(t,"useHistory",(function(){return a["j"]})),n.d(t,"useLocation",(function(){return a["k"]})),n.d(t,"useParams",(function(){return a["l"]})),n.d(t,"useRouteMatch",(function(){return a["m"]})),n.d(t,"withRouter",(function(){return a["n"]})),n.d(t,"__RouterContext",(function(){return a["h"]})),n.d(t,"createBrowserHistory",(function(){return l["a"]})),n.d(t,"createHashHistory",(function(){return l["b"]})),n.d(t,"createMemoryHistory",(function(){return l["d"]})),n.d(t,"ApplyPluginsType",(function(){return S})),n.d(t,"Plugin",(function(){return W})),n.d(t,"dynamic",(function(){return ae}));var r=n("sJYe"),i=n.n(r),a=n("q5+0"),o=n("HMkG"),s=n("xwgP"),u=n.n(s),l=n("HFu6"),c=(n("EH+i"),n("a1z2")),f=n("LDy6"),h=n("AKk7");u.a.Component;u.a.Component;var d=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?Object(l["c"])(e,null,null,t):e},g=function(e){return e},m=u.a.forwardRef;function v(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}"undefined"===typeof m&&(m=g);var y=m((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=Object(f["a"])(e,["innerRef","navigate","onClick"]),o=a.target,s=Object(c["a"])({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||o&&"_self"!==o||v(e)||(e.preventDefault(),r())}});return s.ref=g!==m&&t||n,u.a.createElement("a",s)}));var _=m((function(e,t){var n=e.component,r=void 0===n?y:n,i=e.replace,o=e.to,s=e.innerRef,l=Object(f["a"])(e,["component","replace","to","innerRef"]);return u.a.createElement(a["h"].Consumer,null,(function(e){e||Object(h["a"])(!1);var n=e.history,a=p(d(o,e.location),e.location),f=a?n.createHref(a):"",v=Object(c["a"])({},l,{href:f,navigate:function(){var t=d(o,e.location),r=i?n.replace:n.push;r(t)}});return g!==m?v.ref=t||s:v.innerRef=s,u.a.createElement(r,v)}))})),b=function(e){return e},x=u.a.forwardRef;function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}"undefined"===typeof x&&(x=b);var S,T=x((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,s=e.activeStyle,l=e.className,g=e.exact,m=e.isActive,v=e.location,y=e.sensitive,S=e.strict,T=e.style,E=e.to,M=e.innerRef,C=Object(f["a"])(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return u.a.createElement(a["h"].Consumer,null,(function(e){e||Object(h["a"])(!1);var n=v||e.location,i=p(d(E,n),n),f=i.pathname,A=f&&f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),O=A?Object(a["i"])(n.pathname,{path:A,exact:g,sensitive:y,strict:S}):null,D=!!(m?m(O,n):O),P=D?w(l,o):l,L=D?Object(c["a"])({},T,{},s):T,I=Object(c["a"])({"aria-current":D&&r||null,className:P,style:L,to:i},C);return b!==x?I.ref=t||M:I.innerRef=M,u.a.createElement(_,I)}))})),E=n("EwCW");function M(e){return M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function C(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){C(a,r,i,o,s,"next",e)}function s(e){C(a,r,i,o,s,"throw",e)}o(void 0)}))}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){return N(e)||F(e)||B(e)||j()}function N(e){if(Array.isArray(e))return e}function F(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function B(e,t){if(e){if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=B(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function U(e,t){if(!e)throw new Error(t)}function V(e){var t=e.fns,n=e.args;if(1===t.length)return t[0];var r=t.pop();return t.reduce((function(e,t){return function(){return t(e,n)}}),r)}function G(e){return!!e&&"object"===M(e)&&"function"===typeof e.then}(function(e){e["compose"]="compose",e["modify"]="modify",e["event"]="event"})(S||(S={}));var W=function(){function e(t){O(this,e),this.hooks={},this.validKeys=(null===t||void 0===t?void 0:t.validKeys)||[]}return P(e,[{key:"register",value:function(e){var t=this;U(!!e.apply,"register failed, plugin.apply must supplied"),U(!!e.path,"register failed, plugin.path must supplied"),Object.keys(e.apply).forEach((function(n){U(t.validKeys.indexOf(n)>-1,"register failed, invalid key ".concat(n," from plugin ").concat(e.path,".")),t.hooks[n]||(t.hooks[n]=[]),t.hooks[n]=t.hooks[n].concat(e.apply[n])}))}},{key:"getHooks",value:function(e){var t=e.split("."),n=k(t),r=n[0],i=n.slice(1),a=this.hooks[r]||[];return i.length&&(a=a.map((function(e){try{var t,n=e,r=H(i);try{for(r.s();!(t=r.n()).done;){var a=t.value;n=n[a]}}catch(o){r.e(o)}finally{r.f()}return n}catch(s){return null}})).filter(Boolean)),a}},{key:"applyPlugins",value:function(e){var t=e.key,n=e.type,r=e.initialValue,a=e.args,o=e.async,s=this.getHooks(t)||[];switch(a&&U("object"===M(a),"applyPlugins failed, args must be plain object."),n){case S.modify:return o?s.reduce(function(){var e=A(i.a.mark((function e(n,r){var o;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(U("function"===typeof r||"object"===M(r)||G(r),"applyPlugins failed, all hooks for key ".concat(t," must be function, plain object or Promise.")),!G(n)){e.next=5;break}return e.next=4,n;case 4:n=e.sent;case 5:if("function"!==typeof r){e.next=16;break}if(o=r(n,a),!G(o)){e.next=13;break}return e.next=10,o;case 10:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",o);case 14:e.next=21;break;case 16:if(!G(r)){e.next=20;break}return e.next=19,r;case 19:r=e.sent;case 20:return e.abrupt("return",R(R({},n),r));case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G(r)?r:Promise.resolve(r)):s.reduce((function(e,n){return U("function"===typeof n||"object"===M(n),"applyPlugins failed, all hooks for key ".concat(t," must be function or plain object.")),"function"===typeof n?n(e,a):R(R({},e),n)}),r);case S.event:return s.forEach((function(e){U("function"===typeof e,"applyPlugins failed, all hooks for key ".concat(t," must be function.")),e(a)}));case S.compose:return function(){return V({fns:s.concat(r),args:a})()}}}}]),e}(),X=Object(s["createContext"])(null),K=[],q=[],Y=!1;function Z(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e}))["catch"]((function(e){throw n.loading=!1,n.error=e,e})),n}function $(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var i=Z(e[r]);i.loading?t.loading=!0:(t.loaded[r]=i.loaded,t.error=i.error),n.push(i.promise),i.promise.then((function(e){t.loaded[r]=e}))["catch"]((function(e){t.error=e}))}))}catch(r){t.error=r}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e}))["catch"]((function(e){throw t.loading=!1,e})),t}function Q(e){return e&&e.__esModule?e["default"]:e}function J(e,t){return Object(s["createElement"])(Q(e),t)}function ee(e,t){var n=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:J,webpack:null,modules:null},t),r=null;function i(){if(!r){var t=new te(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if("undefined"===typeof window&&K.push(i),!Y&&"undefined"!==typeof window&&"function"===typeof n.webpack){var a=n.webpack();q.push((function(e){var t,n=H(a);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(-1!==e.indexOf(r))return i()}}catch(o){n.e(o)}finally{n.f()}}))}var o=function(e,t){i();var a=Object(s["useContext"])(X),o=Object(E["useSubscription"])(r);return Object(s["useImperativeHandle"])(t,(function(){return{retry:r.retry}})),a&&Array.isArray(n.modules)&&n.modules.forEach((function(e){a(e)})),o.loading||o.error?Object(s["createElement"])(n.loading,{isLoading:o.loading,pastDelay:o.pastDelay,timedOut:o.timedOut,error:o.error,retry:r.retry}):o.loaded?n.render(o.loaded,e):null},u=Object(s["forwardRef"])(o);return u.preload=function(){return i()},u.displayName="LoadableComponent",u}var te=function(){function e(t,n){O(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return P(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"===typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),n.delay)),"number"===typeof n.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),n.timeout))),this._res.promise.then((function(){e._update(),e._clearTimeouts()}))["catch"]((function(t){e._update(),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=R(R({},this._state),e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return R(R({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading})}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks["delete"](e)}}}]),e}();function ne(e){return ee(Z,e)}function re(e){if("function"!==typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return ee($,e)}function ie(e,t){var n=[];while(e.length){var r=e.pop();n.push(r(t))}return Promise.all(n).then((function(){if(e.length)return ie(e,t)}))}function ae(e){var t=ne,n={loading:function(e){e.error,e.isLoading;return Object(s["createElement"])("p",null,"loading...")}};if("function"===typeof e)n.loader=e;else{if("object"!==M(e))throw new Error("Unexpect arguments ".concat(e));n=R(R({},n),e)}return t(n)}ne.Map=re,ne.preloadAll=function(){return new Promise((function(e,t){ie(K).then(e,t)}))},ne.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var n=function(){return Y=!0,t()};ie(q,e).then(n,n)}))},"undefined"!==typeof window&&(window.__NEXT_PRELOADREADY=ne.preloadReady)},CWx7:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("YjHi"),s=n("jd72"),u=n("Ji6T");r({target:"Map",proto:!0,real:!0,forced:i},{includes:function(e){return u(o(a(this)),(function(t,n){if(s(n,e))return u.stop()}),void 0,!0,!0).stopped}})},ClHO:function(e,t,n){"use strict";var r=n("HIsA"),i=n("Hiyu"),a=n("2JD6"),o=n("+qhb"),s=n("pxmn"),u=n("2RC6").f,l=n("xp0c"),c=a.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var f={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new c(e):void 0===e?c():c(e);return""===e&&(f[t]=!0),t};l(h,c);var d=h.prototype=c.prototype;d.constructor=h;var p=d.toString,g="Symbol(test)"==String(c("test")),m=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(o(f,e))return"";var n=g?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},CmBG:function(e,t){t.f=Object.getOwnPropertySymbols},"D0A+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("lUyv");function i(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(e,t):void 0}}},D2hf:function(e,t,n){var r=n("HIsA");r({target:"Math",stat:!0},{iaddh:function(e,t,n,r){var i=e>>>0,a=t>>>0,o=n>>>0;return a+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},D8FR:function(e,t,n){var r=n("Hiyu"),i=n("2RC6"),a=n("OLna");e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},DDwO:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},DXpG:function(e,t,n){"use strict";var r=n("sqIH"),i=n("ihzt"),a=n("hXyk"),o=n("JzK+"),s=n("70zE"),u=n("OOuR"),l=n("2I03"),c=n("WdrS"),f=n("UTnC"),h=n("7+LC"),d=[].push,p=Math.min,g=4294967295,m=!h((function(){return!RegExp(g,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(o(this)),a=void 0===n?g:n>>>0;if(0===a)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,a);var s,u,l,c=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=new RegExp(e.source,h+"g");while(s=f.call(m,r)){if(u=m.lastIndex,u>p&&(c.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&d.apply(c,s.slice(1)),l=s[0].length,p=u,c.length>=a))break;m.lastIndex===s.index&&m.lastIndex++}return p===r.length?!l&&m.test("")||c.push(""):c.push(r.slice(p)),c.length>a?c.slice(0,a):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=o(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var f=a(e),h=String(this),d=s(f,RegExp),v=f.unicode,y=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(m?"y":"g"),_=new d(m?f:"^(?:"+f.source+")",y),b=void 0===i?g:i>>>0;if(0===b)return[];if(0===h.length)return null===c(_,h)?[h]:[];var x=0,w=0,S=[];while(w<h.length){_.lastIndex=m?w:0;var T,E=c(_,m?h:h.slice(w));if(null===E||(T=p(l(_.lastIndex+(m?0:w)),h.length))===x)w=u(h,w,v);else{if(S.push(h.slice(x,w)),S.length===b)return S;for(var M=1;M<=E.length-1;M++)if(S.push(E[M]),S.length===b)return S;w=x=T}}return S.push(h.slice(x)),S}]}),!m)},DeDD:function(e,t,n){var r=n("HIsA"),i=n("icJ8"),a=n("hXyk"),o=i.has,s=i.toKey;r({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,t){var n=arguments.length<3?void 0:s(arguments[2]);return o(e,a(t),n)}})},Diaw:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},DnHg:function(e,t,n){var r=n("JY8B");r("flat")},E06e:function(e,t){var n=Math.log;e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:n(1+e)}},"EC/F":function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("bXon"),o=n("hXyk"),s=n("DDwO"),u=n("40mc"),l=n("70zE"),c=n("YjHi"),f=n("Ji6T");r({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(e){var t=o(this),n=c(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,a("Map"))),h=s(i.set);return f(n,(function(e,n){h.call(i,e,r(n,e,t))}),void 0,!0,!0),i}})},ECWN:function(e,t,n){var r=n("Ogjs"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"EH+i":function(e,t,n){e.exports=n("72Hr")()},EMzR:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("7SXh");r({target:"WeakSet",proto:!0,real:!0,forced:i},{addAll:function(){return a.apply(this,arguments)}})},EPMC:function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n},EwCW:function(e,t,n){"use strict";e.exports=n("xdXA")},"F+kV":function(e,t,n){"use strict";n.r(t);var r=n("xwgP"),i=n.n(r),a=n("kvV8"),o=n("lBQG"),s=n("HFCj"),u=i.a.memo(n("Rsk4").default["docs-demo"].component);t["default"]=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u5b89\u88c5"},i.a.createElement(a["AnchorLink"],{to:"#\u5b89\u88c5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:["icon","icon-link"]})),"\u5b89\u88c5"),i.a.createElement(s["a"],{code:"$ npm install echarts-for-react\n",lang:"bash"}),i.a.createElement("h2",{id:"\u4f7f\u7528"},i.a.createElement(a["AnchorLink"],{to:"#\u4f7f\u7528","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:["icon","icon-link"]})),"\u4f7f\u7528"),i.a.createElement(s["a"],{code:"import React from 'react';\nimport ReactECharts from 'echarts-for-react';\n\nconst Page: React.FC = () => {\n  const options = {\n    grid: { top: 8, right: 8, bottom: 24, left: 36 },\n    xAxis: {\n      type: 'category',\n      data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n    },\n    yAxis: {\n      type: 'value',\n    },\n    series: [\n      {\n        data: [820, 932, 901, 934, 1290, 1330, 1320],\n        type: 'line',\n        smooth: true,\n      },\n    ],\n  };\n\n  return <ReactECharts option={options} />;\n};\n\nexport default Page;\n",lang:"tsx"}),i.a.createElement("p",null,"\u6700\u7ec8\u7ed3\u679c\uff1a")),i.a.createElement(o["default"],n("Rsk4").default["docs-demo"].previewerProps,i.a.createElement(u,null)),i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u53cd\u9988"},i.a.createElement(a["AnchorLink"],{to:"#\u53cd\u9988","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:["icon","icon-link"]})),"\u53cd\u9988"),i.a.createElement("p",null,"\u8bf7\u8bbf\u95ee ",i.a.createElement(a["Link"],{to:"https://github.com/hustcc/echarts-for-react"},"GitHub"),"\u3002"))))}},F4Qn:function(e,t,n){"use strict";var r=n("HIsA"),i=n("WNir").left,a=n("1+Eb"),o=n("/5yA"),s=a("reduce"),u=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},FFjv:function(e,t,n){"use strict";var r=n("HIsA"),i=n("qmtO").f,a=n("2I03"),o=n("B6LR"),s=n("JzK+"),u=n("eD14"),l=n("m52V"),c="".endsWith,f=Math.min,h=u("endsWith"),d=!l&&!h&&!!function(){var e=i(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!d&&!h},{endsWith:function(e){var t=String(s(this));o(e);var n=arguments.length>1?arguments[1]:void 0,r=a(t.length),i=void 0===n?r:f(a(n),r),u=String(e);return c?c.call(t,u,i):t.slice(i-u.length,i)===u}})},FLIr:function(e,t,n){var r=n("bVFb");r("match")},"FT/y":function(e,t,n){var r=n("J7X1");r(Math,"Math",!0)},FaOA:function(e,t,n){"use strict";function r(){var e=a(n("xwgP"));return r=function(){return e},e}function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n["default"]=e,t&&t.set(e,n),n}function o(e,t){return f(e)||c(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}function f(e){if(Array.isArray(e))return e}function h(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(i<t.length){var a=t[i],s=function(){return h(e,t,n,i+1)},u=a.match(/^([^:]+):?(.*)$/)||[],l=o(u,3),c=l[1],f=l[2];switch(c){case"autoplay":s();break;case"click":var d=f.match(/^(global\()?(.+?)\)?$/)||[],p=o(d,3),g=p[1],m=p[2],v=g?document:e;null===(r=v.querySelector(m))||void 0===r||r.click(),s();break;case"timeout":setTimeout(s,Number(f));break;case"capture":window.postMessage({type:"dumi:capture-element",value:f},"*"),s();break;default:console.warn("[dumi: motion] unknown motion '".concat(a,"', skip.")),s()}}else n()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var d=function(e,t){var n=(0,r().useState)(!1),i=o(n,2),a=i[0],s=i[1],u=(0,r().useCallback)((function(){a||(h(t,e,(function(){s(!1)})),s(!0))}),[e,t,a]);return(0,r().useEffect)((function(){"autoplay"===e[0]&&t&&u()}),[e,t]),[u,a]};t["default"]=d},Fano:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("RtWR");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"Fcd/":function(e,t,n){var r=n("kPW5");function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n["default"]=e,t&&t.set(e,n),n}e.exports=a},FfOG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n("HFu6"),i={basename:"/echarts-for-react/"};window.routerBase&&(i.basename=window.routerBase);var a=Object({NODE_ENV:"production"}).__IS_SERVER?null:Object(r["a"])(i),o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e||(a=Object(r["a"])(i)),a}},Fk5u:function(e,t){e.exports=window.echarts},FmLo:function(e,t,n){"use strict";var r=n("HIsA"),i=n("9izy").charAt;r({target:"String",proto:!0},{at:function(e){return i(this,e)}})},G4R5:function(e,t,n){"use strict";var r=n("ghbW"),i=n("vldi");e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},G5kI:function(e,t,n){var r=n("2JD6");e.exports=r},G70G:function(e,t,n){"use strict";var r=n("n2ef"),i=n("2RC6"),a=n("OLna");e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},G7GF:function(e,t,n){"use strict";var r=n("2JD6"),i=n("Wp5u"),a=n("7+LC"),o=r.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,l=[].toLocaleString,c=[].slice,f=!!o&&a((function(){l.call(new o(1))})),h=a((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!a((function(){o.prototype.toLocaleString.call([1,2])}));u("toLocaleString",(function(){return l.apply(f?c.call(s(this)):s(this),arguments)}),h)},GP7J:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("YjHi"),s=n("Ji6T");r({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(e){return s(o(a(this)),(function(t,n){if(n===e)return s.stop(t)}),void 0,!0,!0).result}})},GPbW:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},GUTS:function(e,t,n){var r=n("2JD6"),i=n("D8FR"),a=n("+qhb"),o=n("5Nth"),s=n("ECWN"),u=n("twJ5"),l=u.get,c=u.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||i(n,"name",t),c(n).source=f.join("string"==typeof t?t:"")),e!==r?(u?!h&&e[t]&&(l=!0):delete e[t],l?e[t]=n:i(e,t,n)):l?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},GboX:function(e,t,n){"use strict";var r=n("Wp5u"),i=n("pMf/"),a=r.aTypedArrayConstructor,o=r.exportTypedArrayStaticMethod;o("of",(function(){var e=0,t=arguments.length,n=new(a(this))(t);while(t>e)n[e]=arguments[e++];return n}),i)},Gcgh:function(e,t,n){"use strict";var r=n("ghbW"),i=n("r73t");r("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},GumR:function(e,t,n){var r=n("egoY");function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(u)throw o}}}}e.exports=i},"H++4":function(e,t,n){var r=n("JqKL");r("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},H7G2:function(e,t,n){var r=n("HIsA"),i=n("icJ8"),a=n("hXyk"),o=n("kI7s"),s=i.has,u=i.toKey,l=function(e,t,n){var r=s(e,t,n);if(r)return!0;var i=o(t);return null!==i&&l(e,i,n)};r({target:"Reflect",stat:!0},{hasMetadata:function(e,t){var n=arguments.length<3?void 0:u(arguments[2]);return l(e,a(t),n)}})},HC6C:function(e,t,n){"use strict";var r=n("GUTS"),i=n("hXyk"),a=n("7+LC"),o=n("ma2j"),s="toString",u=RegExp.prototype,l=u[s],c=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=l.name!=s;(c||f)&&r(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in u)?o.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},HC6f:function(e,t,n){"use strict";var r=n("2JD6"),i=n("Hiyu"),a=n("13/t"),o=n("D8FR"),s=n("masK"),u=n("7+LC"),l=n("xOST"),c=n("PaPB"),f=n("2I03"),h=n("PM2V"),d=n("4CZv"),p=n("kI7s"),g=n("UPu9"),m=n("szjD").f,v=n("2RC6").f,y=n("+kF3"),_=n("J7X1"),b=n("twJ5"),x=b.get,w=b.set,S="ArrayBuffer",T="DataView",E="prototype",M="Wrong length",C="Wrong index",A=r[S],O=A,D=r[T],P=D&&D[E],L=Object.prototype,I=r.RangeError,R=d.pack,k=d.unpack,N=function(e){return[255&e]},F=function(e){return[255&e,e>>8&255]},B=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},z=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},j=function(e){return R(e,23,4)},H=function(e){return R(e,52,8)},U=function(e,t){v(e[E],t,{get:function(){return x(this)[t]}})},V=function(e,t,n,r){var i=h(n),a=x(e);if(i+t>a.byteLength)throw I(C);var o=x(a.buffer).bytes,s=i+a.byteOffset,u=o.slice(s,s+t);return r?u:u.reverse()},G=function(e,t,n,r,i,a){var o=h(n),s=x(e);if(o+t>s.byteLength)throw I(C);for(var u=x(s.buffer).bytes,l=o+s.byteOffset,c=r(+i),f=0;f<t;f++)u[l+f]=c[a?f:t-f-1]};if(a){if(!u((function(){A(1)}))||!u((function(){new A(-1)}))||u((function(){return new A,new A(1.5),new A(NaN),A.name!=S}))){O=function(e){return l(this,O),new A(h(e))};for(var W,X=O[E]=A[E],K=m(A),q=0;K.length>q;)(W=K[q++])in O||o(O,W,A[W]);X.constructor=O}g&&p(P)!==L&&g(P,L);var Y=new D(new O(2)),Z=P.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||s(P,{setInt8:function(e,t){Z.call(this,e,t<<24>>24)},setUint8:function(e,t){Z.call(this,e,t<<24>>24)}},{unsafe:!0})}else O=function(e){l(this,O,S);var t=h(e);w(this,{bytes:y.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},D=function(e,t,n){l(this,D,T),l(e,O,T);var r=x(e).byteLength,a=c(t);if(a<0||a>r)throw I("Wrong offset");if(n=void 0===n?r-a:f(n),a+n>r)throw I(M);w(this,{buffer:e,byteLength:n,byteOffset:a}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},i&&(U(O,"byteLength"),U(D,"buffer"),U(D,"byteLength"),U(D,"byteOffset")),s(D[E],{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return z(V(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return z(V(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return k(V(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return k(V(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){G(this,1,e,N,t)},setUint8:function(e,t){G(this,1,e,N,t)},setInt16:function(e,t){G(this,2,e,F,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){G(this,2,e,F,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){G(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){G(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){G(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){G(this,8,e,H,t,arguments.length>2?arguments[2]:void 0)}});_(O,S),_(D,T),e.exports={ArrayBuffer:O,DataView:D}},HFCj:function(e,t,n){"use strict";var r=n("a1z2"),i=n("ob7Q"),a=n("xwgP"),o=n.n(a),s=function(){var e=0,t={util:{encode:function(e){return e instanceof n?new n(e.type,t.util.encode(e.content),e.alias):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(t){return t["__id"]||Object.defineProperty(t,"__id",{value:++e}),t["__id"]},clone:function(e,n){var r=t.util.type(e);switch(n=n||{},r){case"Object":if(n[t.util.objId(e)])return n[t.util.objId(e)];a={};for(var i in n[t.util.objId(e)]=a,e)e.hasOwnProperty(i)&&(a[i]=t.util.clone(e[i],n));return a;case"Array":if(n[t.util.objId(e)])return n[t.util.objId(e)];var a=[];return n[t.util.objId(e)]=a,e.forEach((function(e,r){a[r]=t.util.clone(e,n)})),a}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var i in n)r[i]=n[i];return r},insertBefore:function(e,n,r,i){i=i||t.languages;var a=i[e];if(2==arguments.length){for(var o in r=arguments[1],r)r.hasOwnProperty(o)&&(a[o]=r[o]);return a}var s={};for(var u in a)if(a.hasOwnProperty(u)){if(u==n)for(var o in r)r.hasOwnProperty(o)&&(s[o]=r[o]);s[u]=a[u]}return t.languages.DFS(t.languages,(function(t,n){n===i[e]&&t!=e&&(this[t]=s)})),i[e]=s},DFS:function(e,n,r,i){for(var a in i=i||{},e)e.hasOwnProperty(a)&&(n.call(e,a,e[a],r||a),"Object"!==t.util.type(e[a])||i[t.util.objId(e[a])]?"Array"!==t.util.type(e[a])||i[t.util.objId(e[a])]||(i[t.util.objId(e[a])]=!0,t.languages.DFS(e[a],n,a,i)):(i[t.util.objId(e[a])]=!0,t.languages.DFS(e[a],n,null,i)))}},plugins:{},highlight:function(e,r,i){var a={code:e,grammar:r,language:i};return a.tokens=t.tokenize(a.code,a.grammar),n.stringify(t.util.encode(a.tokens),a.language)},matchGrammar:function(e,n,r,i,a,o,s){var u=t.Token;for(var l in r)if(r.hasOwnProperty(l)&&r[l]){if(l==s)return;var c=r[l];c="Array"===t.util.type(c)?c:[c];for(var f=0;f<c.length;++f){var h=c[f],d=h.inside,p=!!h.lookbehind,g=!!h.greedy,m=0,v=h.alias;if(g&&!h.pattern.global){var y=h.pattern.toString().match(/[imuy]*$/)[0];h.pattern=RegExp(h.pattern.source,y+"g")}h=h.pattern||h;for(var _=i,b=a;_<n.length;b+=n[_].length,++_){var x=n[_];if(n.length>e.length)return;if(!(x instanceof u)){if(g&&_!=n.length-1){h.lastIndex=b;var w=h.exec(e);if(!w)break;for(var S=w.index+(p?w[1].length:0),T=w.index+w[0].length,E=_,M=b,C=n.length;E<C&&(M<T||!n[E].type&&!n[E-1].greedy);++E)M+=n[E].length,S>=M&&(++_,b=M);if(n[_]instanceof u)continue;A=E-_,x=e.slice(b,M),w.index-=b}else{h.lastIndex=0;w=h.exec(x);var A=1}if(w){p&&(m=w[1]?w[1].length:0);S=w.index+m,w=w[0].slice(m),T=S+w.length;var O=x.slice(0,S),D=x.slice(T),P=[_,A];O&&(++_,b+=O.length,P.push(O));var L=new u(l,d?t.tokenize(w,d):w,v,w,g);if(P.push(L),D&&P.push(D),Array.prototype.splice.apply(n,P),1!=A&&t.matchGrammar(e,n,r,_,b,!0,l),o)break}else if(o)break}}}}},hooks:{add:function(){}},tokenize:function(e,n,r){var i=[e],a=n.rest;if(a){for(var o in a)n[o]=a[o];delete n.rest}return t.matchGrammar(e,i,n,0,0,!1),i}},n=t.Token=function(e,t,n,r,i){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i};return n.stringify=function(e,r,i){if("string"==typeof e)return e;if("Array"===t.util.type(e))return e.map((function(t){return n.stringify(t,r,e)})).join("");var a={type:e.type,content:n.stringify(e.content,r,i),tag:"span",classes:["token",e.type],attributes:{},language:r,parent:i};if(e.alias){var o="Array"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(a.classes,o)}var s=Object.keys(a.attributes).map((function(e){return e+'="'+(a.attributes[e]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+(s?" "+s:"")+">"+a.content+"</"+a.tag+">"},t}();s.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},s.languages.markup["tag"].inside["attr-value"].inside["entity"]=s.languages.markup["entity"],s.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes["title"]=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(s.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:s.languages[t]},n["cdata"]=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:s.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:r},s.languages.insertBefore("markup","cdata",i)}}),s.languages.xml=s.languages.extend("markup",{}),s.languages.html=s.languages.markup,s.languages.mathml=s.languages.markup,s.languages.svg=s.languages.markup,function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)\w+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b\w+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+?)\s*(?:\r?\n|\r)(?:[\s\S])*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:n},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s*(?:\r?\n|\r)(?:[\s\S])*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0},{pattern:/(["'])(?:\\[\s\S]|\$\([^)]+\)|`[^`]+`|(?!\1)[^\\])*\1/,greedy:!0,inside:n}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:n.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|==?|!=?|=~|<<[<-]?|[&\d]?>>|\d?[<>]&?|&[>&]?|\|[&|]?|<=?|>=?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}};for(var r=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],i=n.variable[1].inside,a=0;a<r.length;a++)i[r[a]]=e.languages.bash[r[a]];e.languages.shell=e.languages.bash}(s),s.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},s.languages.c=s.languages.extend("clike",{"class-name":{pattern:/(\b(?:enum|struct)\s+)\w+/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/,number:/(?:\b0x(?:[\da-f]+\.?[\da-f]*|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?)[ful]*/i}),s.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+(?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(?:<.+?>|("|')(?:\\?.)+?\2)/,lookbehind:!0},directive:{pattern:/(#\s*)\b(?:define|defined|elif|else|endif|error|ifdef|ifndef|if|import|include|line|pragma|undef|using)\b/,lookbehind:!0,alias:"keyword"}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete s.languages.c["boolean"],s.languages.cpp=s.languages.extend("c",{"class-name":{pattern:/(\b(?:class|enum|struct)\s+)\w+/,lookbehind:!0},keyword:/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+\.?[\da-f']*|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+\.?[\d']*|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]*/i,greedy:!0},operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),s.languages.insertBefore("cpp","string",{"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/@[\w-]+/}},url:{pattern:RegExp("url\\((?:"+t.source+"|[^\n\r()]*)\\)","i"),inside:{function:/^url/i,punctuation:/^\(|\)$/}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css["atrule"].inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(s),s.languages.css.selector={pattern:s.languages.css.selector,inside:{"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-:.\w]+/,id:/#[-:.\w]+/,attribute:{pattern:/\[(?:[^[\]"']|("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1)*\]/,greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)[-*\w\xA0-\uFFFF]*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},attribute:{pattern:/^(\s*)[-\w\xA0-\uFFFF]+/,lookbehind:!0},value:[/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,{pattern:/(=\s*)[-\w\xA0-\uFFFF]+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],punctuation:/[()]/}},s.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*/i,lookbehind:!0}}),s.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:/#[\da-f]{3,8}/i,entity:/\\[\da-f]{1,8}/i,unit:{pattern:/(\d)(?:%|[a-z]+)/,lookbehind:!0},number:/-?[\d.]+/}),s.languages.javascript=s.languages.extend("clike",{"class-name":[s.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),s.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,s.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:s.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:s.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:s.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:s.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),s.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:s.languages.javascript}},string:/[\s\S]+/}}}),s.languages.markup&&s.languages.markup.tag.addInlined("script","javascript"),s.languages.js=s.languages.javascript,function(e){var t=e.util.clone(e.languages.javascript);e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=/<\/?(?:[\w.:-]+\s*(?:\s+(?:[\w.:-]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s{'">=]+|\{(?:\{(?:\{[^}]*\}|[^{}])*\}|[^{}])+\}))?|\{\.{3}[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\}))*\s*\/?)?>/i,e.languages.jsx.tag.inside["tag"].pattern=/^<\/?[^\s>\/]*/i,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">]+)/i,e.languages.jsx.tag.inside["tag"].inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.insertBefore("inside","attr-name",{spread:{pattern:/\{\.{3}[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\}/,inside:{punctuation:/\.{3}|[{}.]/,"attr-value":/\w+/}}},e.languages.jsx.tag),e.languages.insertBefore("inside","attr-value",{script:{pattern:/=(\{(?:\{(?:\{[^}]*\}|[^}])*\}|[^}])+\})/i,inside:{"script-punctuation":{pattern:/^=(?={)/,alias:"punctuation"},rest:e.languages.jsx},alias:"language-javascript"}},e.languages.jsx.tag);var n=function e(t){return t?"string"===typeof t?t:"string"===typeof t.content?t.content:t.content.map(e).join(""):""},r=function t(r){for(var i=[],a=0;a<r.length;a++){var o=r[a],s=!1;if("string"!==typeof o&&("tag"===o.type&&o.content[0]&&"tag"===o.content[0].type?"</"===o.content[0].content[0].content?i.length>0&&i[i.length-1].tagName===n(o.content[0].content[1])&&i.pop():"/>"===o.content[o.content.length-1].content||i.push({tagName:n(o.content[0].content[1]),openedBraces:0}):i.length>0&&"punctuation"===o.type&&"{"===o.content?i[i.length-1].openedBraces++:i.length>0&&i[i.length-1].openedBraces>0&&"punctuation"===o.type&&"}"===o.content?i[i.length-1].openedBraces--:s=!0),(s||"string"===typeof o)&&i.length>0&&0===i[i.length-1].openedBraces){var u=n(o);a<r.length-1&&("string"===typeof r[a+1]||"plain-text"===r[a+1].type)&&(u+=n(r[a+1]),r.splice(a+1,1)),a>0&&("string"===typeof r[a-1]||"plain-text"===r[a-1].type)&&(u=n(r[a-1])+u,r.splice(a-1,1),a--),r[a]=new e.Token("plain-text",u,null,u)}o.content&&"string"!==typeof o.content&&t(o.content)}};e.hooks.add("after-tokenize",(function(e){"jsx"!==e.language&&"tsx"!==e.language||r(e.tokens)}))}(s),function(e){var t=e.languages.javadoclike={parameter:{pattern:/(^\s*(?:\/{3}|\*|\/\*\*)\s*@(?:param|arg|arguments)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^\s*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};function n(t,n){var r="doc-comment",i=e.languages[t];if(i){var a=i[r];if(!a){var o={};o[r]={pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,alias:"comment"},i=e.languages.insertBefore(t,"comment",o),a=i[r]}if(a instanceof RegExp&&(a=i[r]={pattern:a}),Array.isArray(a))for(var s=0,u=a.length;s<u;s++)a[s]instanceof RegExp&&(a[s]={pattern:a[s]}),n(a[s]);else n(a)}}function r(e,t){"string"===typeof e&&(e=[e]),e.forEach((function(e){n(e,(function(e){e.inside||(e.inside={}),e.inside.rest=t}))}))}Object.defineProperty(t,"addSupport",{value:r}),t.addSupport(["java","javascript","php"],t)}(s),function(e){var t=/\b(?:abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while|var|null|exports|module|open|opens|provides|requires|to|transitive|uses|with)\b/,n=/\b[A-Z](?:\w*[a-z]\w*)?\b/;e.languages.java=e.languages.extend("clike",{"class-name":[n,/\b[A-Z]\w*(?=\s+\w+\s*[;,=())])/],keyword:t,function:[e.languages.clike["function"],{pattern:/(\:\:)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x[\da-f_]*\.?[\da-f_p+-]+\b|(?:\b\d[\d_]*\.?[\d_]*|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|([-+&|])\2|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),e.languages.insertBefore("java","class-name",{annotation:{alias:"punctuation",pattern:/(^|[^.])@\w+/,lookbehind:!0},namespace:{pattern:/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)[a-z]\w*(\.[a-z]\w*)+/,lookbehind:!0,inside:{punctuation:/\./}},generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":n,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(s),function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,i,a){if(n.language===r){var o=n.tokenStack=[];n.code=n.code.replace(i,(function(e){if("function"===typeof a&&!a(e))return e;var i,s=o.length;while(-1!==n.code.indexOf(i=t(r,s)))++s;return o[s]=e,i})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=e.languages[r];var i=0,a=Object.keys(n.tokenStack);o(n.tokens)}function o(s){for(var u=0;u<s.length;u++){if(i>=a.length)break;var l=s[u];if("string"===typeof l||l.content&&"string"===typeof l.content){var c=a[i],f=n.tokenStack[c],h="string"===typeof l?l:l.content,d=t(r,c),p=h.indexOf(d);if(p>-1){++i;var g=h.substring(0,p),m=new e.Token(r,e.tokenize(f,n.grammar),"language-"+r,f),v=h.substring(p+d.length),y=[];g&&y.push.apply(y,o([g])),y.push(m),v&&y.push.apply(y,o([v])),"string"===typeof l?s.splice.apply(s,[u,1].concat(y)):l.content=y}}else l.content&&o(l.content)}return s}}}})}(s),function(e){e.languages.php=e.languages.extend("clike",{keyword:/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|new|or|parent|print|private|protected|public|require|require_once|return|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,boolean:{pattern:/\b(?:false|true)\b/i,alias:"constant"},constant:[/\b[A-Z_][A-Z0-9_]*\b/,/\b(?:null)\b/i],comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0}}),e.languages.insertBefore("php","string",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),e.languages.insertBefore("php","comment",{delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"}}),e.languages.insertBefore("php","keyword",{variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),e.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}});var t={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[.+?]|->\w+)*)/,lookbehind:!0,inside:{rest:e.languages.php}};e.languages.insertBefore("php","string",{"nowdoc-string":{pattern:/<<<'([^']+)'(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;/,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},"heredoc-string":{pattern:/<<<(?:"([^"]+)"(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;|([a-z_]\w*)(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\2;)/i,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:t}},"single-quoted-string":{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,alias:"string",inside:{interpolation:t}}}),delete e.languages.php["string"],e.hooks.add("before-tokenize",(function(t){if(/<\?/.test(t.code)){var n=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#)(?:[^?\n\r]|\?(?!>))*|\/\*[\s\S]*?(?:\*\/|$))*?(?:\?>|$)/gi;e.languages["markup-templating"].buildPlaceholders(t,"php",n)}})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")}))}(s),function(e){var t=e.languages.javascript,n=/{(?:[^{}]|{(?:[^{}]|{[^{}]*})*})+}/.source,r="(@(?:param|arg|argument|property)\\s+(?:"+n+"\\s+)?)";e.languages.jsdoc=e.languages.extend("javadoclike",{parameter:{pattern:RegExp(r+/[$\w\xA0-\uFFFF.]+(?=\s|$)/.source),lookbehind:!0,inside:{punctuation:/\./}}}),e.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(r+/\[[$\w\xA0-\uFFFF.]+(?:=[^[\]]+)?\](?=\s|$)/.source),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:t,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp("(@[a-z]+\\s+)"+n),lookbehind:!0,inside:{punctuation:/[.,:?=<>|{}()[\]]/}},{pattern:/(@(?:augments|extends|class|interface|memberof!?|this)\s+)[A-Z]\w*(?:\.[A-Z]\w*)*/,lookbehind:!0,inside:{punctuation:/\./}}],example:{pattern:/(@example\s+)[^@]+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^(\s*(?:\*\s*)?).+$/m,lookbehind:!0,inside:t,alias:"language-javascript"}}}}),e.languages.javadoclike.addSupport("javascript",e.languages.jsdoc)}(s),s.languages.actionscript=s.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|else|extends|finally|for|function|if|implements|import|in|instanceof|interface|internal|is|native|new|null|package|private|protected|public|return|super|switch|this|throw|try|typeof|use|var|void|while|with|dynamic|each|final|get|include|namespace|native|override|set|static)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),s.languages.actionscript["class-name"].alias="function",s.languages.markup&&s.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:{rest:s.languages.markup}}}),function(e){var t=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"};e.languages.coffeescript=e.languages.extend("javascript",{comment:t,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),e.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:t,interpolation:n}}}),e.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},rest:e.languages.javascript}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),e.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete e.languages.coffeescript["template-string"],e.languages.coffee=e.languages.coffeescript}(s),function(e){e.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),e.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function"].source),lookbehind:!0,alias:["function","property-access"]}}),e.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:(?:Uint|Int)(?:8|16|32)|Uint8Clamped|Float(?:32|64))?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|(?:Weak)?(?:Set|Map)|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),e.languages.javascript["keyword"].unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),e.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),e.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:/(\.\s*)#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*/,lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|location|navigator|performance|(?:local|session)Storage|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var t=["function","function-variable","method","method-variable","property-access"],n=0;n<t.length;n++){var r=t[n],i=e.languages.javascript[r];"RegExp"===e.util.type(i)&&(i=e.languages.javascript[r]={pattern:i});var a=i.inside||{};i.inside=a,a["maybe-class-name"]=/^[A-Z][\s\S]*/}}(s),function(e){e.languages.flow=e.languages.extend("javascript",{}),e.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Nn]umber|[Ss]tring|[Bb]oolean|Function|any|mixed|null|void)\b/,alias:"tag"}]}),e.languages.flow["function-variable"].pattern=/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/i,delete e.languages.flow["parameter"],e.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(e.languages.flow.keyword)||(e.languages.flow.keyword=[e.languages.flow.keyword]),e.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:type|opaque|declare|Class)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:await|Diff|Exact|Keys|ObjMap|PropertyType|Shape|Record|Supertype|Subtype|Enum)\b(?!\$)/,lookbehind:!0})}(s),s.languages.n4js=s.languages.extend("javascript",{keyword:/\b(?:any|Array|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),s.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),s.languages.n4jsd=s.languages.n4js,s.languages.typescript=s.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),s.languages.ts=s.languages.typescript,function(e){var t=e.languages.javascript["template-string"],n=t.pattern.source,r=t.inside["interpolation"],i=r.inside["interpolation-punctuation"],a=r.pattern.source;function o(t,r){if(e.languages[t])return{pattern:RegExp("((?:"+r+")\\s*)"+n),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:t}}}}function s(e,t){return"___"+t.toUpperCase()+"_"+e+"___"}function u(t,n,r){var i={code:t,grammar:n,language:r};return e.hooks.run("before-tokenize",i),i.tokens=e.tokenize(i.code,i.grammar),e.hooks.run("after-tokenize",i),i.tokens}function l(t){var n={};n["interpolation-punctuation"]=i;var a=e.tokenize(t,n);if(3===a.length){var o=[1,1];o.push.apply(o,u(a[1],e.languages.javascript,"javascript")),a.splice.apply(a,o)}return new e.Token("interpolation",a,r.alias,t)}function c(t,n,r){var i=e.tokenize(t,{interpolation:{pattern:RegExp(a),lookbehind:!0}}),o=0,c={},f=i.map((function(e){if("string"===typeof e)return e;var n,i=e.content;while(-1!==t.indexOf(n=s(o++,r)));return c[n]=i,n})).join(""),h=u(f,n,r),d=Object.keys(c);function p(e){for(var t=0;t<e.length;t++){if(o>=d.length)return;var n=e[t];if("string"===typeof n||"string"===typeof n.content){var r=d[o],i="string"===typeof n?n:n.content,a=i.indexOf(r);if(-1!==a){++o;var s=i.substring(0,a),u=l(c[r]),f=i.substring(a+r.length),h=[];if(s&&h.push(s),h.push(u),f){var g=[f];p(g),h.push.apply(h,g)}"string"===typeof n?(e.splice.apply(e,[t,1].concat(h)),t+=h.length-1):n.content=h}}else{var m=n.content;Array.isArray(m)?p(m):p([m])}}}return o=0,p(h),new e.Token(r,h,"language-"+r,t)}e.languages.javascript["template-string"]=[o("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),o("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),o("svg",/\bsvg/.source),o("markdown",/\b(?:md|markdown)/.source),o("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),t].filter(Boolean);var f={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};function h(e){return"string"===typeof e?e:Array.isArray(e)?e.map(h).join(""):h(e.content)}e.hooks.add("after-tokenize",(function(t){function n(t){for(var r=0,i=t.length;r<i;r++){var a=t[r];if("string"!==typeof a){var o=a.content;if(Array.isArray(o))if("template-string"===a.type){var s=o[1];if(3===o.length&&"string"!==typeof s&&"embedded-code"===s.type){var u=h(s),l=s.alias,f=Array.isArray(l)?l[0]:l,d=e.languages[f];if(!d)continue;o[1]=c(u,d,f)}}else n(o);else"string"!==typeof o&&n([o])}}}t.language in f&&n(t.tokens)}))}(s),s.languages.graphql={comment:/#.*/,string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:true|false)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+)[a-zA-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:enum|fragment|implements|input|interface|mutation|on|query|scalar|schema|type|union)\b/,operator:/[!=|]|\.{3}/,punctuation:/[!(){}\[\]:=,]/,constant:/\b(?!ID\b)[A-Z][A-Z_\d]*\b/},function(e){var t=/(?:\\.|[^\\\n\r]|(?:\r?\n|\r)(?!\r?\n|\r))/.source;function n(e,n){return e=e.replace(/<inner>/g,t),n&&(e=e+"|"+e.replace(/_/g,"\\*")),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``.+?``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\r?\n|\r)|$)/.source.replace(/__/g,r),a=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\r?\n|\r)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+a+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+a+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+a+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/(^[ \t]*(?:\r?\n|\r))(?: {4}|\t).+(?:(?:\r?\n|\r)(?: {4}|\t).+)*/m,lookbehind:!0,alias:"keyword"},{pattern:/``.+?``|`[^`\r\n]+`/,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\r?\n|\r))[\s\S]+?(?=(?:\r?\n|\r)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\r?\n|\r)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#+.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__/.source,!0),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_/.source,!0),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+?\2/.source,!1),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)| ?\[(?:(?!\])<inner>)+\])/.source,!1),lookbehind:!0,greedy:!0,inside:{variable:{pattern:/(\[)[^\]]+(?=\]$)/,lookbehind:!0},content:{pattern:/(^!?\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},string:{pattern:/"(?:\\.|[^"\\])*"(?=\)$)/}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){function t(e){if(e&&"string"!==typeof e)for(var n=0,r=e.length;n<r;n++){var i=e[n];if("code"===i.type){var a=i.content[1],o=i.content[3];if(a&&o&&"code-language"===a.type&&"code-block"===o.type&&"string"===typeof a.content){var s="language-"+a.content.trim().split(/\s+/)[0].toLowerCase();o.alias?"string"===typeof o.alias?o.alias=[o.alias,s]:o.alias.push(s):o.alias=[s]}}else t(i.content)}}"markdown"!==e.language&&"md"!==e.language||t(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,i=t.classes.length;r<i;r++){var a=t.classes[r],o=/language-(.+)/.exec(a);if(o){n=o[1];break}}var s=e.languages[n];if(s){var u=t.content.replace(/&lt;/g,"<").replace(/&amp;/g,"&");t.content=e.highlight(u,s,n)}else if(n&&"none"!==n&&e.plugins.autoloader){var l="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes["id"]=l,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(l);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}})),e.languages.md=e.languages.markdown}(s),function(e){e.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d+.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach((function(n){var r=t[n],i=[];/^\w+$/.test(n)||i.push(/\w+/.exec(n)[0]),"diff"===n&&i.push("bold"),e.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:i}})),Object.defineProperty(e.languages.diff,"PREFIXES",{value:t})}(s),s.languages.git={comment:/^#.*/m,deleted:/^[-\u2013].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/m,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/m}},coord:/^@@.*@@$/m,commit_sha1:/^commit \w{40}$/m},s.languages.go=s.languages.extend("clike",{keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,builtin:/\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\b/,boolean:/\b(?:_|iota|nil|true|false)\b/,operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,number:/(?:\b0x[a-f\d]+|(?:\b\d+\.?\d*|\B\.\d+)(?:e[-+]?\d+)?)i?/i,string:{pattern:/(["'`])(\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0}}),delete s.languages.go["class-name"],function(e){e.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/i,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:true|false)\b/,block:{pattern:/^(\s*~?\s*)[#\/]\S+?(?=\s*~?\s*$|\s)/i,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~\s]+/},e.hooks.add("before-tokenize",(function(t){var n=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;e.languages["markup-templating"].buildPlaceholders(t,"handlebars",n)})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"handlebars")}))}(s),s.languages.json={property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,number:/-?\d+\.?\d*(e[+-]?\d+)?/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},s.languages.less=s.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-]+?(?:\([^{}]+\)|[^(){};])*?(?=\s*\{)/i,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\([^{}]*\)|[^{};@])*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/i,operator:/[+\-*\/]/}),s.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-]+.*?(?=[(;])/,lookbehind:!0,alias:"function"}}),s.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},builtin:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,symbol:{pattern:/^[^:=\r\n]+(?=\s*:(?!=))/m,inside:{variable:/\$+(?:[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:[/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,{pattern:/(\()(?:addsuffix|abspath|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:s|list)?)(?=[ \t])/,lookbehind:!0}],operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/},s.languages.objectivec=s.languages.extend("c",{keyword:/\b(?:asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while|in|self|super)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,string:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|@"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete s.languages.objectivec["class-name"],s.languages.ocaml={comment:/\(\*[\s\S]*?\*\)/,string:[{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},{pattern:/(['`])(?:\\(?:\d+|x[\da-f]+|.)|(?!\1)[^\\\r\n])\1/i,greedy:!0}],number:/\b(?:0x[\da-f][\da-f_]+|(?:0[bo])?\d[\d_]*\.?[\d_]*(?:e[+-]?[\d_]+)?)/i,type:{pattern:/\B['`]\w*/,alias:"variable"},directive:{pattern:/\B#\w+/,alias:"function"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|object|of|open|prefix|private|rec|then|sig|struct|to|try|type|val|value|virtual|where|while|with)\b/,boolean:/\b(?:false|true)\b/,operator:/:=|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lxor|lsl|lsr|mod|nor|or)\b/,punctuation:/[(){}\[\]|_.,:;]/},s.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]+?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/i,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},s.languages.python["string-interpolation"].inside["interpolation"].inside.rest=s.languages.python,s.languages.py=s.languages.python,s.languages.reason=s.languages.extend("clike",{comment:{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:mod|land|lor|lxor|lsl|lsr|asr)\b/}),s.languages.insertBefore("reason","class-name",{character:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,alias:"string"},constructor:{pattern:/\b[A-Z]\w*\b(?!\s*\.)/,alias:"variable"},label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete s.languages.reason["function"],function(e){e.languages.sass=e.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t]+.+)*/m,lookbehind:!0}}),e.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,inside:{atrule:/(?:@[\w-]+|[+=])/m}}}),delete e.languages.sass.atrule;var t=/\$[-\w]+|#\{\$[-\w]+\}/,n=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|or|not)\b/,{pattern:/(\s+)-(?=\s)/,lookbehind:!0}];e.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,inside:{punctuation:/:/,variable:t,operator:n}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s]+.*)/m,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:t,operator:n,important:e.languages.sass.important}}}),delete e.languages.sass.property,delete e.languages.sass.important,e.languages.insertBefore("sass","punctuation",{selector:{pattern:/([ \t]*)\S(?:,?[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,?[^,\r\n]+)*)*/,lookbehind:!0}})}(s),s.languages.scss=s.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-]+(?:\([^()]+\)|[^(])*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()]|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}]+[:{][^}]+))/m,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[\w-]|\$[-\w]+|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),s.languages.insertBefore("scss","atrule",{keyword:[/@(?:if|else(?: if)?|for|each|while|import|extend|debug|warn|mixin|include|function|return|content)/i,{pattern:/( +)(?:from|through)(?= )/,lookbehind:!0}]}),s.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),s.languages.insertBefore("scss","function",{placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|or|not)(?=\s)/,lookbehind:!0}}),s.languages.scss["atrule"].inside.rest=s.languages.scss,s.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURNS?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+\.?\d*|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|IN|LIKE|NOT|OR|IS|DIV|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(e){var t={url:/url\((["']?).*?\1\)/i,string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:if|else|for|return|unless)(?=\s+|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,number:/\b\d+(?:\.\d+)?%?/,boolean:/\b(?:true|false)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.+|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],punctuation:/[{}()\[\];:,]/};t["interpolation"]={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^{|}$/,alias:"punctuation"},rest:t}},t["func"]={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:t}},e.languages.stylus={comment:{pattern:/(^|[^\\])(\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},"atrule-declaration":{pattern:/(^\s*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:t}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:(?:\{[^}]*\}|.+)|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:t}},statement:{pattern:/(^[ \t]*)(?:if|else|for|return|unless)[ \t]+.+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:t}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)[^{\r\n]*(?:;|[^{\r\n,](?=$)(?!(\r?\n|\r)(?:\{|\2[ \t]+)))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:t.interpolation}},rest:t}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\))?|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\))?|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t]+)))/m,lookbehind:!0,inside:{interpolation:t.interpolation,punctuation:/[{},]/}},func:t.func,string:t.string,interpolation:t.interpolation,punctuation:/[{}()\[\];:.]/}}(s);var u=s.util.clone(s.languages.typescript);s.languages.tsx=s.languages.extend("jsx",u),s.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^_`|~]+/i,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/},s.languages.yaml={scalar:{pattern:/([\-:]\s*(?:![^\s]+)?[ \t]*[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)[^\r\n]+(?:\2[^\r\n]+)*)/,lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:/(\s*(?:^|[:\-,[{\r\n?])[ \t]*(?:![^\s]+)?[ \t]*)[^\r\n{[\]},#\s]+?(?=\s*:\s)/,lookbehind:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?)?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?)(?=[ \t]*(?:$|,|]|}))/m,lookbehind:!0,alias:"number"},boolean:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:true|false)[ \t]*(?=$|,|]|})/im,lookbehind:!0,alias:"important"},null:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:null|~)[ \t]*(?=$|,|]|})/im,lookbehind:!0,alias:"important"},string:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)("|')(?:(?!\2)[^\\\r\n]|\\.)*\2(?=[ \t]*(?:$|,|]|}|\s*#))/m,lookbehind:!0,greedy:!0},number:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+\.?\d*|\.?\d+)(?:e[+-]?\d+)?|\.inf|\.nan)[ \t]*(?=$|,|]|})/im,lookbehind:!0},tag:/![^\s]+/,important:/[&*][\w]+/,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},s.languages.yml=s.languages.yaml;var l=s,c={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","at-rule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},f=c,h={Prism:l,theme:f};function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}var g=/\r\n|\r|\n/,m=function(e){0===e.length?e.push({types:["plain"],content:"",empty:!0}):1===e.length&&""===e[0].content&&(e[0].empty=!0)},v=function(e,t){var n=e.length;return n>0&&e[n-1]===t?e:e.concat(t)},y=function(e){var t=[[]],n=[e],r=[0],i=[e.length],a=0,o=0,s=[],u=[s];while(o>-1){while((a=r[o]++)<i[o]){var l=void 0,c=t[o],f=n[o],h=f[a];if("string"===typeof h?(c=o>0?c:["plain"],l=h):(c=v(c,h.type),h.alias&&(c=v(c,h.alias)),l=h.content),"string"===typeof l){var d=l.split(g),p=d.length;s.push({types:c,content:d[0]});for(var y=1;y<p;y++)m(s),u.push(s=[]),s.push({types:c,content:d[y]})}else o++,t.push(c),n.push(l),r.push(0),i.push(l.length)}o--,t.pop(),n.pop(),r.pop(),i.pop()}return m(s),u},_=function(e,t){var n=e.plain,r=Object.create(null),i=e.styles.reduce((function(e,n){var r=n.languages,i=n.style;return r&&!r.includes(t)||n.types.forEach((function(t){var n=p({},e[t],i);e[t]=n})),e}),r);return i.root=n,i.plain=p({},n,{backgroundColor:null}),i};function b(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}var x=function(e){function t(){var t=this,n=[],r=arguments.length;while(r--)n[r]=arguments[r];e.apply(this,n),d(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var n=e.theme?_(e.theme,e.language):void 0;return t.themeDict=n})),d(this,"getLineProps",(function(e){var n=e.key,r=e.className,i=e.style,a=b(e,["key","className","style","line"]),o=a,s=p({},o,{className:"token-line",style:void 0,key:void 0}),u=t.getThemeDict(t.props);return void 0!==u&&(s.style=u.plain),void 0!==i&&(s.style=void 0!==s.style?p({},s.style,i):i),void 0!==n&&(s.key=n),r&&(s.className+=" "+r),s})),d(this,"getStyleForToken",(function(e){var n=e.types,r=e.empty,i=n.length,a=t.getThemeDict(t.props);if(void 0!==a){if(1===i&&"plain"===n[0])return r?{display:"inline-block"}:void 0;if(1===i&&!r)return a[n[0]];var o=r?{display:"inline-block"}:{},s=n.map((function(e){return a[e]}));return Object.assign.apply(Object,[o].concat(s))}})),d(this,"getTokenProps",(function(e){var n=e.key,r=e.className,i=e.style,a=e.token,o=b(e,["key","className","style","token"]),s=o,u=p({},s,{className:"token "+a.types.join(" "),children:a.content,style:t.getStyleForToken(a),key:void 0});return void 0!==i&&(u.style=void 0!==u.style?p({},u.style,i):i),void 0!==n&&(u.key=n),r&&(u.className+=" "+r),u}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,n=e.language,r=e.code,i=e.children,a=this.getThemeDict(this.props),o=t.languages[n],s=void 0!==o?t.tokenize(r,o,n):[r],u=y(s);return i({tokens:u,className:"prism-code language-"+n,style:void 0!==a?a.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(a["Component"]),w=x,S=n("kvV8");n("ovrx"),n("0ou5"),t["a"]=e=>{var t=e.code,n=e.lang,a=e.showCopy,s=void 0===a||a,u=Object(S["useCopy"])(),l=Object(i["default"])(u,2),c=l[0],f=l[1];return o.a.createElement("div",{className:"__dumi-default-code-block"},o.a.createElement(w,Object(r["a"])({},h,{code:t,language:n,theme:void 0}),(e=>{var n=e.className,r=e.style,i=e.tokens,a=e.getLineProps,u=e.getTokenProps;return o.a.createElement("pre",{className:n,style:r},s&&o.a.createElement("button",{className:"__dumi-default-icon __dumi-default-code-block-copy-btn","data-status":f,onClick:()=>c(t)}),i.map(((e,t)=>o.a.createElement("div",a({line:e,key:t}),e.map(((e,t)=>o.a.createElement("span",u({token:e,key:t}))))))))})))}},HFu6:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return U})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return b}));var r=n("a1z2");function i(e){return"/"===e.charAt(0)}function a(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function o(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),l=s||u;if(e&&i(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var c=o[o.length-1];n="."===c||".."===c||""===c}else n=!1;for(var f=0,h=o.length;h>=0;h--){var d=o[h];"."===d?a(o,h):".."===d?(a(o,h),f++):f&&(a(o,h),f--)}if(!l)for(;f--;f)o.unshift("..");!l||""===o[0]||o[0]&&i(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p}var s=o;function u(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function l(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return l(e,t[n])}));if("object"===typeof e||"object"===typeof t){var n=u(e),r=u(t);return n!==e||r!==t?l(n,r):Object.keys(Object.assign({},e,t)).every((function(n){return l(e[n],t[n])}))}return!1}var c=l,f=n("w41v"),h=n.n(f),d=n("AKk7");function p(e){return"/"===e.charAt(0)?e:"/"+e}function g(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function v(e,t){return m(e,t)?e.substr(t.length):e}function y(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function _(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function b(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function x(e,t,n,i){var a;"string"===typeof e?(a=_(e),a.query=a.search?h.a.parse(a.search):{},a.state=t):(a=Object(r["a"])({},e),void 0===a.pathname&&(a.pathname=""),a.search?("?"!==a.search.charAt(0)&&(a.search="?"+a.search),a.query=h.a.parse(a.search)):(a.search=a.query?h.a.stringify(a.query):"",a.query=a.query||{}),a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=s(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function w(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function S(){var e=null;function t(t){return e=t,function(){e===t&&(e=null)}}function n(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)}var r=[];function i(e){var t=!0;function n(){t&&e.apply(void 0,arguments)}return r.push(n),function(){t=!1,r=r.filter((function(e){return e!==n}))}}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach((function(e){return e.apply(void 0,t)}))}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:a}}var T=!("undefined"===typeof window||!window.document||!window.document.createElement);function E(e,t){t(window.confirm(e))}function M(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function C(){return-1===window.navigator.userAgent.indexOf("Trident")}function A(){return-1===window.navigator.userAgent.indexOf("Firefox")}function O(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}var D="popstate",P="hashchange";function L(){try{return window.history.state||{}}catch(e){return{}}}function I(e){void 0===e&&(e={}),T||Object(d["a"])(!1);var t=window.history,n=M(),i=!C(),a=e,o=a.forceRefresh,s=void 0!==o&&o,u=a.getUserConfirmation,l=void 0===u?E:u,c=a.keyLength,f=void 0===c?6:c,h=e.basename?y(p(e.basename)):"";function g(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname,o=i.search,s=i.hash,u=a+o+s;return h&&(u=v(u,h)),x(u,r,n)}function m(){return Math.random().toString(36).substr(2,f)}var _=S();function w(e){Object(r["a"])(Z,e),Z.length=t.length,_.notifyListeners(Z.location,Z.action)}function A(e){O(e)||k(g(e.state))}function I(){k(g(L()))}var R=!1;function k(e){if(R)R=!1,w();else{var t="POP";_.confirmTransitionTo(e,t,l,(function(n){n?w({action:t,location:e}):N(e)}))}}function N(e){var t=Z.location,n=B.indexOf(t.key);-1===n&&(n=0);var r=B.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(R=!0,U(i))}var F=g(L()),B=[F.key];function z(e){return h+b(e)}function j(e,r){var i="PUSH",a=x(e,r,m(),Z.location);_.confirmTransitionTo(a,i,l,(function(e){if(e){var r=z(a),o=a.key,u=a.state;if(n)if(t.pushState({key:o,state:u},null,r),s)window.location.href=r;else{var l=B.indexOf(Z.location.key),c=B.slice(0,l+1);c.push(a.key),B=c,w({action:i,location:a})}else window.location.href=r}}))}function H(e,r){var i="REPLACE",a=x(e,r,m(),Z.location);_.confirmTransitionTo(a,i,l,(function(e){if(e){var r=z(a),o=a.key,u=a.state;if(n)if(t.replaceState({key:o,state:u},null,r),s)window.location.replace(r);else{var l=B.indexOf(Z.location.key);-1!==l&&(B[l]=a.key),w({action:i,location:a})}else window.location.replace(r)}}))}function U(e){t.go(e)}function V(){U(-1)}function G(){U(1)}var W=0;function X(e){W+=e,1===W&&1===e?(window.addEventListener(D,A),i&&window.addEventListener(P,I)):0===W&&(window.removeEventListener(D,A),i&&window.removeEventListener(P,I))}var K=!1;function q(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return K||(X(1),K=!0),function(){return K&&(K=!1,X(-1)),t()}}function Y(e){var t=_.appendListener(e);return X(1),function(){X(-1),t()}}var Z={length:t.length,action:"POP",location:F,createHref:z,push:j,replace:H,go:U,goBack:V,goForward:G,block:q,listen:Y};return Z}var R="hashchange",k={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+g(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:g,decodePath:p},slash:{encodePath:p,decodePath:p}};function N(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function F(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function B(e){window.location.hash=e}function z(e){window.location.replace(N(window.location.href)+"#"+e)}function j(e){void 0===e&&(e={}),T||Object(d["a"])(!1);var t=window.history,n=(A(),e),i=n.getUserConfirmation,a=void 0===i?E:i,o=n.hashType,s=void 0===o?"slash":o,u=e.basename?y(p(e.basename)):"",l=k[s],c=l.encodePath,f=l.decodePath;function h(){var e=f(F());return u&&(e=v(e,u)),x(e)}var g=S();function m(e){Object(r["a"])(Q,e),Q.length=t.length,g.notifyListeners(Q.location,Q.action)}var _=!1,w=null;function M(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}function C(){var e=F(),t=c(e);if(e!==t)z(t);else{var n=h(),r=Q.location;if(!_&&M(r,n))return;if(w===b(n))return;w=null,O(n)}}function O(e){if(_)_=!1,m();else{var t="POP";g.confirmTransitionTo(e,t,a,(function(n){n?m({action:t,location:e}):D(e)}))}}function D(e){var t=Q.location,n=j.lastIndexOf(b(t));-1===n&&(n=0);var r=j.lastIndexOf(b(e));-1===r&&(r=0);var i=n-r;i&&(_=!0,G(i))}var P=F(),L=c(P);P!==L&&z(L);var I=h(),j=[b(I)];function H(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=N(window.location.href)),n+"#"+c(u+b(e))}function U(e,t){var n="PUSH",r=x(e,void 0,void 0,Q.location);g.confirmTransitionTo(r,n,a,(function(e){if(e){var t=b(r),i=c(u+t),a=F()!==i;if(a){w=t,B(i);var o=j.lastIndexOf(b(Q.location)),s=j.slice(0,o+1);s.push(t),j=s,m({action:n,location:r})}else m()}}))}function V(e,t){var n="REPLACE",r=x(e,void 0,void 0,Q.location);g.confirmTransitionTo(r,n,a,(function(e){if(e){var t=b(r),i=c(u+t),a=F()!==i;a&&(w=t,z(i));var o=j.indexOf(b(Q.location));-1!==o&&(j[o]=t),m({action:n,location:r})}}))}function G(e){t.go(e)}function W(){G(-1)}function X(){G(1)}var K=0;function q(e){K+=e,1===K&&1===e?window.addEventListener(R,C):0===K&&window.removeEventListener(R,C)}var Y=!1;function Z(e){void 0===e&&(e=!1);var t=g.setPrompt(e);return Y||(q(1),Y=!0),function(){return Y&&(Y=!1,q(-1)),t()}}function $(e){var t=g.appendListener(e);return q(1),function(){q(-1),t()}}var Q={length:t.length,action:"POP",location:I,createHref:H,push:U,replace:V,go:G,goBack:W,goForward:X,block:Z,listen:$};return Q}function H(e,t,n){return Math.min(Math.max(e,t),n)}function U(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,s=void 0===o?0:o,u=t.keyLength,l=void 0===u?6:u,c=S();function f(e){Object(r["a"])(C,e),C.length=C.entries.length,c.notifyListeners(C.location,C.action)}function h(){return Math.random().toString(36).substr(2,l)}var d=H(s,0,a.length-1),p=a.map((function(e){return x(e,void 0,"string"===typeof e?h():e.key||h())})),g=b;function m(e,t){var r="PUSH",i=x(e,t,h(),C.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=C.index,n=t+1,a=C.entries.slice(0);a.length>n?a.splice(n,a.length-n,i):a.push(i),f({action:r,location:i,index:n,entries:a})}}))}function v(e,t){var r="REPLACE",i=x(e,t,h(),C.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(C.entries[C.index]=i,f({action:r,location:i}))}))}function y(e){var t=H(C.index+e,0,C.entries.length-1),r="POP",i=C.entries[t];c.confirmTransitionTo(i,r,n,(function(e){e?f({action:r,location:i,index:t}):f()}))}function _(){y(-1)}function w(){y(1)}function T(e){var t=C.index+e;return t>=0&&t<C.entries.length}function E(e){return void 0===e&&(e=!1),c.setPrompt(e)}function M(e){return c.appendListener(e)}var C={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:g,push:m,replace:v,go:y,goBack:_,goForward:w,canGo:T,block:E,listen:M};return C}},HIsA:function(e,t,n){var r=n("2JD6"),i=n("qmtO").f,a=n("D8FR"),o=n("GUTS"),s=n("5Nth"),u=n("xp0c"),l=n("6Nbm");e.exports=function(e,t){var n,c,f,h,d,p,g=e.target,m=e.global,v=e.stat;if(c=m?r:v?r[g]||s(g,{}):(r[g]||{}).prototype,c)for(f in t){if(d=t[f],e.noTargetGet?(p=i(c,f),h=p&&p.value):h=c[f],n=l(m?f:g+(v?".":"#")+f,e.forced),!n&&void 0!==h){if(typeof d===typeof h)continue;u(d,h)}(e.sham||h&&h.sham)&&a(d,"sham",!0),o(c,f,d,e)}}},HKEF:function(e,t,n){var r=n("pxmn"),i=n("dOdC"),a=n("kPvK"),o=a("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},HMkG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("tNTM");function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r["a"])(e,t)}},HQcF:function(e,t,n){"use strict";var r=n("HIsA"),i=n("JzK+"),a=n("ihzt"),o=n("ma2j"),s=n("kPvK"),u=n("m52V"),l=s("replace"),c=RegExp.prototype;r({target:"String",proto:!0},{replaceAll:function e(t,n){var r,s,f,h,d,p,g,m,v,y=i(this);if(null!=t){if(r=a(t),r&&(s=String(i("flags"in c?t.flags:o.call(t))),!~s.indexOf("g")))throw TypeError("`.replaceAll` does not allow non-global regexes");if(f=t[l],void 0!==f)return f.call(t,y,n);if(u&&r)return String(y).replace(t,n)}if(h=String(y),d=String(t),""===d)return e.call(h,/(?:)/g,n);if(p=h.split(d),"function"!==typeof n)return p.join(String(n));for(g=p[0],m=g.length,v=1;v<p.length;v++)g+=String(n(d,m,h)),m+=d.length+p[v].length,g+=p[v];return g}})},HVuH:function(e,t,n){},He07:function(e,t,n){var r=n("D8FR"),i=n("Tk1U"),a=n("kPvK"),o=a("toPrimitive"),s=Date.prototype;o in s||r(s,o,i)},Hiyu:function(e,t,n){var r=n("7+LC");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},HqdE:function(e,t,n){var r=n("7+LC"),i=n("kPvK"),a=n("9ZTU"),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},Hr9Q:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("DDwO"),s=n("Ji6T");r({target:"Map",proto:!0,real:!0,forced:i},{merge:function(e){var t=a(this),n=o(t.set),r=0;while(r<arguments.length)s(arguments[r++],n,t,!0);return t}})},Hx2v:function(e,t,n){"use strict";var r=n("HIsA"),i=n("Ji6T"),a=n("DDwO");r({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;a(t);var r=a(n.has),o=a(n.get),s=a(n.set);return i(e,(function(e){var i=t(e);r.call(n,i)?o.call(n,i).push(e):s.call(n,i,[e])})),n}})},I5Nx:function(e,t,n){"use strict";var r=n("HIsA"),i=n("O4tt"),a=n("NVMI"),o=n("2I03"),s=n("PaPB"),u=n("HKEF");r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=o(t.length),r=u(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},I67C:function(e,t,n){var r,i,a,o,s,u,l,c,f=n("2JD6"),h=n("qmtO").f,d=n("IRht"),p=n("vYQ8").set,g=n("dpzy"),m=f.MutationObserver||f.WebKitMutationObserver,v=f.process,y=f.Promise,_="process"==d(v),b=h(f,"queueMicrotask"),x=b&&b.value;x||(r=function(){var e,t;_&&(e=v.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?o():a=void 0,n}}a=void 0,e&&e.enter()},_?o=function(){v.nextTick(r)}:m&&!g?(s=!0,u=document.createTextNode(""),new m(r).observe(u,{characterData:!0}),o=function(){u.data=s=!s}):y&&y.resolve?(l=y.resolve(void 0),c=l.then,o=function(){c.call(l,r)}):o=function(){p.call(f,r)}),e.exports=x||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},IDl8:function(e,t,n){var r=n("Hiyu"),i=n("7+LC"),a=n("riWr");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},IKXP:function(e,t,n){"use strict";var r=n("HIsA"),i=n("PaPB"),a=n("4dmQ"),o=n("x+a2"),s=n("7+LC"),u=1..toFixed,l=Math.floor,c=function(e,t,n){return 0===t?n:t%2===1?c(e,t-1,n*e):c(e*e,t/2,n)},f=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},h=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}));r({target:"Number",proto:!0,forced:h},{toFixed:function(e){var t,n,r,s,u=a(this),h=i(e),d=[0,0,0,0,0,0],p="",g="0",m=function(e,t){var n=-1,r=t;while(++n<6)r+=e*d[n],d[n]=r%1e7,r=l(r/1e7)},v=function(e){var t=6,n=0;while(--t>=0)n+=d[t],d[t]=l(n/e),n=n%e*1e7},y=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==d[e]){var n=String(d[e]);t=""===t?n:t+o.call("0",7-n.length)+n}return t};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(p="-",u=-u),u>1e-21)if(t=f(u*c(2,69,1))-69,n=t<0?u*c(2,-t,1):u/c(2,t,1),n*=4503599627370496,t=52-t,t>0){m(0,n),r=h;while(r>=7)m(1e7,0),r-=7;m(c(10,r,1),0),r=t-1;while(r>=23)v(1<<23),r-=23;v(1<<r),m(1,1),v(2),g=y()}else m(0,n),m(1<<-t,0),g=y()+o.call("0",h);return h>0?(s=g.length,g=p+(s<=h?"0."+o.call("0",h-s)+g:g.slice(0,s-h)+"."+g.slice(s-h))):g=p+g,g}})},IRht:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},IU95:function(e,t,n){var r=n("HIsA"),i=n("hXyk"),a=n("1PaV"),o=n("afop"),s=n("twJ5"),u="Seeded Random",l=u+" Generator",c=s.set,f=s.getterFor(l),h='Math.seededPRNG() argument should have a "seed" field with a finite value.',d=o((function(e){c(this,{type:l,seed:e%2147483647})}),u,(function(){var e=f(this),t=e.seed=(1103515245*e.seed+12345)%2147483647;return{value:(1073741823&t)/1073741823,done:!1}}));r({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var t=i(e).seed;if(!a(t))throw TypeError(h);return new d(t)}})},IXhw:function(e,t,n){var r=n("HIsA"),i=n("VeQJ");r({target:"Set",stat:!0},{of:i})},Iu9s:function(e,t,n){"use strict";var r=n("7+LC");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},J6EZ:function(e,t,n){var r=n("bVFb");r("split")},J7X1:function(e,t,n){var r=n("2RC6").f,i=n("+qhb"),a=n("kPvK"),o=a("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},JENe:function(e,t,n){var r=n("HIsA"),i=n("5AZ8");r({target:"WeakSet",stat:!0},{from:i})},JY8B:function(e,t,n){var r=n("kPvK"),i=n("bWCM"),a=n("2RC6"),o=r("unscopables"),s=Array.prototype;void 0==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},Ji6T:function(e,t,n){var r=n("hXyk"),i=n("mKn/"),a=n("2I03"),o=n("40mc"),s=n("tg/3"),u=n("acWz"),l=function(e,t){this.stopped=e,this.result=t},c=e.exports=function(e,t,n,c,f){var h,d,p,g,m,v,y,_=o(t,n,c?2:1);if(f)h=e;else{if(d=s(e),"function"!=typeof d)throw TypeError("Target is not iterable");if(i(d)){for(p=0,g=a(e.length);g>p;p++)if(m=c?_(r(y=e[p])[0],y[1]):_(e[p]),m&&m instanceof l)return m;return new l(!1)}h=d.call(e)}v=h.next;while(!(y=v.call(h)).done)if(m=u(h,_,y.value,c),"object"==typeof m&&m&&m instanceof l)return m;return new l(!1)};c.stop=function(e){return new l(!0,e)}},JqKL:function(e,t,n){"use strict";var r=n("HIsA"),i=n("2JD6"),a=n("Hiyu"),o=n("pMf/"),s=n("Wp5u"),u=n("HC6f"),l=n("xOST"),c=n("OLna"),f=n("D8FR"),h=n("2I03"),d=n("PM2V"),p=n("eusP"),g=n("n2ef"),m=n("+qhb"),v=n("KpHK"),y=n("pxmn"),_=n("bWCM"),b=n("UPu9"),x=n("szjD").f,w=n("b4JQ"),S=n("Xf1w").forEach,T=n("QD/U"),E=n("2RC6"),M=n("qmtO"),C=n("twJ5"),A=n("cGOV"),O=C.get,D=C.set,P=E.f,L=M.f,I=Math.round,R=i.RangeError,k=u.ArrayBuffer,N=u.DataView,F=s.NATIVE_ARRAY_BUFFER_VIEWS,B=s.TYPED_ARRAY_TAG,z=s.TypedArray,j=s.TypedArrayPrototype,H=s.aTypedArrayConstructor,U=s.isTypedArray,V="BYTES_PER_ELEMENT",G="Wrong length",W=function(e,t){var n=0,r=t.length,i=new(H(e))(r);while(r>n)i[n]=t[n++];return i},X=function(e,t){P(e,t,{get:function(){return O(this)[t]}})},K=function(e){var t;return e instanceof k||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},q=function(e,t){return U(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function(e,t){return q(e,t=g(t,!0))?c(2,e[t]):L(e,t)},Z=function(e,t,n){return!(q(e,t=g(t,!0))&&y(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?P(e,t,n):(e[t]=n.value,e)};a?(F||(M.f=Y,E.f=Z,X(j,"buffer"),X(j,"byteOffset"),X(j,"byteLength"),X(j,"length")),r({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:Y,defineProperty:Z}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",u="get"+e,c="set"+e,g=i[s],m=g,v=m&&m.prototype,E={},M=function(e,t){var n=O(e);return n.view[u](t*a+n.byteOffset,!0)},C=function(e,t,r){var i=O(e);n&&(r=(r=I(r))<0?0:r>255?255:255&r),i.view[c](t*a+i.byteOffset,r,!0)},L=function(e,t){P(e,t,{get:function(){return M(this,t)},set:function(e){return C(this,t,e)},enumerable:!0})};F?o&&(m=t((function(e,t,n,r){return l(e,m,s),A(function(){return y(t)?K(t)?void 0!==r?new g(t,p(n,a),r):void 0!==n?new g(t,p(n,a)):new g(t):U(t)?W(m,t):w.call(m,t):new g(d(t))}(),e,m)})),b&&b(m,z),S(x(g),(function(e){e in m||f(m,e,g[e])})),m.prototype=v):(m=t((function(e,t,n,r){l(e,m,s);var i,o,u,c=0,f=0;if(y(t)){if(!K(t))return U(t)?W(m,t):w.call(m,t);i=t,f=p(n,a);var g=t.byteLength;if(void 0===r){if(g%a)throw R(G);if(o=g-f,o<0)throw R(G)}else if(o=h(r)*a,o+f>g)throw R(G);u=o/a}else u=d(t),o=u*a,i=new k(o);D(e,{buffer:i,byteOffset:f,byteLength:o,length:u,view:new N(i)});while(c<u)L(e,c++)})),b&&b(m,z),v=m.prototype=_(j)),v.constructor!==m&&f(v,"constructor",m),B&&f(v,B,s),E[s]=m,r({global:!0,forced:m!=g,sham:!F},E),V in m||f(m,V,a),V in v||f(v,V,a),T(s)}):e.exports=function(){}},"JzK+":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},KpHK:function(e,t,n){var r=n("R64i"),i=n("IRht"),a=n("kPvK"),o=a("toStringTag"),s="Arguments"==i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=Object(e),o))?n:s?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},Krz3:function(e,t,n){"use strict";var r,i,a,o=n("kI7s"),s=n("D8FR"),u=n("+qhb"),l=n("kPvK"),c=n("m52V"),f=l("iterator"),h=!1,d=function(){return this};[].keys&&(a=[].keys(),"next"in a?(i=o(o(a)),i!==Object.prototype&&(r=i)):h=!0),void 0==r&&(r={}),c||u(r,f)||s(r,f,d),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},L1c7:function(e,t,n){var r=n("HIsA");r({target:"Math",stat:!0},{isubh:function(e,t,n,r){var i=e>>>0,a=t>>>0,o=n>>>0;return a-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},LDy6:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},LTDN:function(e,t,n){"use strict";var r=n("hXyk"),i=n("DDwO");e.exports=function(){for(var e,t=r(this),n=i(t["delete"]),a=!0,o=0,s=arguments.length;o<s;o++)e=n.call(t,arguments[o]),a=a&&e;return!!a}},LuuT:function(e,t,n){"use strict";var r=n("HIsA"),i=n("Xf1w").map,a=n("HqdE"),o=n("/5yA"),s=a("map"),u=o("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},MD2b:function(e,t,n){},MMtT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.LinkWrapper=void 0;var r=a(n("xwgP")),i=n("CU0g");function a(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,i=u(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var l=function(e){return function(t){var n=t.to,i=s(t,["to"]),a=/^(\w+:)?\/\//.test(n)||!n,u=r["default"].isValidElement(i.children);return r["default"].createElement(e,o({to:n||"",component:a?function(){return r["default"].createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n},i.children,n&&!u&&r["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r["default"].createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r["default"].createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))}:void 0},i,a?{}:{onClick:function(){var e;window.scrollTo({top:0});for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];null===(e=i.onClick)||void 0===e||e.apply(this,n)}}))}};t.LinkWrapper=l;var c=l(i.Link);t["default"]=c},MOrU:function(e,t,n){var r=n("bVFb");r("search")},MPYE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SensorTabIndex=t.SensorClassName=t.SizeSensorId=void 0;var r="size-sensor-id";t.SizeSensorId=r;var i="size-sensor-object";t.SensorClassName=i;var a="-1";t.SensorTabIndex=a},MR8S:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=c(n("xwgP")),a=u(n("q3YX")),o=u(n("1PYm")),s=u(n("xgte"));function u(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n["default"]=e,t&&t.set(e,n),n}function f(e,t){return m(e)||g(e,t)||d(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}function m(e){if(Array.isArray(e))return e}var v=function(e,t){var n=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[1].replace(/[^^]\/$/,"");return(null===(e=n[0].find((function(e){var t=e.path;return t===i})))||void 0===e?void 0:e.meta)||{}},r=(0,i.useState)(n(e,t)),a=f(r,2),o=a[0],s=a[1];return(0,i.useLayoutEffect)((function(){s(n(e,t))}),[t]),o},y=function(e,t){var n=function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(null===(t=r[0].find((function(e){return r[1].startsWith("/".concat(e.name))})))||void 0===t?void 0:t.name)||e[0].name},r=(0,i.useState)(n(e,t)),a=f(r,2),o=a[0],s=a[1];return(0,i.useLayoutEffect)((function(){s(n(e,t))}),[t]),o},_=function(e,t,n){var r=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].navs[n[1]]||[],a="*",o=i.length-1;o>=0;o-=1){var s=i[o],u=[s].concat(s.children).filter(Boolean),l=u.find((function(e){return e.path&&new RegExp("^".concat(e.path.replace(/\.html$/,""),"(/|.|$)")).test(n[2])}));if(l){a=l.path;break}}return(null===(e=n[0].menus[n[1]])||void 0===e?void 0:e[a])||[]},a=(0,i.useState)(r(e,t,n)),o=f(a,2),s=o[0],u=o[1];return(0,i.useLayoutEffect)((function(){u(r(e,t,n))}),[e.navs,e.menus,t,n]),s},b=function(e,t,n){var r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return r[0]===r[1][0].name?r[2].path:"".concat(n.path,"/").concat(e).replace(/\/\//,"/")},a=(0,i.useState)(r(e,t,n)),o=f(a,2),s=o[0],u=o[1];return(0,i.useLayoutEffect)((function(){u(r(e,t,n))}),[e]),s},x=function e(t){var n;return null===(n=t.find((function(t){return!!t.__dumiRoot||!!t.routes&&e(t.routes)})))||void 0===n?void 0:n.routes},w=function(e){var t=e.location,n=e.route,r=e.children,u=t.pathname.replace(n.path.replace(/^\/$/,"//"),""),l=x(e.routes)||[],c=v(l,t.pathname),f=y(a["default"].locales,u),h=_(a["default"],f,t.pathname),d=b(f,a["default"].locales,n);return(0,i.useEffect)((function(){t.hash&&o["default"].scrollToAnchor(decodeURIComponent(t.hash.slice(1)))}),[]),i["default"].createElement(s["default"].Provider,{value:{config:a["default"],meta:c,locale:f,nav:a["default"].navs[f]||[],menu:h,base:d,routes:l}},r)},S=w;t["default"]=S},Mi4E:function(e,t,n){var r=n("HIsA");r({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},NA9k:function(e,t,n){var r=n("Hiyu"),i=n("2RC6"),a=n("ma2j"),o=n("Iu9s").UNSUPPORTED_Y;r&&("g"!=/./g.flags||o)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:a})},NNdr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=1,i=function(){return"".concat(r++)};t["default"]=i},NNlX:function(e,t,n){"use strict";var r=n("ghbW"),i=n("vldi");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},NVMI:function(e,t,n){var r=n("JzK+");e.exports=function(e){return Object(r(e))}},NYcp:function(e,t,n){"use strict";var r=n("DDwO"),i=n("pxmn"),a=[].slice,o={},s=function(e,t,n){if(!(t in o)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";o[t]=Function("C,a","return new C("+r.join(",")+")")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),o=function(){var r=n.concat(a.call(arguments));return this instanceof o?s(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(o.prototype=t.prototype),o}},Nau9:function(e,t,n){"use strict";var r=n("HIsA"),i=n("DDwO"),a=n("0MLT"),o=n("uCRN"),s=n("Ji6T");r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,l=o((function(){var n=i(t.resolve),a=[],o=0,u=1;s(e,(function(e){var i=o++,s=!1;a.push(void 0),u++,n.call(t,e).then((function(e){s||(s=!0,a[i]={status:"fulfilled",value:e},--u||r(a))}),(function(e){s||(s=!0,a[i]={status:"rejected",reason:e},--u||r(a))}))})),--u||r(a)}));return l.error&&u(l.value),n.promise}})},O4tt:function(e,t,n){"use strict";var r=n("dOdC"),i=n("2I03"),a=n("40mc"),o=function(e,t,n,s,u,l,c,f){var h,d=u,p=0,g=!!c&&a(c,f,3);while(p<s){if(p in n){if(h=g?g(n[p],p,t):n[p],l>0&&r(h))d=o(e,t,h,i(h.length),d,l-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[d]=h}d++}p++}return d};e.exports=o},OLna:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},OOuR:function(e,t,n){"use strict";var r=n("9izy").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},OXHO:function(e,t,n){var r=n("HIsA"),i=n("bXon"),a=n("DDwO"),o=n("hXyk"),s=n("pxmn"),u=n("bWCM"),l=n("NYcp"),c=n("7+LC"),f=i("Reflect","construct"),h=c((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),d=!c((function(){f((function(){}))})),p=h||d;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(d&&!h)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var i=n.prototype,c=u(s(i)?i:Object.prototype),p=Function.apply.call(e,c,t);return s(p)?p:c}})},Oaiz:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},Ogjs:function(e,t,n){var r=n("2JD6"),i=n("5Nth"),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},PBBb:function(e,t,n){"use strict";var r=n("Xf1w").forEach,i=n("1+Eb"),a=n("/5yA"),o=i("forEach"),s=a("forEach");e.exports=o&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},PF9H:function(e,t,n){var r=n("HIsA"),i=n("Rkte"),a=n("kes9");r({target:"Math",stat:!0},{fscale:function(e,t,n,r,o){return a(i(e,t,n,r,o))}})},PJ1B:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var r=a(n("5M8n")),i=n("MPYE");function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=void 0,n=[],a=function(){"static"===getComputedStyle(e).position&&(e.style.position="relative");var t=document.createElement("object");return t.onload=function(){t.contentDocument.defaultView.addEventListener("resize",o),o()},t.style.display="block",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.zIndex="-1",t.style.opacity="0",t.setAttribute("class",i.SensorClassName),t.setAttribute("tabindex",i.SensorTabIndex),t.type="text/html",e.appendChild(t),t.data="about:blank",t},o=(0,r["default"])((function(){n.forEach((function(t){t(e)}))})),s=function(e){t||(t=a()),-1===n.indexOf(e)&&n.push(e)},u=function(){t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",o),t.parentNode.removeChild(t),t=void 0,n=[])},l=function(e){var r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&t&&u()};return{element:e,bind:s,destroy:u,unbind:l}};t.createSensor=o},PLZd:function(e,t,n){"use strict";function r(){var e=s(n("xwgP"));return r=function(){return e},e}function i(){var e=a(n("7QR1"));return i=function(){return e},e}function a(e){return e&&e.__esModule?e:{default:e}}function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n["default"]=e,t&&t.set(e,n),n}function u(e,t){return d(e)||h(e,t)||c(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}function d(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var p={"zh-CN":"https://www.typescriptlang.org/zh/play","en-US":"https://www.typescriptlang.org/play"},g=function(e,t){var n=function(){var e=/^zh|cn$/.test(arguments.length<=0?void 0:arguments[0])?p["zh-CN"]:p["en-US"];return"".concat(e,"?skipLibCheck=true&jsx=1#code/").concat(i()["default"].compressToEncodedURIComponent(arguments.length<=1?void 0:arguments[1]))},a=(0,r().useState)(n(e,t)),o=u(a,2),s=o[0],l=o[1];return(0,r().useEffect)((function(){l(n(e,t))}),[e,t]),s};t["default"]=g},PM2V:function(e,t,n){var r=n("PaPB"),i=n("2I03");e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},PR8p:function(e,t,n){var r=n("JqKL");r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},PaPB:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"Pj+0":function(e,t,n){var r=n("bVFb");r("observable")},Pjiy:function(e,t,n){"use strict";var r=n("45XY");function i(){var e=o(n("xwgP"));return i=function(){return e},e}function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n["default"]=e,t&&t.set(e,n),n}function s(e,t){return h(e)||f(e,t)||l(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}function h(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var d,p="https://riddle.alibaba-inc.com/riddles/define",g=function(){var e=(0,i().useState)(Boolean(d)),t=s(e,2),n=t[0],r=t[1];return(0,i().useEffect)((function(){if(void 0===d){var e=document.createElement("img");setTimeout((function(){e.src="",e.remove()}),200),e.onload=function(){d=!0,r(!0),e.remove()},e.src="https://private-alipayobjects.alipay.com/alipay-rmsdeploy-image/rmsportal/RKuAiriJqrUhyqW.png"}}),[]),n};function m(e){var t,n=e.dependencies,r=e.sources._.tsx||e.sources._.jsx;return r=r.replace(/^/,"import ReactDOM from 'react-dom@".concat((null===(t=n.react)||void 0===t?void 0:t.version)||"latest","';\n")).replace("export default","const DumiDemo =").concat("\nReactDOM.render(<DumiDemo />, mountNode);"),r=r.replace(/(from ')((?:@[^/'"]+)?[^/'"]+)/g,(function(e,t,r){var i="".concat(t).concat(r);return n[r]&&(i+="@".concat(n[r].version)),i})),r}var v=function(e){var t=(0,i().useState)(),n=s(t,2),a=n[0],o=n[1],u=g();return(0,i().useEffect)((function(){if(e&&u&&1===Object.keys(e.sources).length){var t=document.createElement("form"),n=document.createElement("input");return t.method="POST",t.target="_blank",t.style.display="none",t.action=p,t.appendChild(n),t.setAttribute("data-demo",e.title||""),n.name="data",n.value=JSON.stringify({title:e.titlle,js:m(e),css:Object.entries(e.dependencies).filter((function(e){var t=r(e,2),n=t[1];return n.css})).map((function(e){var t=r(e,2),n=t[0],i=t[1],a=i.version,o=i.css;return"@import '~".concat(o.replace(new RegExp("^(".concat(n,")")),"$1@".concat(a)),"';")})).join("\n")}),document.body.appendChild(t),o((function(){return function(){return t.submit()}})),function(){return t.remove()}}}),[e,u]),a};t["default"]=v},PlQJ:function(e,t,n){"use strict";var r=n("HIsA"),i=n("7+LC"),a=n("HC6f"),o=n("hXyk"),s=n("4dbd"),u=n("2I03"),l=n("70zE"),c=a.ArrayBuffer,f=a.DataView,h=c.prototype.slice,d=i((function(){return!new c(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:d},{slice:function(e,t){if(void 0!==h&&void 0===t)return h.call(o(this),e);var n=o(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),a=new(l(this,c))(u(i-r)),d=new f(this),p=new f(a),g=0;while(r<i)p.setUint8(g++,d.getUint8(r++));return a}})},Q1Da:function(e,t,n){var r=n("kPvK");t.f=r},"QD/U":function(e,t,n){"use strict";var r=n("bXon"),i=n("2RC6"),a=n("kPvK"),o=n("Hiyu"),s=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},QIG3:function(e,t,n){"use strict";var r=n("2kiq"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function l(e){return r.isMemo(e)?s:u[e["$$typeof"]]||i}u[r.ForwardRef]=o,u[r.Memo]=s;var c=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function m(e,t,n){if("string"!==typeof t){if(g){var r=p(t);r&&r!==g&&m(e,r,n)}var i=f(t);h&&(i=i.concat(h(t)));for(var o=l(e),s=l(t),u=0;u<i.length;++u){var v=i[u];if(!a[v]&&(!n||!n[v])&&(!s||!s[v])&&(!o||!o[v])){var y=d(t,v);try{c(e,v,y)}catch(_){}}}}return e}e.exports=m},"Qf+e":function(e,t,n){var r=n("JqKL");r("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},QwcI:function(e,t,n){"use strict";n.r(t);var r=n("xwgP"),i=n.n(r),a=n("kvV8"),o=n("lBQG"),s=i.a.memo(n("Rsk4").default["graph-demo"].component);t["default"]=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"graph"},i.a.createElement(a["AnchorLink"],{to:"#graph","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:["icon","icon-link"]})),"Graph")),i.a.createElement(o["default"],n("Rsk4").default["graph-demo"].previewerProps,i.a.createElement(s,null))))}},R64i:function(e,t,n){var r=n("kPvK"),i=r("toStringTag"),a={};a[i]="z",e.exports="[object z]"===String(a)},R6vp:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("40mc"),s=n("wKMT"),u=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{some:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e){if(r(e,e,t))return u.stop()}),void 0,!1,!0).stopped}})},RUgK:function(e,t,n){var r=n("Hiyu"),i=n("y6vz"),a=n("2hCa"),o=n("73Ew").f,s=function(e){return function(t){var n,s=a(t),u=i(s),l=u.length,c=0,f=[];while(l>c)n=u[c++],r&&!o.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}};e.exports={entries:s(!0),values:s(!1)}},"Ra/9":function(e,t,n){var r=n("2hCa"),i=n("2I03"),a=n("4dbd"),o=function(e){return function(t,n,o){var s,u=r(t),l=i(u.length),c=a(o,l);if(e&&n!=n){while(l>c)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},Rkte:function(e,t){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},Rsk4:function(e,t,n){"use strict";n.r(t),t["default"]={"docs-demo":{component:function(){var e=n("sTX5"),t=e(n("xwgP")),r=e(n("/7QA")),i=function(){var e={grid:{top:8,right:8,bottom:24,left:36},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,1330,1320],type:"line",smooth:!0}]};return t["default"].createElement(r["default"],{option:e})},a=i;return t["default"].createElement(a)},previewerProps:{sources:{_:{tsx:"import React from 'react';\nimport ReactECharts from 'echarts-for-react';\n\nconst Page: React.FC = () => {\n  const options = {\n    grid: { top: 8, right: 8, bottom: 24, left: 36 },\n    xAxis: {\n      type: 'category',\n      data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n    },\n    yAxis: {\n      type: 'value',\n    },\n    series: [\n      {\n        data: [820, 932, 901, 934, 1290, 1330, 1320],\n        type: 'line',\n        smooth: true,\n      },\n    ],\n  };\n\n  return <ReactECharts option={options} />;\n};\n\nexport default Page;"}},dependencies:{react:{version:">=16.8.0"},"echarts-for-react":{version:"3.0.0-beta.1"},echarts:{version:"^5.0.0"}},identifier:"docs-demo"}},"api-demo":{component:function(){var e=n("sTX5"),t=n("Fcd/"),r=t(n("xwgP")),i=e(n("/7QA")),a=function(){var e={title:{text:"\u6f0f\u6597\u56fe",subtext:"\u7eaf\u5c5e\u865a\u6784"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}%"},toolbox:{feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},legend:{data:["\u5c55\u73b0","\u70b9\u51fb","\u8bbf\u95ee","\u54a8\u8be2","\u8ba2\u5355"]},series:[{name:"\u9884\u671f",type:"funnel",left:"10%",width:"80%",label:{normal:{formatter:"{b}\u9884\u671f"},emphasis:{position:"inside",formatter:"{b}\u9884\u671f: {c}%"}},labelLine:{normal:{show:!1}},itemStyle:{normal:{opacity:.7}},data:[{value:60,name:"\u8bbf\u95ee"},{value:40,name:"\u54a8\u8be2"},{value:20,name:"\u8ba2\u5355"},{value:80,name:"\u70b9\u51fb"},{value:100,name:"\u5c55\u73b0"}]},{name:"\u5b9e\u9645",type:"funnel",left:"10%",width:"80%",maxSize:"80%",label:{normal:{position:"inside",formatter:"{c}%",textStyle:{color:"#fff"}},emphasis:{position:"inside",formatter:"{b}\u5b9e\u9645: {c}%"}},itemStyle:{normal:{opacity:.5,borderColor:"#fff",borderWidth:2}},data:[{value:30,name:"\u8bbf\u95ee"},{value:10,name:"\u54a8\u8be2"},{value:5,name:"\u8ba2\u5355"},{value:50,name:"\u70b9\u51fb"},{value:80,name:"\u5c55\u73b0"}]}]},t=(0,r.useRef)(null);function n(){var e=t.current.getEchartsInstance().getDataURL(),n=new Image;n.src=e;var r=window.open("","_blank");r.document.write(n.outerHTML)}return r["default"].createElement(r["default"].Fragment,null,r["default"].createElement(i["default"],{ref:t,option:e,style:{height:400}}),r["default"].createElement("div",null,r["default"].createElement("button",{onClick:n},"click here to get the DataURL of chart.")))},o=a;return r["default"].createElement(o)},previewerProps:{sources:{_:{tsx:"import React, { useRef } from 'react';\nimport ReactECharts from 'echarts-for-react';\n\nconst Page: React.FC = () => {\n  const option = {\n    title: {\n      text: '\u6f0f\u6597\u56fe',\n      subtext: '\u7eaf\u5c5e\u865a\u6784'\n    },\n    tooltip: {\n      trigger: 'item',\n      formatter: \"{a} <br/>{b} : {c}%\"\n    },\n    toolbox: {\n      feature: {\n        dataView: {readOnly: false},\n        restore: {},\n        saveAsImage: {}\n      }\n    },\n    legend: {\n      data: ['\u5c55\u73b0','\u70b9\u51fb','\u8bbf\u95ee','\u54a8\u8be2','\u8ba2\u5355']\n    },\n    series: [\n      {\n        name: '\u9884\u671f',\n        type: 'funnel',\n        left: '10%',\n        width: '80%',\n        label: {\n          normal: {\n            formatter: '{b}\u9884\u671f'\n          },\n          emphasis: {\n            position:'inside',\n            formatter: '{b}\u9884\u671f: {c}%'\n          }\n        },\n        labelLine: {\n          normal: {\n            show: false\n          }\n        },\n        itemStyle: {\n          normal: {\n            opacity: 0.7\n          }\n        },\n        data: [\n          {value: 60, name: '\u8bbf\u95ee'},\n          {value: 40, name: '\u54a8\u8be2'},\n          {value: 20, name: '\u8ba2\u5355'},\n          {value: 80, name: '\u70b9\u51fb'},\n          {value: 100, name: '\u5c55\u73b0'}\n        ]\n      },\n      {\n        name: '\u5b9e\u9645',\n        type: 'funnel',\n        left: '10%',\n        width: '80%',\n        maxSize: '80%',\n        label: {\n          normal: {\n            position: 'inside',\n            formatter: '{c}%',\n            textStyle: {\n              color: '#fff'\n            }\n          },\n          emphasis: {\n            position:'inside',\n            formatter: '{b}\u5b9e\u9645: {c}%'\n          }\n        },\n        itemStyle: {\n          normal: {\n            opacity: 0.5,\n            borderColor: '#fff',\n            borderWidth: 2\n          }\n        },\n        data: [\n          {value: 30, name: '\u8bbf\u95ee'},\n          {value: 10, name: '\u54a8\u8be2'},\n          {value: 5, name: '\u8ba2\u5355'},\n          {value: 50, name: '\u70b9\u51fb'},\n          {value: 80, name: '\u5c55\u73b0'}\n        ]\n      }\n    ]\n  };\n\n  const instance = useRef(null);\n\n  function clickBtn() {\n    const base64 = instance.current.getEchartsInstance().getDataURL();\n\n    const img = new Image();\n    img.src = base64;\n    const newWin = window.open('', '_blank');\n    newWin.document.write(img.outerHTML);\n  }\n\n  return (\n    <>\n      <ReactECharts\n        ref={instance}\n        option={option}\n        style={{ height: 400 }}\n      />\n      <div>\n        <button onClick={clickBtn}>click here to get the DataURL of chart.</button>\n      </div>\n    </>\n  );\n};\n\nexport default Page;"}},dependencies:{react:{version:">=16.8.0"},"echarts-for-react":{version:"3.0.0-beta.1"},echarts:{version:"^5.0.0"}},identifier:"api-demo"}},"dynamic-demo":{component:function(){var e=n("Fcd/"),t=n("sTX5"),r=t(n("ob7Q")),i=e(n("xwgP")),a=t(n("/7QA")),o=t(n("aveK")),s=function(){var e,t={title:{text:"Hello Echarts-for-react."},tooltip:{trigger:"axis"},legend:{data:["\u6700\u65b0\u6210\u4ea4\u4ef7","\u9884\u8d2d\u961f\u5217"]},toolbox:{show:!0,feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},grid:{top:60,left:30,right:60,bottom:30},dataZoom:{show:!1,start:0,end:100},visualMap:{show:!1,min:0,max:1e3,color:["#BE002F","#F20C00","#F00056","#FF2D51","#FF2121","#FF4C00","#FF7500","#FF8936","#FFA400","#F0C239","#FFF143","#FAFF72","#C9DD22","#AFDD22","#9ED900","#00E500","#0EB83A","#0AA344","#0C8918","#057748","#177CB0"]},xAxis:[{type:"category",boundaryGap:!0,data:function(){var e=new Date,t=[],n=50;while(n--)t.unshift(e.toLocaleTimeString().replace(/^\D*/,"")),e=new Date(e-2e3);return t}()},{type:"category",boundaryGap:!0,data:function(){var e=[],t=50;while(t--)e.push(50-t+1);return e}()}],yAxis:[{type:"value",scale:!0,name:"\u4ef7\u683c",max:20,min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,name:"\u9884\u8d2d\u91cf",max:1200,min:0,boundaryGap:[.2,.2]}],series:[{name:"\u9884\u8d2d\u961f\u5217",type:"bar",xAxisIndex:1,yAxisIndex:1,itemStyle:{normal:{barBorderRadius:4}},animationEasing:"elasticOut",animationDelay:function(e){return 10*e},animationDelayUpdate:function(e){return 10*e},data:function(){var e=[],t=50;while(t--)e.push(Math.round(1e3*Math.random()));return e}()},{name:"\u6700\u65b0\u6210\u4ea4\u4ef7",type:"line",data:function(){var e=[],t=0;while(t<50)e.push((10*Math.random()+5).toFixed(1)-0),t++;return e}()}]},n=(0,i.useState)(t),s=(0,r["default"])(n,2),u=s[0],l=s[1];function c(){var t=(new Date).toLocaleTimeString().replace(/^\D*/,""),n=(0,o["default"])(u);n.title.text="Hello Echarts-for-react."+(new Date).getSeconds();var r=n.series[0].data,i=n.series[1].data;r.shift(),r.push(Math.round(1e3*Math.random())),i.shift(),i.push((10*Math.random()+5).toFixed(1)-0),n.xAxis[0].data.shift(),n.xAxis[0].data.push(t),n.xAxis[1].data.shift(),n.xAxis[1].data.push(e++),l(n)}return(0,i.useEffect)((function(){var e=setInterval((function(){c()}),1e3);return function(){return clearInterval(e)}})),i["default"].createElement(a["default"],{option:u,style:{height:400}})},u=s;return i["default"].createElement(u)},previewerProps:{sources:{_:{tsx:"import React, { useState, useEffect } from 'react';\nimport ReactECharts from 'echarts-for-react';\nimport cloneDeep from 'lodash.clonedeep';\n\nconst Page: React.FC = () => {\n  const DEFAULT_OPTION = {\n    title: {\n      text:'Hello Echarts-for-react.',\n    },\n    tooltip: {\n      trigger: 'axis'\n    },\n    legend: {\n      data:['\u6700\u65b0\u6210\u4ea4\u4ef7', '\u9884\u8d2d\u961f\u5217']\n    },\n    toolbox: {\n      show: true,\n      feature: {\n        dataView: {readOnly: false},\n        restore: {},\n        saveAsImage: {}\n      }\n    },\n    grid: {\n      top: 60,\n      left: 30,\n      right: 60,\n      bottom:30\n    },\n    dataZoom: {\n      show: false,\n      start: 0,\n      end: 100\n    },\n    visualMap: {\n      show: false,\n      min: 0,\n      max: 1000,\n      color: ['#BE002F', '#F20C00', '#F00056', '#FF2D51', '#FF2121', '#FF4C00', '#FF7500',\n        '#FF8936', '#FFA400', '#F0C239', '#FFF143', '#FAFF72', '#C9DD22', '#AFDD22',\n        '#9ED900', '#00E500', '#0EB83A', '#0AA344', '#0C8918', '#057748', '#177CB0']\n    },\n    xAxis: [\n      {\n        type: 'category',\n        boundaryGap: true,\n        data: (function (){\n          let now = new Date();\n          let res = [];\n          let len = 50;\n          while (len--) {\n            res.unshift(now.toLocaleTimeString().replace(/^\\D*/,''));\n            now = new Date(now - 2000);\n          }\n          return res;\n        })()\n      },\n      {\n        type: 'category',\n        boundaryGap: true,\n        data: (function (){\n          let res = [];\n          let len = 50;\n          while (len--) {\n            res.push(50 - len + 1);\n          }\n          return res;\n        })()\n      }\n    ],\n    yAxis: [\n      {\n        type: 'value',\n        scale: true,\n        name: '\u4ef7\u683c',\n        max: 20,\n        min: 0,\n        boundaryGap: [0.2, 0.2]\n      },\n      {\n        type: 'value',\n        scale: true,\n        name: '\u9884\u8d2d\u91cf',\n        max: 1200,\n        min: 0,\n        boundaryGap: [0.2, 0.2]\n      }\n    ],\n    series: [\n      {\n        name:'\u9884\u8d2d\u961f\u5217',\n        type:'bar',\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        itemStyle: {\n          normal: {\n            barBorderRadius: 4,\n          }\n        },\n        animationEasing: 'elasticOut',\n        animationDelay: function (idx) {\n          return idx * 10;\n        },\n        animationDelayUpdate: function (idx) {\n          return idx * 10;\n        },\n        data:(function (){\n          let res = [];\n          let len = 50;\n          while (len--) {\n            res.push(Math.round(Math.random() * 1000));\n          }\n          return res;\n        })()\n      },\n      {\n        name:'\u6700\u65b0\u6210\u4ea4\u4ef7',\n        type:'line',\n        data:(function (){\n          let res = [];\n          let len = 0;\n          while (len < 50) {\n            res.push((Math.random()*10 + 5).toFixed(1) - 0);\n            len++;\n          }\n          return res;\n        })()\n      }\n    ]\n  };\n\n  let count;\n\n  const [option, setOption] = useState(DEFAULT_OPTION);\n\n  function fetchNewData() {\n    const axisData = (new Date()).toLocaleTimeString().replace(/^\\D*/,'');\n    const newOption = cloneDeep(option); // immutable\n    newOption.title.text = 'Hello Echarts-for-react.' + new Date().getSeconds();\n    const data0 = newOption.series[0].data;\n    const data1 = newOption.series[1].data;\n    data0.shift();\n    data0.push(Math.round(Math.random() * 1000));\n    data1.shift();\n    data1.push((Math.random() * 10 + 5).toFixed(1) - 0);\n\n    newOption.xAxis[0].data.shift();\n    newOption.xAxis[0].data.push(axisData);\n    newOption.xAxis[1].data.shift();\n    newOption.xAxis[1].data.push(count++);\n\n    setOption(newOption);\n  }\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      fetchNewData();\n    }, 1000);\n\n    return () => clearInterval(timer);\n  });\n\n  return <ReactECharts\n    option={option}\n    style={{ height: 400 }}\n  />;\n};\n\nexport default Page;"}},dependencies:{react:{version:">=16.8.0"},"echarts-for-react":{version:"3.0.0-beta.1"},"lodash.clonedeep":{version:"4.5.0"},echarts:{version:"^5.0.0"}},identifier:"dynamic-demo"}},"event-demo":{component:function(){var e=n("Fcd/"),t=n("sTX5"),r=t(n("ob7Q")),i=e(n("xwgP")),a=t(n("/7QA")),o=function(){var e={title:{text:"\u67d0\u7ad9\u70b9\u7528\u6237\u8bbf\u95ee\u6765\u6e90",subtext:"\u7eaf\u5c5e\u865a\u6784",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["\u76f4\u63a5\u8bbf\u95ee","\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a","\u641c\u7d22\u5f15\u64ce"]},series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:234,name:"\u8054\u76df\u5e7f\u544a"},{value:135,name:"\u89c6\u9891\u5e7f\u544a"},{value:1548,name:"\u641c\u7d22\u5f15\u64ce"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},t=(0,i.useState)(0),n=(0,r["default"])(t,2),o=n[0],s=n[1];function u(e){console.log("echarts is ready",e)}function l(e,t){console.log(e,t),s(o+1)}function c(e,t){console.log(e,t)}return i["default"].createElement(i["default"].Fragment,null,i["default"].createElement(a["default"],{option:e,style:{height:400},onChartReady:u,onEvents:{click:l,legendselectchanged:c}}),i["default"].createElement("div",null,"Click Count: ",o),i["default"].createElement("div",null,"Open console, see the log detail."))},s=o;return i["default"].createElement(s)},previewerProps:{sources:{_:{tsx:"import React, { useState } from 'react';\nimport ReactECharts from 'echarts-for-react';\n\nconst Page: React.FC = () => {\n  const option = {\n    title : {\n      text: '\u67d0\u7ad9\u70b9\u7528\u6237\u8bbf\u95ee\u6765\u6e90',\n      subtext: '\u7eaf\u5c5e\u865a\u6784',\n      x:'center'\n    },\n    tooltip : {\n      trigger: 'item',\n      formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n    },\n    legend: {\n      orient: 'vertical',\n      left: 'left',\n      data: ['\u76f4\u63a5\u8bbf\u95ee','\u90ae\u4ef6\u8425\u9500','\u8054\u76df\u5e7f\u544a','\u89c6\u9891\u5e7f\u544a','\u641c\u7d22\u5f15\u64ce']\n    },\n    series : [\n      {\n      name: '\u8bbf\u95ee\u6765\u6e90',\n      type: 'pie',\n      radius : '55%',\n      center: ['50%', '60%'],\n      data:[\n        {value:335, name:'\u76f4\u63a5\u8bbf\u95ee'},\n        {value:310, name:'\u90ae\u4ef6\u8425\u9500'},\n        {value:234, name:'\u8054\u76df\u5e7f\u544a'},\n        {value:135, name:'\u89c6\u9891\u5e7f\u544a'},\n        {value:1548, name:'\u641c\u7d22\u5f15\u64ce'}\n      ],\n      itemStyle: {\n        emphasis: {\n        shadowBlur: 10,\n        shadowOffsetX: 0,\n        shadowColor: 'rgba(0, 0, 0, 0.5)'\n        }\n      }\n      }\n    ]\n  };\n\n  const [count, setCount] = useState(0);\n\n  function onChartReady(echarts) {\n    console.log('echarts is ready', echarts);\n  }\n\n  function onChartClick(param, echarts) {\n    console.log(param, echarts);\n    setCount(count + 1);\n  };\n\n  function onChartLegendselectchanged(param, echarts) {\n    console.log(param, echarts);\n  };\n\n  return (\n    <>\n      <ReactECharts\n        option={option}\n        style={{ height: 400 }}\n        onChartReady={onChartReady}\n        onEvents={{\n          'click': onChartClick,\n          'legendselectchanged': onChartLegendselectchanged\n         }}\n      />\n      <div>Click Count: {count}</div>\n      <div>Open console, see the log detail.</div>\n    </>\n  );\n};\n\nexport default Page;"}},dependencies:{react:{version:">=16.8.0"},"echarts-for-react":{version:"3.0.0-beta.1"},echarts:{version:"^5.0.0"}},identifier:"event-demo"}},"gl-demo":{component:function(){var e=n("sTX5"),t=e(n("xwgP")),r=e(n("/7QA"));n("uGNz");var i=function(){var e={grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{},series:[{type:"scatter3D",symbolSize:50,data:[[-1,-1,-1],[0,0,0],[1,1,1]],itemStyle:{opacity:1}}]};return t["default"].createElement(r["default"],{option:e,style:{height:400}})},a=i;return t["default"].createElement(a)},previewerProps:{sources:{_:{tsx:"import React from 'react';\nimport ReactECharts from 'echarts-for-react';\nimport 'echarts-gl';\n\nconst Page: React.FC = () => {\n  const option = {\n    grid3D: {},\n    xAxis3D: {},\n    yAxis3D: {},\n    zAxis3D: {},\n    series: [{\n      type: 'scatter3D',\n      symbolSize: 50,\n      data: [[-1, -1, -1], [0, 0, 0], [1, 1, 1]],\n      itemStyle: {\n        opacity: 1\n      }\n    }]\n  };\n\n  return <ReactECharts\n    option={option}\n    style={{ height: 400 }}\n  />;\n};\n\nexport default Page;"}},dependencies:{react:{version:">=16.8.0"},"echarts-for-react":{version:"3.0.0-beta.1"},"echarts-gl":{version:"2.0.1"},echarts:{version:"^5.0.1"}},identifier:"gl-demo"}},"graph-demo":{component:function(){var e=n("sTX5"),t=e(n("xwgP")),r=e(n("/7QA")),i=function(){var e={type:"force",categories:[{name:"HTMLElement",keyword:{},base:"HTMLElement"},{name:"WebGL",keyword:{},base:"WebGLRenderingContext"},{name:"SVG",keyword:{},base:"SVGElement"},{name:"CSS",keyword:{},base:"CSSRule"},{name:"Other",keyword:{}}],nodes:[{name:"AnalyserNode",value:1,category:4},{name:"AudioNode",value:1,category:4},{name:"Uint8Array",value:1,category:4},{name:"Float32Array",value:1,category:4},{name:"ArrayBuffer",value:1,category:4},{name:"ArrayBufferView",value:1,category:4},{name:"Attr",value:1,category:4},{name:"Node",value:1,category:4},{name:"Element",value:1,category:4},{name:"AudioBuffer",value:1,category:4},{name:"AudioBufferCallback",value:1,category:4},{name:"AudioBufferSourceNode",value:1,category:4},{name:"AudioSourceNode",value:1,category:4},{name:"AudioGain",value:1,category:4},{name:"AudioParam",value:1,category:4},{name:"AudioContext",value:1,category:4},{name:"AudioDestinationNode",value:1,category:4},{name:"AudioListener",value:1,category:4},{name:"BiquadFilterNode",value:1,category:4},{name:"ChannelMergerNode",value:1,category:4},{name:"ChannelSplitterNode",value:1,category:4},{name:"ConvolverNode",value:1,category:4},{name:"DelayNode",value:1,category:4},{name:"DynamicsCompressorNode",value:1,category:4},{name:"GainNode",value:1,category:4},{name:"MediaElementAudioSourceNode",value:1,category:4},{name:"MediaStreamAudioDestinationNode",value:1,category:4},{name:"MediaStreamAudioSourceNode",value:1,category:4},{name:"OscillatorNode",value:1,category:4},{name:"PannerNode",value:1,category:4},{name:"ScriptProcessorNode",value:1,category:4},{name:"WaveShaperNode",value:1,category:4},{name:"WaveTable",value:1,category:4},{name:"CanvasRenderingContext",value:1,category:4},{name:"HTMLCanvasElement",value:1,category:0},{name:"CanvasRenderingContext2D",value:1,category:4},{name:"ImageData",value:1,category:4},{name:"CanvasGradient",value:1,category:4},{name:"CanvasPattern",value:1,category:4},{name:"HTMLImageElement",value:1,category:0},{name:"HTMLVideoElement",value:1,category:0},{name:"TextMetrics",value:1,category:4},{name:"CDATASection",value:1,category:4},{name:"Text",value:1,category:4},{name:"CharacterData",value:1,category:4},{name:"ClientRectList",value:1,category:4},{name:"ClientRect",value:1,category:4},{name:"Clipboard",value:1,category:4},{name:"FileList",value:1,category:4},{name:"DataTransferItemList",value:1,category:4},{name:"Comment",value:1,category:4},{name:"Console",value:1,category:4},{name:"MemoryInfo",value:1,category:4},{name:"Crypto",value:1,category:4},{name:"CSSCharsetRule",value:1,category:3},{name:"CSSRule",value:3,category:3},{name:"CSSFontFaceRule",value:1,category:3},{name:"CSSStyleDeclaration",value:1,category:3},{name:"CSSImportRule",value:1,category:3},{name:"MediaList",value:1,category:4},{name:"CSSStyleSheet",value:1,category:3},{name:"CSSMediaRule",value:1,category:3},{name:"CSSRuleList",value:1,category:3},{name:"CSSPageRule",value:1,category:3},{name:"CSSPrimitiveValue",value:1,category:3},{name:"CSSValue",value:1,category:3},{name:"Counter",value:1,category:4},{name:"RGBColor",value:1,category:4},{name:"Rect",value:1,category:4},{name:"CSSStyleRule",value:1,category:3},{name:"StyleSheet",value:1,category:4},{name:"CSSUnknownRule",value:1,category:3},{name:"CSSValueList",value:1,category:3},{name:"Database",value:1,category:4},{name:"SQLTransactionCallback",value:1,category:4},{name:"DatabaseCallback",value:1,category:4},{name:"DatabaseSync",value:1,category:4},{name:"SQLTransactionSyncCallback",value:1,category:4},{name:"DataTransferItem",value:1,category:4},{name:"StringCallback",value:1,category:4},{name:"Entry",value:1,category:4},{name:"File",value:1,category:4},{name:"DataView",value:1,category:4},{name:"DedicatedWorkerContext",value:1,category:4},{name:"WorkerContext",value:1,category:4},{name:"DirectoryEntry",value:1,category:4},{name:"DirectoryReader",value:1,category:4},{name:"VoidCallback",value:1,category:4},{name:"DirectoryEntrySync",value:1,category:4},{name:"EntrySync",value:1,category:4},{name:"DirectoryReaderSync",value:1,category:4},{name:"FileEntrySync",value:1,category:4},{name:"EntriesCallback",value:1,category:4},{name:"EntryArraySync",value:1,category:4},{name:"DocumentFragment",value:1,category:4},{name:"NodeList",value:1,category:4},{name:"DocumentType",value:1,category:4},{name:"NamedNodeMap",value:1,category:4},{name:"DOMFileSystem",value:1,category:4},{name:"DOMFileSystemSync",value:1,category:4},{name:"DOMImplementation",value:1,category:4},{name:"HTMLDocument",value:1,category:0},{name:"DOMMimeType",value:1,category:4},{name:"DOMPlugin",value:1,category:4},{name:"DOMMimeTypeArray",value:1,category:4},{name:"DOMPluginArray",value:1,category:4},{name:"DOMSelection",value:1,category:4},{name:"Range",value:1,category:4},{name:"DOMSettableTokenList",value:1,category:4},{name:"DOMTokenList",value:1,category:4},{name:"DOMStringMap",value:1,category:4},{name:"ShadowRoot",value:1,category:4},{name:"Entity",value:1,category:4},{name:"EntityReference",value:1,category:4},{name:"EntryArray",value:1,category:4},{name:"MetadataCallback",value:1,category:4},{name:"EntryCallback",value:1,category:4},{name:"Metadata",value:1,category:4},{name:"ErrorCallback",value:1,category:4},{name:"FileError",value:1,category:4},{name:"FileCallback",value:1,category:4},{name:"FileEntry",value:1,category:4},{name:"FileWriterCallback",value:1,category:4},{name:"FileWriterSync",value:1,category:4},{name:"FileReader",value:1,category:4},{name:"FileReaderSync",value:1,category:4},{name:"FileSystemCallback",value:1,category:4},{name:"FileWriter",value:1,category:4},{name:"Float64Array",value:1,category:4},{name:"GamepadList",value:1,category:4},{name:"Gamepad",value:1,category:4},{name:"Geolocation",value:1,category:4},{name:"PositionCallback",value:1,category:4},{name:"Geoposition",value:1,category:4},{name:"Coordinates",value:1,category:4},{name:"HTMLAllCollection",value:1,category:0},{name:"HTMLAnchorElement",value:1,category:0},{name:"HTMLElement",value:3,category:0},{name:"HTMLAppletElement",value:1,category:0},{name:"HTMLAreaElement",value:1,category:0},{name:"HTMLAudioElement",value:1,category:0},{name:"HTMLMediaElement",value:1,category:0},{name:"HTMLBaseElement",value:1,category:0},{name:"HTMLBaseFontElement",value:1,category:0},{name:"HTMLBodyElement",value:1,category:0},{name:"HTMLBRElement",value:1,category:0},{name:"HTMLButtonElement",value:1,category:0},{name:"HTMLFormElement",value:1,category:0},{name:"ValidityState",value:1,category:4},{name:"HTMLCollection",value:1,category:0},{name:"HTMLContentElement",value:1,category:0},{name:"HTMLDataListElement",value:1,category:0},{name:"HTMLDetailsElement",value:1,category:0},{name:"HTMLDirectoryElement",value:1,category:0},{name:"HTMLDivElement",value:1,category:0},{name:"HTMLDListElement",value:1,category:0},{name:"HTMLEmbedElement",value:1,category:0},{name:"SVGDocument",value:1,category:2},{name:"HTMLFieldSetElement",value:1,category:0},{name:"HTMLFontElement",value:1,category:0},{name:"HTMLFormControlsCollection",value:1,category:0},{name:"HTMLFrameElement",value:1,category:0},{name:"HTMLFrameSetElement",value:1,category:0},{name:"HTMLHeadElement",value:1,category:0},{name:"HTMLHeadingElement",value:1,category:0},{name:"HTMLHRElement",value:1,category:0},{name:"HTMLHtmlElement",value:1,category:0},{name:"HTMLIFrameElement",value:1,category:0},{name:"HTMLInputElement",value:1,category:0},{name:"HTMLKeygenElement",value:1,category:0},{name:"HTMLLabelElement",value:1,category:0},{name:"HTMLLegendElement",value:1,category:0},{name:"HTMLLIElement",value:1,category:0},{name:"HTMLLinkElement",value:1,category:0},{name:"HTMLMapElement",value:1,category:0},{name:"HTMLMarqueeElement",value:1,category:0},{name:"TimeRanges",value:1,category:4},{name:"MediaController",value:1,category:4},{name:"MediaError",value:1,category:4},{name:"TextTrackList",value:1,category:4},{name:"TextTrack",value:1,category:4},{name:"HTMLMenuElement",value:1,category:0},{name:"HTMLMetaElement",value:1,category:0},{name:"HTMLMeterElement",value:1,category:0},{name:"HTMLModElement",value:1,category:0},{name:"HTMLObjectElement",value:1,category:0},{name:"HTMLOListElement",value:1,category:0},{name:"HTMLOptGroupElement",value:1,category:0},{name:"HTMLOptionElement",value:1,category:0},{name:"HTMLOptionsCollection",value:1,category:0},{name:"HTMLOutputElement",value:1,category:0},{name:"HTMLParagraphElement",value:1,category:0},{name:"HTMLParamElement",value:1,category:0},{name:"HTMLPreElement",value:1,category:0},{name:"HTMLProgressElement",value:1,category:0},{name:"HTMLQuoteElement",value:1,category:0},{name:"HTMLScriptElement",value:1,category:0},{name:"HTMLSelectElement",value:1,category:0},{name:"HTMLShadowElement",value:1,category:0},{name:"HTMLSourceElement",value:1,category:0},{name:"HTMLSpanElement",value:1,category:0},{name:"HTMLStyleElement",value:1,category:0},{name:"HTMLTableCaptionElement",value:1,category:0},{name:"HTMLTableCellElement",value:1,category:0},{name:"HTMLTableColElement",value:1,category:0},{name:"HTMLTableElement",value:1,category:0},{name:"HTMLTableSectionElement",value:1,category:0},{name:"HTMLTableRowElement",value:1,category:0},{name:"HTMLTextAreaElement",value:1,category:0},{name:"HTMLTitleElement",value:1,category:0},{name:"HTMLTrackElement",value:1,category:0},{name:"HTMLUListElement",value:1,category:0},{name:"HTMLUnknownElement",value:1,category:0},{name:"IDBCursor",value:1,category:4},{name:"IDBAny",value:1,category:4},{name:"IDBKey",value:1,category:4},{name:"IDBRequest",value:1,category:4},{name:"IDBCursorWithValue",value:1,category:4},{name:"IDBDatabase",value:1,category:4},{name:"DOMStringList",value:1,category:4},{name:"IDBObjectStore",value:1,category:4},{name:"IDBTransaction",value:1,category:4},{name:"IDBFactory",value:1,category:4},{name:"IDBVersionChangeRequest",value:1,category:4},{name:"IDBOpenDBRequest",value:1,category:4},{name:"IDBIndex",value:1,category:4},{name:"IDBKeyRange",value:1,category:4},{name:"DOMError",value:1,category:4},{name:"Int16Array",value:1,category:4},{name:"Int32Array",value:1,category:4},{name:"Int8Array",value:1,category:4},{name:"JavaScriptCallFrame",value:1,category:4},{name:"LocalMediaStream",value:1,category:4},{name:"MediaStream",value:1,category:4},{name:"Location",value:1,category:4},{name:"MediaQueryList",value:1,category:4},{name:"MediaQueryListListener",value:1,category:4},{name:"MediaSource",value:1,category:4},{name:"SourceBufferList",value:1,category:4},{name:"SourceBuffer",value:1,category:4},{name:"MediaStreamTrackList",value:1,category:4},{name:"MediaStreamList",value:1,category:4},{name:"MediaStreamTrack",value:1,category:4},{name:"MessageChannel",value:1,category:4},{name:"MessagePort",value:1,category:4},{name:"MutationObserver",value:1,category:4},{name:"MutationRecord",value:1,category:4},{name:"Navigator",value:1,category:4},{name:"BatteryManager",value:1,category:4},{name:"NavigatorUserMediaErrorCallback",value:1,category:4},{name:"NavigatorUserMediaError",value:1,category:4},{name:"NavigatorUserMediaSuccessCallback",value:1,category:4},{name:"NodeFilter",value:1,category:4},{name:"NodeIterator",value:1,category:4},{name:"Notation",value:1,category:4},{name:"Notification",value:1,category:4},{name:"NotificationPermissionCallback",value:1,category:4},{name:"NotificationCenter",value:1,category:4},{name:"OESVertexArrayObject",value:1,category:4},{name:"WebGLVertexArrayObjectOES",value:1,category:1},{name:"Performance",value:1,category:4},{name:"PerformanceNavigation",value:1,category:4},{name:"PerformanceTiming",value:1,category:4},{name:"PositionErrorCallback",value:1,category:4},{name:"PositionError",value:1,category:4},{name:"ProcessingInstruction",value:1,category:4},{name:"RadioNodeList",value:1,category:4},{name:"RTCDataChannel",value:1,category:4},{name:"RTCPeerConnection",value:1,category:4},{name:"RTCSessionDescription",value:1,category:4},{name:"RTCIceCandidate",value:1,category:4},{name:"RTCSessionDescriptionCallback",value:1,category:4},{name:"RTCStatsCallback",value:1,category:4},{name:"RTCStatsResponse",value:1,category:4},{name:"RTCStatsReport",value:1,category:4},{name:"RTCStatsElement",value:1,category:4},{name:"ScriptProfile",value:1,category:4},{name:"ScriptProfileNode",value:1,category:4},{name:"SharedWorker",value:1,category:4},{name:"AbstractWorker",value:1,category:4},{name:"SharedWorkerContext",value:1,category:4},{name:"SpeechGrammarList",value:1,category:4},{name:"SpeechGrammar",value:1,category:4},{name:"SpeechInputResultList",value:1,category:4},{name:"SpeechInputResult",value:1,category:4},{name:"SpeechRecognition",value:1,category:4},{name:"SpeechRecognitionResult",value:1,category:4},{name:"SpeechRecognitionAlternative",value:1,category:4},{name:"SpeechRecognitionResultList",value:1,category:4},{name:"SQLResultSet",value:1,category:4},{name:"SQLResultSetRowList",value:1,category:4},{name:"SQLStatementCallback",value:1,category:4},{name:"SQLTransaction",value:1,category:4},{name:"SQLStatementErrorCallback",value:1,category:4},{name:"SQLTransactionErrorCallback",value:1,category:4},{name:"SQLError",value:1,category:4},{name:"SQLTransactionSync",value:1,category:4},{name:"StorageInfo",value:1,category:4},{name:"StorageInfoUsageCallback",value:1,category:4},{name:"StorageInfoQuotaCallback",value:1,category:4},{name:"StorageInfoErrorCallback",value:1,category:4},{name:"DOMCoreException",value:1,category:4},{name:"StyleSheetList",value:1,category:4},{name:"SVGAElement",value:1,category:2},{name:"SVGTransformable",value:1,category:2},{name:"SVGAnimatedString",value:1,category:2},{name:"SVGAltGlyphDefElement",value:1,category:2},{name:"SVGElement",value:3,category:2},{name:"SVGAltGlyphElement",value:1,category:2},{name:"SVGURIReference",value:1,category:2},{name:"SVGAltGlyphItemElement",value:1,category:2},{name:"SVGAnimateColorElement",value:1,category:2},{name:"SVGAnimationElement",value:1,category:2},{name:"SVGAnimatedAngle",value:1,category:2},{name:"SVGAngle",value:1,category:2},{name:"SVGAnimatedLength",value:1,category:2},{name:"SVGLength",value:1,category:2},{name:"SVGAnimatedLengthList",value:1,category:2},{name:"SVGLengthList",value:1,category:2},{name:"SVGAnimatedNumberList",value:1,category:2},{name:"SVGNumberList",value:1,category:2},{name:"SVGAnimatedPreserveAspectRatio",value:1,category:2},{name:"SVGPreserveAspectRatio",value:1,category:2},{name:"SVGAnimatedRect",value:1,category:2},{name:"SVGRect",value:1,category:2},{name:"SVGAnimatedTransformList",value:1,category:2},{name:"SVGTransformList",value:1,category:2},{name:"SVGAnimateElement",value:1,category:2},{name:"SVGAnimateMotionElement",value:1,category:2},{name:"SVGAnimateTransformElement",value:1,category:2},{name:"ElementTimeControl",value:1,category:4},{name:"SVGCircleElement",value:1,category:2},{name:"SVGClipPathElement",value:1,category:2},{name:"SVGAnimatedEnumeration",value:1,category:2},{name:"SVGColor",value:1,category:2},{name:"SVGComponentTransferFunctionElement",value:1,category:2},{name:"SVGAnimatedNumber",value:1,category:2},{name:"SVGCursorElement",value:1,category:2},{name:"SVGExternalResourcesRequired",value:1,category:2},{name:"SVGDefsElement",value:1,category:2},{name:"SVGDescElement",value:1,category:2},{name:"SVGStylable",value:1,category:2},{name:"SVGSVGElement",value:1,category:2},{name:"SVGElementInstance",value:1,category:2},{name:"EventTarget",value:1,category:4},{name:"SVGElementInstanceList",value:1,category:2},{name:"SVGUseElement",value:1,category:2},{name:"SVGEllipseElement",value:1,category:2},{name:"SVGAnimatedBoolean",value:1,category:2},{name:"SVGFEBlendElement",value:1,category:2},{name:"SVGFilterPrimitiveStandardAttributes",value:1,category:2},{name:"SVGFEColorMatrixElement",value:1,category:2},{name:"SVGFEComponentTransferElement",value:1,category:2},{name:"SVGFECompositeElement",value:1,category:2},{name:"SVGFEConvolveMatrixElement",value:1,category:2},{name:"SVGAnimatedInteger",value:1,category:2},{name:"SVGFEDiffuseLightingElement",value:1,category:2},{name:"SVGFEDisplacementMapElement",value:1,category:2},{name:"SVGFEDistantLightElement",value:1,category:2},{name:"SVGFEDropShadowElement",value:1,category:2},{name:"SVGFEFloodElement",value:1,category:2},{name:"SVGFEFuncAElement",value:1,category:2},{name:"SVGFEFuncBElement",value:1,category:2},{name:"SVGFEFuncGElement",value:1,category:2},{name:"SVGFEFuncRElement",value:1,category:2},{name:"SVGFEGaussianBlurElement",value:1,category:2},{name:"SVGFEImageElement",value:1,category:2},{name:"SVGFEMergeElement",value:1,category:2},{name:"SVGFEMergeNodeElement",value:1,category:2},{name:"SVGFEMorphologyElement",value:1,category:2},{name:"SVGFEOffsetElement",value:1,category:2},{name:"SVGFEPointLightElement",value:1,category:2},{name:"SVGFESpecularLightingElement",value:1,category:2},{name:"SVGFESpotLightElement",value:1,category:2},{name:"SVGFETileElement",value:1,category:2},{name:"SVGFETurbulenceElement",value:1,category:2},{name:"SVGFilterElement",value:1,category:2},{name:"SVGFitToViewBox",value:1,category:2},{name:"SVGFontElement",value:1,category:2},{name:"SVGFontFaceElement",value:1,category:2},{name:"SVGFontFaceFormatElement",value:1,category:2},{name:"SVGFontFaceNameElement",value:1,category:2},{name:"SVGFontFaceSrcElement",value:1,category:2},{name:"SVGFontFaceUriElement",value:1,category:2},{name:"SVGForeignObjectElement",value:1,category:2},{name:"SVGGElement",value:1,category:2},{name:"SVGGlyphElement",value:1,category:2},{name:"SVGGlyphRefElement",value:1,category:2},{name:"SVGGradientElement",value:1,category:2},{name:"SVGHKernElement",value:1,category:2},{name:"SVGImageElement",value:1,category:2},{name:"SVGLinearGradientElement",value:1,category:2},{name:"SVGLineElement",value:1,category:2},{name:"SVGLocatable",value:1,category:2},{name:"SVGMatrix",value:1,category:2},{name:"SVGMarkerElement",value:1,category:2},{name:"SVGMaskElement",value:1,category:2},{name:"SVGMetadataElement",value:1,category:2},{name:"SVGMissingGlyphElement",value:1,category:2},{name:"SVGMPathElement",value:1,category:2},{name:"SVGNumber",value:1,category:2},{name:"SVGPaint",value:1,category:2},{name:"SVGPathElement",value:1,category:2},{name:"SVGPathSegList",value:1,category:2},{name:"SVGPathSegArcAbs",value:1,category:2},{name:"SVGPathSegArcRel",value:1,category:2},{name:"SVGPathSegClosePath",value:1,category:2},{name:"SVGPathSegCurvetoCubicAbs",value:1,category:2},{name:"SVGPathSegCurvetoCubicRel",value:1,category:2},{name:"SVGPathSegCurvetoCubicSmoothAbs",value:1,category:2},{name:"SVGPathSegCurvetoCubicSmoothRel",value:1,category:2},{name:"SVGPathSegCurvetoQuadraticAbs",value:1,category:2},{name:"SVGPathSegCurvetoQuadraticRel",value:1,category:2},{name:"SVGPathSegCurvetoQuadraticSmoothAbs",value:1,category:2},{name:"SVGPathSegCurvetoQuadraticSmoothRel",value:1,category:2},{name:"SVGPathSegLinetoAbs",value:1,category:2},{name:"SVGPathSegLinetoHorizontalAbs",value:1,category:2},{name:"SVGPathSegLinetoHorizontalRel",value:1,category:2},{name:"SVGPathSegLinetoRel",value:1,category:2},{name:"SVGPathSegLinetoVerticalAbs",value:1,category:2},{name:"SVGPathSegLinetoVerticalRel",value:1,category:2},{name:"SVGPathSegMovetoAbs",value:1,category:2},{name:"SVGPathSegMovetoRel",value:1,category:2},{name:"SVGPoint",value:1,category:2},{name:"SVGPathSeg",value:1,category:2},{name:"SVGPatternElement",value:1,category:2},{name:"SVGPointList",value:1,category:2},{name:"SVGPolygonElement",value:1,category:2},{name:"SVGPolylineElement",value:1,category:2},{name:"SVGRadialGradientElement",value:1,category:2},{name:"SVGRectElement",value:1,category:2},{name:"SVGScriptElement",value:1,category:2},{name:"SVGSetElement",value:1,category:2},{name:"SVGStopElement",value:1,category:2},{name:"SVGStyleElement",value:1,category:2},{name:"SVGLangSpace",value:1,category:2},{name:"SVGZoomAndPan",value:1,category:2},{name:"SVGViewSpec",value:1,category:2},{name:"SVGTransform",value:1,category:2},{name:"SVGSwitchElement",value:1,category:2},{name:"SVGSymbolElement",value:1,category:2},{name:"SVGTests",value:1,category:2},{name:"SVGStringList",value:1,category:2},{name:"SVGTextContentElement",value:1,category:2},{name:"SVGTextElement",value:1,category:2},{name:"SVGTextPathElement",value:1,category:2},{name:"SVGTextPositioningElement",value:1,category:2},{name:"SVGTitleElement",value:1,category:2},{name:"SVGTRefElement",value:1,category:2},{name:"SVGTSpanElement",value:1,category:2},{name:"SVGViewElement",value:1,category:2},{name:"SVGVKernElement",value:1,category:2},{name:"TextTrackCueList",value:1,category:4},{name:"TextTrackCue",value:1,category:4},{name:"Touch",value:1,category:4},{name:"TouchList",value:1,category:4},{name:"TreeWalker",value:1,category:4},{name:"Uint16Array",value:1,category:4},{name:"Uint32Array",value:1,category:4},{name:"Uint8ClampedArray",value:1,category:4},{name:"WebGLRenderingContext",value:3,category:1},{name:"WebGLProgram",value:1,category:1},{name:"WebGLBuffer",value:1,category:1},{name:"WebGLFramebuffer",value:1,category:1},{name:"WebGLRenderbuffer",value:1,category:1},{name:"WebGLTexture",value:1,category:1},{name:"WebGLShader",value:1,category:1},{name:"WebGLActiveInfo",value:1,category:1},{name:"WebGLContextAttributes",value:1,category:1},{name:"WebGLShaderPrecisionFormat",value:1,category:1},{name:"WebGLUniformLocation",value:1,category:1},{name:"WebKitAnimationList",value:1,category:4},{name:"WebKitAnimation",value:1,category:4},{name:"WebKitCSSFilterValue",value:1,category:4},{name:"WebKitCSSKeyframeRule",value:1,category:4},{name:"WebKitCSSKeyframesRule",value:1,category:4},{name:"WebKitCSSMatrix",value:1,category:4},{name:"WebKitCSSMixFunctionValue",value:1,category:4},{name:"WebKitCSSTransformValue",value:1,category:4},{name:"WebKitNamedFlow",value:1,category:4},{name:"WebSocket",value:1,category:4},{name:"Worker",value:1,category:4},{name:"WorkerLocation",value:1,category:4},{name:"WorkerNavigator",value:1,category:4},{name:"XMLHttpRequest",value:1,category:4},{name:"XMLHttpRequestUpload",value:1,category:4},{name:"DOMFormData",value:1,category:4},{name:"XPathEvaluator",value:1,category:4},{name:"XPathExpression",value:1,category:4},{name:"XPathNSResolver",value:1,category:4},{name:"XPathResult",value:1,category:4},{name:"XSLTProcessor",value:1,category:4}],links:[{source:0,target:1},{source:0,target:2},{source:0,target:3},{source:4,target:4},{source:5,target:4},{source:6,target:7},{source:6,target:8},{source:9,target:3},{source:10,target:9},{source:11,target:12},{source:11,target:9},{source:11,target:13},{source:11,target:14},{source:15,target:16},{source:15,target:17},{source:15,target:0},{source:15,target:18},{source:15,target:9},{source:15,target:11},{source:15,target:19},{source:15,target:20},{source:15,target:21},{source:15,target:22},{source:15,target:23},{source:15,target:24},{source:15,target:25},{source:15,target:26},{source:15,target:27},{source:15,target:28},{source:15,target:29},{source:15,target:30},{source:15,target:31},{source:15,target:32},{source:15,target:4},{source:16,target:1},{source:13,target:14},{source:1,target:15},{source:1,target:1},{source:1,target:14},{source:14,target:3},{source:12,target:1},{source:18,target:1},{source:18,target:14},{source:18,target:3},{source:33,target:34},{source:35,target:33},{source:35,target:36},{source:35,target:37},{source:35,target:38},{source:35,target:39},{source:35,target:34},{source:35,target:40},{source:35,target:41},{source:42,target:43},{source:19,target:1},{source:20,target:1},{source:44,target:7},{source:45,target:46},{source:47,target:48},{source:47,target:49},{source:47,target:39},{source:50,target:44},{source:51,target:52},{source:21,target:1},{source:21,target:9},{source:53,target:5},{source:54,target:55},{source:56,target:55},{source:56,target:57},{source:58,target:55},{source:58,target:59},{source:58,target:60},{source:61,target:55},{source:61,target:62},{source:61,target:59},{source:63,target:55},{source:63,target:57},{source:64,target:65},{source:64,target:66},{source:64,target:67},{source:64,target:68},{source:55,target:55},{source:55,target:60},{source:62,target:55},{source:57,target:55},{source:57,target:65},{source:69,target:55},{source:69,target:57},{source:60,target:70},{source:60,target:62},{source:60,target:55},{source:71,target:55},{source:72,target:65},{source:73,target:74},{source:75,target:73},{source:75,target:76},{source:76,target:77},{source:78,target:79},{source:78,target:80},{source:49,target:81},{source:49,target:78},{source:82,target:5},{source:83,target:84},{source:22,target:1},{source:22,target:14},{source:85,target:80},{source:85,target:86},{source:85,target:87},{source:88,target:89},{source:88,target:90},{source:88,target:88},{source:88,target:91},{source:86,target:92},{source:90,target:93},{source:94,target:7},{source:94,target:8},{source:94,target:95},{source:96,target:7},{source:96,target:97},{source:98,target:85},{source:99,target:88},{source:100,target:60},{source:100,target:96},{source:100,target:101},{source:102,target:103},{source:104,target:102},{source:103,target:102},{source:105,target:103},{source:106,target:7},{source:106,target:107},{source:108,target:109},{source:23,target:1},{source:23,target:14},{source:8,target:7},{source:8,target:109},{source:8,target:110},{source:8,target:8},{source:8,target:57},{source:8,target:6},{source:8,target:46},{source:8,target:45},{source:8,target:95},{source:8,target:111},{source:112,target:7},{source:113,target:7},{source:92,target:114},{source:80,target:98},{source:80,target:85},{source:80,target:115},{source:80,target:116},{source:80,target:87},{source:114,target:80},{source:93,target:89},{source:116,target:80},{source:89,target:99},{source:89,target:89},{source:89,target:117},{source:89,target:88},{source:118,target:119},{source:120,target:81},{source:121,target:80},{source:121,target:122},{source:121,target:120},{source:91,target:89},{source:91,target:123},{source:91,target:81},{source:48,target:81},{source:124,target:119},{source:125,target:4},{source:126,target:98},{source:127,target:119},{source:122,target:127},{source:3,target:5},{source:3,target:3},{source:128,target:5},{source:128,target:128},{source:24,target:1},{source:24,target:13},{source:129,target:130},{source:131,target:132},{source:133,target:134},{source:135,target:7},{source:135,target:95},{source:136,target:137},{source:138,target:137},{source:139,target:137},{source:140,target:141},{source:142,target:137},{source:143,target:137},{source:144,target:137},{source:145,target:137},{source:146,target:137},{source:146,target:147},{source:146,target:95},{source:146,target:148},{source:34,target:137},{source:149,target:7},{source:150,target:137},{source:150,target:95},{source:151,target:137},{source:151,target:149},{source:152,target:137},{source:153,target:137},{source:154,target:137},{source:155,target:137},{source:101,target:8},{source:101,target:135},{source:101,target:149},{source:137,target:8},{source:137,target:149},{source:156,target:137},{source:156,target:157},{source:158,target:137},{source:158,target:149},{source:158,target:147},{source:158,target:148},{source:159,target:137},{source:160,target:149},{source:160,target:7},{source:147,target:137},{source:147,target:149},{source:161,target:137},{source:161,target:157},{source:162,target:137},{source:163,target:137},{source:164,target:137},{source:165,target:137},{source:166,target:137},{source:167,target:137},{source:167,target:157},{source:39,target:137},{source:168,target:137},{source:168,target:48},{source:168,target:147},{source:168,target:95},{source:168,target:148},{source:168,target:114},{source:169,target:137},{source:169,target:147},{source:169,target:95},{source:169,target:148},{source:170,target:137},{source:170,target:147},{source:171,target:137},{source:171,target:147},{source:172,target:137},{source:173,target:137},{source:173,target:70},{source:173,target:108},{source:174,target:137},{source:174,target:149},{source:175,target:137},{source:141,target:137},{source:141,target:176},{source:141,target:177},{source:141,target:178},{source:141,target:179},{source:141,target:180},{source:181,target:137},{source:182,target:137},{source:183,target:137},{source:183,target:95},{source:184,target:137},{source:185,target:137},{source:185,target:147},{source:185,target:148},{source:185,target:157},{source:186,target:137},{source:187,target:137},{source:188,target:137},{source:188,target:147},{source:189,target:149},{source:189,target:188},{source:189,target:7},{source:190,target:137},{source:190,target:147},{source:190,target:108},{source:190,target:95},{source:190,target:148},{source:191,target:137},{source:192,target:137},{source:193,target:137},{source:194,target:137},{source:194,target:95},{source:195,target:137},{source:196,target:137},{source:197,target:137},{source:197,target:147},{source:197,target:95},{source:197,target:189},{source:197,target:149},{source:197,target:148},{source:197,target:7},{source:198,target:137},{source:199,target:137},{source:200,target:137},{source:201,target:137},{source:201,target:70},{source:202,target:137},{source:203,target:137},{source:204,target:137},{source:205,target:137},{source:205,target:202},{source:205,target:149},{source:205,target:206},{source:207,target:137},{source:207,target:149},{source:206,target:137},{source:206,target:149},{source:208,target:137},{source:208,target:147},{source:208,target:95},{source:208,target:148},{source:209,target:137},{source:210,target:137},{source:210,target:180},{source:211,target:137},{source:212,target:137},{source:40,target:141},{source:213,target:214},{source:213,target:215},{source:213,target:216},{source:217,target:213},{source:218,target:219},{source:218,target:214},{source:218,target:220},{source:218,target:221},{source:222,target:215},{source:222,target:223},{source:222,target:224},{source:222,target:216},{source:225,target:214},{source:225,target:220},{source:225,target:216},{source:226,target:215},{source:226,target:226},{source:220,target:219},{source:220,target:214},{source:220,target:221},{source:220,target:216},{source:220,target:225},{source:224,target:216},{source:216,target:227},{source:216,target:214},{source:216,target:221},{source:221,target:218},{source:221,target:227},{source:221,target:220},{source:223,target:216},{source:228,target:5},{source:228,target:228},{source:229,target:5},{source:229,target:229},{source:230,target:5},{source:230,target:230},{source:231,target:231},{source:232,target:233},{source:234,target:219},{source:177,target:176},{source:25,target:12},{source:25,target:141},{source:235,target:236},{source:236,target:235},{source:237,target:238},{source:237,target:239},{source:233,target:240},{source:26,target:12},{source:26,target:233},{source:27,target:12},{source:27,target:233},{source:241,target:233},{source:240,target:242},{source:243,target:244},{source:115,target:117},{source:245,target:7},{source:246,target:95},{source:246,target:7},{source:97,target:7},{source:247,target:131},{source:247,target:104},{source:247,target:105},{source:247,target:248},{source:247,target:129},{source:249,target:250},{source:251,target:232},{source:7,target:97},{source:7,target:95},{source:7,target:7},{source:7,target:8},{source:252,target:7},{source:253,target:252},{source:253,target:7},{source:95,target:7},{source:254,target:7},{source:255,target:256},{source:257,target:255},{source:257,target:87},{source:258,target:259},{source:28,target:12},{source:28,target:14},{source:28,target:32},{source:29,target:1},{source:260,target:52},{source:260,target:261},{source:260,target:262},{source:132,target:133},{source:263,target:264},{source:265,target:7},{source:265,target:70},{source:266,target:95},{source:107,target:7},{source:107,target:94},{source:107,target:107},{source:107,target:46},{source:107,target:45},{source:68,target:64},{source:67,target:64},{source:267,target:4},{source:267,target:5},{source:268,target:269},{source:268,target:241},{source:268,target:270},{source:268,target:233},{source:268,target:271},{source:268,target:267},{source:268,target:272},{source:271,target:269},{source:272,target:273},{source:274,target:275},{source:30,target:1},{source:276,target:277},{source:111,target:94},{source:111,target:8},{source:111,target:7},{source:111,target:95},{source:111,target:106},{source:278,target:279},{source:278,target:244},{source:280,target:84},{source:239,target:176},{source:239,target:2},{source:238,target:239},{source:281,target:282},{source:283,target:284},{source:285,target:281},{source:286,target:287},{source:288,target:286},{source:289,target:290},{source:291,target:292},{source:293,target:292},{source:74,target:292},{source:294,target:295},{source:296,target:289},{source:77,target:296},{source:297,target:298},{source:297,target:299},{source:300,target:301},{source:70,target:59},{source:70,target:7},{source:70,target:70},{source:302,target:70},{source:303,target:304},{source:303,target:305},{source:306,target:307},{source:308,target:309},{source:310,target:307},{source:311,target:312},{source:313,target:314},{source:315,target:316},{source:317,target:318},{source:319,target:320},{source:321,target:322},{source:323,target:324},{source:325,target:326},{source:327,target:312},{source:328,target:312},{source:329,target:312},{source:312,target:330},{source:312,target:307},{source:331,target:304},{source:331,target:315},{source:332,target:304},{source:332,target:333},{source:334,target:65},{source:334,target:67},{source:335,target:307},{source:335,target:336},{source:335,target:319},{source:335,target:333},{source:337,target:338},{source:337,target:315},{source:339,target:304},{source:340,target:341},{source:157,target:342},{source:307,target:8},{source:307,target:342},{source:307,target:307},{source:343,target:344},{source:343,target:345},{source:343,target:307},{source:343,target:346},{source:343,target:343},{source:345,target:343},{source:347,target:304},{source:347,target:315},{source:338,target:348},{source:349,target:350},{source:349,target:305},{source:349,target:333},{source:351,target:350},{source:351,target:305},{source:351,target:333},{source:351,target:319},{source:352,target:350},{source:352,target:305},{source:353,target:350},{source:353,target:305},{source:353,target:336},{source:353,target:333},{source:354,target:350},{source:354,target:336},{source:354,target:333},{source:354,target:305},{source:354,target:319},{source:354,target:355},{source:354,target:348},{source:356,target:350},{source:356,target:336},{source:356,target:305},{source:357,target:350},{source:357,target:305},{source:357,target:336},{source:357,target:333},{source:358,target:307},{source:358,target:336},{source:359,target:350},{source:359,target:336},{source:359,target:305},{source:360,target:350},{source:361,target:335},{source:362,target:335},{source:363,target:335},{source:364,target:335},{source:365,target:350},{source:365,target:305},{source:365,target:336},{source:366,target:350},{source:366,target:321},{source:367,target:350},{source:368,target:307},{source:368,target:305},{source:369,target:350},{source:369,target:305},{source:369,target:333},{source:369,target:336},{source:370,target:350},{source:370,target:336},{source:370,target:305},{source:371,target:307},{source:371,target:336},{source:372,target:350},{source:372,target:305},{source:372,target:336},{source:373,target:307},{source:373,target:336},{source:374,target:350},{source:374,target:305},{source:375,target:350},{source:375,target:336},{source:375,target:355},{source:375,target:333},{source:376,target:341},{source:376,target:355},{source:376,target:333},{source:376,target:315},{source:350,target:341},{source:350,target:315},{source:350,target:305},{source:377,target:321},{source:377,target:323},{source:378,target:307},{source:379,target:307},{source:380,target:307},{source:381,target:307},{source:382,target:307},{source:383,target:307},{source:384,target:304},{source:384,target:315},{source:385,target:304},{source:386,target:307},{source:387,target:341},{source:388,target:341},{source:388,target:325},{source:388,target:333},{source:389,target:307},{source:390,target:304},{source:390,target:315},{source:390,target:321},{source:318,target:316},{source:391,target:388},{source:391,target:315},{source:392,target:304},{source:392,target:315},{source:393,target:307},{source:393,target:324},{source:393,target:394},{source:395,target:377},{source:395,target:315},{source:395,target:333},{source:395,target:313},{source:395,target:314},{source:396,target:341},{source:396,target:315},{source:396,target:333},{source:394,target:394},{source:397,target:307},{source:398,target:307},{source:399,target:338},{source:320,target:400},{source:401,target:334},{source:402,target:304},{source:402,target:403},{source:402,target:336},{source:402,target:404},{source:402,target:405},{source:402,target:406},{source:402,target:407},{source:402,target:408},{source:402,target:409},{source:402,target:410},{source:402,target:411},{source:402,target:412},{source:402,target:413},{source:402,target:414},{source:402,target:415},{source:402,target:416},{source:402,target:417},{source:402,target:418},{source:402,target:419},{source:402,target:420},{source:402,target:421},{source:402,target:422},{source:402,target:423},{source:404,target:424},{source:405,target:424},{source:406,target:424},{source:407,target:424},{source:408,target:424},{source:409,target:424},{source:410,target:424},{source:411,target:424},{source:412,target:424},{source:413,target:424},{source:414,target:424},{source:415,target:424},{source:416,target:424},{source:417,target:424},{source:418,target:424},{source:419,target:424},{source:420,target:424},{source:403,target:424},{source:421,target:424},{source:422,target:424},{source:425,target:377},{source:425,target:315},{source:425,target:333},{source:425,target:325},{source:423,target:423},{source:426,target:423},{source:427,target:304},{source:427,target:426},{source:428,target:304},{source:428,target:426},{source:429,target:388},{source:429,target:315},{source:430,target:304},{source:430,target:315},{source:431,target:338},{source:432,target:312},{source:433,target:341},{source:433,target:336},{source:341,target:305},{source:341,target:57},{source:341,target:65},{source:434,target:435},{source:342,target:436},{source:342,target:423},{source:342,target:437},{source:342,target:315},{source:342,target:324},{source:342,target:307},{source:342,target:314},{source:342,target:316},{source:342,target:394},{source:342,target:400},{source:342,target:438},{source:342,target:8},{source:342,target:95},{source:439,target:304},{source:440,target:377},{source:441,target:442},{source:443,target:341},{source:443,target:333},{source:443,target:315},{source:443,target:423},{source:443,target:324},{source:444,target:304},{source:445,target:309},{source:445,target:333},{source:445,target:315},{source:446,target:443},{source:446,target:317},{source:446,target:319},{source:447,target:341},{source:438,target:394},{source:304,target:393},{source:304,target:325},{source:326,target:438},{source:448,target:309},{source:449,target:446},{source:309,target:305},{source:346,target:304},{source:346,target:343},{source:346,target:315},{source:450,target:436},{source:450,target:442},{source:437,target:321},{source:437,target:326},{source:437,target:323},{source:437,target:307},{source:451,target:307},{source:43,target:44},{source:43,target:43},{source:180,target:452},{source:180,target:453},{source:453,target:180},{source:453,target:94},{source:452,target:453},{source:179,target:180},{source:454,target:344},{source:455,target:454},{source:456,target:7},{source:456,target:252},{source:457,target:5},{source:457,target:457},{source:458,target:5},{source:458,target:458},{source:2,target:5},{source:2,target:2},{source:459,target:2},{source:459,target:459},{source:31,target:1},{source:31,target:3},{source:460,target:33},{source:460,target:461},{source:460,target:462},{source:460,target:463},{source:460,target:464},{source:460,target:465},{source:460,target:4},{source:460,target:5},{source:460,target:466},{source:460,target:467},{source:460,target:468},{source:460,target:469},{source:460,target:470},{source:460,target:36},{source:460,target:39},{source:460,target:34},{source:460,target:40},{source:460,target:3},{source:471,target:472},{source:473,target:72},{source:474,target:55},{source:474,target:57},{source:475,target:55},{source:475,target:62},{source:475,target:474},{source:476,target:476},{source:477,target:72},{source:478,target:72},{source:479,target:95},{source:480,target:4},{source:480,target:5},{source:481,target:279},{source:84,target:222},{source:84,target:482},{source:84,target:483},{source:84,target:84},{source:84,target:257},{source:84,target:73},{source:84,target:76},{source:84,target:126},{source:84,target:99},{source:84,target:89},{source:484,target:485},{source:484,target:4},{source:484,target:5},{source:484,target:486},{source:487,target:488},{source:487,target:489},{source:487,target:490},{source:488,target:490},{source:490,target:7},{source:491,target:7},{source:491,target:94}]},n={legend:{data:["HTMLElement","WebGL","SVG","CSS","Other"]},series:[{type:"graph",layout:"force",animation:!1,label:{normal:{position:"right",formatter:"{b}"}},draggable:!0,data:e.nodes.map((function(e,t){return e.id=t,e})),categories:e.categories,force:{edgeLength:5,repulsion:20,gravity:.2},edges:e.links}]};return t["default"].createElement(r["default"],{option:n,style:{height:"700px",width:"100%"}})},a=i;return t["default"].createElement(a)},previewerProps:{sources:{_:{tsx:'import React from \'react\';\nimport ReactECharts from \'echarts-for-react\';\n\nconst Page: React.FC = () => {\n  const webkitDep = {"type":"force","categories":[{"name":"HTMLElement","keyword":{},"base":"HTMLElement"},{"name":"WebGL","keyword":{},"base":"WebGLRenderingContext"},{"name":"SVG","keyword":{},"base":"SVGElement"},{"name":"CSS","keyword":{},"base":"CSSRule"},{"name":"Other","keyword":{}}],"nodes":[{"name":"AnalyserNode","value":1,"category":4},{"name":"AudioNode","value":1,"category":4},{"name":"Uint8Array","value":1,"category":4},{"name":"Float32Array","value":1,"category":4},{"name":"ArrayBuffer","value":1,"category":4},{"name":"ArrayBufferView","value":1,"category":4},{"name":"Attr","value":1,"category":4},{"name":"Node","value":1,"category":4},{"name":"Element","value":1,"category":4},{"name":"AudioBuffer","value":1,"category":4},{"name":"AudioBufferCallback","value":1,"category":4},{"name":"AudioBufferSourceNode","value":1,"category":4},{"name":"AudioSourceNode","value":1,"category":4},{"name":"AudioGain","value":1,"category":4},{"name":"AudioParam","value":1,"category":4},{"name":"AudioContext","value":1,"category":4},{"name":"AudioDestinationNode","value":1,"category":4},{"name":"AudioListener","value":1,"category":4},{"name":"BiquadFilterNode","value":1,"category":4},{"name":"ChannelMergerNode","value":1,"category":4},{"name":"ChannelSplitterNode","value":1,"category":4},{"name":"ConvolverNode","value":1,"category":4},{"name":"DelayNode","value":1,"category":4},{"name":"DynamicsCompressorNode","value":1,"category":4},{"name":"GainNode","value":1,"category":4},{"name":"MediaElementAudioSourceNode","value":1,"category":4},{"name":"MediaStreamAudioDestinationNode","value":1,"category":4},{"name":"MediaStreamAudioSourceNode","value":1,"category":4},{"name":"OscillatorNode","value":1,"category":4},{"name":"PannerNode","value":1,"category":4},{"name":"ScriptProcessorNode","value":1,"category":4},{"name":"WaveShaperNode","value":1,"category":4},{"name":"WaveTable","value":1,"category":4},{"name":"CanvasRenderingContext","value":1,"category":4},{"name":"HTMLCanvasElement","value":1,"category":0},{"name":"CanvasRenderingContext2D","value":1,"category":4},{"name":"ImageData","value":1,"category":4},{"name":"CanvasGradient","value":1,"category":4},{"name":"CanvasPattern","value":1,"category":4},{"name":"HTMLImageElement","value":1,"category":0},{"name":"HTMLVideoElement","value":1,"category":0},{"name":"TextMetrics","value":1,"category":4},{"name":"CDATASection","value":1,"category":4},{"name":"Text","value":1,"category":4},{"name":"CharacterData","value":1,"category":4},{"name":"ClientRectList","value":1,"category":4},{"name":"ClientRect","value":1,"category":4},{"name":"Clipboard","value":1,"category":4},{"name":"FileList","value":1,"category":4},{"name":"DataTransferItemList","value":1,"category":4},{"name":"Comment","value":1,"category":4},{"name":"Console","value":1,"category":4},{"name":"MemoryInfo","value":1,"category":4},{"name":"Crypto","value":1,"category":4},{"name":"CSSCharsetRule","value":1,"category":3},{"name":"CSSRule","value":3,"category":3},{"name":"CSSFontFaceRule","value":1,"category":3},{"name":"CSSStyleDeclaration","value":1,"category":3},{"name":"CSSImportRule","value":1,"category":3},{"name":"MediaList","value":1,"category":4},{"name":"CSSStyleSheet","value":1,"category":3},{"name":"CSSMediaRule","value":1,"category":3},{"name":"CSSRuleList","value":1,"category":3},{"name":"CSSPageRule","value":1,"category":3},{"name":"CSSPrimitiveValue","value":1,"category":3},{"name":"CSSValue","value":1,"category":3},{"name":"Counter","value":1,"category":4},{"name":"RGBColor","value":1,"category":4},{"name":"Rect","value":1,"category":4},{"name":"CSSStyleRule","value":1,"category":3},{"name":"StyleSheet","value":1,"category":4},{"name":"CSSUnknownRule","value":1,"category":3},{"name":"CSSValueList","value":1,"category":3},{"name":"Database","value":1,"category":4},{"name":"SQLTransactionCallback","value":1,"category":4},{"name":"DatabaseCallback","value":1,"category":4},{"name":"DatabaseSync","value":1,"category":4},{"name":"SQLTransactionSyncCallback","value":1,"category":4},{"name":"DataTransferItem","value":1,"category":4},{"name":"StringCallback","value":1,"category":4},{"name":"Entry","value":1,"category":4},{"name":"File","value":1,"category":4},{"name":"DataView","value":1,"category":4},{"name":"DedicatedWorkerContext","value":1,"category":4},{"name":"WorkerContext","value":1,"category":4},{"name":"DirectoryEntry","value":1,"category":4},{"name":"DirectoryReader","value":1,"category":4},{"name":"VoidCallback","value":1,"category":4},{"name":"DirectoryEntrySync","value":1,"category":4},{"name":"EntrySync","value":1,"category":4},{"name":"DirectoryReaderSync","value":1,"category":4},{"name":"FileEntrySync","value":1,"category":4},{"name":"EntriesCallback","value":1,"category":4},{"name":"EntryArraySync","value":1,"category":4},{"name":"DocumentFragment","value":1,"category":4},{"name":"NodeList","value":1,"category":4},{"name":"DocumentType","value":1,"category":4},{"name":"NamedNodeMap","value":1,"category":4},{"name":"DOMFileSystem","value":1,"category":4},{"name":"DOMFileSystemSync","value":1,"category":4},{"name":"DOMImplementation","value":1,"category":4},{"name":"HTMLDocument","value":1,"category":0},{"name":"DOMMimeType","value":1,"category":4},{"name":"DOMPlugin","value":1,"category":4},{"name":"DOMMimeTypeArray","value":1,"category":4},{"name":"DOMPluginArray","value":1,"category":4},{"name":"DOMSelection","value":1,"category":4},{"name":"Range","value":1,"category":4},{"name":"DOMSettableTokenList","value":1,"category":4},{"name":"DOMTokenList","value":1,"category":4},{"name":"DOMStringMap","value":1,"category":4},{"name":"ShadowRoot","value":1,"category":4},{"name":"Entity","value":1,"category":4},{"name":"EntityReference","value":1,"category":4},{"name":"EntryArray","value":1,"category":4},{"name":"MetadataCallback","value":1,"category":4},{"name":"EntryCallback","value":1,"category":4},{"name":"Metadata","value":1,"category":4},{"name":"ErrorCallback","value":1,"category":4},{"name":"FileError","value":1,"category":4},{"name":"FileCallback","value":1,"category":4},{"name":"FileEntry","value":1,"category":4},{"name":"FileWriterCallback","value":1,"category":4},{"name":"FileWriterSync","value":1,"category":4},{"name":"FileReader","value":1,"category":4},{"name":"FileReaderSync","value":1,"category":4},{"name":"FileSystemCallback","value":1,"category":4},{"name":"FileWriter","value":1,"category":4},{"name":"Float64Array","value":1,"category":4},{"name":"GamepadList","value":1,"category":4},{"name":"Gamepad","value":1,"category":4},{"name":"Geolocation","value":1,"category":4},{"name":"PositionCallback","value":1,"category":4},{"name":"Geoposition","value":1,"category":4},{"name":"Coordinates","value":1,"category":4},{"name":"HTMLAllCollection","value":1,"category":0},{"name":"HTMLAnchorElement","value":1,"category":0},{"name":"HTMLElement","value":3,"category":0},{"name":"HTMLAppletElement","value":1,"category":0},{"name":"HTMLAreaElement","value":1,"category":0},{"name":"HTMLAudioElement","value":1,"category":0},{"name":"HTMLMediaElement","value":1,"category":0},{"name":"HTMLBaseElement","value":1,"category":0},{"name":"HTMLBaseFontElement","value":1,"category":0},{"name":"HTMLBodyElement","value":1,"category":0},{"name":"HTMLBRElement","value":1,"category":0},{"name":"HTMLButtonElement","value":1,"category":0},{"name":"HTMLFormElement","value":1,"category":0},{"name":"ValidityState","value":1,"category":4},{"name":"HTMLCollection","value":1,"category":0},{"name":"HTMLContentElement","value":1,"category":0},{"name":"HTMLDataListElement","value":1,"category":0},{"name":"HTMLDetailsElement","value":1,"category":0},{"name":"HTMLDirectoryElement","value":1,"category":0},{"name":"HTMLDivElement","value":1,"category":0},{"name":"HTMLDListElement","value":1,"category":0},{"name":"HTMLEmbedElement","value":1,"category":0},{"name":"SVGDocument","value":1,"category":2},{"name":"HTMLFieldSetElement","value":1,"category":0},{"name":"HTMLFontElement","value":1,"category":0},{"name":"HTMLFormControlsCollection","value":1,"category":0},{"name":"HTMLFrameElement","value":1,"category":0},{"name":"HTMLFrameSetElement","value":1,"category":0},{"name":"HTMLHeadElement","value":1,"category":0},{"name":"HTMLHeadingElement","value":1,"category":0},{"name":"HTMLHRElement","value":1,"category":0},{"name":"HTMLHtmlElement","value":1,"category":0},{"name":"HTMLIFrameElement","value":1,"category":0},{"name":"HTMLInputElement","value":1,"category":0},{"name":"HTMLKeygenElement","value":1,"category":0},{"name":"HTMLLabelElement","value":1,"category":0},{"name":"HTMLLegendElement","value":1,"category":0},{"name":"HTMLLIElement","value":1,"category":0},{"name":"HTMLLinkElement","value":1,"category":0},{"name":"HTMLMapElement","value":1,"category":0},{"name":"HTMLMarqueeElement","value":1,"category":0},{"name":"TimeRanges","value":1,"category":4},{"name":"MediaController","value":1,"category":4},{"name":"MediaError","value":1,"category":4},{"name":"TextTrackList","value":1,"category":4},{"name":"TextTrack","value":1,"category":4},{"name":"HTMLMenuElement","value":1,"category":0},{"name":"HTMLMetaElement","value":1,"category":0},{"name":"HTMLMeterElement","value":1,"category":0},{"name":"HTMLModElement","value":1,"category":0},{"name":"HTMLObjectElement","value":1,"category":0},{"name":"HTMLOListElement","value":1,"category":0},{"name":"HTMLOptGroupElement","value":1,"category":0},{"name":"HTMLOptionElement","value":1,"category":0},{"name":"HTMLOptionsCollection","value":1,"category":0},{"name":"HTMLOutputElement","value":1,"category":0},{"name":"HTMLParagraphElement","value":1,"category":0},{"name":"HTMLParamElement","value":1,"category":0},{"name":"HTMLPreElement","value":1,"category":0},{"name":"HTMLProgressElement","value":1,"category":0},{"name":"HTMLQuoteElement","value":1,"category":0},{"name":"HTMLScriptElement","value":1,"category":0},{"name":"HTMLSelectElement","value":1,"category":0},{"name":"HTMLShadowElement","value":1,"category":0},{"name":"HTMLSourceElement","value":1,"category":0},{"name":"HTMLSpanElement","value":1,"category":0},{"name":"HTMLStyleElement","value":1,"category":0},{"name":"HTMLTableCaptionElement","value":1,"category":0},{"name":"HTMLTableCellElement","value":1,"category":0},{"name":"HTMLTableColElement","value":1,"category":0},{"name":"HTMLTableElement","value":1,"category":0},{"name":"HTMLTableSectionElement","value":1,"category":0},{"name":"HTMLTableRowElement","value":1,"category":0},{"name":"HTMLTextAreaElement","value":1,"category":0},{"name":"HTMLTitleElement","value":1,"category":0},{"name":"HTMLTrackElement","value":1,"category":0},{"name":"HTMLUListElement","value":1,"category":0},{"name":"HTMLUnknownElement","value":1,"category":0},{"name":"IDBCursor","value":1,"category":4},{"name":"IDBAny","value":1,"category":4},{"name":"IDBKey","value":1,"category":4},{"name":"IDBRequest","value":1,"category":4},{"name":"IDBCursorWithValue","value":1,"category":4},{"name":"IDBDatabase","value":1,"category":4},{"name":"DOMStringList","value":1,"category":4},{"name":"IDBObjectStore","value":1,"category":4},{"name":"IDBTransaction","value":1,"category":4},{"name":"IDBFactory","value":1,"category":4},{"name":"IDBVersionChangeRequest","value":1,"category":4},{"name":"IDBOpenDBRequest","value":1,"category":4},{"name":"IDBIndex","value":1,"category":4},{"name":"IDBKeyRange","value":1,"category":4},{"name":"DOMError","value":1,"category":4},{"name":"Int16Array","value":1,"category":4},{"name":"Int32Array","value":1,"category":4},{"name":"Int8Array","value":1,"category":4},{"name":"JavaScriptCallFrame","value":1,"category":4},{"name":"LocalMediaStream","value":1,"category":4},{"name":"MediaStream","value":1,"category":4},{"name":"Location","value":1,"category":4},{"name":"MediaQueryList","value":1,"category":4},{"name":"MediaQueryListListener","value":1,"category":4},{"name":"MediaSource","value":1,"category":4},{"name":"SourceBufferList","value":1,"category":4},{"name":"SourceBuffer","value":1,"category":4},{"name":"MediaStreamTrackList","value":1,"category":4},{"name":"MediaStreamList","value":1,"category":4},{"name":"MediaStreamTrack","value":1,"category":4},{"name":"MessageChannel","value":1,"category":4},{"name":"MessagePort","value":1,"category":4},{"name":"MutationObserver","value":1,"category":4},{"name":"MutationRecord","value":1,"category":4},{"name":"Navigator","value":1,"category":4},{"name":"BatteryManager","value":1,"category":4},{"name":"NavigatorUserMediaErrorCallback","value":1,"category":4},{"name":"NavigatorUserMediaError","value":1,"category":4},{"name":"NavigatorUserMediaSuccessCallback","value":1,"category":4},{"name":"NodeFilter","value":1,"category":4},{"name":"NodeIterator","value":1,"category":4},{"name":"Notation","value":1,"category":4},{"name":"Notification","value":1,"category":4},{"name":"NotificationPermissionCallback","value":1,"category":4},{"name":"NotificationCenter","value":1,"category":4},{"name":"OESVertexArrayObject","value":1,"category":4},{"name":"WebGLVertexArrayObjectOES","value":1,"category":1},{"name":"Performance","value":1,"category":4},{"name":"PerformanceNavigation","value":1,"category":4},{"name":"PerformanceTiming","value":1,"category":4},{"name":"PositionErrorCallback","value":1,"category":4},{"name":"PositionError","value":1,"category":4},{"name":"ProcessingInstruction","value":1,"category":4},{"name":"RadioNodeList","value":1,"category":4},{"name":"RTCDataChannel","value":1,"category":4},{"name":"RTCPeerConnection","value":1,"category":4},{"name":"RTCSessionDescription","value":1,"category":4},{"name":"RTCIceCandidate","value":1,"category":4},{"name":"RTCSessionDescriptionCallback","value":1,"category":4},{"name":"RTCStatsCallback","value":1,"category":4},{"name":"RTCStatsResponse","value":1,"category":4},{"name":"RTCStatsReport","value":1,"category":4},{"name":"RTCStatsElement","value":1,"category":4},{"name":"ScriptProfile","value":1,"category":4},{"name":"ScriptProfileNode","value":1,"category":4},{"name":"SharedWorker","value":1,"category":4},{"name":"AbstractWorker","value":1,"category":4},{"name":"SharedWorkerContext","value":1,"category":4},{"name":"SpeechGrammarList","value":1,"category":4},{"name":"SpeechGrammar","value":1,"category":4},{"name":"SpeechInputResultList","value":1,"category":4},{"name":"SpeechInputResult","value":1,"category":4},{"name":"SpeechRecognition","value":1,"category":4},{"name":"SpeechRecognitionResult","value":1,"category":4},{"name":"SpeechRecognitionAlternative","value":1,"category":4},{"name":"SpeechRecognitionResultList","value":1,"category":4},{"name":"SQLResultSet","value":1,"category":4},{"name":"SQLResultSetRowList","value":1,"category":4},{"name":"SQLStatementCallback","value":1,"category":4},{"name":"SQLTransaction","value":1,"category":4},{"name":"SQLStatementErrorCallback","value":1,"category":4},{"name":"SQLTransactionErrorCallback","value":1,"category":4},{"name":"SQLError","value":1,"category":4},{"name":"SQLTransactionSync","value":1,"category":4},{"name":"StorageInfo","value":1,"category":4},{"name":"StorageInfoUsageCallback","value":1,"category":4},{"name":"StorageInfoQuotaCallback","value":1,"category":4},{"name":"StorageInfoErrorCallback","value":1,"category":4},{"name":"DOMCoreException","value":1,"category":4},{"name":"StyleSheetList","value":1,"category":4},{"name":"SVGAElement","value":1,"category":2},{"name":"SVGTransformable","value":1,"category":2},{"name":"SVGAnimatedString","value":1,"category":2},{"name":"SVGAltGlyphDefElement","value":1,"category":2},{"name":"SVGElement","value":3,"category":2},{"name":"SVGAltGlyphElement","value":1,"category":2},{"name":"SVGURIReference","value":1,"category":2},{"name":"SVGAltGlyphItemElement","value":1,"category":2},{"name":"SVGAnimateColorElement","value":1,"category":2},{"name":"SVGAnimationElement","value":1,"category":2},{"name":"SVGAnimatedAngle","value":1,"category":2},{"name":"SVGAngle","value":1,"category":2},{"name":"SVGAnimatedLength","value":1,"category":2},{"name":"SVGLength","value":1,"category":2},{"name":"SVGAnimatedLengthList","value":1,"category":2},{"name":"SVGLengthList","value":1,"category":2},{"name":"SVGAnimatedNumberList","value":1,"category":2},{"name":"SVGNumberList","value":1,"category":2},{"name":"SVGAnimatedPreserveAspectRatio","value":1,"category":2},{"name":"SVGPreserveAspectRatio","value":1,"category":2},{"name":"SVGAnimatedRect","value":1,"category":2},{"name":"SVGRect","value":1,"category":2},{"name":"SVGAnimatedTransformList","value":1,"category":2},{"name":"SVGTransformList","value":1,"category":2},{"name":"SVGAnimateElement","value":1,"category":2},{"name":"SVGAnimateMotionElement","value":1,"category":2},{"name":"SVGAnimateTransformElement","value":1,"category":2},{"name":"ElementTimeControl","value":1,"category":4},{"name":"SVGCircleElement","value":1,"category":2},{"name":"SVGClipPathElement","value":1,"category":2},{"name":"SVGAnimatedEnumeration","value":1,"category":2},{"name":"SVGColor","value":1,"category":2},{"name":"SVGComponentTransferFunctionElement","value":1,"category":2},{"name":"SVGAnimatedNumber","value":1,"category":2},{"name":"SVGCursorElement","value":1,"category":2},{"name":"SVGExternalResourcesRequired","value":1,"category":2},{"name":"SVGDefsElement","value":1,"category":2},{"name":"SVGDescElement","value":1,"category":2},{"name":"SVGStylable","value":1,"category":2},{"name":"SVGSVGElement","value":1,"category":2},{"name":"SVGElementInstance","value":1,"category":2},{"name":"EventTarget","value":1,"category":4},{"name":"SVGElementInstanceList","value":1,"category":2},{"name":"SVGUseElement","value":1,"category":2},{"name":"SVGEllipseElement","value":1,"category":2},{"name":"SVGAnimatedBoolean","value":1,"category":2},{"name":"SVGFEBlendElement","value":1,"category":2},{"name":"SVGFilterPrimitiveStandardAttributes","value":1,"category":2},{"name":"SVGFEColorMatrixElement","value":1,"category":2},{"name":"SVGFEComponentTransferElement","value":1,"category":2},{"name":"SVGFECompositeElement","value":1,"category":2},{"name":"SVGFEConvolveMatrixElement","value":1,"category":2},{"name":"SVGAnimatedInteger","value":1,"category":2},{"name":"SVGFEDiffuseLightingElement","value":1,"category":2},{"name":"SVGFEDisplacementMapElement","value":1,"category":2},{"name":"SVGFEDistantLightElement","value":1,"category":2},{"name":"SVGFEDropShadowElement","value":1,"category":2},{"name":"SVGFEFloodElement","value":1,"category":2},{"name":"SVGFEFuncAElement","value":1,"category":2},{"name":"SVGFEFuncBElement","value":1,"category":2},{"name":"SVGFEFuncGElement","value":1,"category":2},{"name":"SVGFEFuncRElement","value":1,"category":2},{"name":"SVGFEGaussianBlurElement","value":1,"category":2},{"name":"SVGFEImageElement","value":1,"category":2},{"name":"SVGFEMergeElement","value":1,"category":2},{"name":"SVGFEMergeNodeElement","value":1,"category":2},{"name":"SVGFEMorphologyElement","value":1,"category":2},{"name":"SVGFEOffsetElement","value":1,"category":2},{"name":"SVGFEPointLightElement","value":1,"category":2},{"name":"SVGFESpecularLightingElement","value":1,"category":2},{"name":"SVGFESpotLightElement","value":1,"category":2},{"name":"SVGFETileElement","value":1,"category":2},{"name":"SVGFETurbulenceElement","value":1,"category":2},{"name":"SVGFilterElement","value":1,"category":2},{"name":"SVGFitToViewBox","value":1,"category":2},{"name":"SVGFontElement","value":1,"category":2},{"name":"SVGFontFaceElement","value":1,"category":2},{"name":"SVGFontFaceFormatElement","value":1,"category":2},{"name":"SVGFontFaceNameElement","value":1,"category":2},{"name":"SVGFontFaceSrcElement","value":1,"category":2},{"name":"SVGFontFaceUriElement","value":1,"category":2},{"name":"SVGForeignObjectElement","value":1,"category":2},{"name":"SVGGElement","value":1,"category":2},{"name":"SVGGlyphElement","value":1,"category":2},{"name":"SVGGlyphRefElement","value":1,"category":2},{"name":"SVGGradientElement","value":1,"category":2},{"name":"SVGHKernElement","value":1,"category":2},{"name":"SVGImageElement","value":1,"category":2},{"name":"SVGLinearGradientElement","value":1,"category":2},{"name":"SVGLineElement","value":1,"category":2},{"name":"SVGLocatable","value":1,"category":2},{"name":"SVGMatrix","value":1,"category":2},{"name":"SVGMarkerElement","value":1,"category":2},{"name":"SVGMaskElement","value":1,"category":2},{"name":"SVGMetadataElement","value":1,"category":2},{"name":"SVGMissingGlyphElement","value":1,"category":2},{"name":"SVGMPathElement","value":1,"category":2},{"name":"SVGNumber","value":1,"category":2},{"name":"SVGPaint","value":1,"category":2},{"name":"SVGPathElement","value":1,"category":2},{"name":"SVGPathSegList","value":1,"category":2},{"name":"SVGPathSegArcAbs","value":1,"category":2},{"name":"SVGPathSegArcRel","value":1,"category":2},{"name":"SVGPathSegClosePath","value":1,"category":2},{"name":"SVGPathSegCurvetoCubicAbs","value":1,"category":2},{"name":"SVGPathSegCurvetoCubicRel","value":1,"category":2},{"name":"SVGPathSegCurvetoCubicSmoothAbs","value":1,"category":2},{"name":"SVGPathSegCurvetoCubicSmoothRel","value":1,"category":2},{"name":"SVGPathSegCurvetoQuadraticAbs","value":1,"category":2},{"name":"SVGPathSegCurvetoQuadraticRel","value":1,"category":2},{"name":"SVGPathSegCurvetoQuadraticSmoothAbs","value":1,"category":2},{"name":"SVGPathSegCurvetoQuadraticSmoothRel","value":1,"category":2},{"name":"SVGPathSegLinetoAbs","value":1,"category":2},{"name":"SVGPathSegLinetoHorizontalAbs","value":1,"category":2},{"name":"SVGPathSegLinetoHorizontalRel","value":1,"category":2},{"name":"SVGPathSegLinetoRel","value":1,"category":2},{"name":"SVGPathSegLinetoVerticalAbs","value":1,"category":2},{"name":"SVGPathSegLinetoVerticalRel","value":1,"category":2},{"name":"SVGPathSegMovetoAbs","value":1,"category":2},{"name":"SVGPathSegMovetoRel","value":1,"category":2},{"name":"SVGPoint","value":1,"category":2},{"name":"SVGPathSeg","value":1,"category":2},{"name":"SVGPatternElement","value":1,"category":2},{"name":"SVGPointList","value":1,"category":2},{"name":"SVGPolygonElement","value":1,"category":2},{"name":"SVGPolylineElement","value":1,"category":2},{"name":"SVGRadialGradientElement","value":1,"category":2},{"name":"SVGRectElement","value":1,"category":2},{"name":"SVGScriptElement","value":1,"category":2},{"name":"SVGSetElement","value":1,"category":2},{"name":"SVGStopElement","value":1,"category":2},{"name":"SVGStyleElement","value":1,"category":2},{"name":"SVGLangSpace","value":1,"category":2},{"name":"SVGZoomAndPan","value":1,"category":2},{"name":"SVGViewSpec","value":1,"category":2},{"name":"SVGTransform","value":1,"category":2},{"name":"SVGSwitchElement","value":1,"category":2},{"name":"SVGSymbolElement","value":1,"category":2},{"name":"SVGTests","value":1,"category":2},{"name":"SVGStringList","value":1,"category":2},{"name":"SVGTextContentElement","value":1,"category":2},{"name":"SVGTextElement","value":1,"category":2},{"name":"SVGTextPathElement","value":1,"category":2},{"name":"SVGTextPositioningElement","value":1,"category":2},{"name":"SVGTitleElement","value":1,"category":2},{"name":"SVGTRefElement","value":1,"category":2},{"name":"SVGTSpanElement","value":1,"category":2},{"name":"SVGViewElement","value":1,"category":2},{"name":"SVGVKernElement","value":1,"category":2},{"name":"TextTrackCueList","value":1,"category":4},{"name":"TextTrackCue","value":1,"category":4},{"name":"Touch","value":1,"category":4},{"name":"TouchList","value":1,"category":4},{"name":"TreeWalker","value":1,"category":4},{"name":"Uint16Array","value":1,"category":4},{"name":"Uint32Array","value":1,"category":4},{"name":"Uint8ClampedArray","value":1,"category":4},{"name":"WebGLRenderingContext","value":3,"category":1},{"name":"WebGLProgram","value":1,"category":1},{"name":"WebGLBuffer","value":1,"category":1},{"name":"WebGLFramebuffer","value":1,"category":1},{"name":"WebGLRenderbuffer","value":1,"category":1},{"name":"WebGLTexture","value":1,"category":1},{"name":"WebGLShader","value":1,"category":1},{"name":"WebGLActiveInfo","value":1,"category":1},{"name":"WebGLContextAttributes","value":1,"category":1},{"name":"WebGLShaderPrecisionFormat","value":1,"category":1},{"name":"WebGLUniformLocation","value":1,"category":1},{"name":"WebKitAnimationList","value":1,"category":4},{"name":"WebKitAnimation","value":1,"category":4},{"name":"WebKitCSSFilterValue","value":1,"category":4},{"name":"WebKitCSSKeyframeRule","value":1,"category":4},{"name":"WebKitCSSKeyframesRule","value":1,"category":4},{"name":"WebKitCSSMatrix","value":1,"category":4},{"name":"WebKitCSSMixFunctionValue","value":1,"category":4},{"name":"WebKitCSSTransformValue","value":1,"category":4},{"name":"WebKitNamedFlow","value":1,"category":4},{"name":"WebSocket","value":1,"category":4},{"name":"Worker","value":1,"category":4},{"name":"WorkerLocation","value":1,"category":4},{"name":"WorkerNavigator","value":1,"category":4},{"name":"XMLHttpRequest","value":1,"category":4},{"name":"XMLHttpRequestUpload","value":1,"category":4},{"name":"DOMFormData","value":1,"category":4},{"name":"XPathEvaluator","value":1,"category":4},{"name":"XPathExpression","value":1,"category":4},{"name":"XPathNSResolver","value":1,"category":4},{"name":"XPathResult","value":1,"category":4},{"name":"XSLTProcessor","value":1,"category":4}],"links":[{"source":0,"target":1},{"source":0,"target":2},{"source":0,"target":3},{"source":4,"target":4},{"source":5,"target":4},{"source":6,"target":7},{"source":6,"target":8},{"source":9,"target":3},{"source":10,"target":9},{"source":11,"target":12},{"source":11,"target":9},{"source":11,"target":13},{"source":11,"target":14},{"source":15,"target":16},{"source":15,"target":17},{"source":15,"target":0},{"source":15,"target":18},{"source":15,"target":9},{"source":15,"target":11},{"source":15,"target":19},{"source":15,"target":20},{"source":15,"target":21},{"source":15,"target":22},{"source":15,"target":23},{"source":15,"target":24},{"source":15,"target":25},{"source":15,"target":26},{"source":15,"target":27},{"source":15,"target":28},{"source":15,"target":29},{"source":15,"target":30},{"source":15,"target":31},{"source":15,"target":32},{"source":15,"target":4},{"source":16,"target":1},{"source":13,"target":14},{"source":1,"target":15},{"source":1,"target":1},{"source":1,"target":14},{"source":14,"target":3},{"source":12,"target":1},{"source":18,"target":1},{"source":18,"target":14},{"source":18,"target":3},{"source":33,"target":34},{"source":35,"target":33},{"source":35,"target":36},{"source":35,"target":37},{"source":35,"target":38},{"source":35,"target":39},{"source":35,"target":34},{"source":35,"target":40},{"source":35,"target":41},{"source":42,"target":43},{"source":19,"target":1},{"source":20,"target":1},{"source":44,"target":7},{"source":45,"target":46},{"source":47,"target":48},{"source":47,"target":49},{"source":47,"target":39},{"source":50,"target":44},{"source":51,"target":52},{"source":21,"target":1},{"source":21,"target":9},{"source":53,"target":5},{"source":54,"target":55},{"source":56,"target":55},{"source":56,"target":57},{"source":58,"target":55},{"source":58,"target":59},{"source":58,"target":60},{"source":61,"target":55},{"source":61,"target":62},{"source":61,"target":59},{"source":63,"target":55},{"source":63,"target":57},{"source":64,"target":65},{"source":64,"target":66},{"source":64,"target":67},{"source":64,"target":68},{"source":55,"target":55},{"source":55,"target":60},{"source":62,"target":55},{"source":57,"target":55},{"source":57,"target":65},{"source":69,"target":55},{"source":69,"target":57},{"source":60,"target":70},{"source":60,"target":62},{"source":60,"target":55},{"source":71,"target":55},{"source":72,"target":65},{"source":73,"target":74},{"source":75,"target":73},{"source":75,"target":76},{"source":76,"target":77},{"source":78,"target":79},{"source":78,"target":80},{"source":49,"target":81},{"source":49,"target":78},{"source":82,"target":5},{"source":83,"target":84},{"source":22,"target":1},{"source":22,"target":14},{"source":85,"target":80},{"source":85,"target":86},{"source":85,"target":87},{"source":88,"target":89},{"source":88,"target":90},{"source":88,"target":88},{"source":88,"target":91},{"source":86,"target":92},{"source":90,"target":93},{"source":94,"target":7},{"source":94,"target":8},{"source":94,"target":95},{"source":96,"target":7},{"source":96,"target":97},{"source":98,"target":85},{"source":99,"target":88},{"source":100,"target":60},{"source":100,"target":96},{"source":100,"target":101},{"source":102,"target":103},{"source":104,"target":102},{"source":103,"target":102},{"source":105,"target":103},{"source":106,"target":7},{"source":106,"target":107},{"source":108,"target":109},{"source":23,"target":1},{"source":23,"target":14},{"source":8,"target":7},{"source":8,"target":109},{"source":8,"target":110},{"source":8,"target":8},{"source":8,"target":57},{"source":8,"target":6},{"source":8,"target":46},{"source":8,"target":45},{"source":8,"target":95},{"source":8,"target":111},{"source":112,"target":7},{"source":113,"target":7},{"source":92,"target":114},{"source":80,"target":98},{"source":80,"target":85},{"source":80,"target":115},{"source":80,"target":116},{"source":80,"target":87},{"source":114,"target":80},{"source":93,"target":89},{"source":116,"target":80},{"source":89,"target":99},{"source":89,"target":89},{"source":89,"target":117},{"source":89,"target":88},{"source":118,"target":119},{"source":120,"target":81},{"source":121,"target":80},{"source":121,"target":122},{"source":121,"target":120},{"source":91,"target":89},{"source":91,"target":123},{"source":91,"target":81},{"source":48,"target":81},{"source":124,"target":119},{"source":125,"target":4},{"source":126,"target":98},{"source":127,"target":119},{"source":122,"target":127},{"source":3,"target":5},{"source":3,"target":3},{"source":128,"target":5},{"source":128,"target":128},{"source":24,"target":1},{"source":24,"target":13},{"source":129,"target":130},{"source":131,"target":132},{"source":133,"target":134},{"source":135,"target":7},{"source":135,"target":95},{"source":136,"target":137},{"source":138,"target":137},{"source":139,"target":137},{"source":140,"target":141},{"source":142,"target":137},{"source":143,"target":137},{"source":144,"target":137},{"source":145,"target":137},{"source":146,"target":137},{"source":146,"target":147},{"source":146,"target":95},{"source":146,"target":148},{"source":34,"target":137},{"source":149,"target":7},{"source":150,"target":137},{"source":150,"target":95},{"source":151,"target":137},{"source":151,"target":149},{"source":152,"target":137},{"source":153,"target":137},{"source":154,"target":137},{"source":155,"target":137},{"source":101,"target":8},{"source":101,"target":135},{"source":101,"target":149},{"source":137,"target":8},{"source":137,"target":149},{"source":156,"target":137},{"source":156,"target":157},{"source":158,"target":137},{"source":158,"target":149},{"source":158,"target":147},{"source":158,"target":148},{"source":159,"target":137},{"source":160,"target":149},{"source":160,"target":7},{"source":147,"target":137},{"source":147,"target":149},{"source":161,"target":137},{"source":161,"target":157},{"source":162,"target":137},{"source":163,"target":137},{"source":164,"target":137},{"source":165,"target":137},{"source":166,"target":137},{"source":167,"target":137},{"source":167,"target":157},{"source":39,"target":137},{"source":168,"target":137},{"source":168,"target":48},{"source":168,"target":147},{"source":168,"target":95},{"source":168,"target":148},{"source":168,"target":114},{"source":169,"target":137},{"source":169,"target":147},{"source":169,"target":95},{"source":169,"target":148},{"source":170,"target":137},{"source":170,"target":147},{"source":171,"target":137},{"source":171,"target":147},{"source":172,"target":137},{"source":173,"target":137},{"source":173,"target":70},{"source":173,"target":108},{"source":174,"target":137},{"source":174,"target":149},{"source":175,"target":137},{"source":141,"target":137},{"source":141,"target":176},{"source":141,"target":177},{"source":141,"target":178},{"source":141,"target":179},{"source":141,"target":180},{"source":181,"target":137},{"source":182,"target":137},{"source":183,"target":137},{"source":183,"target":95},{"source":184,"target":137},{"source":185,"target":137},{"source":185,"target":147},{"source":185,"target":148},{"source":185,"target":157},{"source":186,"target":137},{"source":187,"target":137},{"source":188,"target":137},{"source":188,"target":147},{"source":189,"target":149},{"source":189,"target":188},{"source":189,"target":7},{"source":190,"target":137},{"source":190,"target":147},{"source":190,"target":108},{"source":190,"target":95},{"source":190,"target":148},{"source":191,"target":137},{"source":192,"target":137},{"source":193,"target":137},{"source":194,"target":137},{"source":194,"target":95},{"source":195,"target":137},{"source":196,"target":137},{"source":197,"target":137},{"source":197,"target":147},{"source":197,"target":95},{"source":197,"target":189},{"source":197,"target":149},{"source":197,"target":148},{"source":197,"target":7},{"source":198,"target":137},{"source":199,"target":137},{"source":200,"target":137},{"source":201,"target":137},{"source":201,"target":70},{"source":202,"target":137},{"source":203,"target":137},{"source":204,"target":137},{"source":205,"target":137},{"source":205,"target":202},{"source":205,"target":149},{"source":205,"target":206},{"source":207,"target":137},{"source":207,"target":149},{"source":206,"target":137},{"source":206,"target":149},{"source":208,"target":137},{"source":208,"target":147},{"source":208,"target":95},{"source":208,"target":148},{"source":209,"target":137},{"source":210,"target":137},{"source":210,"target":180},{"source":211,"target":137},{"source":212,"target":137},{"source":40,"target":141},{"source":213,"target":214},{"source":213,"target":215},{"source":213,"target":216},{"source":217,"target":213},{"source":218,"target":219},{"source":218,"target":214},{"source":218,"target":220},{"source":218,"target":221},{"source":222,"target":215},{"source":222,"target":223},{"source":222,"target":224},{"source":222,"target":216},{"source":225,"target":214},{"source":225,"target":220},{"source":225,"target":216},{"source":226,"target":215},{"source":226,"target":226},{"source":220,"target":219},{"source":220,"target":214},{"source":220,"target":221},{"source":220,"target":216},{"source":220,"target":225},{"source":224,"target":216},{"source":216,"target":227},{"source":216,"target":214},{"source":216,"target":221},{"source":221,"target":218},{"source":221,"target":227},{"source":221,"target":220},{"source":223,"target":216},{"source":228,"target":5},{"source":228,"target":228},{"source":229,"target":5},{"source":229,"target":229},{"source":230,"target":5},{"source":230,"target":230},{"source":231,"target":231},{"source":232,"target":233},{"source":234,"target":219},{"source":177,"target":176},{"source":25,"target":12},{"source":25,"target":141},{"source":235,"target":236},{"source":236,"target":235},{"source":237,"target":238},{"source":237,"target":239},{"source":233,"target":240},{"source":26,"target":12},{"source":26,"target":233},{"source":27,"target":12},{"source":27,"target":233},{"source":241,"target":233},{"source":240,"target":242},{"source":243,"target":244},{"source":115,"target":117},{"source":245,"target":7},{"source":246,"target":95},{"source":246,"target":7},{"source":97,"target":7},{"source":247,"target":131},{"source":247,"target":104},{"source":247,"target":105},{"source":247,"target":248},{"source":247,"target":129},{"source":249,"target":250},{"source":251,"target":232},{"source":7,"target":97},{"source":7,"target":95},{"source":7,"target":7},{"source":7,"target":8},{"source":252,"target":7},{"source":253,"target":252},{"source":253,"target":7},{"source":95,"target":7},{"source":254,"target":7},{"source":255,"target":256},{"source":257,"target":255},{"source":257,"target":87},{"source":258,"target":259},{"source":28,"target":12},{"source":28,"target":14},{"source":28,"target":32},{"source":29,"target":1},{"source":260,"target":52},{"source":260,"target":261},{"source":260,"target":262},{"source":132,"target":133},{"source":263,"target":264},{"source":265,"target":7},{"source":265,"target":70},{"source":266,"target":95},{"source":107,"target":7},{"source":107,"target":94},{"source":107,"target":107},{"source":107,"target":46},{"source":107,"target":45},{"source":68,"target":64},{"source":67,"target":64},{"source":267,"target":4},{"source":267,"target":5},{"source":268,"target":269},{"source":268,"target":241},{"source":268,"target":270},{"source":268,"target":233},{"source":268,"target":271},{"source":268,"target":267},{"source":268,"target":272},{"source":271,"target":269},{"source":272,"target":273},{"source":274,"target":275},{"source":30,"target":1},{"source":276,"target":277},{"source":111,"target":94},{"source":111,"target":8},{"source":111,"target":7},{"source":111,"target":95},{"source":111,"target":106},{"source":278,"target":279},{"source":278,"target":244},{"source":280,"target":84},{"source":239,"target":176},{"source":239,"target":2},{"source":238,"target":239},{"source":281,"target":282},{"source":283,"target":284},{"source":285,"target":281},{"source":286,"target":287},{"source":288,"target":286},{"source":289,"target":290},{"source":291,"target":292},{"source":293,"target":292},{"source":74,"target":292},{"source":294,"target":295},{"source":296,"target":289},{"source":77,"target":296},{"source":297,"target":298},{"source":297,"target":299},{"source":300,"target":301},{"source":70,"target":59},{"source":70,"target":7},{"source":70,"target":70},{"source":302,"target":70},{"source":303,"target":304},{"source":303,"target":305},{"source":306,"target":307},{"source":308,"target":309},{"source":310,"target":307},{"source":311,"target":312},{"source":313,"target":314},{"source":315,"target":316},{"source":317,"target":318},{"source":319,"target":320},{"source":321,"target":322},{"source":323,"target":324},{"source":325,"target":326},{"source":327,"target":312},{"source":328,"target":312},{"source":329,"target":312},{"source":312,"target":330},{"source":312,"target":307},{"source":331,"target":304},{"source":331,"target":315},{"source":332,"target":304},{"source":332,"target":333},{"source":334,"target":65},{"source":334,"target":67},{"source":335,"target":307},{"source":335,"target":336},{"source":335,"target":319},{"source":335,"target":333},{"source":337,"target":338},{"source":337,"target":315},{"source":339,"target":304},{"source":340,"target":341},{"source":157,"target":342},{"source":307,"target":8},{"source":307,"target":342},{"source":307,"target":307},{"source":343,"target":344},{"source":343,"target":345},{"source":343,"target":307},{"source":343,"target":346},{"source":343,"target":343},{"source":345,"target":343},{"source":347,"target":304},{"source":347,"target":315},{"source":338,"target":348},{"source":349,"target":350},{"source":349,"target":305},{"source":349,"target":333},{"source":351,"target":350},{"source":351,"target":305},{"source":351,"target":333},{"source":351,"target":319},{"source":352,"target":350},{"source":352,"target":305},{"source":353,"target":350},{"source":353,"target":305},{"source":353,"target":336},{"source":353,"target":333},{"source":354,"target":350},{"source":354,"target":336},{"source":354,"target":333},{"source":354,"target":305},{"source":354,"target":319},{"source":354,"target":355},{"source":354,"target":348},{"source":356,"target":350},{"source":356,"target":336},{"source":356,"target":305},{"source":357,"target":350},{"source":357,"target":305},{"source":357,"target":336},{"source":357,"target":333},{"source":358,"target":307},{"source":358,"target":336},{"source":359,"target":350},{"source":359,"target":336},{"source":359,"target":305},{"source":360,"target":350},{"source":361,"target":335},{"source":362,"target":335},{"source":363,"target":335},{"source":364,"target":335},{"source":365,"target":350},{"source":365,"target":305},{"source":365,"target":336},{"source":366,"target":350},{"source":366,"target":321},{"source":367,"target":350},{"source":368,"target":307},{"source":368,"target":305},{"source":369,"target":350},{"source":369,"target":305},{"source":369,"target":333},{"source":369,"target":336},{"source":370,"target":350},{"source":370,"target":336},{"source":370,"target":305},{"source":371,"target":307},{"source":371,"target":336},{"source":372,"target":350},{"source":372,"target":305},{"source":372,"target":336},{"source":373,"target":307},{"source":373,"target":336},{"source":374,"target":350},{"source":374,"target":305},{"source":375,"target":350},{"source":375,"target":336},{"source":375,"target":355},{"source":375,"target":333},{"source":376,"target":341},{"source":376,"target":355},{"source":376,"target":333},{"source":376,"target":315},{"source":350,"target":341},{"source":350,"target":315},{"source":350,"target":305},{"source":377,"target":321},{"source":377,"target":323},{"source":378,"target":307},{"source":379,"target":307},{"source":380,"target":307},{"source":381,"target":307},{"source":382,"target":307},{"source":383,"target":307},{"source":384,"target":304},{"source":384,"target":315},{"source":385,"target":304},{"source":386,"target":307},{"source":387,"target":341},{"source":388,"target":341},{"source":388,"target":325},{"source":388,"target":333},{"source":389,"target":307},{"source":390,"target":304},{"source":390,"target":315},{"source":390,"target":321},{"source":318,"target":316},{"source":391,"target":388},{"source":391,"target":315},{"source":392,"target":304},{"source":392,"target":315},{"source":393,"target":307},{"source":393,"target":324},{"source":393,"target":394},{"source":395,"target":377},{"source":395,"target":315},{"source":395,"target":333},{"source":395,"target":313},{"source":395,"target":314},{"source":396,"target":341},{"source":396,"target":315},{"source":396,"target":333},{"source":394,"target":394},{"source":397,"target":307},{"source":398,"target":307},{"source":399,"target":338},{"source":320,"target":400},{"source":401,"target":334},{"source":402,"target":304},{"source":402,"target":403},{"source":402,"target":336},{"source":402,"target":404},{"source":402,"target":405},{"source":402,"target":406},{"source":402,"target":407},{"source":402,"target":408},{"source":402,"target":409},{"source":402,"target":410},{"source":402,"target":411},{"source":402,"target":412},{"source":402,"target":413},{"source":402,"target":414},{"source":402,"target":415},{"source":402,"target":416},{"source":402,"target":417},{"source":402,"target":418},{"source":402,"target":419},{"source":402,"target":420},{"source":402,"target":421},{"source":402,"target":422},{"source":402,"target":423},{"source":404,"target":424},{"source":405,"target":424},{"source":406,"target":424},{"source":407,"target":424},{"source":408,"target":424},{"source":409,"target":424},{"source":410,"target":424},{"source":411,"target":424},{"source":412,"target":424},{"source":413,"target":424},{"source":414,"target":424},{"source":415,"target":424},{"source":416,"target":424},{"source":417,"target":424},{"source":418,"target":424},{"source":419,"target":424},{"source":420,"target":424},{"source":403,"target":424},{"source":421,"target":424},{"source":422,"target":424},{"source":425,"target":377},{"source":425,"target":315},{"source":425,"target":333},{"source":425,"target":325},{"source":423,"target":423},{"source":426,"target":423},{"source":427,"target":304},{"source":427,"target":426},{"source":428,"target":304},{"source":428,"target":426},{"source":429,"target":388},{"source":429,"target":315},{"source":430,"target":304},{"source":430,"target":315},{"source":431,"target":338},{"source":432,"target":312},{"source":433,"target":341},{"source":433,"target":336},{"source":341,"target":305},{"source":341,"target":57},{"source":341,"target":65},{"source":434,"target":435},{"source":342,"target":436},{"source":342,"target":423},{"source":342,"target":437},{"source":342,"target":315},{"source":342,"target":324},{"source":342,"target":307},{"source":342,"target":314},{"source":342,"target":316},{"source":342,"target":394},{"source":342,"target":400},{"source":342,"target":438},{"source":342,"target":8},{"source":342,"target":95},{"source":439,"target":304},{"source":440,"target":377},{"source":441,"target":442},{"source":443,"target":341},{"source":443,"target":333},{"source":443,"target":315},{"source":443,"target":423},{"source":443,"target":324},{"source":444,"target":304},{"source":445,"target":309},{"source":445,"target":333},{"source":445,"target":315},{"source":446,"target":443},{"source":446,"target":317},{"source":446,"target":319},{"source":447,"target":341},{"source":438,"target":394},{"source":304,"target":393},{"source":304,"target":325},{"source":326,"target":438},{"source":448,"target":309},{"source":449,"target":446},{"source":309,"target":305},{"source":346,"target":304},{"source":346,"target":343},{"source":346,"target":315},{"source":450,"target":436},{"source":450,"target":442},{"source":437,"target":321},{"source":437,"target":326},{"source":437,"target":323},{"source":437,"target":307},{"source":451,"target":307},{"source":43,"target":44},{"source":43,"target":43},{"source":180,"target":452},{"source":180,"target":453},{"source":453,"target":180},{"source":453,"target":94},{"source":452,"target":453},{"source":179,"target":180},{"source":454,"target":344},{"source":455,"target":454},{"source":456,"target":7},{"source":456,"target":252},{"source":457,"target":5},{"source":457,"target":457},{"source":458,"target":5},{"source":458,"target":458},{"source":2,"target":5},{"source":2,"target":2},{"source":459,"target":2},{"source":459,"target":459},{"source":31,"target":1},{"source":31,"target":3},{"source":460,"target":33},{"source":460,"target":461},{"source":460,"target":462},{"source":460,"target":463},{"source":460,"target":464},{"source":460,"target":465},{"source":460,"target":4},{"source":460,"target":5},{"source":460,"target":466},{"source":460,"target":467},{"source":460,"target":468},{"source":460,"target":469},{"source":460,"target":470},{"source":460,"target":36},{"source":460,"target":39},{"source":460,"target":34},{"source":460,"target":40},{"source":460,"target":3},{"source":471,"target":472},{"source":473,"target":72},{"source":474,"target":55},{"source":474,"target":57},{"source":475,"target":55},{"source":475,"target":62},{"source":475,"target":474},{"source":476,"target":476},{"source":477,"target":72},{"source":478,"target":72},{"source":479,"target":95},{"source":480,"target":4},{"source":480,"target":5},{"source":481,"target":279},{"source":84,"target":222},{"source":84,"target":482},{"source":84,"target":483},{"source":84,"target":84},{"source":84,"target":257},{"source":84,"target":73},{"source":84,"target":76},{"source":84,"target":126},{"source":84,"target":99},{"source":84,"target":89},{"source":484,"target":485},{"source":484,"target":4},{"source":484,"target":5},{"source":484,"target":486},{"source":487,"target":488},{"source":487,"target":489},{"source":487,"target":490},{"source":488,"target":490},{"source":490,"target":7},{"source":491,"target":7},{"source":491,"target":94}]};\n  const option = {\n    legend: {\n      data: [\'HTMLElement\', \'WebGL\', \'SVG\', \'CSS\', \'Other\']\n    },\n    series: [{\n      type: \'graph\',\n      layout: \'force\',\n      animation: false,\n      label: {\n        normal: {\n          position: \'right\',\n          formatter: \'{b}\'\n        }\n      },\n      draggable: true,\n      data: webkitDep.nodes.map(function (node, idx) {\n        node.id = idx;\n        return node;\n      }),\n      categories: webkitDep.categories,\n      force: {\n        // initLayout: \'circular\'\n        // repulsion: 20,\n        edgeLength: 5,\n        repulsion: 20,\n        gravity: 0.2\n      },\n      edges: webkitDep.links\n    }]\n  };\n\n  return <ReactECharts\n    option={option}\n    style={{ height: \'700px\', width: \'100%\' }}\n  />;\n};\n\nexport default Page;'}},dependencies:{react:{version:">=16.8.0"},"echarts-for-react":{version:"3.0.0-beta.1"},echarts:{version:"^5.0.0"}},identifier:"graph-demo"}},"loading-demo":{component:function(){var e=n("sTX5"),t=n("Fcd/"),r=t(n("xwgP")),i=e(n("/7QA")),a=function(){var e,t={title:{text:"\u57fa\u7840\u96f7\u8fbe\u56fe"},tooltip:{},legend:{data:["\u9884\u7b97\u5206\u914d\uff08Allocated Budget\uff09","\u5b9e\u9645\u5f00\u9500\uff08Actual Spending\uff09"]},radar:{indicator:[{name:"\u9500\u552e\uff08sales\uff09",max:6500},{name:"\u7ba1\u7406\uff08Administration\uff09",max:16e3},{name:"\u4fe1\u606f\u6280\u672f\uff08Information Techology\uff09",max:3e4},{name:"\u5ba2\u670d\uff08Customer Support\uff09",max:38e3},{name:"\u7814\u53d1\uff08Development\uff09",max:52e3},{name:"\u5e02\u573a\uff08Marketing\uff09",max:25e3}]},series:[{name:"\u9884\u7b97 vs \u5f00\u9500\uff08Budget vs spending\uff09",type:"radar",data:[{value:[4300,1e4,28e3,35e3,5e4,19e3],name:"\u9884\u7b97\u5206\u914d\uff08Allocated Budget\uff09"},{value:[5e3,14e3,28e3,31e3,42e3,21e3],name:"\u5b9e\u9645\u5f00\u9500\uff08Actual Spending\uff09"}]}]};(0,r.useEffect)((function(){return function(){return clearTimeout(e)}}));var n={text:"\u52a0\u8f7d\u4e2d...",color:"#4413c2",textColor:"#270240",maskColor:"rgba(194, 88, 86, 0.3)",zlevel:0};function a(t){e=setTimeout((function(){t.hideLoading()}),3e3)}return r["default"].createElement(i["default"],{option:t,style:{height:400},onChartReady:a,loadingOption:n,showLoading:!0})},o=a;return r["default"].createElement(o)},previewerProps:{sources:{_:{tsx:"import React, { useState, useEffect } from 'react';\nimport ReactECharts from 'echarts-for-react';\n\nconst Page: React.FC = () => {\n  const option = {\n    title: {\n      text: '\u57fa\u7840\u96f7\u8fbe\u56fe'\n    },\n    tooltip: {},\n    legend: {\n      data: ['\u9884\u7b97\u5206\u914d\uff08Allocated Budget\uff09', '\u5b9e\u9645\u5f00\u9500\uff08Actual Spending\uff09']\n    },\n    radar: {\n      // shape: 'circle',\n      indicator: [\n          { name: '\u9500\u552e\uff08sales\uff09', max: 6500},\n          { name: '\u7ba1\u7406\uff08Administration\uff09', max: 16000},\n          { name: '\u4fe1\u606f\u6280\u672f\uff08Information Techology\uff09', max: 30000},\n          { name: '\u5ba2\u670d\uff08Customer Support\uff09', max: 38000},\n          { name: '\u7814\u53d1\uff08Development\uff09', max: 52000},\n          { name: '\u5e02\u573a\uff08Marketing\uff09', max: 25000}\n      ]\n    },\n    series: [{\n      name: '\u9884\u7b97 vs \u5f00\u9500\uff08Budget vs spending\uff09',\n      type: 'radar',\n      // areaStyle: {normal: {}},\n      data : [\n        {\n          value : [4300, 10000, 28000, 35000, 50000, 19000],\n          name : '\u9884\u7b97\u5206\u914d\uff08Allocated Budget\uff09'\n        },\n          {\n          value : [5000, 14000, 28000, 31000, 42000, 21000],\n          name : '\u5b9e\u9645\u5f00\u9500\uff08Actual Spending\uff09'\n        }\n      ]\n    }]\n  };\n\n  let timer;\n\n  useEffect(() => {\n    return () => clearTimeout(timer);\n  });\n\n  const loadingOption = {\n    text: '\u52a0\u8f7d\u4e2d...',\n    color: '#4413c2',\n    textColor: '#270240',\n    maskColor: 'rgba(194, 88, 86, 0.3)',\n    zlevel: 0\n  };\n\n  function onChartReady(echarts) {\n    timer = setTimeout(function() {\n      echarts.hideLoading();\n    }, 3000);\n  }\n\n  return <ReactECharts\n    option={option}\n    style={{ height: 400 }}\n    onChartReady={onChartReady}\n    loadingOption={loadingOption}\n    showLoading={true}\n  />;\n};\n\nexport default Page;"}},dependencies:{react:{version:">=16.8.0"},"echarts-for-react":{version:"3.0.0-beta.1"},echarts:{version:"^5.0.0"}},identifier:"loading-demo"}},"simple-demo":{component:function(){var e=n("sTX5"),t=e(n("xwgP")),r=e(n("/7QA")),i=function(){var e={title:{text:"\u5806\u53e0\u533a\u57df\u56fe"},tooltip:{trigger:"axis"},legend:{data:["\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a"]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d","\u5468\u65e5"]}],yAxis:[{type:"value"}],series:[{name:"\u90ae\u4ef6\u8425\u9500",type:"line",stack:"\u603b\u91cf",areaStyle:{normal:{}},data:[120,132,101,134,90,230,210]},{name:"\u8054\u76df\u5e7f\u544a",type:"line",stack:"\u603b\u91cf",areaStyle:{normal:{}},data:[220,182,191,234,290,330,310]},{name:"\u89c6\u9891\u5e7f\u544a",type:"line",stack:"\u603b\u91cf",areaStyle:{normal:{}},data:[150,232,201,154,190,330,410]}]};return t["default"].createElement(r["default"],{option:e,style:{height:400}})},a=i;return t["default"].createElement(a)},previewerProps:{sources:{_:{tsx:"import React from 'react';\nimport ReactECharts from 'echarts-for-react';\n\nconst Page: React.FC = () => {\n  const option = {\n    title: {\n      text: '\u5806\u53e0\u533a\u57df\u56fe'\n    },\n    tooltip : {\n      trigger: 'axis'\n    },\n    legend: {\n      data:['\u90ae\u4ef6\u8425\u9500','\u8054\u76df\u5e7f\u544a','\u89c6\u9891\u5e7f\u544a']\n    },\n    toolbox: {\n      feature: {\n        saveAsImage: {}\n      }\n    },\n    grid: {\n      left: '3%',\n      right: '4%',\n      bottom: '3%',\n      containLabel: true\n    },\n    xAxis : [\n      {\n        type : 'category',\n        boundaryGap : false,\n        data : ['\u5468\u4e00','\u5468\u4e8c','\u5468\u4e09','\u5468\u56db','\u5468\u4e94','\u5468\u516d','\u5468\u65e5']\n      }\n    ],\n    yAxis : [\n      {\n        type : 'value'\n      }\n    ],\n    series : [\n      {\n        name:'\u90ae\u4ef6\u8425\u9500',\n        type:'line',\n        stack: '\u603b\u91cf',\n        areaStyle: {normal: {}},\n        data:[120, 132, 101, 134, 90, 230, 210]\n      },\n      {\n        name:'\u8054\u76df\u5e7f\u544a',\n        type:'line',\n        stack: '\u603b\u91cf',\n        areaStyle: {normal: {}},\n        data:[220, 182, 191, 234, 290, 330, 310]\n      },\n      {\n        name:'\u89c6\u9891\u5e7f\u544a',\n        type:'line',\n        stack: '\u603b\u91cf',\n        areaStyle: {normal: {}},\n        data:[150, 232, 201, 154, 190, 330, 410]\n      }\n    ]\n  };\n\n  return <ReactECharts\n    option={option}\n    style={{ height: 400 }}\n  />;\n};\n\nexport default Page;"}},dependencies:{react:{version:">=16.8.0"},"echarts-for-react":{version:"3.0.0-beta.1"},echarts:{version:"^5.0.0"}},identifier:"simple-demo"}},"svg-demo":{component:function(){var e=n("sTX5"),t=e(n("xwgP")),r=e(n("/7QA")),i=function(){var e={title:{text:"ECharts \u5165\u95e8\u793a\u4f8b"},tooltip:{},legend:{data:["\u9500\u91cf"]},xAxis:{data:["\u886c\u886b","\u7f8a\u6bdb\u886b","\u96ea\u7eba\u886b","\u88e4\u5b50","\u9ad8\u8ddf\u978b","\u889c\u5b50"]},yAxis:{},series:[{name:"\u9500\u91cf",type:"bar",data:[5,20,36,10,10,20]}]};return t["default"].createElement(r["default"],{option:e,style:{height:400},opts:{renderer:"svg"}})},a=i;return t["default"].createElement(a)},previewerProps:{sources:{_:{tsx:"import React from 'react';\nimport ReactECharts from 'echarts-for-react';\n\nconst Page: React.FC = () => {\n  const option = {\n    title: {\n      text: 'ECharts \u5165\u95e8\u793a\u4f8b'\n    },\n    tooltip: {},\n    legend: {\n      data:['\u9500\u91cf']\n    },\n    xAxis: {\n      data: ['\u886c\u886b', '\u7f8a\u6bdb\u886b', '\u96ea\u7eba\u886b', '\u88e4\u5b50', '\u9ad8\u8ddf\u978b', '\u889c\u5b50']\n    },\n    yAxis: {},\n    series: [{\n      name: '\u9500\u91cf',\n      type: 'bar',\n      data: [5, 20, 36, 10, 10, 20]\n    }]\n  };\n\n  return <ReactECharts\n    option={option}\n    style={{ height: 400 }}\n    opts={{ renderer: 'svg' }}\n  />;\n};\n\nexport default Page;"}},dependencies:{react:{version:">=16.8.0"},"echarts-for-react":{version:"3.0.0-beta.1"},echarts:{version:"^5.0.0"}},identifier:"svg-demo"}},"theme-demo":{component:function(){var e=n("Fcd/"),t=n("sTX5"),r=t(n("ob7Q")),i=e(n("xwgP")),a=e(n("Fk5u")),o=t(n("/7QA"));a.registerTheme("my_theme",{backgroundColor:"#f4cccc"}),a.registerTheme("another_theme",{backgroundColor:"#eee"});var s=function(){var e={title:{text:"\u9636\u68af\u7011\u5e03\u56fe",subtext:"From ExcelHome",sublink:"http://e.weibo.com/1341556070/Aj1J2x5a5"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["\u652f\u51fa","\u6536\u5165"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",splitLine:{show:!1},data:["11\u67081\u65e5","11\u67082\u65e5","11\u67083\u65e5","11\u67084\u65e5","11\u67085\u65e5","11\u67086\u65e5","11\u67087\u65e5","11\u67088\u65e5","11\u67089\u65e5","11\u670810\u65e5","11\u670811\u65e5"]},yAxis:{type:"value"},series:[{name:"\u8f85\u52a9",type:"bar",stack:"\u603b\u91cf",itemStyle:{normal:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"},emphasis:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"}},data:[0,900,1245,1530,1376,1376,1511,1689,1856,1495,1292]},{name:"\u6536\u5165",type:"bar",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"top"}},data:[900,345,393,"-","-",135,178,286,"-","-","-"]},{name:"\u652f\u51fa",type:"bar",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"bottom"}},data:["-","-","-",108,154,"-","-","-",119,361,203]}]},t=(0,i.useState)(),n=(0,r["default"])(t,2),a=n[0],s=n[1],u=(0,i.useState)("class_1"),l=(0,r["default"])(u,2),c=l[0],f=l[1];function h(){s("my_theme"===a?"another_theme":"my_theme")}function d(){f("class_1"===c?"class_2":"class_1")}return i["default"].createElement(i["default"].Fragment,null,i["default"].createElement(o["default"],{option:e,className:c,theme:a,style:{height:400}}),i["default"].createElement("br",null),i["default"].createElement("div",null,i["default"].createElement("button",{onClick:h},"Click to Toggle theme."),i["default"].createElement("button",{onClick:d},"Click to Toggle className.")))},u=s;return i["default"].createElement(u)},previewerProps:{sources:{_:{tsx:"import React, { useState } from 'react';\nimport * as echarts from 'echarts';\nimport ReactECharts from 'echarts-for-react';\n\necharts.registerTheme('my_theme', {\n  backgroundColor: '#f4cccc'\n});\necharts.registerTheme('another_theme', {\n  backgroundColor: '#eee'\n});\n\nconst Page: React.FC = () => {\n  const option = {\n    title: {\n      text: '\u9636\u68af\u7011\u5e03\u56fe',\n      subtext: 'From ExcelHome',\n      sublink: 'http://e.weibo.com/1341556070/Aj1J2x5a5'\n    },\n    tooltip : {\n      trigger: 'axis',\n      axisPointer : {      // \u5750\u6807\u8f74\u6307\u793a\u5668\uff0c\u5750\u6807\u8f74\u89e6\u53d1\u6709\u6548\n        type : 'shadow'    // \u9ed8\u8ba4\u4e3a\u76f4\u7ebf\uff0c\u53ef\u9009\u4e3a\uff1a'line' | 'shadow'\n      }\n    },\n    legend: {\n      data:['\u652f\u51fa','\u6536\u5165']\n    },\n    grid: {\n      left: '3%',\n      right: '4%',\n      bottom: '3%',\n      containLabel: true\n    },\n    xAxis: {\n      type : 'category',\n      splitLine: {show:false},\n      data :  [\"11\u67081\u65e5\", \"11\u67082\u65e5\", \"11\u67083\u65e5\", \"11\u67084\u65e5\", \"11\u67085\u65e5\", \"11\u67086\u65e5\", \"11\u67087\u65e5\", \"11\u67088\u65e5\", \"11\u67089\u65e5\", \"11\u670810\u65e5\", \"11\u670811\u65e5\"]\n    },\n    yAxis: {\n      type : 'value'\n    },\n    series: [\n      {\n        name: '\u8f85\u52a9',\n        type: 'bar',\n        stack: '\u603b\u91cf',\n        itemStyle: {\n          normal: {\n            barBorderColor: 'rgba(0,0,0,0)',\n            color: 'rgba(0,0,0,0)'\n          },\n          emphasis: {\n            barBorderColor: 'rgba(0,0,0,0)',\n            color: 'rgba(0,0,0,0)'\n          }\n        },\n        data: [0, 900, 1245, 1530, 1376, 1376, 1511, 1689, 1856, 1495, 1292]\n      },\n      {\n        name: '\u6536\u5165',\n        type: 'bar',\n        stack: '\u603b\u91cf',\n        label: {\n          normal: {\n            show: true,\n            position: 'top'\n          }\n        },\n        data: [900, 345, 393, '-', '-', 135, 178, 286, '-', '-', '-']\n      },\n      {\n        name: '\u652f\u51fa',\n        type: 'bar',\n        stack: '\u603b\u91cf',\n        label: {\n          normal: {\n            show: true,\n            position: 'bottom'\n          }\n        },\n        data: ['-', '-', '-', 108, 154, '-', '-', '-', 119, 361, 203]\n      }\n    ]\n  };\n\n  const [theme, setTheme] = useState();\n  const [className, setClassName] = useState('class_1');\n\n  function toggleTheme() {\n    setTheme(theme === 'my_theme' ? 'another_theme' : 'my_theme');\n  }\n\n  function toggleClassName() {\n    setClassName(className === 'class_1' ? 'class_2' : 'class_1');\n  }\n\n  return (\n    <>\n      <ReactECharts\n        option={option}\n        className={className}\n        theme={theme}\n        style={{ height: 400 }}\n      />\n      <br />\n      <div>\n        <button onClick={toggleTheme}>Click to Toggle theme.</button>\n        <button onClick={toggleClassName}>Click to Toggle className.</button>\n      </div>\n    </>\n  );\n};\n\nexport default Page;"}},dependencies:{react:{version:">=16.8.0"},echarts:{version:"^5.0.0"},"echarts-for-react":{version:"3.0.0-beta.1"}},identifier:"theme-demo"}}}},RtWR:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},"Rx/k":function(e,t,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp(r,"gi"),a=new RegExp("("+r+")+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function s(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i),n=1;n<t.length;n++)e=o(t,n).join(""),t=e.match(i);return e}}function u(e){var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=a.exec(e);while(n){try{t[n[0]]=decodeURIComponent(n[0])}catch(l){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=a.exec(e)}t["%C2"]="\ufffd";for(var i=Object.keys(t),o=0;o<i.length;o++){var u=i[o];e=e.replace(new RegExp(u,"g"),t[u])}return e}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return u(e)}}},S6jd:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("LTDN");r({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},SCzs:function(e,t,n){var r=n("HIsA"),i=n("icJ8"),a=n("hXyk"),o=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{defineMetadata:function(e,t,n){var r=arguments.length<4?void 0:o(arguments[3]);s(e,t,a(n),r)}})},SrKn:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},T9r4:function(e,t,n){var r=n("bXon");e.exports=r("navigator","userAgent")||""},TOff:function(e,t,n){"use strict";var r=n("45XY");function i(){var e=u(n("xwgP"));return i=function(){return e},e}function a(){var e=o(n("7QR1"));return a=function(){return e},e}function o(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n["default"]=e,t&&t.set(e,n),n}function l(e,t){return p(e)||d(e,t)||f(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}function p(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var g="https://codesandbox.io/api/v1/sandboxes/define";function m(e){return a()["default"].compressToBase64(JSON.stringify(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function v(e){var t=document.createElement("span");t.innerHTML=e;var n=t.textContent;return t.remove(),n}function y(e){var t=Boolean(e.sources._.tsx),n=t?".tsx":".jsx",i={},a={},o=Object.values(e.dependencies).filter((function(e){return e.css})),s="App".concat(n),u="index".concat(n);return Object.entries(e.dependencies).forEach((function(e){var t=r(e,2),n=t[0],i=t[1].version;a[n]=i})),a["react-dom"]||(a["react-dom"]=a.react||"latest"),i["sandbox.config.json"]={content:JSON.stringify({template:t?"create-react-app-typescript":"create-react-app"},null,2)},i["package.json"]={content:JSON.stringify({name:e.title,description:v(e.description)||"An auto-generated demo by dumi",main:u,dependencies:a,devDependencies:t?{typescript:"^3"}:{}},null,2)},i["index.html"]={content:'<div style="margin: 16px;" id="root"></div>'},i[u]={content:"/**\n* This is an auto-generated demo by dumi\n* if you think it is not working as expected,\n* please report the issue at\n* https://github.com/umijs/dumi/issues\n**/\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n".concat(o.map((function(e){var t=e.css;return"import '".concat(t,"';")})).join("\n"),"\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);")},Object.entries(e.sources).forEach((function(e){var t=r(e,2),n=t[0],a=t[1],o=a.tsx,u=a.jsx,l=a.content;i["_"===n?s:n]={content:o||u||l}})),m({files:i})}var _=function(e){var t=(0,i().useState)(),n=l(t,2),r=n[0],a=n[1];return(0,i().useEffect)((function(){if(e){var t=document.createElement("form"),n=document.createElement("input"),r=y(e);return t.method="POST",t.target="_blank",t.style.display="none",t.action=g,t.appendChild(n),t.setAttribute("data-demo",e.title||""),n.name="parameters",n.value=r,document.body.appendChild(t),a((function(){return function(){return t.submit()}})),function(){return t.remove()}}}),[e]),r};t["default"]=_},Tk1U:function(e,t,n){"use strict";var r=n("hXyk"),i=n("n2ef");e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!==e)}},Tphk:function(e,t,n){"use strict";var r=n("HIsA"),i=n("Ji6T"),a=n("DDwO");r({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;a(t);var r=a(n.set);return i(e,(function(e){r.call(n,t(e),e)})),n}})},UPu9:function(e,t,n){var r=n("hXyk"),i=n("0f0C");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(a){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},UTnC:function(e,t,n){"use strict";var r=n("ma2j"),i=n("Iu9s"),a=RegExp.prototype.exec,o=String.prototype.replace,s=a,u=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,c=void 0!==/()??/.exec("")[1],f=u||c||l;f&&(s=function(e){var t,n,i,s,f=this,h=l&&f.sticky,d=r.call(f),p=f.source,g=0,m=e;return h&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),m=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(p="(?: "+p+")",m=" "+m,g++),n=new RegExp("^(?:"+p+")",d)),c&&(n=new RegExp("^"+p+"$(?!\\s)",d)),u&&(t=f.lastIndex),i=a.call(h?n:f,m),h?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:u&&i&&(f.lastIndex=f.global?i.index+i[0].length:t),c&&i&&i.length>1&&o.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),e.exports=s},Uadk:function(e,t,n){var r=n("HIsA"),i=n("E06e"),a=Math.acosh,o=Math.log,s=Math.sqrt,u=Math.LN2,l=!a||710!=Math.floor(a(Number.MAX_VALUE))||a(1/0)!=1/0;r({target:"Math",stat:!0,forced:l},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?o(e)+u:i(e-1+s(e-1)*s(e+1))}})},UqPo:function(e,t,n){var r=n("HIsA"),i=n("icJ8"),a=n("hXyk"),o=i.toKey,s=i.getMap,u=i.store;r({target:"Reflect",stat:!0},{deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=s(a(t),n,!1);if(void 0===r||!r["delete"](e))return!1;if(r.size)return!0;var i=u.get(t);return i["delete"](n),!!i.size||u["delete"](t)}})},Uvls:function(e,t,n){"use strict";var r=n("R64i"),i=n("KpHK");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},UyjF:function(e,t,n){},UywP:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},"V8i+":function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("bXon"),o=n("hXyk"),s=n("DDwO"),u=n("40mc"),l=n("70zE"),c=n("YjHi"),f=n("Ji6T");r({target:"Map",proto:!0,real:!0,forced:i},{filter:function(e){var t=o(this),n=c(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,a("Map"))),h=s(i.set);return f(n,(function(e,n){r(n,e,t)&&h.call(i,e,n)}),void 0,!0,!0),i}})},VeQJ:function(e,t,n){"use strict";e.exports=function(){var e=arguments.length,t=new Array(e);while(e--)t[e]=arguments[e];return new this(t)}},Vq5P:function(e,t,n){"use strict";n.r(t);var r=n("xwgP"),i=n.n(r),a=n("kvV8"),o=n("lBQG"),s=i.a.memo(n("Rsk4").default["event-demo"].component);t["default"]=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"event"},i.a.createElement(a["AnchorLink"],{to:"#event","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:["icon","icon-link"]})),"Event")),i.a.createElement(o["default"],n("Rsk4").default["event-demo"].previewerProps,i.a.createElement(s,null))))}},"W6v+":function(e,t,n){var r=n("bVFb");r("isConcatSpreadable")},WNir:function(e,t,n){var r=n("DDwO"),i=n("NVMI"),a=n("aS93"),o=n("2I03"),s=function(e){return function(t,n,s,u){r(n);var l=i(t),c=a(l),f=o(l.length),h=e?f-1:0,d=e?-1:1;if(s<2)while(1){if(h in c){u=c[h],h+=d;break}if(h+=d,e?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:f>h;h+=d)h in c&&(u=n(u,c[h],h,l));return u}};e.exports={left:s(!1),right:s(!0)}},WZyy:function(e,t,n){},WdrS:function(e,t,n){var r=n("IRht"),i=n("UTnC");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var a=n.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},Wovb:function(e,t,n){},Wp5u:function(e,t,n){"use strict";var r,i=n("13/t"),a=n("Hiyu"),o=n("2JD6"),s=n("pxmn"),u=n("+qhb"),l=n("KpHK"),c=n("D8FR"),f=n("GUTS"),h=n("2RC6").f,d=n("kI7s"),p=n("UPu9"),g=n("kPvK"),m=n("fotI"),v=o.Int8Array,y=v&&v.prototype,_=o.Uint8ClampedArray,b=_&&_.prototype,x=v&&d(v),w=y&&d(y),S=Object.prototype,T=S.isPrototypeOf,E=g("toStringTag"),M=m("TYPED_ARRAY_TAG"),C=i&&!!p&&"Opera"!==l(o.opera),A=!1,O={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D=function(e){var t=l(e);return"DataView"===t||u(O,t)},P=function(e){return s(e)&&u(O,l(e))},L=function(e){if(P(e))return e;throw TypeError("Target is not a typed array")},I=function(e){if(p){if(T.call(x,e))return e}else for(var t in O)if(u(O,r)){var n=o[t];if(n&&(e===n||T.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},R=function(e,t,n){if(a){if(n)for(var r in O){var i=o[r];i&&u(i.prototype,e)&&delete i.prototype[e]}w[e]&&!n||f(w,e,n?t:C&&y[e]||t)}},k=function(e,t,n){var r,i;if(a){if(p){if(n)for(r in O)i=o[r],i&&u(i,e)&&delete i[e];if(x[e]&&!n)return;try{return f(x,e,n?t:C&&v[e]||t)}catch(s){}}for(r in O)i=o[r],!i||i[e]&&!n||f(i,e,t)}};for(r in O)o[r]||(C=!1);if((!C||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},C))for(r in O)o[r]&&p(o[r],x);if((!C||!w||w===S)&&(w=x.prototype,C))for(r in O)o[r]&&p(o[r].prototype,w);if(C&&d(b)!==w&&p(b,w),a&&!u(w,E))for(r in A=!0,h(w,E,{get:function(){return s(this)?this[M]:void 0}}),O)o[r]&&c(o[r],M,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:C,TYPED_ARRAY_TAG:A&&M,aTypedArray:L,aTypedArrayConstructor:I,exportTypedArrayMethod:R,exportTypedArrayStaticMethod:k,isView:D,isTypedArray:P,TypedArray:x,TypedArrayPrototype:w}},"X/7a":function(e,t,n){var r=n("4FMk");function i(e){if(Array.isArray(e))return r(e)}e.exports=i},X260:function(e,t,n){var r=n("HIsA"),i=Math.min,a=Math.max;r({target:"Math",stat:!0},{clamp:function(e,t,n){return i(n,a(t,e))}})},Xf1w:function(e,t,n){var r=n("40mc"),i=n("aS93"),a=n("NVMI"),o=n("2I03"),s=n("HKEF"),u=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,c=4==e,f=6==e,h=5==e||f;return function(d,p,g,m){for(var v,y,_=a(d),b=i(_),x=r(p,g,3),w=o(b.length),S=0,T=m||s,E=t?T(d,w):n?T(d,0):void 0;w>S;S++)if((h||S in b)&&(v=b[S],y=x(v,S,_),e))if(t)E[S]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:u.call(E,v)}else if(c)return!1;return f?-1:l||c?c:E}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},Xk3x:function(e,t,n){var r=n("HIsA"),i=n("5AZ8");r({target:"WeakMap",stat:!0},{from:i})},Xp9m:function(e,t,n){"use strict";var r=n("sqIH"),i=n("hXyk"),a=n("NVMI"),o=n("2I03"),s=n("PaPB"),u=n("JzK+"),l=n("OOuR"),c=n("WdrS"),f=Math.max,h=Math.min,d=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,m=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,n,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,_=v?"$":"$0";return[function(n,r){var i=u(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!v&&y||"string"===typeof r&&-1===r.indexOf(_)){var a=n(t,e,this,r);if(a.done)return a.value}var u=i(e),d=String(this),p="function"===typeof r;p||(r=String(r));var g=u.global;if(g){var x=u.unicode;u.lastIndex=0}var w=[];while(1){var S=c(u,d);if(null===S)break;if(w.push(S),!g)break;var T=String(S[0]);""===T&&(u.lastIndex=l(d,o(u.lastIndex),x))}for(var E="",M=0,C=0;C<w.length;C++){S=w[C];for(var A=String(S[0]),O=f(h(s(S.index),d.length),0),D=[],P=1;P<S.length;P++)D.push(m(S[P]));var L=S.groups;if(p){var I=[A].concat(D,O,d);void 0!==L&&I.push(L);var R=String(r.apply(void 0,I))}else R=b(A,d,O,D,L,r);O>=M&&(E+=d.slice(M,O)+R,M=O+A.length)}return E+d.slice(M)}];function b(e,n,r,i,o,s){var u=r+e.length,l=i.length,c=g;return void 0!==o&&(o=a(o),c=p),t.call(s,c,(function(t,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=o[a.slice(1,-1)];break;default:var c=+a;if(0===c)return t;if(c>l){var f=d(c/10);return 0===f?t:f<=l?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):t}s=i[c-1]}return void 0===s?"":s}))}}))},Xwir:function(e,t,n){var r=n("HIsA");r({target:"Math",stat:!0},{imulh:function(e,t){var n=65535,r=+e,i=+t,a=r&n,o=i&n,s=r>>16,u=i>>16,l=(s*o>>>0)+(a*o>>>16);return s*u+(l>>16)+((a*u>>>0)+(l&n)>>16)}})},XxnP:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("bXon"),o=n("hXyk"),s=n("DDwO"),u=n("70zE"),l=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=o(this),n=new(u(t,a("Set")))(t);return l(e,s(n.add),n),n}})},Y0Ny:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("DDwO"),s=n("YjHi"),u=n("Ji6T");r({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(e){var t=a(this),n=s(t),r=arguments.length<2,i=r?void 0:arguments[1];if(o(e),u(n,(function(n,a){r?(r=!1,i=a):i=e(i,a,n,t)}),void 0,!0,!0),r)throw TypeError("Reduce of empty map with no initial value");return i}})},Y22F:function(e,t,n){var r=n("HIsA"),i=n("5AZ8");r({target:"Map",stat:!0},{from:i})},YAei:function(e,t,n){var r=n("bVFb");r("patternMatch")},"YE/S":function(e,t,n){var r=n("2JD6"),i=n("ECWN"),a=r.WeakMap;e.exports="function"===typeof a&&/native code/.test(i(a))},YXa4:function(e,t,n){var r=n("PaPB");e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},YjHi:function(e,t,n){var r=n("m52V"),i=n("0Ccx");e.exports=r?i:function(e){return Map.prototype.entries.call(e)}},"ZL/h":function(e,t,n){var r=n("7+LC");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},ZPal:function(e,t,n){"use strict";var r=n("HIsA"),i=n("wQ+q").end,a=n("8iHL"),o=a("trimEnd"),s=o?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:o},{trimEnd:s,trimRight:s})},ZcxN:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("bXon"),o=n("hXyk"),s=n("DDwO"),u=n("40mc"),l=n("70zE"),c=n("wKMT"),f=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{map:function(e){var t=o(this),n=c(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,a("Set"))),h=s(i.add);return f(n,(function(e){h.call(i,r(e,e,t))}),void 0,!1,!0),i}})},Zwxo:function(e,t,n){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},a1z2:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},aK5P:function(e,t,n){var r=n("bVFb");r("dispose")},aNCL:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("bXon"),o=n("hXyk"),s=n("DDwO"),u=n("40mc"),l=n("70zE"),c=n("YjHi"),f=n("Ji6T");r({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(e){var t=o(this),n=c(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,a("Map"))),h=s(i.set);return f(n,(function(e,n){h.call(i,r(n,e,t),n)}),void 0,!0,!0),i}})},aS93:function(e,t,n){var r=n("7+LC"),i=n("IRht"),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},acWz:function(e,t,n){var r=n("hXyk");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(o){var a=e["return"];throw void 0!==a&&r(a.call(e)),o}}},afop:function(e,t,n){"use strict";var r=n("Krz3").IteratorPrototype,i=n("bWCM"),a=n("OLna"),o=n("J7X1"),s=n("mAbK"),u=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,l,!1,!0),s[l]=u,e}},auPx:function(e,t,n){var r=n("HIsA"),i=n("jXsC");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},aveK:function(e,t,n){(function(e,n){var r=200,i="__lodash_hash_undefined__",a=9007199254740991,o="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",h="[object GeneratorFunction]",d="[object Map]",p="[object Number]",g="[object Object]",m="[object Promise]",v="[object RegExp]",y="[object Set]",_="[object String]",b="[object Symbol]",x="[object WeakMap]",w="[object ArrayBuffer]",S="[object DataView]",T="[object Float32Array]",E="[object Float64Array]",M="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",P="[object Uint16Array]",L="[object Uint32Array]",I=/[\\^$.*+?()[\]{}|]/g,R=/\w*$/,k=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,F={};F[o]=F[s]=F[w]=F[S]=F[u]=F[l]=F[T]=F[E]=F[M]=F[C]=F[A]=F[d]=F[p]=F[g]=F[v]=F[y]=F[_]=F[b]=F[O]=F[D]=F[P]=F[L]=!0,F[c]=F[f]=F[x]=!1;var B="object"==typeof e&&e&&e.Object===Object&&e,z="object"==typeof self&&self&&self.Object===Object&&self,j=B||z||Function("return this")(),H=t&&!t.nodeType&&t,U=H&&"object"==typeof n&&n&&!n.nodeType&&n,V=U&&U.exports===H;function G(e,t){return e.set(t[0],t[1]),e}function W(e,t){return e.add(t),e}function X(e,t){var n=-1,r=e?e.length:0;while(++n<r)if(!1===t(e[n],n,e))break;return e}function K(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}function q(e,t,n,r){var i=-1,a=e?e.length:0;r&&a&&(n=e[++i]);while(++i<a)n=t(n,e[i],i,e);return n}function Y(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}function Z(e,t){return null==e?void 0:e[t]}function $(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function Q(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function J(e,t){return function(n){return e(t(n))}}function ee(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var te=Array.prototype,ne=Function.prototype,re=Object.prototype,ie=j["__core-js_shared__"],ae=function(){var e=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),oe=ne.toString,se=re.hasOwnProperty,ue=re.toString,le=RegExp("^"+oe.call(se).replace(I,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=V?j.Buffer:void 0,fe=j.Symbol,he=j.Uint8Array,de=J(Object.getPrototypeOf,Object),pe=Object.create,ge=re.propertyIsEnumerable,me=te.splice,ve=Object.getOwnPropertySymbols,ye=ce?ce.isBuffer:void 0,_e=J(Object.keys,Object),be=Mt(j,"DataView"),xe=Mt(j,"Map"),we=Mt(j,"Promise"),Se=Mt(j,"Set"),Te=Mt(j,"WeakMap"),Ee=Mt(Object,"create"),Me=Nt(be),Ce=Nt(xe),Ae=Nt(we),Oe=Nt(Se),De=Nt(Te),Pe=fe?fe.prototype:void 0,Le=Pe?Pe.valueOf:void 0;function Ie(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Re(){this.__data__=Ee?Ee(null):{}}function ke(e){return this.has(e)&&delete this.__data__[e]}function Ne(e){var t=this.__data__;if(Ee){var n=t[e];return n===i?void 0:n}return se.call(t,e)?t[e]:void 0}function Fe(e){var t=this.__data__;return Ee?void 0!==t[e]:se.call(t,e)}function Be(e,t){var n=this.__data__;return n[e]=Ee&&void 0===t?i:t,this}function ze(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function je(){this.__data__=[]}function He(e){var t=this.__data__,n=at(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():me.call(t,n,1),!0}function Ue(e){var t=this.__data__,n=at(t,e);return n<0?void 0:t[n][1]}function Ve(e){return at(this.__data__,e)>-1}function Ge(e,t){var n=this.__data__,r=at(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function We(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Xe(){this.__data__={hash:new Ie,map:new(xe||ze),string:new Ie}}function Ke(e){return Et(this,e)["delete"](e)}function qe(e){return Et(this,e).get(e)}function Ye(e){return Et(this,e).has(e)}function Ze(e,t){return Et(this,e).set(e,t),this}function $e(e){this.__data__=new ze(e)}function Qe(){this.__data__=new ze}function Je(e){return this.__data__["delete"](e)}function et(e){return this.__data__.get(e)}function tt(e){return this.__data__.has(e)}function nt(e,t){var n=this.__data__;if(n instanceof ze){var i=n.__data__;if(!xe||i.length<r-1)return i.push([e,t]),this;n=this.__data__=new We(i)}return n.set(e,t),this}function rt(e,t){var n=jt(e)||zt(e)?Y(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!se.call(e,a)||i&&("length"==a||Lt(a,r))||n.push(a);return n}function it(e,t,n){var r=e[t];se.call(e,t)&&Bt(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function at(e,t){var n=e.length;while(n--)if(Bt(e[n][0],t))return n;return-1}function ot(e,t){return e&&wt(t,qt(t),e)}function st(e,t,n,r,i,a,s){var u;if(r&&(u=a?r(e,i,a,s):r(e)),void 0!==u)return u;if(!Xt(e))return e;var l=jt(e);if(l){if(u=Ot(e),!t)return xt(e,u)}else{var c=At(e),d=c==f||c==h;if(Vt(e))return dt(e,t);if(c==g||c==o||d&&!a){if($(e))return a?e:{};if(u=Dt(d?{}:e),!t)return St(e,ot(u,e))}else{if(!F[c])return a?e:{};u=Pt(e,c,st,t)}}s||(s=new $e);var p=s.get(e);if(p)return p;if(s.set(e,u),!l)var m=n?Tt(e):qt(e);return X(m||e,(function(i,a){m&&(a=i,i=e[a]),it(u,a,st(i,t,n,r,a,e,s))})),u}function ut(e){return Xt(e)?pe(e):{}}function lt(e,t,n){var r=t(e);return jt(e)?r:K(r,n(e))}function ct(e){return ue.call(e)}function ft(e){if(!Xt(e)||Rt(e))return!1;var t=Gt(e)||$(e)?le:k;return t.test(Nt(e))}function ht(e){if(!kt(e))return _e(e);var t=[];for(var n in Object(e))se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function dt(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function pt(e){var t=new e.constructor(e.byteLength);return new he(t).set(new he(e)),t}function gt(e,t){var n=t?pt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function mt(e,t,n){var r=t?n(Q(e),!0):Q(e);return q(r,G,new e.constructor)}function vt(e){var t=new e.constructor(e.source,R.exec(e));return t.lastIndex=e.lastIndex,t}function yt(e,t,n){var r=t?n(ee(e),!0):ee(e);return q(r,W,new e.constructor)}function _t(e){return Le?Object(Le.call(e)):{}}function bt(e,t){var n=t?pt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function xt(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}function wt(e,t,n,r){n||(n={});var i=-1,a=t.length;while(++i<a){var o=t[i],s=r?r(n[o],e[o],o,n,e):void 0;it(n,o,void 0===s?e[o]:s)}return n}function St(e,t){return wt(e,Ct(e),t)}function Tt(e){return lt(e,qt,Ct)}function Et(e,t){var n=e.__data__;return It(t)?n["string"==typeof t?"string":"hash"]:n.map}function Mt(e,t){var n=Z(e,t);return ft(n)?n:void 0}Ie.prototype.clear=Re,Ie.prototype["delete"]=ke,Ie.prototype.get=Ne,Ie.prototype.has=Fe,Ie.prototype.set=Be,ze.prototype.clear=je,ze.prototype["delete"]=He,ze.prototype.get=Ue,ze.prototype.has=Ve,ze.prototype.set=Ge,We.prototype.clear=Xe,We.prototype["delete"]=Ke,We.prototype.get=qe,We.prototype.has=Ye,We.prototype.set=Ze,$e.prototype.clear=Qe,$e.prototype["delete"]=Je,$e.prototype.get=et,$e.prototype.has=tt,$e.prototype.set=nt;var Ct=ve?J(ve,Object):Yt,At=ct;function Ot(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&se.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Dt(e){return"function"!=typeof e.constructor||kt(e)?{}:ut(de(e))}function Pt(e,t,n,r){var i=e.constructor;switch(t){case w:return pt(e);case u:case l:return new i(+e);case S:return gt(e,r);case T:case E:case M:case C:case A:case O:case D:case P:case L:return bt(e,r);case d:return mt(e,r,n);case p:case _:return new i(e);case v:return vt(e);case y:return yt(e,r,n);case b:return _t(e)}}function Lt(e,t){return t=null==t?a:t,!!t&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function It(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Rt(e){return!!ae&&ae in e}function kt(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||re;return e===n}function Nt(e){if(null!=e){try{return oe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ft(e){return st(e,!0,!0)}function Bt(e,t){return e===t||e!==e&&t!==t}function zt(e){return Ut(e)&&se.call(e,"callee")&&(!ge.call(e,"callee")||ue.call(e)==o)}(be&&At(new be(new ArrayBuffer(1)))!=S||xe&&At(new xe)!=d||we&&At(we.resolve())!=m||Se&&At(new Se)!=y||Te&&At(new Te)!=x)&&(At=function(e){var t=ue.call(e),n=t==g?e.constructor:void 0,r=n?Nt(n):void 0;if(r)switch(r){case Me:return S;case Ce:return d;case Ae:return m;case Oe:return y;case De:return x}return t});var jt=Array.isArray;function Ht(e){return null!=e&&Wt(e.length)&&!Gt(e)}function Ut(e){return Kt(e)&&Ht(e)}var Vt=ye||Zt;function Gt(e){var t=Xt(e)?ue.call(e):"";return t==f||t==h}function Wt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Xt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Kt(e){return!!e&&"object"==typeof e}function qt(e){return Ht(e)?rt(e):ht(e)}function Yt(){return[]}function Zt(){return!1}n.exports=Ft}).call(this,n("UywP"),n("qrga")(e))},b4JQ:function(e,t,n){var r=n("NVMI"),i=n("2I03"),a=n("tg/3"),o=n("mKn/"),s=n("40mc"),u=n("Wp5u").aTypedArrayConstructor;e.exports=function(e){var t,n,l,c,f,h,d=r(e),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=a(d);if(void 0!=v&&!o(v)){f=v.call(d),h=f.next,d=[];while(!(c=h.call(f)).done)d.push(c.value)}for(m&&p>2&&(g=s(g,arguments[2],2)),n=i(d.length),l=new(u(this))(n),t=0;n>t;t++)l[t]=m?g(d[t],t):d[t];return l}},"b9+m":function(e,t,n){var r=n("bXon");e.exports=r("document","documentElement")},bCY9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("CU0g"),i=new r["Plugin"]({validKeys:["modifyClientRenderOpts","patchRoutes","rootContainer","render","onRouteChange"]})},bCfE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ver=t.clear=t.bind=void 0;var r=n("hQli"),i=function(e,t){var n=(0,r.getSensor)(e);return n.bind(t),function(){n.unbind(t)}};t.bind=i;var a=function(e){var t=(0,r.getSensor)(e);(0,r.removeSensor)(t)};t.clear=a;var o="1.0.1";t.ver=o},bG4S:function(e,t,n){var r=n("HIsA"),i=n("VeQJ");r({target:"WeakSet",stat:!0},{of:i})},bL85:function(e,t,n){var r=n("HIsA"),i=n("icJ8"),a=n("hXyk"),o=i.get,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadata:function(e,t){var n=arguments.length<3?void 0:s(arguments[2]);return o(e,a(t),n)}})},bShA:function(e,t,n){var r=n("m52V"),i=n("Ogjs");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},bVFb:function(e,t,n){var r=n("G5kI"),i=n("+qhb"),a=n("Q1Da"),o=n("2RC6").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},bWCM:function(e,t,n){var r,i=n("hXyk"),a=n("2+gS"),o=n("GPbW"),s=n("1agv"),u=n("b9+m"),l=n("riWr"),c=n("fbKl"),f=">",h="<",d="prototype",p="script",g=c("IE_PROTO"),m=function(){},v=function(e){return h+p+f+e+h+"/"+p+f},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},_=function(){var e,t=l("iframe"),n="java"+p+":";return t.style.display="none",u.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},b=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}b=r?y(r):_();var e=o.length;while(e--)delete b[d][o[e]];return b()};s[g]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[d]=i(e),n=new m,m[d]=null,n[g]=e):n=b(),void 0===t?n:a(n,t)}},bXon:function(e,t,n){var r=n("G5kI"),i=n("2JD6"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},bbTr:function(e,t,n){"use strict";var r=n("HIsA"),i=n("wQ+q").trim,a=n("8iHL");r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},br1d:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("7SXh");r({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return a.apply(this,arguments)}})},c2jp:function(e,t,n){var r=n("HIsA"),i=n("VeQJ");r({target:"Map",stat:!0},{of:i})},c8OV:function(e,t,n){var r=n("T9r4");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},cCpg:function(e,t,n){var r=n("HIsA");r({target:"Math",stat:!0},{umulh:function(e,t){var n=65535,r=+e,i=+t,a=r&n,o=i&n,s=r>>>16,u=i>>>16,l=(s*o>>>0)+(a*o>>>16);return s*u+(l>>>16)+((a*u>>>0)+(l&n)>>>16)}})},cGOV:function(e,t,n){var r=n("pxmn"),i=n("UPu9");e.exports=function(e,t,n){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(e,o),e}},d62z:function(e,t,n){"use strict";var r=n("HIsA"),i=n("pxmn"),a=n("dOdC"),o=n("4dbd"),s=n("2I03"),u=n("2hCa"),l=n("G70G"),c=n("kPvK"),f=n("HqdE"),h=n("/5yA"),d=f("slice"),p=h("slice",{ACCESSORS:!0,0:0,1:2}),g=c("species"),m=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!d||!p},{slice:function(e,t){var n,r,c,f=u(this),h=s(f.length),d=o(e,h),p=o(void 0===t?h:t,h);if(a(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?i(n)&&(n=n[g],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(f,d,p);for(r=new(void 0===n?Array:n)(v(p-d,0)),c=0;d<p;d++,c++)d in f&&l(r,c,f[d]);return r.length=c,r}})},dMsU:function(e,t,n){var r=n("xUti");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},dOdC:function(e,t,n){var r=n("IRht");e.exports=Array.isArray||function(e){return"Array"==r(e)}},dXt2:function(e,t,n){"use strict";var r=n("Hiyu"),i=n("JY8B"),a=n("NVMI"),o=n("2I03"),s=n("2RC6").f;r&&!("lastIndex"in[])&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=a(this),t=o(e.length);return 0==t?0:t-1}}),i("lastIndex"))},dZOt:function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(a){return!1}}e.exports=s()?Object.assign:function(e,t){for(var n,s,u=o(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]),n)i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},"dao+":function(e,t,n){},dpzy:function(e,t,n){var r=n("T9r4");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},dske:function(e,t,n){"use strict";e.exports=n("fIC7")},eD14:function(e,t,n){var r=n("kPvK"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},egoY:function(e,t,n){var r=n("4FMk");function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i},esEm:function(e,t,n){var r=n("2JD6"),i=n("J7X1");i(r.JSON,"JSON",!0)},eusP:function(e,t,n){var r=n("YXa4");e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},fAam:function(e,t,n){var r=n("X/7a"),i=n("+S3R"),a=n("egoY"),o=n("vRjm");function s(e){return r(e)||i(e)||a(e)||o()}e.exports=s},fIC7:function(e,t,n){"use strict";var r,i,a,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(c,0))},i=function(e,t){l=setTimeout(e,t)},a=function(){clearTimeout(l)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var v=d.now();t.unstable_now=function(){return d.now()-v}}var y=!1,_=null,b=-1,x=5,w=0;o=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,T=S.port2;S.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();w=e+x;try{_(!0,e)?T.postMessage(null):(y=!1,_=null)}catch(n){throw T.postMessage(null),n}}else y=!1},r=function(e){_=e,y||(y=!0,T.postMessage(null))},i=function(e,n){b=p((function(){e(t.unstable_now())}),n)},a=function(){g(b),b=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<A(i,t)))break e;e[r]=t,e[n]=i,n=r}}function M(e){return e=e[0],void 0===e?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>A(o,n))void 0!==u&&0>A(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>A(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],D=[],P=1,L=null,I=3,R=!1,k=!1,N=!1;function F(e){for(var t=M(D);null!==t;){if(null===t.callback)C(D);else{if(!(t.startTime<=e))break;C(D),t.sortIndex=t.expirationTime,E(O,t)}t=M(D)}}function B(e){if(N=!1,F(e),!k)if(null!==M(O))k=!0,r(z);else{var t=M(D);null!==t&&i(B,t.startTime-e)}}function z(e,n){k=!1,N&&(N=!1,a()),R=!0;var r=I;try{for(F(n),L=M(O);null!==L&&(!(L.expirationTime>n)||e&&!o());){var s=L.callback;if(null!==s){L.callback=null,I=L.priorityLevel;var u=s(L.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?L.callback=u:L===M(O)&&C(O),F(n)}else C(O);L=M(O)}if(null!==L)var l=!0;else{var c=M(D);null!==c&&i(B,c.startTime-n),l=!1}return l}finally{L=null,I=r,R=!1}}function j(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var H=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){k||R||(k=!0,r(z))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return M(O)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=H,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var u=o.delay;u="number"===typeof u&&0<u?s+u:s,o="number"===typeof o.timeout?o.timeout:j(e)}else o=j(e),u=s;return o=u+o,e={id:P++,callback:n,priorityLevel:e,startTime:u,expirationTime:o,sortIndex:-1},u>s?(e.sortIndex=u,E(D,e),null===M(O)&&e===M(D)&&(N?a():N=!0,i(B,u-s))):(e.sortIndex=o,E(O,e),k||R||(k=!0,r(z))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var n=M(O);return n!==L&&null!==L&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<L.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},"fK+4":function(e,t,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}}r(),e.exports=n("ochL")},fbKl:function(e,t,n){var r=n("bShA"),i=n("fotI"),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},fmhB:function(e,t,n){"use strict";var r=n("45XY");function i(){var e=l(n("xwgP"));return i=function(){return e},e}function a(){var e=s(n("x2v5"));return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=s(n("xgte"));function s(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n["default"]=e,t&&t.set(e,n),n}function c(e,t){return g(e)||p(e,t)||h(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}function g(e){if(Array.isArray(e))return e}function m(e,t,n){return Object.entries(a()["default"][e]).reduce((function(e,i){var a=r(i,2),o=a[0],s=a[1];return e[o]=s.map((function(e){var r=Object.assign({},e);return Object.keys(e).forEach((function(e){if(/^description(\.|$)/.test(e)){var i=e.match(/^description\.?(.*)$/),a=c(i,2),o=a[1];o&&o!==t||!o&&!n?delete r[e]:r.description=r[e]}})),r})),e}),{})}var v=function(e){var t=(0,i().useContext)(o["default"]),n=t.locale,r=t.config.locales,a=!r.length||r[0].name===n,s=(0,i().useState)(m(e,n,a)),u=c(s,2),l=u[0],f=u[1];return(0,i().useEffect)((function(){f(m(e,n,a))}),[e,n,a]),l};t["default"]=v},fotI:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},fvmE:function(e,t,n){"use strict";function r(e){var t=new XMLHttpRequest;t.open("get",e.url),t.responseType=e.responseType||"text",e.onprogress&&(t.onprogress=function(t){if(t.lengthComputable){var n=t.loaded/t.total;e.onprogress(n,t.loaded,t.total)}else e.onprogress(null)}),t.onload=function(n){t.status>=400?e.onerror&&e.onerror():e.onload&&e.onload(t.response)},e.onerror&&(t.onerror=e.onerror),t.send(null)}t["a"]={get:r}},"g+uz":function(e,t,n){var r=n("HIsA"),i=n("VeQJ");r({target:"WeakMap",stat:!0},{of:i})},gDF8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("LDy6");function i(e,t){if(null==e)return{};var n,i,a=Object(r["a"])(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},gS7u:function(e,t,n){"use strict";var r=n("HIsA"),i=n("Hiyu"),a=n("kI7s"),o=n("UPu9"),s=n("bWCM"),u=n("2RC6"),l=n("OLna"),c=n("Ji6T"),f=n("D8FR"),h=n("twJ5"),d=h.set,p=h.getterFor("AggregateError"),g=function(e,t){var n=this;if(!(n instanceof g))return new g(e,t);o&&(n=o(new Error(t),a(n)));var r=[];return c(e,r.push,r),i?d(n,{errors:r,type:"AggregateError"}):n.errors=r,void 0!==t&&f(n,"message",String(t)),n};g.prototype=s(Error.prototype,{constructor:l(5,g),message:l(5,""),name:l(5,"AggregateError")}),i&&u.f(g.prototype,"errors",{get:function(){return p(this).errors},configurable:!0}),r({global:!0},{AggregateError:g})},ghbW:function(e,t,n){"use strict";var r=n("HIsA"),i=n("2JD6"),a=n("6Nbm"),o=n("GUTS"),s=n("qDpf"),u=n("Ji6T"),l=n("xOST"),c=n("pxmn"),f=n("7+LC"),h=n("9HG5"),d=n("J7X1"),p=n("cGOV");e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),v=g?"set":"add",y=i[e],_=y&&y.prototype,b=y,x={},w=function(e){var t=_[e];o(_,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(a(e,"function"!=typeof y||!(m||_.forEach&&!f((function(){(new y).entries().next()})))))b=n.getConstructor(t,e,g,v),s.REQUIRED=!0;else if(a(e,!0)){var S=new b,T=S[v](m?{}:-0,1)!=S,E=f((function(){S.has(1)})),M=h((function(e){new y(e)})),C=!m&&f((function(){var e=new y,t=5;while(t--)e[v](t,t);return!e.has(-0)}));M||(b=t((function(t,n){l(t,b,e);var r=p(new y,t,b);return void 0!=n&&u(n,r[v],r,g),r})),b.prototype=_,_.constructor=b),(E||C)&&(w("delete"),w("has"),g&&w("get")),(C||T)&&w(v),m&&_.clear&&delete _.clear}return x[e]=b,r({global:!0,forced:b!=y},x),d(b,e),m||n.setStrong(b,e,g),b}},gla0:function(e,t,n){var r=n("JqKL");r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},h6PP:function(e,t,n){var r=n("HIsA"),i=180/Math.PI;r({target:"Math",stat:!0},{degrees:function(e){return e*i}})},hIhI:function(e,t,n){"use strict";var r=n("HIsA"),i=n("wQ+q").start,a=n("8iHL"),o=a("trimStart"),s=o?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:o},{trimStart:s,trimLeft:s})},hLNC:function(e,t,n){var r=n("2JD6"),i=n("wQ+q").trim,a=n("/Izz"),o=r.parseFloat,s=1/o(a+"-0")!==-1/0;e.exports=s?function(e){var t=i(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},hLzx:function(e,t,n){"use strict";var r=n("HIsA"),i=n("Xf1w").every,a=n("1+Eb"),o=n("/5yA"),s=a("every"),u=o("every");r({target:"Array",proto:!0,forced:!s||!u},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},hQli:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSensor=t.getSensor=void 0;var r=o(n("NNdr")),i=n("A2sQ"),a=n("MPYE");function o(e){return e&&e.__esModule?e:{default:e}}var s={},u=function(e){var t=e.getAttribute(a.SizeSensorId);if(t&&s[t])return s[t];var n=(0,r["default"])();e.setAttribute(a.SizeSensorId,n);var o=(0,i.createSensor)(e);return s[n]=o,o};t.getSensor=u;var l=function(e){var t=e.element.getAttribute(a.SizeSensorId);e.element.removeAttribute(a.SizeSensorId),e.destroy(),t&&s[t]&&delete s[t]};t.removeSensor=l},hXyk:function(e,t,n){var r=n("pxmn");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},horb:function(e,t,n){"use strict";var r=n("HIsA"),i=n("O4tt"),a=n("NVMI"),o=n("2I03"),s=n("DDwO"),u=n("HKEF");r({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),r=o(n.length);return s(e),t=u(n,0),t.length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},"hv/N":function(e,t,n){var r=n("JY8B");r("flatMap")},iKoX:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("DDwO"),s=n("wKMT"),u=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(e){var t=a(this),n=s(t),r=arguments.length<2,i=r?void 0:arguments[1];if(o(e),u(n,(function(n){r?(r=!1,i=n):i=e(i,n,n,t)}),void 0,!1,!0),r)throw TypeError("Reduce of empty set with no initial value");return i}})},iPOA:function(e,t,n){"use strict";n.r(t);var r=n("xwgP"),i=n.n(r),a=n("kvV8"),o=n("lBQG"),s=i.a.memo(n("Rsk4").default["theme-demo"].component);t["default"]=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"theme"},i.a.createElement(a["AnchorLink"],{to:"#theme","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:["icon","icon-link"]})),"Theme")),i.a.createElement(o["default"],n("Rsk4").default["theme-demo"].previewerProps,i.a.createElement(s,null))))}},iY6v:function(e,t,n){"use strict";var r=n("HIsA"),i=n("iYBb").start,a=n("c8OV");r({target:"String",proto:!0,forced:a},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},iYBb:function(e,t,n){var r=n("2I03"),i=n("x+a2"),a=n("JzK+"),o=Math.ceil,s=function(e){return function(t,n,s){var u,l,c=String(a(t)),f=c.length,h=void 0===s?" ":String(s),d=r(n);return d<=f||""==h?c:(u=d-f,l=i.call(h,o(u/h.length)),l.length>u&&(l=l.slice(0,u)),e?c+l:l+c)}};e.exports={start:s(!1),end:s(!0)}},icJ8:function(e,t,n){var r=n("G4R5"),i=n("stff"),a=n("bShA"),o=a("metadata"),s=o.store||(o.store=new i),u=function(e,t,n){var i=s.get(e);if(!i){if(!n)return;s.set(e,i=new r)}var a=i.get(t);if(!a){if(!n)return;i.set(t,a=new r)}return a},l=function(e,t,n){var r=u(t,n,!1);return void 0!==r&&r.has(e)},c=function(e,t,n){var r=u(t,n,!1);return void 0===r?void 0:r.get(e)},f=function(e,t,n,r){u(n,r,!0).set(e,t)},h=function(e,t){var n=u(e,t,!1),r=[];return n&&n.forEach((function(e,t){r.push(t)})),r},d=function(e){return void 0===e||"symbol"==typeof e?e:String(e)};e.exports={store:s,getMap:u,has:l,get:c,set:f,keys:h,toKey:d}},iczh:function(e,t,n){var r,i;(function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a["default"]=a,e.exports=a):(r=[],i=function(){return a}.apply(t,r),void 0===i||(e.exports=i))})()},idQS:function(e,t,n){var r=n("bVFb");r("toStringTag")},ihzt:function(e,t,n){var r=n("pxmn"),i=n("IRht"),a=n("kPvK"),o=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},ij3K:function(e,t,n){"use strict";n.r(t);var r=n("xwgP"),i=n.n(r),a=n("kvV8"),o=n("lBQG"),s=i.a.memo(n("Rsk4").default["loading-demo"].component);t["default"]=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"loading"},i.a.createElement(a["AnchorLink"],{to:"#loading","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:["icon","icon-link"]})),"Loading")),i.a.createElement(o["default"],n("Rsk4").default["loading-demo"].previewerProps,i.a.createElement(s,null))))}},iqln:function(e,t,n){var r=n("HIsA"),i=n("q0Qw"),a=n("bXon"),o=n("bWCM"),s=function(){var e=a("Object","freeze");return e?e(o(null)):o(null)};r({global:!0},{compositeKey:function(){return i.apply(Object,arguments).get("object",s)}})},jAXh:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("40mc"),s=n("YjHi"),u=n("Ji6T");r({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e,n){if(r(n,e,t))return u.stop(e)}),void 0,!0,!0).result}})},jDiR:function(e,t,n){"use strict";function r(){var e=a(n("xwgP"));return r=function(){return e},e}function i(){var e=a(n("Rsk4"));return i=function(){return e},e}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=function(e){var t=[],a=e.match.params.uuid,o=void 0===e.location.query.wrapper,u=i()["default"][a];if(u){var l=s(s({},u.previewerProps),{},{hideActions:(u.previewerProps.hideActions||[]).concat(["EXTERNAL"])});void 0!==e.location.query.capture&&(l.motions=(l.motions||[]).slice(),l.motions.unshift("autoplay"),l.motions.every((function(e){return!e.startsWith("capture")}))&&l.motions.push("capture:[id|=root]")),t=o?[r()["default"].createElement((function(){return n("kvV8").useMotions(l.motions||[],document),r()["default"].createElement("div",{},r()["default"].createElement(u.component))}))]:[l,r()["default"].createElement(u.component)]}return t};t["default"]=l},jUTB:function(e,t,n){var r=n("bXon"),i=n("szjD"),a=n("CmBG"),o=n("hXyk");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},jXsC:function(e,t,n){"use strict";var r=n("2hCa"),i=n("PaPB"),a=n("2I03"),o=n("1+Eb"),s=n("/5yA"),u=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,f=o("lastIndexOf"),h=s("indexOf",{ACCESSORS:!0,1:0}),d=c||!f||!h;e.exports=d?function(e){if(c)return l.apply(this,arguments)||0;var t=r(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=u(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:l},jd72:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},jiNi:function(e,t,n){var r=n("HIsA"),i=n("q0Qw"),a=n("bXon");r({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"===typeof arguments[0]?a("Symbol")["for"](arguments[0]):i.apply(null,arguments).get("symbol",a("Symbol"))}})},jnx3:function(e,t,n){"use strict";n.r(t);var r=n("xwgP"),i=n.n(r),a=n("kvV8"),o=n("lBQG"),s=i.a.memo(n("Rsk4").default["api-demo"].component);t["default"]=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"echarts-api"},i.a.createElement(a["AnchorLink"],{to:"#echarts-api","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:["icon","icon-link"]})),"ECharts API")),i.a.createElement(o["default"],n("Rsk4").default["api-demo"].previewerProps,i.a.createElement(s,null))))}},jthf:function(e,t,n){"use strict";function r(){var e=a(n("xwgP"));return r=function(){return e},e}function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n["default"]=e,t&&t.set(e,n),n}function o(e,t){return f(e)||c(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var h=function(e,t){var n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r={};return Object.keys(t[1]).forEach((function(e){var n=(e.match(/^(.+)\.([^_]+)$/)||[]).slice(1),i=o(n,2),a=i[0],s=i[1];s&&s!==t[0]||(r[a||e]=t[1][e])})),r},i=(0,r().useState)(n(e,t)),a=o(i,2),s=a[0],u=a[1];return(0,r().useEffect)((function(){u(n(e,t))}),[e,t]),s};t["default"]=h},kI7s:function(e,t,n){var r=n("+qhb"),i=n("NVMI"),a=n("fbKl"),o=n("7saB"),s=a("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},kKrw:function(e,t,n){"use strict";var r=n("HIsA"),i=n("B6LR"),a=n("JzK+"),o=n("eD14");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},kPW5:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},kPvK:function(e,t,n){var r=n("2JD6"),i=n("bShA"),a=n("+qhb"),o=n("fotI"),s=n("xUti"),u=n("dMsU"),l=i("wks"),c=r.Symbol,f=u?c:c&&c.withoutSetter||o;e.exports=function(e){return a(l,e)||(s&&a(c,e)?l[e]=c[e]:l[e]=f("Symbol."+e)),l[e]}},kRmj:function(e,t,n){var r=n("JqKL");r("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},keKz:function(e,t,n){var r=n("2JD6");e.exports=r.Promise},kes9:function(e,t,n){var r=n("Oaiz"),i=Math.abs,a=Math.pow,o=a(2,-52),s=a(2,-23),u=a(2,127)*(2-s),l=a(2,-126),c=function(e){return e+1/o-1/o};e.exports=Math.fround||function(e){var t,n,a=i(e),f=r(e);return a<l?f*c(a/l/s)*l*s:(t=(1+s/o)*a,n=t-(t-a),n>u||n!=n?f*(1/0):f*n)}},kh0G:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("40mc"),s=n("wKMT"),u=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{find:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e){if(r(e,e,t))return u.stop(e)}),void 0,!1,!0).result}})},knnx:function(e,t,n){"use strict";var r=n("HIsA"),i=n("iYBb").end,a=n("c8OV");r({target:"String",proto:!0,forced:a},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},kvV8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"context",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"NavLink",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(t,"AnchorLink",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(t,"useSearch",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(t,"useCopy",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(t,"useRiddle",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(t,"useMotions",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(t,"useCodeSandbox",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(t,"useLocaleProps",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(t,"useDemoUrl",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(t,"useApiData",{enumerable:!0,get:function(){return p["default"]}}),Object.defineProperty(t,"useTSPlaygroundUrl",{enumerable:!0,get:function(){return g["default"]}});var r=m(n("xgte")),i=m(n("MMtT")),a=m(n("vAB1")),o=m(n("1PYm")),s=m(n("5D2R")),u=m(n("7/qK")),l=m(n("Pjiy")),c=m(n("FaOA")),f=m(n("TOff")),h=m(n("jthf")),d=m(n("BtfP")),p=m(n("fmhB")),g=m(n("PLZd"));function m(e){return e&&e.__esModule?e:{default:e}}},lBFn:function(e,t,n){"use strict";var r=n("HIsA"),i=n("afop"),a=n("JzK+"),o=n("twJ5"),s=n("9izy"),u=s.codeAt,l=s.charAt,c="String Iterator",f=o.set,h=o.getterFor(c),d=i((function(e){f(this,{type:c,string:e,index:0})}),"String",(function(){var e,t=h(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=l(n,r),t.index+=e.length,{value:{codePoint:u(e,0),position:r},done:!1})}));r({target:"String",proto:!0},{codePoints:function(){return new d(String(a(this)))}})},lBQG:function(e,t,n){"use strict";n.r(t);var r=n("ob7Q"),i=n("xwgP"),a=n.n(i),o=n("a1z2"),s=n("RtWR");function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var l=n("gDF8"),c=n("Fano"),f=n("iczh"),h=n.n(f),d=n("2kiq");function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return a.a.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(p(e)):Object(d["isFragment"])(e)&&e.props?n=n.concat(p(e.props.children,t)):n.push(e))})),n}var g=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))};function m(e,t){var n=t||{},a=n.defaultValue,o=n.value,s=n.onChange,u=n.postState,l=i["useState"]((function(){return void 0!==o?o:void 0!==a?"function"===typeof a?a():a:"function"===typeof e?e():e})),c=Object(r["default"])(l,2),f=c[0],h=c[1],d=void 0!==o?o:f;function p(e){h(e),d!==e&&s&&s(e,d)}u&&(d=u(d));var g=i["useRef"](!0);return i["useEffect"]((function(){g.current?g.current=!1:void 0===o&&h(o)}),[o]),[d,p]}var v=n("lUyv");function y(e){if(Array.isArray(e))return Object(v["a"])(e)}function _(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var b=n("D0A+");function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e){return y(e)||_(e)||Object(b["a"])(e)||x()}var S=function(e){return+setTimeout(e,16)},T=function(e){return clearTimeout(e)};function E(e){return S(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}"undefined"!==typeof window&&"requestAnimationFrame"in window&&(S=function(e){return window.requestAnimationFrame(e)},T=function(e){return window.cancelAnimationFrame(e)}),E.cancel=T;var O=n("tNTM");function D(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(O["a"])(e,t)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?I(e):t}function k(e){var t=L();return function(){var n,r=P(e);if(t){var i=P(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R(this,n)}}var N=n("fK+4"),F=n.n(N);function B(e){return e instanceof HTMLElement?e:F.a.findDOMNode(e)}var z={};function j(e,t){0}function H(e,t,n){t||z[n]||(e(!1,n),z[n]=!0)}function U(e,t){H(j,e,t)}var V=U;function G(e,t){"function"===typeof e?e(t):"object"===u(e)&&e&&"current"in e&&(e.current=t)}function W(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){G(t,e)}))}}function X(e){var t,n,r=Object(d["isMemo"])(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}var K=n("BlUI"),q="rc-observer-key",Y=function(e){D(n,e);var t=k(n);function n(){var e;return M(this,n),e=t.apply(this,arguments),e.resizeObserver=null,e.childNode=null,e.currentElement=null,e.state={width:0,height:0,offsetHeight:0,offsetWidth:0},e.onResize=function(t){var n=e.props.onResize,r=t[0].target,i=r.getBoundingClientRect(),a=i.width,o=i.height,s=r.offsetWidth,u=r.offsetHeight,l=Math.floor(a),f=Math.floor(o);if(e.state.width!==l||e.state.height!==f||e.state.offsetWidth!==s||e.state.offsetHeight!==u){var h={width:l,height:f,offsetWidth:s,offsetHeight:u};e.setState(h),n&&Promise.resolve().then((function(){n(Object(c["a"])(Object(c["a"])({},h),{},{offsetWidth:s,offsetHeight:u}),r)}))}},e.setChildNode=function(t){e.childNode=t},e}return A(n,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){var e=this.props.disabled;if(e)this.destroyObserver();else{var t=B(this.childNode||this),n=t!==this.currentElement;n&&(this.destroyObserver(),this.currentElement=t),!this.resizeObserver&&t&&(this.resizeObserver=new K["a"](this.onResize),this.resizeObserver.observe(t))}}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var e=this.props.children,t=p(e);if(t.length>1)V(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(0===t.length)return V(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var n=t[0];if(i["isValidElement"](n)&&X(n)){var r=n.ref;t[0]=i["cloneElement"](n,{ref:W(r,this.setChildNode)})}return 1===t.length?t[0]:t.map((function(e,t){return!i["isValidElement"](e)||"key"in e&&null!==e.key?e:i["cloneElement"](e,{key:"".concat(q,"-").concat(t)})}))}}]),n}(i["Component"]);Y.displayName="ResizeObserver";var Z=Y;function $(e){var t=Object(i["useRef"])(),n=Object(i["useRef"])(!1);function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n.current||(E.cancel(t.current),t.current=E((function(){e.apply(void 0,i)})))}return Object(i["useEffect"])((function(){return function(){n.current=!0,E.cancel(t.current)}}),[]),r}function Q(e){var t=Object(i["useRef"])([]),n=Object(i["useState"])({}),a=Object(r["default"])(n,2),o=a[1],s=Object(i["useRef"])("function"===typeof e?e():e),u=$((function(){var e=s.current;t.current.forEach((function(t){e=t(e)})),t.current=[],s.current=e,o({})}));function l(e){t.current.push(e),u()}return[s.current,l]}var J={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=J.F1&&t<=J.F12)return!1;switch(t){case J.ALT:case J.CAPS_LOCK:case J.CONTEXT_MENU:case J.CTRL:case J.DOWN:case J.END:case J.ESC:case J.HOME:case J.INSERT:case J.LEFT:case J.MAC_FF_META:case J.META:case J.NUMLOCK:case J.NUM_CENTER:case J.PAGE_DOWN:case J.PAGE_UP:case J.PAUSE:case J.PRINT_SCREEN:case J.RIGHT:case J.SHIFT:case J.UP:case J.WIN_KEY:case J.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=J.ZERO&&e<=J.NINE)return!0;if(e>=J.NUM_ZERO&&e<=J.NUM_MULTIPLY)return!0;if(e>=J.A&&e<=J.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case J.SPACE:case J.QUESTION_MARK:case J.NUM_PLUS:case J.NUM_MINUS:case J.NUM_PERIOD:case J.NUM_DIVISION:case J.SEMICOLON:case J.DASH:case J.EQUALS:case J.COMMA:case J.PERIOD:case J.SLASH:case J.APOSTROPHE:case J.SINGLE_QUOTE:case J.OPEN_SQUARE_BRACKET:case J.BACKSLASH:case J.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},ee=J;function te(e,t){var n,r=e.prefixCls,a=e.id,o=e.active,u=e.rtl,l=e.tab,c=l.key,f=l.tab,d=l.disabled,p=l.closeIcon,g=e.tabBarGutter,m=e.tabPosition,v=e.closable,y=e.renderWrapper,_=e.removeAriaLabel,b=e.editable,x=e.onClick,w=e.onRemove,S=e.onFocus,T="".concat(r,"-tab");i["useEffect"]((function(){return w}),[]);var E={};"top"===m||"bottom"===m?E[u?"marginLeft":"marginRight"]=g:E.marginBottom=g;var M=b&&!1!==v&&!d;function C(e){d||x(e)}function A(e){e.preventDefault(),e.stopPropagation(),b.onEdit("remove",{key:c,event:e})}var O=i["createElement"]("div",{key:c,ref:t,className:h()(T,(n={},Object(s["a"])(n,"".concat(T,"-with-remove"),M),Object(s["a"])(n,"".concat(T,"-active"),o),Object(s["a"])(n,"".concat(T,"-disabled"),d),n)),style:E,onClick:C},i["createElement"]("div",{role:"tab","aria-selected":o,id:a&&"".concat(a,"-tab-").concat(c),className:"".concat(T,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(c),"aria-disabled":d,tabIndex:d?null:0,onClick:function(e){e.stopPropagation(),C(e)},onKeyDown:function(e){[ee.SPACE,ee.ENTER].includes(e.which)&&(e.preventDefault(),C(e))},onFocus:S},f),M&&i["createElement"]("button",{type:"button","aria-label":_||"remove",tabIndex:0,className:"".concat(T,"-remove"),onClick:function(e){e.stopPropagation(),A(e)}},p||b.removeIcon||"\xd7"));return y&&(O=y(O)),O}var ne=i["forwardRef"](te),re={width:0,height:0,left:0,top:0};function ie(e,t,n){return Object(i["useMemo"])((function(){for(var n,r=new Map,i=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||re,a=i.left+i.width,o=0;o<e.length;o+=1){var s,u=e[o].key,l=t.get(u);if(!l)l=t.get(null===(s=e[o-1])||void 0===s?void 0:s.key)||re;var f=r.get(u)||Object(c["a"])({},l);f.right=a-f.left-f.width,r.set(u,f)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}var ae={width:0,height:0,left:0,top:0,right:0};function oe(e,t,n,r,a){var o,s,u,l=a.tabs,c=a.tabPosition,f=a.rtl;["top","bottom"].includes(c)?(o="width",s=f?"right":"left",u=Math.abs(t.left)):(o="height",s="top",u=-t.top);var h=t[o],d=n[o],p=r[o],g=h;return d+p>h&&(g=h-p),Object(i["useMemo"])((function(){if(!l.length)return[0,0];for(var t=l.length,n=t,r=0;r<t;r+=1){var i=e.get(l[r].key)||ae;if(i[s]+i[o]>u+g){n=r-1;break}}for(var a=0,c=t-1;c>=0;c-=1){var f=e.get(l[c].key)||ae;if(f[s]<u){a=c+1;break}}return[a,n]}),[e,u,g,c,l.map((function(e){return e.key})).join("_"),f])}var se=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ue=i["createContext"](null),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return se(t,e),t.prototype.render=function(){return i["createElement"](ue.Provider,{value:this.props.store},this.props.children)},t}(i["Component"]),ce=n("8CG2"),fe=n.n(ce),he=n("QIG3"),de=n.n(he),pe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ge=function(){return ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ge.apply(this,arguments)};function me(e){return e.displayName||e.name||"Component"}var ve=function(){return{}};function ye(e,t){void 0===t&&(t={});var n=!!e,r=e||ve;return function(a){var o=function(t){function o(e,n){var i=t.call(this,e,n)||this;return i.unsubscribe=null,i.handleChange=function(){if(i.unsubscribe){var e=r(i.store.getState(),i.props);i.setState({subscribed:e})}},i.store=i.context,i.state={subscribed:r(i.store.getState(),e),store:i.store,props:e},i}return pe(o,t),o.getDerivedStateFromProps=function(t,n){return e&&2===e.length&&t!==n.props?{subscribed:r(n.store.getState(),t),props:t}:{props:t}},o.prototype.componentDidMount=function(){this.trySubscribe()},o.prototype.componentWillUnmount=function(){this.tryUnsubscribe()},o.prototype.shouldComponentUpdate=function(e,t){return!fe()(this.props,e)||!fe()(this.state.subscribed,t.subscribed)},o.prototype.trySubscribe=function(){n&&(this.unsubscribe=this.store.subscribe(this.handleChange),this.handleChange())},o.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},o.prototype.render=function(){var e=ge(ge(ge({},this.props),this.state.subscribed),{store:this.store});return i["createElement"](a,ge({},e,{ref:this.props.miniStoreForwardedRef}))},o.displayName="Connect("+me(a)+")",o.contextType=ue,o}(i["Component"]);if(t.forwardRef){var s=i["forwardRef"]((function(e,t){return i["createElement"](o,ge({},e,{miniStoreForwardedRef:t}))}));return de()(s,a)}return de()(o,a)}}var _e=function(){return _e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_e.apply(this,arguments)};function be(e){var t=e,n=[];function r(e){t=_e(_e({},t),e);for(var r=0;r<n.length;r++)n[r]()}function i(){return t}function a(e){return n.push(e),function(){var t=n.indexOf(e);n.splice(t,1)}}return{setState:r,getState:i,subscribe:a}}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t){var n=we({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}function Te(){var e=[].slice.call(arguments,0);return 1===e.length?e[0]:function(){for(var t=0;t<e.length;t++)e[t]&&e[t].apply&&e[t].apply(this,arguments)}}var Ee=/iPhone/i,Me=/iPod/i,Ce=/iPad/i,Ae=/\bAndroid(?:.+)Mobile\b/i,Oe=/Android/i,De=/\bAndroid(?:.+)SD4930UR\b/i,Pe=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,Le=/Windows Phone/i,Ie=/\bWindows(?:.+)ARM\b/i,Re=/BlackBerry/i,ke=/BB10/i,Ne=/Opera Mini/i,Fe=/\b(CriOS|Chrome)(?:.+)Mobile/i,Be=/Mobile(?:.+)Firefox\b/i;function ze(e,t){return e.test(t)}function je(e){var t=e||("undefined"!==typeof navigator?navigator.userAgent:""),n=t.split("[FBAN");if("undefined"!==typeof n[1]){var i=n,a=Object(r["default"])(i,1);t=a[0]}if(n=t.split("Twitter"),"undefined"!==typeof n[1]){var o=n,s=Object(r["default"])(o,1);t=s[0]}var u={apple:{phone:ze(Ee,t)&&!ze(Le,t),ipod:ze(Me,t),tablet:!ze(Ee,t)&&ze(Ce,t)&&!ze(Le,t),device:(ze(Ee,t)||ze(Me,t)||ze(Ce,t))&&!ze(Le,t)},amazon:{phone:ze(De,t),tablet:!ze(De,t)&&ze(Pe,t),device:ze(De,t)||ze(Pe,t)},android:{phone:!ze(Le,t)&&ze(De,t)||!ze(Le,t)&&ze(Ae,t),tablet:!ze(Le,t)&&!ze(De,t)&&!ze(Ae,t)&&(ze(Pe,t)||ze(Oe,t)),device:!ze(Le,t)&&(ze(De,t)||ze(Pe,t)||ze(Ae,t)||ze(Oe,t))||ze(/\bokhttp\b/i,t)},windows:{phone:ze(Le,t),tablet:ze(Ie,t),device:ze(Le,t)||ze(Ie,t)},other:{blackberry:ze(Re,t),blackberry10:ze(ke,t),opera:ze(Ne,t),firefox:ze(Be,t),chrome:ze(Fe,t),device:ze(Re,t)||ze(ke,t)||ze(Ne,t)||ze(Be,t)||ze(Fe,t)},any:null,phone:null,tablet:null};return u.any=u.apple.device||u.android.device||u.windows.device||u.other.device,u.phone=u.apple.phone||u.android.phone||u.windows.phone,u.tablet=u.apple.tablet||u.android.tablet||u.windows.tablet,u}var He=Object(c["a"])(Object(c["a"])({},je()),{},{isMobile:je}),Ue=He;function Ve(){}function Ge(e,t,n){var r=t||"";return e.key||"".concat(r,"item_").concat(n)}function We(e){return"".concat(e,"-menu-")}function Xe(e,t){var n=-1;i["Children"].forEach(e,(function(e){n+=1,e&&e.type&&e.type.isMenuItemGroup?i["Children"].forEach(e.props.children,(function(e){n+=1,t(e,n)})):t(e,n)}))}function Ke(e,t,n){e&&!n.find&&i["Children"].forEach(e,(function(e){if(e){var r=e.type;if(!r||!(r.isSubMenu||r.isMenuItem||r.isMenuItemGroup))return;-1!==t.indexOf(e.key)?n.find=!0:e.props.children&&Ke(e.props.children,t,n)}}))}var qe=["defaultSelectedKeys","selectedKeys","defaultOpenKeys","openKeys","mode","getPopupContainer","onSelect","onDeselect","onDestroy","openTransitionName","openAnimation","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","triggerSubMenuAction","level","selectable","multiple","onOpenChange","visible","focusable","defaultActiveFirst","prefixCls","inlineIndent","parentMenu","title","rootPrefixCls","eventKey","active","onItemHover","onTitleMouseEnter","onTitleMouseLeave","onTitleClick","popupAlign","popupOffset","isOpen","renderMenuItem","manualRef","subMenuKey","disabled","index","isSelected","store","activeKey","builtinPlacements","overflowedIndicator","motion","attribute","value","popupClassName","inlineCollapsed","menu","theme","itemIcon","expandIcon"],Ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e&&"function"===typeof e.getBoundingClientRect&&e.getBoundingClientRect().width;if(n){if(t){var r=getComputedStyle(e),i=r.marginLeft,a=r.marginRight;n+=+i.replace("px","")+ +a.replace("px","")}n=+n.toFixed(6)}return n||0},Ze=function(e,t,n){e&&"object"===u(e.style)&&(e.style[t]=n)},$e=function(){return Ue.any};function Qe(e,t){return!!e&&e.contains(t)}function Je(e,t,n,r){var i=F.a.unstable_batchedUpdates?function(e){F.a.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i)}}}function et(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var tt=Object(i["forwardRef"])((function(e,t){var n=e.didUpdate,r=e.getContainer,a=e.children,o=Object(i["useRef"])();Object(i["useImperativeHandle"])(t,(function(){return{}}));var s=Object(i["useRef"])(!1);return!s.current&&et()&&(o.current=r(),s.current=!0),Object(i["useEffect"])((function(){null===n||void 0===n||n(e)})),Object(i["useEffect"])((function(){return function(){var e,t;null===(e=o.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(o.current)}}),[]),o.current?F.a.createPortal(a,o.current):null})),nt=tt;function rt(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function it(e,t,n){var r=e[t]||{};return Object(c["a"])(Object(c["a"])({},r),n)}function at(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var s=a[o];if(rt(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}function ot(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}function st(e,t){var n={animationend:ot("Animation","AnimationEnd"),transitionend:ot("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}var ut=st(et(),"undefined"!==typeof window?window:{}),lt={};if(et()){var ct=document.createElement("div");lt=ct.style}var ft={};function ht(e){if(ft[e])return ft[e];var t=ut[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in lt)return ft[e]=t[a],ft[e]}return""}var dt=ht("animationend"),pt=ht("transitionend"),gt=!(!dt||!pt),mt=dt||"animationend",vt=pt||"transitionend";function yt(e,t){if(!e)return null;if("object"===u(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var _t="none",bt="appear",xt="enter",wt="leave",St="none",Tt="prepare",Et="start",Mt="active",Ct="end";function At(e){var t=Object(i["useRef"])(!1),n=Object(i["useState"])(e),a=Object(r["default"])(n,2),o=a[0],s=a[1];function u(e){t.current||s(e)}return Object(i["useEffect"])((function(){return function(){t.current=!0}}),[]),[o,u]}var Ot=et()?i["useLayoutEffect"]:i["useEffect"],Dt=Ot,Pt=function(){var e=i["useRef"](null);function t(){E.cancel(e.current)}function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=E((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):n(r,i-1)}));e.current=a}return i["useEffect"]((function(){return function(){t()}}),[]),[n,t]},Lt=[Tt,Et,Mt,Ct],It=!1,Rt=!0;function kt(e){return e===Mt||e===Ct}var Nt=function(e,t){var n=i["useState"](St),a=Object(r["default"])(n,2),o=a[0],s=a[1],u=Pt(),l=Object(r["default"])(u,2),c=l[0],f=l[1];function h(){s(Tt)}return Dt((function(){if(o!==St&&o!==Ct){var e=Lt.indexOf(o),n=Lt[e+1],r=t(o);r===It?s(n):c((function(e){function t(){e.isCanceled()||s(n)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,o]),i["useEffect"]((function(){return function(){f()}}),[]),[h,o]},Ft=function(e){var t=Object(i["useRef"])(),n=Object(i["useRef"])(e);n.current=e;var r=i["useCallback"]((function(e){n.current(e)}),[]);function a(e){e&&(e.removeEventListener(vt,r),e.removeEventListener(mt,r))}function o(e){t.current&&t.current!==e&&a(t.current),e&&e!==t.current&&(e.addEventListener(vt,r),e.addEventListener(mt,r),t.current=e)}return i["useEffect"]((function(){return function(){a(t.current)}}),[]),[o,a]};function Bt(e,t,n,a){var o=a.motionEnter,u=void 0===o||o,l=a.motionAppear,f=void 0===l||l,h=a.motionLeave,d=void 0===h||h,p=a.motionDeadline,g=a.motionLeaveImmediately,m=a.onAppearPrepare,v=a.onEnterPrepare,y=a.onLeavePrepare,_=a.onAppearStart,b=a.onEnterStart,x=a.onLeaveStart,w=a.onAppearActive,S=a.onEnterActive,T=a.onLeaveActive,E=a.onAppearEnd,M=a.onEnterEnd,C=a.onLeaveEnd,A=a.onVisibleChanged,O=At(),D=Object(r["default"])(O,2),P=D[0],L=D[1],I=At(_t),R=Object(r["default"])(I,2),k=R[0],N=R[1],F=At(null),B=Object(r["default"])(F,2),z=B[0],j=B[1],H=Object(i["useRef"])(!1),U=Object(i["useRef"])(null),V=Object(i["useRef"])(!1),G=Object(i["useRef"])(null);function W(){var e=n();return e||G.current}var X=Object(i["useRef"])(!1);function K(e){var t,n=W();e&&!e.deadline&&e.target!==n||(k===bt&&X.current?t=null===E||void 0===E?void 0:E(n,e):k===xt&&X.current?t=null===M||void 0===M?void 0:M(n,e):k===wt&&X.current&&(t=null===C||void 0===C?void 0:C(n,e)),!1===t||V.current||(N(_t),j(null)))}var q=Ft(K),Y=Object(r["default"])(q,1),Z=Y[0],$=i["useMemo"]((function(){var e,t,n;switch(k){case"appear":return e={},Object(s["a"])(e,Tt,m),Object(s["a"])(e,Et,_),Object(s["a"])(e,Mt,w),e;case"enter":return t={},Object(s["a"])(t,Tt,v),Object(s["a"])(t,Et,b),Object(s["a"])(t,Mt,S),t;case"leave":return n={},Object(s["a"])(n,Tt,y),Object(s["a"])(n,Et,x),Object(s["a"])(n,Mt,T),n;default:return{}}}),[k]),Q=Nt(k,(function(e){if(e===Tt){var t=$[Tt];return t?t(W()):It}var n;te in $&&j((null===(n=$[te])||void 0===n?void 0:n.call($,W(),null))||null);return te===Mt&&(Z(W()),p>0&&(clearTimeout(U.current),U.current=setTimeout((function(){K({deadline:!0})}),p))),Rt})),J=Object(r["default"])(Q,2),ee=J[0],te=J[1],ne=kt(te);X.current=ne,Dt((function(){if(L(t),e){var n,r=H.current;H.current=!0,!r&&t&&f&&(n=bt),r&&t&&u&&(n=xt),(r&&!t&&d||!r&&g&&!t&&d)&&(n=wt),n&&(N(n),ee())}}),[t]),Object(i["useEffect"])((function(){(k===bt&&!f||k===xt&&!u||k===wt&&!d)&&N(_t)}),[f,u,d]),Object(i["useEffect"])((function(){return function(){clearTimeout(U.current),V.current=!0}}),[]),Object(i["useEffect"])((function(){void 0!==P&&k===_t&&(null===A||void 0===A||A(P))}),[P,k]);var re=z;return $[Tt]&&te===Et&&(re=Object(c["a"])({transition:"none"},re)),[k,te,re,null!==P&&void 0!==P?P:t]}var zt=function(e){D(n,e);var t=k(n);function n(){return M(this,n),t.apply(this,arguments)}return A(n,[{key:"render",value:function(){return this.props.children}}]),n}(i["Component"]),jt=zt;function Ht(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===u(e)&&(t=e.transitionSupport);var a=i["forwardRef"]((function(e,t){var a=e.visible,o=void 0===a||a,u=e.removeOnLeave,l=void 0===u||u,f=e.forceRender,d=e.children,p=e.motionName,g=e.leavedClassName,m=e.eventProps,v=n(e),y=Object(i["useRef"])(),_=Object(i["useRef"])();function b(){try{return B(y.current||_.current)}catch(e){return null}}var x=Bt(v,o,b,e),w=Object(r["default"])(x,4),S=w[0],T=w[1],E=w[2],M=w[3],C=Object(i["useRef"])(t);C.current=t;var A,O=i["useCallback"]((function(e){y.current=e,G(C.current,e)}),[]),D=Object(c["a"])(Object(c["a"])({},m),{},{visible:o});if(d)if(S!==_t&&n(e)){var P,L;T===Tt?L="prepare":kt(T)?L="active":T===Et&&(L="start"),A=d(Object(c["a"])(Object(c["a"])({},D),{},{className:h()(yt(p,S),(P={},Object(s["a"])(P,yt(p,"".concat(S,"-").concat(L)),L),Object(s["a"])(P,p,"string"===typeof p),P)),style:E}),O)}else A=M?d(Object(c["a"])({},D),O):l?f?d(Object(c["a"])(Object(c["a"])({},D),{},{style:{display:"none"}}),O):null:d(Object(c["a"])(Object(c["a"])({},D),{},{className:g}),O);else A=null;return i["createElement"](jt,{ref:_},A)}));return a.displayName="CSSMotion",a}var Ut=Ht(gt),Vt="add",Gt="keep",Wt="remove",Xt="removed";function Kt(e){var t;return t=e&&"object"===u(e)&&"key"in e?e:{key:e},Object(c["a"])(Object(c["a"])({},t),{},{key:String(t.key)})}function qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Kt)}function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=qt(e),o=qt(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var s=o[a];if(s.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return Object(c["a"])(Object(c["a"])({},e),{},{status:Vt})}))),r=a),n.push(Object(c["a"])(Object(c["a"])({},s),{},{status:Gt})),r+=1,t=!0;break}}t||n.push(Object(c["a"])(Object(c["a"])({},e),{},{status:Wt}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return Object(c["a"])(Object(c["a"])({},e),{},{status:Vt})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var u=Object.keys(s).filter((function(e){return s[e]>1}));return u.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Wt})),n.forEach((function(t){t.key===e&&(t.status=Gt)}))})),n}var Zt=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function $t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut,n=function(e){D(r,e);var n=k(r);function r(){var e;return M(this,r),e=n.apply(this,arguments),e.state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){var n=e.keyEntities;return{keyEntities:n.map((function(e){return e.key!==t?e:Object(c["a"])(Object(c["a"])({},e),{},{status:Xt})}))}}))},e}return A(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,a=r.component,o=r.children,s=r.onVisibleChanged,u=Object(l["a"])(r,["component","children","onVisibleChanged"]),c=a||i["Fragment"],f={};return Zt.forEach((function(e){f[e]=u[e],delete u[e]})),delete u.keys,i["createElement"](c,Object.assign({},u),n.map((function(n){var r=n.status,a=Object(l["a"])(n,["status"]),u=r===Vt||r===Gt;return i["createElement"](t,Object.assign({},f,{key:a.key,visible:u,eventProps:a,onVisibleChanged:function(t){null===s||void 0===s||s(t,{key:a.key}),t||e.removeKey(a.key)}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=qt(n),a=Yt(r,i);return{keyEntities:a.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Xt||e.status!==Wt}))}}}]),r}(i["Component"]);return n.defaultProps={component:"div"},n}$t(gt);var Qt=Ut;function Jt(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function en(e){var t=e.prefixCls,n=e.visible,r=e.zIndex,a=e.mask,o=e.maskMotion,s=e.maskAnimation,u=e.maskTransitionName;if(!a)return null;var l={};return(o||u||s)&&(l=Object(c["a"])({motionAppear:!0},Jt({motion:o,prefixCls:t,transitionName:u,animation:s}))),i["createElement"](Qt,Object.assign({},l,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return i["createElement"]("div",{style:{zIndex:r},className:h()("".concat(t,"-mask"),n)})}))}var tn,nn=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function rn(e){return rn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(e)}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(n,!0).forEach((function(t){an(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var un={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function ln(){if(void 0!==tn)return tn;tn="";var e=document.createElement("p").style,t="Transform";for(var n in un)n+t in e&&(tn=n);return tn}function cn(){return ln()?"".concat(ln(),"TransitionProperty"):"transitionProperty"}function fn(){return ln()?"".concat(ln(),"Transform"):"transform"}function hn(e,t){var n=cn();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function dn(e,t){var n=fn();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}function pn(e){return e.style.transitionProperty||e.style[cn()]}function gn(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(fn());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var mn=/matrix\((.*)\)/,vn=/matrix3d\((.*)\)/;function yn(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(fn());if(r&&"none"!==r){var i,a=r.match(mn);if(a)a=a[1],i=a.split(",").map((function(e){return parseFloat(e,10)})),i[4]=t.x,i[5]=t.y,dn(e,"matrix(".concat(i.join(","),")"));else{var o=r.match(vn)[1];i=o.split(",").map((function(e){return parseFloat(e,10)})),i[12]=t.x,i[13]=t.y,dn(e,"matrix3d(".concat(i.join(","),")"))}}else dn(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var _n,bn=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function xn(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function wn(e,t,n){var r=n;if("object"!==rn(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):_n(e,t);for(var i in t)t.hasOwnProperty(i)&&wn(e,i,t[i])}function Sn(e){var t,n,r,i=e.ownerDocument,a=i.body,o=i&&i.documentElement;return t=e.getBoundingClientRect(),n=t.left,r=t.top,n-=o.clientLeft||a.clientLeft||0,r-=o.clientTop||a.clientTop||0,{left:n,top:r}}function Tn(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;n=i.documentElement[r],"number"!==typeof n&&(n=i.body[r])}return n}function En(e){return Tn(e)}function Mn(e){return Tn(e,!0)}function Cn(e){var t=Sn(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=En(r),t.top+=Mn(r),t}function An(e){return null!==e&&void 0!==e&&e==e.window}function On(e){return An(e)?e.document:9===e.nodeType?e:e.ownerDocument}function Dn(e,t,n){var r=n,i="",a=On(e);return r=r||a.defaultView.getComputedStyle(e,null),r&&(i=r.getPropertyValue(t)||r[t]),i}var Pn=new RegExp("^(".concat(bn,")(?!px)[a-z%]+$"),"i"),Ln=/^(top|right|bottom|left)$/,In="currentStyle",Rn="runtimeStyle",kn="left",Nn="px";function Fn(e,t){var n=e[In]&&e[In][t];if(Pn.test(n)&&!Ln.test(t)){var r=e.style,i=r[kn],a=e[Rn][kn];e[Rn][kn]=e[In][kn],r[kn]="fontSize"===t?"1em":n||0,n=r.pixelLeft+Nn,r[kn]=i,e[Rn][kn]=a}return""===n?"auto":n}function Bn(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function zn(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function jn(e,t,n){"static"===wn(e,"position")&&(e.style.position="relative");var r=-999,i=-999,a=Bn("left",n),o=Bn("top",n),s=zn(a),u=zn(o);"left"!==a&&(r=999),"top"!==o&&(i=999);var l="",c=Cn(e);("left"in t||"top"in t)&&(l=pn(e)||"",hn(e,"none")),"left"in t&&(e.style[s]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[o]="".concat(i,"px")),xn(e);var f=Cn(e),h={};for(var d in t)if(t.hasOwnProperty(d)){var p=Bn(d,n),g="left"===d?r:i,m=c[d]-f[d];h[p]=p===d?g+m:g-m}wn(e,h),xn(e),("left"in t||"top"in t)&&hn(e,l);var v={};for(var y in t)if(t.hasOwnProperty(y)){var _=Bn(y,n),b=t[y]-c[y];v[_]=y===_?h[_]+b:h[_]-b}wn(e,v)}function Hn(e,t){var n=Cn(e),r=gn(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),yn(e,i)}function Un(e,t,n){if(n.ignoreShake){var r=Cn(e),i=r.left.toFixed(0),a=r.top.toFixed(0),o=t.left.toFixed(0),s=t.top.toFixed(0);if(i===o&&a===s)return}n.useCssRight||n.useCssBottom?jn(e,t,n):n.useCssTransform&&fn()in document.body.style?Hn(e,t):jn(e,t,n)}function Vn(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Gn(e){return"border-box"===_n(e,"boxSizing")}"undefined"!==typeof window&&(_n=window.getComputedStyle?Dn:Fn);var Wn=["margin","border","padding"],Xn=-1,Kn=2,qn=1,Yn=0;function Zn(e,t,n){var r,i={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=i[r])}function $n(e,t,n){var r,i,a,o=0;for(i=0;i<t.length;i++)if(r=t[i],r)for(a=0;a<n.length;a++){var s=void 0;s="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],o+=parseFloat(_n(e,s))||0}return o}var Qn={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Jn(e,t,n){var r=n;if(An(e))return"width"===t?Qn.viewportWidth(e):Qn.viewportHeight(e);if(9===e.nodeType)return"width"===t?Qn.docWidth(e):Qn.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,o=(_n(e),Gn(e)),s=0;(null===a||void 0===a||a<=0)&&(a=void 0,s=_n(e,t),(null===s||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=o?qn:Xn);var u=void 0!==a||o,l=a||s;return r===Xn?u?l-$n(e,["border","padding"],i):s:u?r===qn?l:l+(r===Kn?-$n(e,["border"],i):$n(e,["margin"],i)):s+$n(e,Wn.slice(r),i)}Vn(["Width","Height"],(function(e){Qn["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Qn["viewport".concat(e)](n))},Qn["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,a=r.documentElement,o=a[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var er={position:"absolute",visibility:"hidden",display:"block"};function tr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=Jn.apply(void 0,t):Zn(i,er,(function(){r=Jn.apply(void 0,t)})),r}function nr(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Vn(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Qn["outer".concat(t)]=function(t,n){return t&&tr(t,e,n?Yn:qn)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Qn[e]=function(t,r){var i=r;if(void 0===i)return t&&tr(t,e,Xn);if(t){_n(t);var a=Gn(t);return a&&(i+=$n(t,["padding","border"],n)),wn(t,e,i)}}}));var rr={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:On,offset:function(e,t,n){if("undefined"===typeof t)return Cn(e);Un(e,t,n||{})},isWindow:An,each:Vn,css:wn,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);var r=e.overflow;if(r)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:nr,getWindowScrollLeft:function(e){return En(e)},getWindowScrollTop:function(e){return Mn(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)rr.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};nr(rr,Qn);var ir=rr.getParent;function ar(e){if(rr.isWindow(e)||9===e.nodeType)return null;var t,n=rr.getDocument(e),r=n.body,i=rr.css(e,"position"),a="fixed"===i||"absolute"===i;if(!a)return"html"===e.nodeName.toLowerCase()?null:ir(e);for(t=ir(e);t&&t!==r&&9!==t.nodeType;t=ir(t))if(i=rr.css(t,"position"),"static"!==i)return t;return null}var or=rr.getParent;function sr(e){if(rr.isWindow(e)||9===e.nodeType)return!1;var t=rr.getDocument(e),n=t.body,r=null;for(r=or(e);r&&r!==n;r=or(r)){var i=rr.css(r,"position");if("fixed"===i)return!0}return!1}function ur(e,t){var n={left:0,right:1/0,top:0,bottom:1/0},r=ar(e),i=rr.getDocument(e),a=i.defaultView||i.parentWindow,o=i.body,s=i.documentElement;while(r){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===s||"visible"===rr.css(r,"overflow")){if(r===o||r===s)break}else{var u=rr.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=ar(r)}var l=null;if(!rr.isWindow(e)&&9!==e.nodeType){l=e.style.position;var c=rr.css(e,"position");"absolute"===c&&(e.style.position="fixed")}var f=rr.getWindowScrollLeft(a),h=rr.getWindowScrollTop(a),d=rr.viewportWidth(a),p=rr.viewportHeight(a),g=s.scrollWidth,m=s.scrollHeight,v=window.getComputedStyle(o);if("hidden"===v.overflowX&&(g=a.innerWidth),"hidden"===v.overflowY&&(m=a.innerHeight),e.style&&(e.style.position=l),t||sr(e))n.left=Math.max(n.left,f),n.top=Math.max(n.top,h),n.right=Math.min(n.right,f+d),n.bottom=Math.min(n.bottom,h+p);else{var y=Math.max(g,f+d);n.right=Math.min(n.right,y);var _=Math.max(m,h+p);n.bottom=Math.min(n.bottom,_)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function lr(e,t,n,r){var i=rr.clone(e),a={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+a.width>n.right&&(a.width-=i.left+a.width-n.right),r.adjustX&&i.left+a.width>n.right&&(i.left=Math.max(n.right-a.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+a.height>n.bottom&&(a.height-=i.top+a.height-n.bottom),r.adjustY&&i.top+a.height>n.bottom&&(i.top=Math.max(n.bottom-a.height,n.top)),rr.mix(i,a)}function cr(e){var t,n,r;if(rr.isWindow(e)||9===e.nodeType){var i=rr.getWindow(e);t={left:rr.getWindowScrollLeft(i),top:rr.getWindowScrollTop(i)},n=rr.viewportWidth(i),r=rr.viewportHeight(i)}else t=rr.offset(e),n=rr.outerWidth(e),r=rr.outerHeight(e);return t.width=n,t.height=r,t}function fr(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,a=e.height,o=e.left,s=e.top;return"c"===n?s+=a/2:"b"===n&&(s+=a),"c"===r?o+=i/2:"r"===r&&(o+=i),{left:o,top:s}}function hr(e,t,n,r,i){var a=fr(t,n[1]),o=fr(e,n[0]),s=[o.left-a.left,o.top-a.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function dr(e,t,n){return e.left<n.left||e.left+t.width>n.right}function pr(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function gr(e,t,n){return e.left>n.right||e.left+t.width<n.left}function mr(e,t,n){return e.top>n.bottom||e.top+t.height<n.top}function vr(e,t,n){var r=[];return rr.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function yr(e,t){return e[t]=-e[t],e}function _r(e,t){var n;return n=/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10),n||0}function br(e,t){e[0]=_r(e[0],t.width),e[1]=_r(e[1],t.height)}function xr(e,t,n,r){var i=n.points,a=n.offset||[0,0],o=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;a=[].concat(a),o=[].concat(o),s=s||{};var l={},c=0,f=!(!s||!s.alwaysByViewport),h=ur(u,f),d=cr(u);br(a,d),br(o,t);var p=hr(d,t,i,a,o),g=rr.merge(d,p);if(h&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&dr(p,d,h)){var m=vr(i,/[lr]/gi,{l:"r",r:"l"}),v=yr(a,0),y=yr(o,0),_=hr(d,t,m,v,y);gr(_,d,h)||(c=1,i=m,a=v,o=y)}if(s.adjustY&&pr(p,d,h)){var b=vr(i,/[tb]/gi,{t:"b",b:"t"}),x=yr(a,1),w=yr(o,1),S=hr(d,t,b,x,w);mr(S,d,h)||(c=1,i=b,a=x,o=w)}c&&(p=hr(d,t,i,a,o),rr.mix(g,p));var T=dr(p,d,h),E=pr(p,d,h);if(T||E){var M=i;T&&(M=vr(i,/[lr]/gi,{l:"r",r:"l"})),E&&(M=vr(i,/[tb]/gi,{t:"b",b:"t"})),i=M,a=n.offset||[0,0],o=n.targetOffset||[0,0]}l.adjustX=s.adjustX&&T,l.adjustY=s.adjustY&&E,(l.adjustX||l.adjustY)&&(g=lr(p,d,h,l))}return g.width!==d.width&&rr.css(u,"width",rr.width(u)+g.width-d.width),g.height!==d.height&&rr.css(u,"height",rr.height(u)+g.height-d.height),rr.offset(u,{left:g.left,top:g.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:a,targetOffset:o,overflow:l}}function wr(e,t){var n=ur(e,t),r=cr(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function Sr(e,t,n){var r=n.target||t,i=cr(r),a=!wr(r,n.overflow&&n.overflow.alwaysByViewport);return xr(e,i,n,a)}function Tr(e,t,n){var r,i,a=rr.getDocument(e),o=a.defaultView||a.parentWindow,s=rr.getWindowScrollLeft(o),u=rr.getWindowScrollTop(o),l=rr.viewportWidth(o),c=rr.viewportHeight(o);r="pageX"in t?t.pageX:s+t.clientX,i="pageY"in t?t.pageY:u+t.clientY;var f={left:r,top:i,width:0,height:0},h=r>=0&&r<=s+l&&i>=0&&i<=u+c,d=[n.points[0],"cc"];return xr(e,f,sn({},n,{points:d}),h)}Sr.__getOffsetParent=ar,Sr.__getVisibleRectForElement=ur;function Er(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&(e.clientX===t.clientX&&e.clientY===t.clientY))}function Mr(e,t){e!==document.activeElement&&Qe(t,e)&&"function"===typeof e.focus&&e.focus()}function Cr(e,t){var n=null,i=null;function a(e){var a=Object(r["default"])(e,1),o=a[0].target;if(document.documentElement.contains(o)){var s=o.getBoundingClientRect(),u=s.width,l=s.height,c=Math.floor(u),f=Math.floor(l);n===c&&i===f||Promise.resolve().then((function(){t({width:c,height:f})})),n=c,i=f}}var o=new K["a"](a);return e&&o.observe(e),function(){o.disconnect()}}var Ar=function(e,t){var n=a.a.useRef(!1),r=a.a.useRef(null);function i(){window.clearTimeout(r.current)}function o(a){if(n.current&&!0!==a)i(),r.current=window.setTimeout((function(){n.current=!1,o()}),t);else{if(!1===e())return;n.current=!0,i(),r.current=window.setTimeout((function(){n.current=!1}),t)}}return[o,function(){n.current=!1,i()}]};function Or(e){return"function"!==typeof e?null:e()}function Dr(e){return"object"===u(e)&&e?e:null}var Pr=function(e,t){var n=e.children,i=e.disabled,o=e.target,s=e.align,u=e.onAlign,l=e.monitorWindowResize,c=e.monitorBufferTime,f=void 0===c?0:c,h=a.a.useRef({}),d=a.a.useRef(),p=a.a.Children.only(n),g=a.a.useRef({});g.current.disabled=i,g.current.target=o,g.current.onAlign=u;var m=Ar((function(){var e=g.current,t=e.disabled,n=e.target,r=e.onAlign;if(!t&&n){var i,a=d.current,o=Or(n),u=Dr(n);h.current.element=o,h.current.point=u;var l=document,c=l.activeElement;return o&&nn(o)?i=Sr(a,o,s):u&&(i=Tr(a,u,s)),Mr(c,a),r&&i&&r(a,i),!0}return!1}),f),v=Object(r["default"])(m,2),y=v[0],_=v[1],b=a.a.useRef({cancel:function(){}}),x=a.a.useRef({cancel:function(){}});a.a.useEffect((function(){var e=Or(o),t=Dr(o);d.current!==x.current.element&&(x.current.cancel(),x.current.element=d.current,x.current.cancel=Cr(d.current,y)),h.current.element===e&&Er(h.current.point,t)||(y(),b.current.element!==e&&(b.current.cancel(),b.current.element=e,b.current.cancel=Cr(e,y)))})),a.a.useEffect((function(){i?_():y()}),[i]);var w=a.a.useRef(null);return a.a.useEffect((function(){l?w.current||(w.current=Je(window,"resize",y)):w.current&&(w.current.remove(),w.current=null)}),[l]),a.a.useEffect((function(){return function(){b.current.cancel(),x.current.cancel(),w.current&&w.current.remove(),_()}}),[]),a.a.useImperativeHandle(t,(function(){return{forceAlign:function(){return y(!0)}}})),a.a.isValidElement(p)&&(p=a.a.cloneElement(p,{ref:W(p.ref,d)})),p},Lr=a.a.forwardRef(Pr);Lr.displayName="Align";var Ir=Lr,Rr=Ir,kr=n("sJYe"),Nr=n.n(kr);function Fr(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function Br(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Fr(a,r,i,o,s,"next",e)}function s(e){Fr(a,r,i,o,s,"throw",e)}o(void 0)}))}}var zr=["measure","align",null,"motion"],jr=function(e,t){var n=Object(i["useState"])(null),a=Object(r["default"])(n,2),o=a[0],s=a[1],u=Object(i["useRef"])();function l(){E.cancel(u.current)}function c(e){l(),u.current=E((function(){s((function(e){switch(o){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}return Object(i["useEffect"])((function(){s("measure")}),[e]),Object(i["useEffect"])((function(){switch(o){case"measure":t();break}o&&(u.current=E(Br(Nr.a.mark((function e(){var t,n;return Nr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=zr.indexOf(o),n=zr[t+1],n&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[o]),Object(i["useEffect"])((function(){return function(){l()}}),[]),[o,c]},Hr=function(e){var t=i["useState"]({width:0,height:0}),n=Object(r["default"])(t,2),a=n[0],o=n[1];function s(e){o({width:e.offsetWidth,height:e.offsetHeight})}var u=i["useMemo"]((function(){var t={};if(e){var n=a.width,r=a.height;-1!==e.indexOf("height")&&r?t.height=r:-1!==e.indexOf("minHeight")&&r&&(t.minHeight=r),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,a]);return[u,s]},Ur=i["forwardRef"]((function(e,t){var n=e.visible,a=e.prefixCls,o=e.className,s=e.style,u=e.children,l=e.zIndex,f=e.stretch,d=e.destroyPopupOnHide,p=e.align,g=e.point,m=e.getRootDomNode,v=e.getClassNameFromAlign,y=e.onAlign,_=e.onMouseEnter,b=e.onMouseLeave,x=e.onMouseDown,w=e.onTouchStart,S=Object(i["useRef"])(),T=Object(i["useRef"])(),E=Object(i["useState"])(),M=Object(r["default"])(E,2),C=M[0],A=M[1],O=Hr(f),D=Object(r["default"])(O,2),P=D[0],L=D[1];function I(){f&&L(m())}var R=jr(n,I),k=Object(r["default"])(R,2),N=k[0],F=k[1],B=Object(i["useRef"])();function z(){return g||m}function j(){var e;null===(e=S.current)||void 0===e||e.forceAlign()}function H(e,t){if("align"===N){var n=v(t);A(n),C!==n?Promise.resolve().then((function(){j()})):F((function(){var e;null===(e=B.current)||void 0===e||e.call(B)})),null===y||void 0===y||y(e,t)}}var U=Object(c["a"])({},Jt(e));function V(){return new Promise((function(e){B.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=U[e];U[e]=function(e,n){return F(),null===t||void 0===t?void 0:t(e,n)}})),i["useEffect"]((function(){U.motionName||"motion"!==N||F()}),[U.motionName,N]),i["useImperativeHandle"](t,(function(){return{forceAlign:j,getElement:function(){return T.current}}}));var G=Object(c["a"])(Object(c["a"])(Object(c["a"])({},P),{},{zIndex:l},s),{},{opacity:"motion"!==N&&"stable"!==N&&n?0:void 0,pointerEvents:"stable"===N?void 0:"none"}),W=!0;!(null===p||void 0===p?void 0:p.points)||"align"!==N&&"stable"!==N||(W=!1);var X=u;return i["Children"].count(u)>1&&(X=i["createElement"]("div",{className:"".concat(a,"-content")},u)),i["createElement"](Qt,Object.assign({visible:n,ref:T,leavedClassName:"".concat(a,"-hidden")},U,{onAppearPrepare:V,onEnterPrepare:V,removeOnLeave:d}),(function(e,t){var n=e.className,r=e.style,s=h()(a,o,C,n);return i["createElement"](Rr,{target:z(),key:"popup",ref:S,monitorWindowResize:!0,disabled:W,align:p,onAlign:H},i["createElement"]("div",{ref:t,className:s,onMouseEnter:_,onMouseLeave:b,onMouseDown:x,onTouchStart:w,style:Object(c["a"])(Object(c["a"])({},r),G)},X))}))}));Ur.displayName="PopupInner";var Vr=Ur,Gr=i["forwardRef"]((function(e,t){var n=e.prefixCls,r=e.visible,a=e.zIndex,o=e.children,s=e.mobile;s=void 0===s?{}:s;var u=s.popupClassName,l=s.popupStyle,f=s.popupMotion,d=void 0===f?{}:f,p=s.popupRender,g=i["useRef"]();i["useImperativeHandle"](t,(function(){return{forceAlign:function(){},getElement:function(){return g.current}}}));var m=Object(c["a"])({zIndex:a},l),v=o;return i["Children"].count(o)>1&&(v=i["createElement"]("div",{className:"".concat(n,"-content")},o)),p&&(v=p(v)),i["createElement"](Qt,Object.assign({visible:r,ref:g,removeOnLeave:!0},d),(function(e,t){var r=e.className,a=e.style,o=h()(n,u,r);return i["createElement"]("div",{ref:t,className:o,style:Object(c["a"])(Object(c["a"])({},a),m)},v)}))}));Gr.displayName="MobilePopupInner";var Wr=Gr,Xr=i["forwardRef"]((function(e,t){var n=e.visible,a=e.mobile,o=Object(l["a"])(e,["visible","mobile"]),s=Object(i["useState"])(n),u=Object(r["default"])(s,2),f=u[0],h=u[1],d=Object(i["useState"])(!1),p=Object(r["default"])(d,2),m=p[0],v=p[1],y=Object(c["a"])(Object(c["a"])({},o),{},{visible:f});Object(i["useEffect"])((function(){h(n),n&&a&&v(g())}),[n,!!a]);var _=m?i["createElement"](Wr,Object.assign({},y,{mobile:a,ref:t})):i["createElement"](Vr,Object.assign({},y,{ref:t}));return i["createElement"]("div",null,i["createElement"](en,Object.assign({},y)),_)}));Xr.displayName="Popup";var Kr=Xr,qr=i["createContext"](null),Yr=qr;function Zr(){}function $r(){return""}function Qr(e){return e?e.ownerDocument:window.document}var Jr=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function ei(e){var t=function(t){D(r,t);var n=k(r);function r(e){var t,a;return M(this,r),t=n.call(this,e),t.popupRef=i["createRef"](),t.triggerRef=i["createRef"](),t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&Qe(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();Qe(r,n)||Qe(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=B(t.triggerRef.current);if(n)return n}catch(r){}return F.a.findDOMNode(I(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,a=r.builtinPlacements,o=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return i&&a&&n.push(at(a,o,e,s)),u&&n.push(u(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,r=e.destroyPopupOnHide,a=e.popupClassName,o=e.onPopupAlign,s=e.popupMotion,u=e.popupAnimation,l=e.popupTransitionName,c=e.popupStyle,f=e.mask,h=e.maskAnimation,d=e.maskTransitionName,p=e.maskMotion,g=e.zIndex,m=e.popup,v=e.stretch,y=e.alignPoint,_=e.mobile,b=t.state,x=b.popupVisible,w=b.point,S=t.getPopupAlign(),T={};return t.isMouseEnterToShow()&&(T.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(T.onMouseLeave=t.onPopupMouseLeave),T.onMouseDown=t.onPopupMouseDown,T.onTouchStart=t.onPopupMouseDown,i["createElement"](Kr,Object.assign({prefixCls:n,destroyPopupOnHide:r,visible:x,point:y&&w,className:a,align:S,onAlign:o,animation:u,getClassNameFromAlign:t.getPopupClassNameFromAlign},T,{stretch:v,getRootDomNode:t.getRootDomNode,style:c,mask:f,zIndex:g,transitionName:l,maskAnimation:h,maskTransitionName:d,maskMotion:p,ref:t.popupRef,motion:s,mobile:_}),"function"===typeof m?m():m)},t.attachParent=function(e){E.cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,a=r.getDocument,o=t.getRootDomNode();i?(o||0===i.length)&&(n=i(o)):n=a(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=E((function(){t.attachParent(e)}))},t.getContainer=function(){var e=t.props.getDocument,n=e(t.getRootDomNode()).createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",t.attachParent(n),n},t.setPoint=function(e){var n=t.props.alignPoint;n&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:a,popupVisible:a},Jr.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return A(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props,n=this.state;if(n.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Je(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Je(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Je(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Je(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),E.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?it(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,r=n.children,a=n.forceRender,o=n.alignPoint,s=n.className,u=n.autoDestroy,l=i["Children"].only(r),f={key:"trigger"};this.isContextMenuToShow()?f.onContextMenu=this.onContextMenu:f.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(f.onClick=this.onClick,f.onMouseDown=this.onMouseDown,f.onTouchStart=this.onTouchStart):(f.onClick=this.createTwoChains("onClick"),f.onMouseDown=this.createTwoChains("onMouseDown"),f.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(f.onMouseEnter=this.onMouseEnter,o&&(f.onMouseMove=this.onMouseMove)):f.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?f.onMouseLeave=this.onMouseLeave:f.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(f.onFocus=this.onFocus,f.onBlur=this.onBlur):(f.onFocus=this.createTwoChains("onFocus"),f.onBlur=this.createTwoChains("onBlur"));var d=h()(l&&l.props&&l.props.className,s);d&&(f.className=d);var p=Object(c["a"])({},f);X(l)&&(p.ref=W(this.triggerRef,l.ref));var g,m=i["cloneElement"](l,p);return(t||this.popupRef.current||a)&&(g=i["createElement"](e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&u&&(g=null),i["createElement"](Yr.Provider,{value:{onPopupMouseDown:this.onPopupMouseDown}},m,g)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),r}(i["Component"]);return t.contextType=Yr,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:$r,getDocument:Qr,onPopupVisibleChange:Zr,afterPopupVisibleChange:Zr,onPopupAlign:Zr,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}var ti=ei(nt),ni={adjustX:1,adjustY:1},ri={topLeft:{points:["bl","tl"],overflow:ni,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ni,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:ni,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:ni,offset:[4,0]}},ii={topLeft:{points:["bl","tl"],overflow:ni,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ni,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:ni,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:ni,offset:[4,0]}},ai=0,oi={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},si=function(e,t,n){var r=We(t),i=e.getState();e.setState({defaultActiveFirst:Object(c["a"])(Object(c["a"])({},i.defaultActiveFirst),{},Object(s["a"])({},r,n))})},ui=function(e){D(n,e);var t=k(n);function n(e){var r;M(this,n),r=t.call(this,e),r.onDestroy=function(e){r.props.onDestroy(e)},r.onKeyDown=function(e){var t=e.keyCode,n=r.menuInstance,i=r.props.store,a=r.getVisible();if(t===ee.ENTER)return r.onTitleClick(e),si(i,r.props.eventKey,!0),!0;if(t===ee.RIGHT)return a?n.onKeyDown(e):(r.triggerOpenChange(!0),si(i,r.props.eventKey,!0)),!0;if(t===ee.LEFT){var o;if(!a)return;return o=n.onKeyDown(e),o||(r.triggerOpenChange(!1),o=!0),o}return!a||t!==ee.UP&&t!==ee.DOWN?void 0:n.onKeyDown(e)},r.onOpenChange=function(e){r.props.onOpenChange(e)},r.onPopupVisibleChange=function(e){r.triggerOpenChange(e,e?"mouseenter":"mouseleave")},r.onMouseEnter=function(e){var t=r.props,n=t.eventKey,i=t.onMouseEnter,a=t.store;si(a,r.props.eventKey,!1),i({key:n,domEvent:e})},r.onMouseLeave=function(e){var t=r.props,n=t.parentMenu,i=t.eventKey,a=t.onMouseLeave;n.subMenuInstance=I(r),a({key:i,domEvent:e})},r.onTitleMouseEnter=function(e){var t=r.props,n=t.eventKey,i=t.onItemHover,a=t.onTitleMouseEnter;i({key:n,hover:!0}),a({key:n,domEvent:e})},r.onTitleMouseLeave=function(e){var t=r.props,n=t.parentMenu,i=t.eventKey,a=t.onItemHover,o=t.onTitleMouseLeave;n.subMenuInstance=I(r),a({key:i,hover:!1}),o({key:i,domEvent:e})},r.onTitleClick=function(e){var t=I(r),n=t.props;n.onTitleClick({key:n.eventKey,domEvent:e}),"hover"!==n.triggerSubMenuAction&&(r.triggerOpenChange(!r.getVisible(),"click"),si(n.store,r.props.eventKey,!1))},r.onSubMenuClick=function(e){"function"===typeof r.props.onClick&&r.props.onClick(r.addKeyPath(e))},r.onSelect=function(e){r.props.onSelect(e)},r.onDeselect=function(e){r.props.onDeselect(e)},r.getPrefixCls=function(){return"".concat(r.props.rootPrefixCls,"-submenu")},r.getActiveClassName=function(){return"".concat(r.getPrefixCls(),"-active")},r.getDisabledClassName=function(){return"".concat(r.getPrefixCls(),"-disabled")},r.getSelectedClassName=function(){return"".concat(r.getPrefixCls(),"-selected")},r.getOpenClassName=function(){return"".concat(r.props.rootPrefixCls,"-submenu-open")},r.getVisible=function(){return r.state.isOpen},r.getMode=function(){return r.state.mode},r.saveMenuInstance=function(e){r.menuInstance=e},r.addKeyPath=function(e){return Object(c["a"])(Object(c["a"])({},e),{},{keyPath:(e.keyPath||[]).concat(r.props.eventKey)})},r.triggerOpenChange=function(e,t){var n=r.props.eventKey,i=function(){r.onOpenChange({key:n,item:I(r),trigger:t,open:e})};"mouseenter"===t?r.mouseenterTimeout=setTimeout((function(){i()}),0):i()},r.isChildrenSelected=function(){var e={find:!1};return Ke(r.props.children,r.props.selectedKeys,e),e.find},r.isInlineMode=function(){return"inline"===r.getMode()},r.adjustWidth=function(){if(r.subMenuTitle&&r.menuInstance){var e=N["findDOMNode"](r.menuInstance);e.offsetWidth>=r.subMenuTitle.offsetWidth||(e.style.minWidth="".concat(r.subMenuTitle.offsetWidth,"px"))}},r.saveSubMenuTitle=function(e){r.subMenuTitle=e},r.getBaseProps=function(){var e=I(r),t=e.props,n=r.getMode();return{mode:"horizontal"===n?"vertical":n,visible:r.getVisible(),level:t.level+1,inlineIndent:t.inlineIndent,focusable:!1,onClick:r.onSubMenuClick,onSelect:r.onSelect,onDeselect:r.onDeselect,onDestroy:r.onDestroy,selectedKeys:t.selectedKeys,eventKey:"".concat(t.eventKey,"-menu-"),openKeys:t.openKeys,motion:t.motion,onOpenChange:r.onOpenChange,subMenuOpenDelay:t.subMenuOpenDelay,parentMenu:I(r),subMenuCloseDelay:t.subMenuCloseDelay,forceSubMenuRender:t.forceSubMenuRender,triggerSubMenuAction:t.triggerSubMenuAction,builtinPlacements:t.builtinPlacements,defaultActiveFirst:t.store.getState().defaultActiveFirst[We(t.eventKey)],multiple:t.multiple,prefixCls:t.rootPrefixCls,id:r.internalMenuId,manualRef:r.saveMenuInstance,itemIcon:t.itemIcon,expandIcon:t.expandIcon,direction:t.direction}},r.getMotion=function(e,t){var n=I(r),i=n.haveRendered,a=r.props,o=a.motion,s=a.rootPrefixCls,u=Object(c["a"])(Object(c["a"])({},o),{},{leavedClassName:"".concat(s,"-hidden"),removeOnLeave:!1,motionAppear:i||!t||"inline"!==e});return u};var i=e.store,a=e.eventKey,o=i.getState(),s=o.defaultActiveFirst;r.isRootMenu=!1;var u=!1;return s&&(u=s[a]),si(i,a,u),r.state={mode:e.mode,isOpen:e.isOpen},r}return A(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.mode,r=t.parentMenu,i=t.manualRef,a=t.isOpen,o=function(){e.setState({mode:n,isOpen:a})},s=a!==this.state.isOpen,u=n!==this.state.mode;(u||s)&&(E.cancel(this.updateStateRaf),u?this.updateStateRaf=E(o):o()),i&&i(this),"horizontal"===n&&(null===r||void 0===r?void 0:r.isRootMenu)&&a&&(this.minWidthTimeout=setTimeout((function(){return e.adjustWidth()}),0))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.onDestroy,n=e.eventKey;t&&t(n),this.minWidthTimeout&&clearTimeout(this.minWidthTimeout),this.mouseenterTimeout&&clearTimeout(this.mouseenterTimeout),E.cancel(this.updateStateRaf)}},{key:"renderPopupMenu",value:function(e,t){var n=this.getBaseProps();return i["createElement"](wi,Object.assign({},n,{id:this.internalMenuId,className:e,style:t}),this.props.children)}},{key:"renderChildren",value:function(){var e=this,t=this.getBaseProps(),n=t.mode,r=t.visible,a=t.forceSubMenuRender,o=t.direction,u=this.getMotion(n,r);if(this.haveRendered=!0,this.haveOpened=this.haveOpened||r||a,!this.haveOpened)return i["createElement"]("div",null);var l=h()("".concat(t.prefixCls,"-sub"),Object(s["a"])({},"".concat(t.prefixCls,"-rtl"),"rtl"===o));return this.isInlineMode()?i["createElement"](Qt,Object.assign({visible:t.visible},u),(function(t){var n=t.className,r=t.style,i=h()(l,n);return e.renderPopupMenu(i,r)})):this.renderPopupMenu(l)}},{key:"render",value:function(){var e,t,n,r=Object(c["a"])({},this.props),a=this.getVisible(),o=this.getPrefixCls(),u=this.isInlineMode(),l=this.getMode(),f=h()(o,"".concat(o,"-").concat(l),(e={},Object(s["a"])(e,r.className,!!r.className),Object(s["a"])(e,this.getOpenClassName(),a),Object(s["a"])(e,this.getActiveClassName(),r.active||a&&!u),Object(s["a"])(e,this.getDisabledClassName(),r.disabled),Object(s["a"])(e,this.getSelectedClassName(),this.isChildrenSelected()),e));this.internalMenuId||(r.eventKey?this.internalMenuId="".concat(r.eventKey,"$Menu"):(ai+=1,this.internalMenuId="$__$".concat(ai,"$Menu")));var d={},p={},g={};r.disabled||(d={onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},p={onClick:this.onTitleClick},g={onMouseEnter:this.onTitleMouseEnter,onMouseLeave:this.onTitleMouseLeave});var m={},v=r.direction,y="rtl"===v;u&&(y?m.paddingRight=r.inlineIndent*r.level:m.paddingLeft=r.inlineIndent*r.level);var _={};this.getVisible()&&(_={"aria-owns":this.internalMenuId});var b=null;"horizontal"!==l&&(b=this.props.expandIcon,"function"===typeof this.props.expandIcon&&(b=i["createElement"](this.props.expandIcon,Object(c["a"])({},this.props))));var x=i["createElement"]("div",Object.assign({ref:this.saveSubMenuTitle,style:m,className:"".concat(o,"-title"),role:"button"},g,p,{"aria-expanded":a},_,{"aria-haspopup":"true",title:"string"===typeof r.title?r.title:void 0}),r.title,b||i["createElement"]("i",{className:"".concat(o,"-arrow")})),w=this.renderChildren(),S=(null===(t=r.parentMenu)||void 0===t?void 0:t.isRootMenu)?r.parentMenu.props.getPopupContainer:function(e){return e.parentNode},T=oi[l],E=r.popupOffset?{offset:r.popupOffset}:{},M=h()((n={},Object(s["a"])(n,r.popupClassName,r.popupClassName&&!u),Object(s["a"])(n,"".concat(o,"-rtl"),y),n)),C=r.disabled,A=r.triggerSubMenuAction,O=r.subMenuOpenDelay,D=r.forceSubMenuRender,P=r.subMenuCloseDelay,L=r.builtinPlacements;qe.forEach((function(e){return delete r[e]})),delete r.onClick;var I=y?Object.assign({},ii,L):Object.assign({},ri,L);delete r.direction;var R=this.getBaseProps(),k=u?null:this.getMotion(R.mode,R.visible);return i["createElement"]("li",Object.assign({},r,d,{className:f,role:"menuitem"}),i["createElement"](ti,{prefixCls:o,popupClassName:h()("".concat(o,"-popup"),M),getPopupContainer:S,builtinPlacements:I,popupPlacement:T,popupVisible:!u&&a,popupAlign:E,popup:u?null:w,action:C||u?[]:[A],mouseEnterDelay:O,mouseLeaveDelay:P,onPopupVisibleChange:this.onPopupVisibleChange,forceRender:D,popupMotion:k},x),u?w:null)}}]),n}(i["Component"]);ui.defaultProps={onMouseEnter:Ve,onMouseLeave:Ve,onTitleMouseEnter:Ve,onTitleMouseLeave:Ve,onTitleClick:Ve,manualRef:Ve,mode:"vertical",title:""};var li=ye((function(e,t){var n=e.openKeys,r=e.activeKey,i=e.selectedKeys,a=t.eventKey,o=t.subMenuKey;return{isOpen:n.indexOf(a)>-1,active:r[o]===a,selectedKeys:i}}))(ui);li.isSubMenu=!0;var ci=li,fi="menuitem-overflowed",hi=.5,di=function(e){D(n,e);var t=k(n);function n(){var e;return M(this,n),e=t.apply(this,arguments),e.resizeObserver=null,e.mutationObserver=null,e.originalTotalWidth=0,e.overflowedItems=[],e.menuItemSizes=[],e.cancelFrameId=null,e.state={lastVisibleIndex:void 0},e.childRef=i["createRef"](),e.getMenuItemNodes=function(){var t=e.props.prefixCls,n=e.childRef.current;return n?[].slice.call(n.children).filter((function(e){return e.className.split(" ").indexOf("".concat(t,"-overflowed-submenu"))<0})):[]},e.getOverflowedSubMenuItem=function(t,n,r){var a=e.props,o=a.overflowedIndicator,s=a.level,u=a.mode,f=a.prefixCls,h=a.theme;if(1!==s||"horizontal"!==u)return null;var d=e.props.children[0],p=d.props,g=(p.children,p.title,p.style),m=Object(l["a"])(p,["children","title","style"]),v=Object(c["a"])({},g),y="".concat(t,"-overflowed-indicator"),_="".concat(t,"-overflowed-indicator");0===n.length&&!0!==r?v=Object(c["a"])(Object(c["a"])({},v),{},{display:"none"}):r&&(v=Object(c["a"])(Object(c["a"])({},v),{},{visibility:"hidden",position:"absolute"}),y="".concat(y,"-placeholder"),_="".concat(_,"-placeholder"));var b=h?"".concat(f,"-").concat(h):"",x={};return qe.forEach((function(e){void 0!==m[e]&&(x[e]=m[e])})),i["createElement"](ci,Object.assign({title:o,className:"".concat(f,"-overflowed-submenu"),popupClassName:b},x,{key:y,eventKey:_,disabled:!1,style:v}),n)},e.setChildrenWidthAndResize=function(){if("horizontal"===e.props.mode){var t=e.childRef.current;if(t){var n=t.children;if(n&&0!==n.length){var r=t.children[n.length-1];Ze(r,"display","inline-block");var i=e.getMenuItemNodes(),a=i.filter((function(e){return e.className.split(" ").indexOf(fi)>=0}));a.forEach((function(e){Ze(e,"display","inline-block")})),e.menuItemSizes=i.map((function(e){return Ye(e,!0)})),a.forEach((function(e){Ze(e,"display","none")})),e.overflowedIndicatorWidth=Ye(t.children[t.children.length-1],!0),e.originalTotalWidth=e.menuItemSizes.reduce((function(e,t){return e+t}),0),e.handleResize(),Ze(r,"display","none")}}}},e.handleResize=function(){if("horizontal"===e.props.mode){var t=e.childRef.current;if(t){var n=Ye(t);e.overflowedItems=[];var r,i=0;e.originalTotalWidth>n+hi&&(r=-1,e.menuItemSizes.forEach((function(t){i+=t,i+e.overflowedIndicatorWidth<=n&&(r+=1)}))),e.setState({lastVisibleIndex:r})}}},e}return A(n,[{key:"componentDidMount",value:function(){var e=this;if(this.setChildrenWidthAndResize(),1===this.props.level&&"horizontal"===this.props.mode){var t=this.childRef.current;if(!t)return;this.resizeObserver=new K["a"]((function(t){t.forEach((function(){var t=e.cancelFrameId;cancelAnimationFrame(t),e.cancelFrameId=requestAnimationFrame(e.setChildrenWidthAndResize)}))})),[].slice.call(t.children).concat(t).forEach((function(t){e.resizeObserver.observe(t)})),"undefined"!==typeof MutationObserver&&(this.mutationObserver=new MutationObserver((function(){e.resizeObserver.disconnect(),[].slice.call(t.children).concat(t).forEach((function(t){e.resizeObserver.observe(t)})),e.setChildrenWidthAndResize()})),this.mutationObserver.observe(t,{attributes:!1,childList:!0,subTree:!1}))}}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect(),cancelAnimationFrame(this.cancelFrameId)}},{key:"renderChildren",value:function(e){var t=this,n=this.state.lastVisibleIndex;return(e||[]).reduce((function(r,a,o){var s=a;if("horizontal"===t.props.mode){var u=t.getOverflowedSubMenuItem(a.props.eventKey,[]);void 0!==n&&-1!==t.props.className.indexOf("".concat(t.props.prefixCls,"-root"))&&(o>n&&(s=i["cloneElement"](a,{style:{display:"none"},eventKey:"".concat(a.props.eventKey,"-hidden"),className:"".concat(fi)})),o===n+1&&(t.overflowedItems=e.slice(n+1).map((function(e){return i["cloneElement"](e,{key:e.props.eventKey,mode:"vertical-left"})})),u=t.getOverflowedSubMenuItem(a.props.eventKey,t.overflowedItems)));var l=[].concat(w(r),[u,s]);return o===e.length-1&&l.push(t.getOverflowedSubMenuItem(a.props.eventKey,[],!0)),l}return[].concat(w(r),[s])}),[])}},{key:"render",value:function(){var e=this.props,t=(e.visible,e.prefixCls,e.overflowedIndicator,e.mode,e.level,e.tag),n=e.children,r=(e.theme,Object(l["a"])(e,["visible","prefixCls","overflowedIndicator","mode","level","tag","children","theme"])),a=t;return i["createElement"](a,Object.assign({ref:this.childRef},r),this.renderChildren(n))}}]),n}(i["Component"]);di.defaultProps={tag:"div",className:""};var pi=di;function gi(e){return!e.length||e.every((function(e){return!!e.props.disabled}))}function mi(e,t,n){var r=e.getState();e.setState({activeKey:Object(c["a"])(Object(c["a"])({},r.activeKey),{},Object(s["a"])({},t,n))})}function vi(e){return e.eventKey||"0-menu-"}function yi(e,t){var n,r=t,i=e.children,a=e.eventKey;if(r&&(Xe(i,(function(e,t){e&&e.props&&!e.props.disabled&&r===Ge(e,a,t)&&(n=!0)})),n))return r;return r=null,e.defaultActiveFirst?(Xe(i,(function(e,t){r||!e||e.props.disabled||(r=Ge(e,a,t))})),r):r}function _i(e){if(e){var t=this.instanceArray.indexOf(e);-1!==t?this.instanceArray[t]=e:this.instanceArray.push(e)}}var bi=function(e){D(n,e);var t=k(n);function n(e){var r;return M(this,n),r=t.call(this,e),r.onKeyDown=function(e,t){var n,i=e.keyCode;if(r.getFlatInstanceArray().forEach((function(t){t&&t.props.active&&t.onKeyDown&&(n=t.onKeyDown(e))})),n)return 1;var a=null;return i!==ee.UP&&i!==ee.DOWN||(a=r.step(i===ee.UP?-1:1)),a?(e.preventDefault(),mi(r.props.store,vi(r.props),a.props.eventKey),"function"===typeof t&&t(a),1):void 0},r.onItemHover=function(e){var t=e.key,n=e.hover;mi(r.props.store,vi(r.props),n?t:null)},r.onDeselect=function(e){r.props.onDeselect(e)},r.onSelect=function(e){r.props.onSelect(e)},r.onClick=function(e){r.props.onClick(e)},r.onOpenChange=function(e){r.props.onOpenChange(e)},r.onDestroy=function(e){r.props.onDestroy(e)},r.getFlatInstanceArray=function(){return r.instanceArray},r.step=function(e){var t=r.getFlatInstanceArray(),n=r.props.store.getState().activeKey[vi(r.props)],i=t.length;if(!i)return null;e<0&&(t=t.concat().reverse());var a=-1;if(t.every((function(e,t){return!e||e.props.eventKey!==n||(a=t,!1)})),r.props.defaultActiveFirst||-1===a||!gi(t.slice(a,i-1))){var o=(a+1)%i,s=o;do{var u=t[s];if(u&&!u.props.disabled)return u;s=(s+1)%i}while(s!==o);return null}},r.renderCommonMenuItem=function(e,t,n){var a=r.props.store.getState(),o=I(r),s=o.props,u=Ge(e,s.eventKey,t),l=e.props;if(!l||"string"===typeof e.type)return e;var f=u===a.activeKey,h=Object(c["a"])(Object(c["a"])({mode:l.mode||s.mode,level:s.level,inlineIndent:s.inlineIndent,renderMenuItem:r.renderMenuItem,rootPrefixCls:s.prefixCls,index:t,parentMenu:s.parentMenu,manualRef:l.disabled?void 0:Te(e.ref,_i.bind(I(r))),eventKey:u,active:!l.disabled&&f,multiple:s.multiple,onClick:function(e){(l.onClick||Ve)(e),r.onClick(e)},onItemHover:r.onItemHover,motion:s.motion,subMenuOpenDelay:s.subMenuOpenDelay,subMenuCloseDelay:s.subMenuCloseDelay,forceSubMenuRender:s.forceSubMenuRender,onOpenChange:r.onOpenChange,onDeselect:r.onDeselect,onSelect:r.onSelect,builtinPlacements:s.builtinPlacements,itemIcon:l.itemIcon||r.props.itemIcon,expandIcon:l.expandIcon||r.props.expandIcon},n),{},{direction:s.direction});return("inline"===s.mode||$e())&&(h.triggerSubMenuAction="click"),i["cloneElement"](e,Object(c["a"])(Object(c["a"])({},h),{},{key:u||t}))},r.renderMenuItem=function(e,t,n){if(!e)return null;var i=r.props.store.getState(),a={openKeys:i.openKeys,selectedKeys:i.selectedKeys,triggerSubMenuAction:r.props.triggerSubMenuAction,subMenuKey:n};return r.renderCommonMenuItem(e,t,a)},e.store.setState({activeKey:Object(c["a"])(Object(c["a"])({},e.store.getState().activeKey),{},Object(s["a"])({},e.eventKey,yi(e,e.activeKey)))}),r.instanceArray=[],r}return A(n,[{key:"componentDidMount",value:function(){this.props.manualRef&&this.props.manualRef(this)}},{key:"shouldComponentUpdate",value:function(e){return this.props.visible||e.visible||this.props.className!==e.className||!fe()(this.props.style,e.style)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n="activeKey"in t?t.activeKey:t.store.getState().activeKey[vi(t)],r=yi(t,n);if(r!==n)mi(t.store,vi(t),r);else if("activeKey"in e){var i=yi(e,e.activeKey);r!==i&&mi(t.store,vi(t),r)}}},{key:"render",value:function(){var e=this,t=Object(o["a"])({},this.props);this.instanceArray=[];var n=h()(t.prefixCls,t.className,"".concat(t.prefixCls,"-").concat(t.mode)),r={className:n,role:t.role||"menu"};t.id&&(r.id=t.id),t.focusable&&(r.tabIndex=0,r.onKeyDown=this.onKeyDown);var a=t.prefixCls,s=t.eventKey,u=t.visible,l=t.level,c=t.mode,f=t.overflowedIndicator,d=t.theme;return qe.forEach((function(e){return delete t[e]})),delete t.onClick,i["createElement"](pi,Object.assign({},t,{prefixCls:a,mode:c,tag:"ul",level:l,theme:d,visible:u,overflowedIndicator:f},r),p(t.children).map((function(t,n){return e.renderMenuItem(t,n,s||"0-menu-")})))}}]),n}(i["Component"]);bi.defaultProps={prefixCls:"rc-menu",className:"",mode:"vertical",level:1,inlineIndent:24,visible:!0,focusable:!0,style:{},manualRef:Ve};var xi=ye()(bi),wi=xi;function Si(e,t,n){var r=e.prefixCls,i=e.motion,a=e.defaultMotions,o=void 0===a?{}:a,s=e.openAnimation,l=e.openTransitionName,c=t.switchingModeFromInline;if(i)return i;if("object"===u(s)&&s)V(!1,"Object type of `openAnimation` is removed. Please use `motion` instead.");else if("string"===typeof s)return{motionName:"".concat(r,"-open-").concat(s)};if(l)return{motionName:l};var f=o[n];return f||(c?null:o.other)}var Ti=function(e){D(n,e);var t=k(n);function n(e){var r;M(this,n),r=t.call(this,e),r.onSelect=function(e){var t=I(r),n=t.props;if(n.selectable){var i=r.store.getState(),a=i.selectedKeys,o=e.key;a=n.multiple?a.concat([o]):[o],"selectedKeys"in n||r.store.setState({selectedKeys:a}),n.onSelect(Object(c["a"])(Object(c["a"])({},e),{},{selectedKeys:a}))}},r.onClick=function(e){var t=r.getRealMenuMode(),n=I(r),i=n.store,a=n.props.onOpenChange;"inline"===t||"openKeys"in r.props||(i.setState({openKeys:[]}),a([])),r.props.onClick(e)},r.onKeyDown=function(e,t){r.innerMenu.getWrappedInstance().onKeyDown(e,t)},r.onOpenChange=function(e){var t=I(r),n=t.props,i=r.store.getState().openKeys.concat(),a=!1,o=function(e){var t=!1;if(e.open)t=-1===i.indexOf(e.key),t&&i.push(e.key);else{var n=i.indexOf(e.key);t=-1!==n,t&&i.splice(n,1)}a=a||t};Array.isArray(e)?e.forEach(o):o(e),a&&("openKeys"in r.props||r.store.setState({openKeys:i}),n.onOpenChange(i))},r.onDeselect=function(e){var t=I(r),n=t.props;if(n.selectable){var i=r.store.getState().selectedKeys.concat(),a=e.key,o=i.indexOf(a);-1!==o&&i.splice(o,1),"selectedKeys"in n||r.store.setState({selectedKeys:i}),n.onDeselect(Object(c["a"])(Object(c["a"])({},e),{},{selectedKeys:i}))}},r.onMouseEnter=function(e){r.restoreModeVerticalFromInline();var t=r.props.onMouseEnter;t&&t(e)},r.onTransitionEnd=function(e){var t="width"===e.propertyName&&e.target===e.currentTarget,n=e.target.className,i="[object SVGAnimatedString]"===Object.prototype.toString.call(n)?n.animVal:n,a="font-size"===e.propertyName&&i.indexOf("anticon")>=0;(t||a)&&r.restoreModeVerticalFromInline()},r.setInnerMenu=function(e){r.innerMenu=e},r.isRootMenu=!0;var i=e.defaultSelectedKeys,a=e.defaultOpenKeys;return"selectedKeys"in e&&(i=e.selectedKeys||[]),"openKeys"in e&&(a=e.openKeys||[]),r.store=be({selectedKeys:i,openKeys:a,activeKey:{"0-menu-":yi(e,e.activeKey)}}),r.state={switchingModeFromInline:!1,prevProps:e,inlineOpenKeys:[],store:r.store},r}return A(n,[{key:"componentDidMount",value:function(){this.updateMiniStore(),this.updateMenuDisplay()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.siderCollapsed,r=t.inlineCollapsed,i=t.onOpenChange;(!e.inlineCollapsed&&r||!e.siderCollapsed&&n)&&i([]),this.updateMiniStore(),this.updateMenuDisplay()}},{key:"updateMenuDisplay",value:function(){var e=this.props.collapsedWidth,t=this.store,n=this.prevOpenKeys,r=this.getInlineCollapsed()&&(0===e||"0"===e||"0px"===e);r?(this.prevOpenKeys=t.getState().openKeys.concat(),this.store.setState({openKeys:[]})):n&&(this.store.setState({openKeys:n}),this.prevOpenKeys=null)}},{key:"getRealMenuMode",value:function(){var e=this.props.mode,t=this.state.switchingModeFromInline,n=this.getInlineCollapsed();return t&&n?"inline":n?"vertical":e}},{key:"getInlineCollapsed",value:function(){var e=this.props,t=e.inlineCollapsed,n=e.siderCollapsed;return void 0!==n?n:t}},{key:"restoreModeVerticalFromInline",value:function(){var e=this.state.switchingModeFromInline;e&&this.setState({switchingModeFromInline:!1})}},{key:"updateMiniStore",value:function(){"selectedKeys"in this.props&&this.store.setState({selectedKeys:this.props.selectedKeys||[]}),"openKeys"in this.props&&this.store.setState({openKeys:this.props.openKeys||[]})}},{key:"render",value:function(){var e=Object(c["a"])({},Se(this.props,["collapsedWidth","siderCollapsed","defaultMotions"])),t=this.getRealMenuMode();return e.className+=" ".concat(e.prefixCls,"-root"),"rtl"===e.direction&&(e.className+=" ".concat(e.prefixCls,"-rtl")),e=Object(c["a"])(Object(c["a"])({},e),{},{mode:t,onClick:this.onClick,onOpenChange:this.onOpenChange,onDeselect:this.onDeselect,onSelect:this.onSelect,onMouseEnter:this.onMouseEnter,onTransitionEnd:this.onTransitionEnd,parentMenu:this,motion:Si(this.props,this.state,t)}),delete e.openAnimation,delete e.openTransitionName,i["createElement"](le,{store:this.store},i["createElement"](wi,Object.assign({},e,{ref:this.setInnerMenu}),this.props.children))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.store,i=r.getState(),a={},o={prevProps:e};return"inline"===n.mode&&"inline"!==e.mode&&(o.switchingModeFromInline=!0),"openKeys"in e?a.openKeys=e.openKeys||[]:((e.inlineCollapsed&&!n.inlineCollapsed||e.siderCollapsed&&!n.siderCollapsed)&&(o.switchingModeFromInline=!0,o.inlineOpenKeys=i.openKeys,a.openKeys=[]),(!e.inlineCollapsed&&n.inlineCollapsed||!e.siderCollapsed&&n.siderCollapsed)&&(a.openKeys=t.inlineOpenKeys,o.inlineOpenKeys=[])),Object.keys(a).length&&r.setState(a),o}}]),n}(i["Component"]);Ti.defaultProps={selectable:!0,onClick:Ve,onSelect:Ve,onOpenChange:Ve,onDeselect:Ve,defaultSelectedKeys:[],defaultOpenKeys:[],subMenuOpenDelay:.1,subMenuCloseDelay:.1,triggerSubMenuAction:"hover",prefixCls:"rc-menu",className:"",mode:"vertical",style:{},builtinPlacements:{},overflowedIndicator:i["createElement"]("span",null,"\xb7\xb7\xb7")};var Ei=Ti,Mi=function(e){D(n,e);var t=k(n);function n(){var e;return M(this,n),e=t.apply(this,arguments),e.onKeyDown=function(t){var n=t.keyCode;if(n===ee.ENTER)return e.onClick(t),!0},e.onMouseLeave=function(t){var n=e.props,r=n.eventKey,i=n.onItemHover,a=n.onMouseLeave;i({key:r,hover:!1}),a({key:r,domEvent:t})},e.onMouseEnter=function(t){var n=e.props,r=n.eventKey,i=n.onItemHover,a=n.onMouseEnter;i({key:r,hover:!0}),a({key:r,domEvent:t})},e.onClick=function(t){var n=e.props,r=n.eventKey,i=n.multiple,a=n.onClick,o=n.onSelect,s=n.onDeselect,u=n.isSelected,l={key:r,keyPath:[r],item:I(e),domEvent:t};a(l),i?u?s(l):o(l):u||o(l)},e.saveNode=function(t){e.node=t},e}return A(n,[{key:"componentDidMount",value:function(){this.callRef()}},{key:"componentDidUpdate",value:function(){this.callRef()}},{key:"componentWillUnmount",value:function(){var e=this.props;e.onDestroy&&e.onDestroy(e.eventKey)}},{key:"getPrefixCls",value:function(){return"".concat(this.props.rootPrefixCls,"-item")}},{key:"getActiveClassName",value:function(){return"".concat(this.getPrefixCls(),"-active")}},{key:"getSelectedClassName",value:function(){return"".concat(this.getPrefixCls(),"-selected")}},{key:"getDisabledClassName",value:function(){return"".concat(this.getPrefixCls(),"-disabled")}},{key:"callRef",value:function(){this.props.manualRef&&this.props.manualRef(this)}},{key:"render",value:function(){var e,t=Object(c["a"])({},this.props),n=h()(this.getPrefixCls(),t.className,(e={},Object(s["a"])(e,this.getActiveClassName(),!t.disabled&&t.active),Object(s["a"])(e,this.getSelectedClassName(),t.isSelected),Object(s["a"])(e,this.getDisabledClassName(),t.disabled),e)),r=Object(c["a"])(Object(c["a"])({},t.attribute),{},{title:"string"===typeof t.title?t.title:void 0,className:n,role:t.role||"menuitem","aria-disabled":t.disabled});"option"===t.role?r=Object(c["a"])(Object(c["a"])({},r),{},{role:"option","aria-selected":t.isSelected}):null!==t.role&&"none"!==t.role||(r.role="none");var a={onClick:t.disabled?null:this.onClick,onMouseLeave:t.disabled?null:this.onMouseLeave,onMouseEnter:t.disabled?null:this.onMouseEnter},o=Object(c["a"])({},t.style);"inline"===t.mode&&("rtl"===t.direction?o.paddingRight=t.inlineIndent*t.level:o.paddingLeft=t.inlineIndent*t.level),qe.forEach((function(e){return delete t[e]})),delete t.direction;var u=this.props.itemIcon;return"function"===typeof this.props.itemIcon&&(u=i["createElement"](this.props.itemIcon,this.props)),i["createElement"]("li",Object.assign({},Se(t,["onClick","onMouseEnter","onMouseLeave","onSelect"]),r,a,{style:o,ref:this.saveNode}),t.children,u)}}]),n}(i["Component"]);Mi.isMenuItem=!0,Mi.defaultProps={onSelect:Ve,onMouseEnter:Ve,onMouseLeave:Ve,manualRef:Ve};var Ci=ye((function(e,t){var n=e.activeKey,r=e.selectedKeys,i=t.eventKey,a=t.subMenuKey;return{active:n[a]===i,isSelected:-1!==r.indexOf(i)}}))(Mi),Ai=Ci,Oi=function(e){D(n,e);var t=k(n);function n(){var e;return M(this,n),e=t.apply(this,arguments),e.renderInnerMenuItem=function(t){var n=e.props,r=n.renderMenuItem,i=n.index;return r(t,i,e.props.subMenuKey)},e}return A(n,[{key:"render",value:function(){var e=Object(o["a"])({},this.props),t=e.className,n=void 0===t?"":t,r=e.rootPrefixCls,a="".concat(r,"-item-group-title"),s="".concat(r,"-item-group-list"),u=e.title,l=e.children;return qe.forEach((function(t){return delete e[t]})),delete e.onClick,delete e.direction,i["createElement"]("li",Object.assign({},e,{className:"".concat(n," ").concat(r,"-item-group")}),i["createElement"]("div",{className:a,title:"string"===typeof u?u:void 0},u),i["createElement"]("ul",{className:s},i["Children"].map(l,this.renderInnerMenuItem)))}}]),n}(i["Component"]);Oi.isMenuItemGroup=!0,Oi.defaultProps={disabled:!0};var Di=function(e){var t=e.className,n=e.rootPrefixCls,r=e.style;return i["createElement"]("li",{className:"".concat(t," ").concat(n,"-item-divider"),style:r})};Di.defaultProps={disabled:!0,className:"",style:{}};var Pi=Ei,Li={adjustX:1,adjustY:1},Ii=[0,0],Ri={topLeft:{points:["bl","tl"],overflow:Li,offset:[0,-4],targetOffset:Ii},topCenter:{points:["bc","tc"],overflow:Li,offset:[0,-4],targetOffset:Ii},topRight:{points:["br","tr"],overflow:Li,offset:[0,-4],targetOffset:Ii},bottomLeft:{points:["tl","bl"],overflow:Li,offset:[0,4],targetOffset:Ii},bottomCenter:{points:["tc","bc"],overflow:Li,offset:[0,4],targetOffset:Ii},bottomRight:{points:["tr","br"],overflow:Li,offset:[0,4],targetOffset:Ii}},ki=Ri;function Ni(e,t){var n=e.arrow,a=void 0!==n&&n,o=e.prefixCls,u=void 0===o?"rc-dropdown":o,c=e.transitionName,f=e.animation,d=e.align,p=e.placement,g=void 0===p?"bottomLeft":p,m=e.placements,v=void 0===m?ki:m,y=e.getPopupContainer,_=e.showAction,b=e.hideAction,x=e.overlayClassName,w=e.overlayStyle,S=e.visible,T=e.trigger,E=void 0===T?["hover"]:T,M=Object(l["a"])(e,["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"]),C=i["useState"](),A=Object(r["default"])(C,2),O=A[0],D=A[1],P="visible"in e?S:O,L=i["useRef"](null);i["useImperativeHandle"](t,(function(){return L.current}));var I=function(){var t,n=e.overlay;return t="function"===typeof n?n():n,t},R=function(t){var n=e.onOverlayClick,r=I().props;D(!1),n&&n(t),r.onClick&&r.onClick(t)},k=function(t){var n=e.onVisibleChange;D(t),"function"===typeof n&&n(t)},N=function(){var e=I(),t={prefixCls:"".concat(u,"-menu"),onClick:R};return"string"===typeof e.type&&delete t.prefixCls,i["createElement"](i["Fragment"],null,a&&i["createElement"]("div",{className:"".concat(u,"-arrow")}),i["cloneElement"](e,t))},F=function(){var t=e.overlay;return"function"===typeof t?N:N()},B=function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n},z=function(){var t=e.openClassName;return void 0!==t?t:"".concat(u,"-open")},j=function(){var t=e.children,n=t.props?t.props:{},r=h()(n.className,z());return O&&t?i["cloneElement"](t,{className:r}):t},H=b;return H||-1===E.indexOf("contextMenu")||(H=["click"]),i["createElement"](ti,Object.assign({},M,{prefixCls:u,ref:L,popupClassName:h()(x,Object(s["a"])({},"".concat(u,"-show-arrow"),a)),popupStyle:w,builtinPlacements:v,action:E,showAction:_,hideAction:H||[],popupPlacement:g,popupAlign:d,popupTransitionName:c,popupAnimation:f,popupVisible:P,stretch:B()?"minWidth":"",popup:F(),onPopupVisibleChange:k,getPopupContainer:y}),j())}var Fi=i["forwardRef"](Ni),Bi=Fi;function zi(e,t){var n=e.prefixCls,r=e.editable,a=e.locale,o=e.style;return r&&!1!==r.showAdd?i["createElement"]("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":(null===a||void 0===a?void 0:a.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null}var ji=i["forwardRef"](zi);function Hi(e,t){var n=e.prefixCls,a=e.id,o=e.tabs,u=e.locale,l=e.mobile,c=e.moreIcon,f=void 0===c?"More":c,d=e.moreTransitionName,p=e.style,g=e.className,m=e.editable,v=e.tabBarGutter,y=e.rtl,_=e.onTabClick,b=Object(i["useState"])(!1),x=Object(r["default"])(b,2),w=x[0],S=x[1],T=Object(i["useState"])(null),E=Object(r["default"])(T,2),M=E[0],C=E[1],A="".concat(a,"-more-popup"),O="".concat(n,"-dropdown"),D=null!==M?"".concat(A,"-").concat(M):null,P=null===u||void 0===u?void 0:u.dropdownAriaLabel,L=i["createElement"](Pi,{onClick:function(e){var t=e.key,n=e.domEvent;_(t,n),S(!1)},id:A,tabIndex:-1,role:"listbox","aria-activedescendant":D,selectedKeys:[M],"aria-label":void 0!==P?P:"expanded dropdown"},o.map((function(e){return i["createElement"](Ai,{key:e.key,id:"".concat(A,"-").concat(e.key),role:"option","aria-controls":a&&"".concat(a,"-panel-").concat(e.key),disabled:e.disabled},e.tab)})));function I(e){for(var t=o.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===M}))||0,r=t.length,i=0;i<r;i+=1){n=(n+e+r)%r;var a=t[n];if(!a.disabled)return void C(a.key)}}function R(e){var t=e.which;if(w)switch(t){case ee.UP:I(-1),e.preventDefault();break;case ee.DOWN:I(1),e.preventDefault();break;case ee.ESC:S(!1);break;case ee.SPACE:case ee.ENTER:null!==M&&_(M,e);break}else[ee.DOWN,ee.SPACE,ee.ENTER].includes(t)&&(S(!0),e.preventDefault())}Object(i["useEffect"])((function(){var e=document.getElementById(D);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[M]),Object(i["useEffect"])((function(){w||C(null)}),[w]);var k=Object(s["a"])({},y?"marginLeft":"marginRight",v);o.length||(k.visibility="hidden",k.order=1);var N=h()(Object(s["a"])({},"".concat(O,"-rtl"),y)),F=l?null:i["createElement"](Bi,{prefixCls:O,overlay:L,trigger:["hover"],visible:w,transitionName:d,onVisibleChange:S,overlayClassName:N,mouseEnterDelay:.1,mouseLeaveDelay:.1},i["createElement"]("button",{type:"button",className:"".concat(n,"-nav-more"),style:k,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":A,id:"".concat(a,"-more"),"aria-expanded":w,onKeyDown:R},f));return i["createElement"]("div",{className:h()("".concat(n,"-nav-operations"),g),style:p,ref:t},F,i["createElement"](ji,{prefixCls:n,locale:u,editable:m}))}var Ui=i["forwardRef"](Hi),Vi=Object(i["createContext"])(null),Gi=.1,Wi=.01,Xi=20,Ki=Math.pow(.995,Xi);function qi(e,t){var n=Object(i["useState"])(),a=Object(r["default"])(n,2),o=a[0],s=a[1],u=Object(i["useState"])(0),l=Object(r["default"])(u,2),c=l[0],f=l[1],h=Object(i["useState"])(0),d=Object(r["default"])(h,2),p=d[0],g=d[1],m=Object(i["useState"])(),v=Object(r["default"])(m,2),y=v[0],_=v[1],b=Object(i["useRef"])();function x(e){var t=e.touches[0],n=t.screenX,r=t.screenY;s({x:n,y:r}),window.clearInterval(b.current)}function w(e){if(o){e.preventDefault();var n=e.touches[0],r=n.screenX,i=n.screenY;s({x:r,y:i});var a=r-o.x,u=i-o.y;t(a,u);var l=Date.now();f(l),g(l-c),_({x:a,y:u})}}function S(){if(o&&(s(null),_(null),y)){var e=y.x/p,n=y.y/p,r=Math.abs(e),i=Math.abs(n);if(Math.max(r,i)<Gi)return;var a=e,u=n;b.current=window.setInterval((function(){Math.abs(a)<Wi&&Math.abs(u)<Wi?window.clearInterval(b.current):(a*=Ki,u*=Ki,t(a*Xi,u*Xi))}),Xi)}}var T=Object(i["useRef"])();function E(e){var n=e.deltaX,r=e.deltaY,i=0,a=Math.abs(n),o=Math.abs(r);a===o?i="x"===T.current?n:r:a>o?(i=n,T.current="x"):(i=r,T.current="y"),t(-i,-i)&&e.preventDefault()}var M=Object(i["useRef"])(null);M.current={onTouchStart:x,onTouchMove:w,onTouchEnd:S,onWheel:E},i["useEffect"]((function(){function t(e){M.current.onTouchStart(e)}function n(e){M.current.onTouchMove(e)}function r(e){M.current.onTouchEnd(e)}function i(e){M.current.onWheel(e)}return document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",r,{passive:!1}),e.current.addEventListener("touchstart",t,{passive:!1}),e.current.addEventListener("wheel",i),function(){document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r)}}),[])}function Yi(){var e=Object(i["useRef"])(new Map);function t(t){return e.current.has(t)||e.current.set(t,i["createRef"]()),e.current.get(t)}function n(t){e.current["delete"](t)}return[t,n]}function Zi(e,t){var n=i["useRef"](e),a=i["useState"]({}),o=Object(r["default"])(a,2),s=o[1];function u(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,s({})}return[n.current,u]}var $i=function(e){var t,n=e.position,r=e.prefixCls,a=e.extra;if(!a)return null;var o=a;return"right"===n&&(t=o.right||!o.left&&o||null),"left"===n&&(t=o.left||null),t?i["createElement"]("div",{className:"".concat(r,"-extra-content")},t):null};function Qi(e,t){var n,a=i["useContext"](Vi),u=a.prefixCls,l=a.tabs,f=e.className,d=e.style,p=e.id,g=e.animated,m=e.activeKey,v=e.rtl,y=e.extra,_=e.editable,b=e.locale,x=e.tabPosition,S=e.tabBarGutter,T=e.children,M=e.onTabClick,C=e.onTabScroll,A=Object(i["useRef"])(),O=Object(i["useRef"])(),D=Object(i["useRef"])(),P=Object(i["useRef"])(),L=Yi(),I=Object(r["default"])(L,2),R=I[0],k=I[1],N="top"===x||"bottom"===x,F=Zi(0,(function(e,t){N&&C&&C({direction:e>t?"left":"right"})})),B=Object(r["default"])(F,2),z=B[0],j=B[1],H=Zi(0,(function(e,t){!N&&C&&C({direction:e>t?"top":"bottom"})})),U=Object(r["default"])(H,2),V=U[0],G=U[1],W=Object(i["useState"])(0),X=Object(r["default"])(W,2),K=X[0],q=X[1],Y=Object(i["useState"])(0),J=Object(r["default"])(Y,2),ee=J[0],te=J[1],re=Object(i["useState"])(0),ae=Object(r["default"])(re,2),se=ae[0],ue=ae[1],le=Object(i["useState"])(0),ce=Object(r["default"])(le,2),fe=ce[0],he=ce[1],de=Object(i["useState"])(null),pe=Object(r["default"])(de,2),ge=pe[0],me=pe[1],ve=Object(i["useState"])(null),ye=Object(r["default"])(ve,2),_e=ye[0],be=ye[1],xe=Object(i["useState"])(0),we=Object(r["default"])(xe,2),Se=we[0],Te=we[1],Ee=Object(i["useState"])(0),Me=Object(r["default"])(Ee,2),Ce=Me[0],Ae=Me[1],Oe=Q(new Map),De=Object(r["default"])(Oe,2),Pe=De[0],Le=De[1],Ie=ie(l,Pe,K),Re="".concat(u,"-nav-operations-hidden"),ke=0,Ne=0;function Fe(e){return e<ke?ke:e>Ne?Ne:e}N?v?(ke=0,Ne=Math.max(0,K-ge)):(ke=Math.min(0,ge-K),Ne=0):(ke=Math.min(0,_e-ee),Ne=0);var Be=Object(i["useRef"])(),ze=Object(i["useState"])(),je=Object(r["default"])(ze,2),He=je[0],Ue=je[1];function Ve(){Ue(Date.now())}function Ge(){window.clearTimeout(Be.current)}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=Ie.get(e)||{width:0,height:0,left:0,right:0,top:0};if(N){var n=z;v?t.right<z?n=t.right:t.right+t.width>z+ge&&(n=t.right+t.width-ge):t.left<-z?n=-t.left:t.left+t.width>-z+ge&&(n=-(t.left+t.width-ge)),G(0),j(Fe(n))}else{var r=V;t.top<-V?r=-t.top:t.top+t.height>-V+_e&&(r=-(t.top+t.height-_e)),j(0),G(Fe(r))}}qi(A,(function(e,t){function n(e,t){e((function(e){var n=Fe(e+t);return n}))}if(N){if(ge>=K)return!1;n(j,e)}else{if(_e>=ee)return!1;n(G,t)}return Ge(),Ve(),!0})),Object(i["useEffect"])((function(){return Ge(),He&&(Be.current=window.setTimeout((function(){Ue(0)}),100)),Ge}),[He]);var Xe=oe(Ie,{width:ge,height:_e,left:z,top:V},{width:se,height:fe},{width:Se,height:Ce},Object(c["a"])(Object(c["a"])({},e),{},{tabs:l})),Ke=Object(r["default"])(Xe,2),qe=Ke[0],Ye=Ke[1],Ze=l.map((function(e){var t=e.key;return i["createElement"](ne,{id:p,prefixCls:u,key:t,rtl:v,tab:e,closable:e.closable,editable:_,active:t===m,tabPosition:x,tabBarGutter:S,renderWrapper:T,removeAriaLabel:null===b||void 0===b?void 0:b.removeAriaLabel,ref:R(t),onClick:function(e){M(t,e)},onRemove:function(){k(t)},onFocus:function(){We(t),Ve(),v||(A.current.scrollLeft=0),A.current.scrollTop=0}})})),$e=$((function(){var e,t,n,r,i,a,o,s,u,c=(null===(e=A.current)||void 0===e?void 0:e.offsetWidth)||0,f=(null===(t=A.current)||void 0===t?void 0:t.offsetHeight)||0,h=(null===(n=P.current)||void 0===n?void 0:n.offsetWidth)||0,d=(null===(r=P.current)||void 0===r?void 0:r.offsetHeight)||0,p=(null===(i=D.current)||void 0===i?void 0:i.offsetWidth)||0,g=(null===(a=D.current)||void 0===a?void 0:a.offsetHeight)||0;me(c),be(f),Te(h),Ae(d);var m=((null===(o=O.current)||void 0===o?void 0:o.offsetWidth)||0)-h,v=((null===(s=O.current)||void 0===s?void 0:s.offsetHeight)||0)-d;q(m),te(v);var y=null===(u=D.current)||void 0===u?void 0:u.className.includes(Re);ue(m-(y?0:p)),he(v-(y?0:g)),Le((function(){var e=new Map;return l.forEach((function(t){var n=t.key,r=R(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),Qe=l.slice(0,qe),Je=l.slice(Ye+1),et=[].concat(w(Qe),w(Je)),tt=Object(i["useState"])(),nt=Object(r["default"])(tt,2),rt=nt[0],it=nt[1],at=Ie.get(m),ot=Object(i["useRef"])();function st(){E.cancel(ot.current)}Object(i["useEffect"])((function(){var e={};return at&&(N?(v?e.right=at.right:e.left=at.left,e.width=at.width):(e.top=at.top,e.height=at.height)),st(),ot.current=E((function(){it(e)})),st}),[at,N,v]),Object(i["useEffect"])((function(){We()}),[m,at,Ie,N]),Object(i["useEffect"])((function(){$e()}),[v,S,m,l.map((function(e){return e.key})).join("_")]);var ut,lt,ct,ft,ht=!!et.length,dt="".concat(u,"-nav-wrap");return N?v?(lt=z>0,ut=z+ge<K):(ut=z<0,lt=-z+ge<K):(ct=V<0,ft=-V+_e<ee),i["createElement"]("div",{ref:t,role:"tablist",className:h()("".concat(u,"-nav"),f),style:d,onKeyDown:function(){Ve()}},i["createElement"]($i,{position:"left",extra:y,prefixCls:u}),i["createElement"](Z,{onResize:$e},i["createElement"]("div",{className:h()(dt,(n={},Object(s["a"])(n,"".concat(dt,"-ping-left"),ut),Object(s["a"])(n,"".concat(dt,"-ping-right"),lt),Object(s["a"])(n,"".concat(dt,"-ping-top"),ct),Object(s["a"])(n,"".concat(dt,"-ping-bottom"),ft),n)),ref:A},i["createElement"](Z,{onResize:$e},i["createElement"]("div",{ref:O,className:"".concat(u,"-nav-list"),style:{transform:"translate(".concat(z,"px, ").concat(V,"px)"),transition:He?"none":void 0}},Ze,i["createElement"](ji,{ref:P,prefixCls:u,locale:b,editable:_,style:{visibility:ht?"hidden":null}}),i["createElement"]("div",{className:h()("".concat(u,"-ink-bar"),Object(s["a"])({},"".concat(u,"-ink-bar-animated"),g.inkBar)),style:rt}))))),i["createElement"](Ui,Object(o["a"])({},e,{ref:D,prefixCls:u,tabs:et,className:!ht&&Re})),i["createElement"]($i,{position:"right",extra:y,prefixCls:u}))}var Ji=i["forwardRef"](Qi);function ea(e){var t=e.id,n=e.activeKey,r=e.animated,a=e.tabPosition,o=e.rtl,u=e.destroyInactiveTabPane,l=i["useContext"](Vi),c=l.prefixCls,f=l.tabs,d=r.tabPane,p=f.findIndex((function(e){return e.key===n}));return i["createElement"]("div",{className:h()("".concat(c,"-content-holder"))},i["createElement"]("div",{className:h()("".concat(c,"-content"),"".concat(c,"-content-").concat(a),Object(s["a"])({},"".concat(c,"-content-animated"),d)),style:p&&d?Object(s["a"])({},o?"marginRight":"marginLeft","-".concat(p,"00%")):null},f.map((function(e){return i["cloneElement"](e.node,{key:e.key,prefixCls:c,tabKey:e.key,id:t,animated:d,active:e.key===n,destroyInactiveTabPane:u})}))))}function ta(e){var t=e.prefixCls,n=e.forceRender,a=e.className,o=e.style,s=e.id,u=e.active,l=e.animated,f=e.destroyInactiveTabPane,d=e.tabKey,p=e.children,g=i["useState"](n),m=Object(r["default"])(g,2),v=m[0],y=m[1];i["useEffect"]((function(){u?y(!0):f&&y(!1)}),[u,f]);var _={};return u||(l?(_.visibility="hidden",_.height=0,_.overflowY="hidden"):_.display="none"),i["createElement"]("div",{id:s&&"".concat(s,"-panel-").concat(d),role:"tabpanel",tabIndex:u?0:-1,"aria-labelledby":s&&"".concat(s,"-tab-").concat(d),"aria-hidden":!u,style:Object(c["a"])(Object(c["a"])({},_),o),className:h()("".concat(t,"-tabpane"),u&&"".concat(t,"-tabpane-active"),a)},(u||v||n)&&p)}var na=0;function ra(e){return p(e).map((function(e){if(i["isValidElement"](e)){var t=void 0!==e.key?String(e.key):void 0;return Object(c["a"])(Object(c["a"])({key:t},e.props),{},{node:e})}return null})).filter((function(e){return e}))}function ia(e,t){var n,a,f=e.id,d=e.prefixCls,p=void 0===d?"rc-tabs":d,v=e.className,y=e.children,_=e.direction,b=e.activeKey,x=e.defaultActiveKey,w=e.editable,S=e.animated,T=void 0===S?{inkBar:!0,tabPane:!1}:S,E=e.tabPosition,M=void 0===E?"top":E,C=e.tabBarGutter,A=e.tabBarStyle,O=e.tabBarExtraContent,D=e.locale,P=e.moreIcon,L=e.moreTransitionName,I=e.destroyInactiveTabPane,R=e.renderTabBar,k=e.onChange,N=e.onTabClick,F=e.onTabScroll,B=Object(l["a"])(e,["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"]),z=ra(y),j="rtl"===_;a=!1===T?{inkBar:!1,tabPane:!1}:!0===T?{inkBar:!0,tabPane:!0}:Object(c["a"])({inkBar:!0,tabPane:!1},"object"===u(T)?T:{});var H=Object(i["useState"])(!1),U=Object(r["default"])(H,2),V=U[0],G=U[1];Object(i["useEffect"])((function(){G(g())}),[]);var W=m((function(){var e;return null===(e=z[0])||void 0===e?void 0:e.key}),{value:b,defaultValue:x}),X=Object(r["default"])(W,2),K=X[0],q=X[1],Y=Object(i["useState"])((function(){return z.findIndex((function(e){return e.key===K}))})),Z=Object(r["default"])(Y,2),$=Z[0],Q=Z[1];Object(i["useEffect"])((function(){var e,t=z.findIndex((function(e){return e.key===K}));-1===t&&(t=Math.max(0,Math.min($,z.length-1)),q(null===(e=z[t])||void 0===e?void 0:e.key));Q(t)}),[z.map((function(e){return e.key})).join("_"),K,$]);var J=m(null,{value:f}),ee=Object(r["default"])(J,2),te=ee[0],ne=ee[1],re=M;function ie(e,t){null===N||void 0===N||N(e,t),q(e),null===k||void 0===k||k(e)}V&&!["left","right"].includes(M)&&(re="top"),Object(i["useEffect"])((function(){f||(ne("rc-tabs-".concat(na)),na+=1)}),[]);var ae,oe={id:te,activeKey:K,animated:a,tabPosition:re,rtl:j,mobile:V},se=Object(c["a"])(Object(c["a"])({},oe),{},{editable:w,locale:D,moreIcon:P,moreTransitionName:L,tabBarGutter:C,onTabClick:ie,onTabScroll:F,extra:O,style:A,panes:y});return ae=R?R(se,Ji):i["createElement"](Ji,se),i["createElement"](Vi.Provider,{value:{tabs:z,prefixCls:p}},i["createElement"]("div",Object(o["a"])({ref:t,id:f,className:h()(p,"".concat(p,"-").concat(re),(n={},Object(s["a"])(n,"".concat(p,"-mobile"),V),Object(s["a"])(n,"".concat(p,"-editable"),w),Object(s["a"])(n,"".concat(p,"-rtl"),j),n),v)},B),ae,i["createElement"](ea,Object(o["a"])({destroyInactiveTabPane:I},oe,{animated:a}))))}var aa=i["forwardRef"](ia);aa.TabPane=ta;var oa=aa,sa=oa,ua=n("9kvl"),la=n("kvV8"),ca=n("HFCj");n("MD2b");function fa(e,t){var n,r=null===(n=e.match(/\.(\w+)$/))||void 0===n?void 0:n[1];return r||(r=t.tsx?"tsx":"jsx"),r}var ha=e=>{var t,n,o,s=Object(i["useRef"])(),u=Object(i["useContext"])(la["context"]),l=u.locale,c=Object(la["useLocaleProps"])(l,e),f=Object(la["useDemoUrl"])(c.identifier),h=c.demoUrl||f,d=(null===ua["a"]||void 0===ua["a"]?void 0:ua["a"].location.hash)==="#".concat(c.identifier),p=1===Object.keys(c.sources).length,g=Object(la["useCodeSandbox"])((null===(t=c.hideActions)||void 0===t?void 0:t.includes("CSB"))?null:c),m=Object(la["useRiddle"])((null===(n=c.hideActions)||void 0===n?void 0:n.includes("RIDDLE"))?null:c),v=Object(la["useMotions"])(c.motions||[],s.current),y=Object(r["default"])(v,2),_=y[0],b=y[1],x=Object(la["useCopy"])(),w=Object(r["default"])(x,2),S=w[0],T=w[1],E=Object(i["useState"])("_"),M=Object(r["default"])(E,2),C=M[0],A=M[1],O=Object(i["useState"])(fa(C,c.sources[C])),D=Object(r["default"])(O,2),P=D[0],L=D[1],I=Object(i["useState"])(Boolean(c.defaultShowCode)),R=Object(r["default"])(I,2),k=R[0],N=R[1],F=Object(i["useState"])(Math.random()),B=Object(r["default"])(F,2),z=B[0],j=B[1],H=c.sources[C][P]||c.sources[C].content,U=Object(la["useTSPlaygroundUrl"])(l,H);function V(e){A(e),L(fa(e,c.sources[e]))}return a.a.createElement("div",{style:c.style,className:[c.className,"__dumi-default-previewer",d?"__dumi-default-previewer-target":""].filter(Boolean).join(" "),id:c.identifier,"data-debug":c.debug||void 0,"data-iframe":c.iframe||void 0},c.iframe&&a.a.createElement("div",{className:"__dumi-default-previewer-browser-nav"}),a.a.createElement("div",{ref:s,className:"__dumi-default-previewer-demo",style:{transform:c.transform?"translate(0, 0)":void 0,padding:c.compact||c.iframe&&!1!==c.compact?"0":void 0,background:c.background}},c.iframe?a.a.createElement("iframe",{title:"dumi-previewer",style:{height:String(c.iframe).replace(/(\d)$/,"$1px")},key:z,src:h}):c.children),a.a.createElement("div",{className:"__dumi-default-previewer-desc","data-title":c.title},c.title&&a.a.createElement(la["AnchorLink"],{to:"#".concat(c.identifier)},c.title),c.description&&a.a.createElement("div",{dangerouslySetInnerHTML:{__html:c.description}})),a.a.createElement("div",{className:"__dumi-default-previewer-actions"},g&&a.a.createElement("button",{title:"Open demo on CodeSandbox.io",className:"__dumi-default-icon",role:"codesandbox",onClick:g}),m&&a.a.createElement("button",{title:"Open demo on Riddle",className:"__dumi-default-icon",role:"riddle",onClick:m}),c.motions&&a.a.createElement("button",{title:"Execute motions",className:"__dumi-default-icon",role:"motions",disabled:b,onClick:()=>_()}),c.iframe&&a.a.createElement("button",{title:"Reload demo iframe page",className:"__dumi-default-icon",role:"refresh",onClick:()=>j(Math.random())}),!(null===(o=c.hideActions)||void 0===o?void 0:o.includes("EXTERNAL"))&&a.a.createElement(la["Link"],{target:"_blank",to:h},a.a.createElement("button",{title:"Open demo in new tab",className:"__dumi-default-icon",role:"open-demo",type:"button"})),a.a.createElement("span",null),a.a.createElement("button",{title:"Copy source code",className:"__dumi-default-icon",role:"copy","data-status":T,onClick:()=>S(H)}),"tsx"===P&&k&&a.a.createElement(la["Link"],{target:"_blank",to:U},a.a.createElement("button",{title:"Get JSX via TypeScript Playground",className:"__dumi-default-icon",role:"change-tsx",type:"button"})),a.a.createElement("button",{title:"Toggle source code panel",className:"__dumi-default-icon".concat(k?" __dumi-default-btn-expand":""),role:"source",type:"button",onClick:()=>N(!k)})),k&&a.a.createElement("div",{className:"__dumi-default-previewer-source-wrapper"},!p&&a.a.createElement(sa,{className:"__dumi-default-previewer-source-tab",prefixCls:"__dumi-default-tabs",moreIcon:"\xb7\xb7\xb7",defaultActiveKey:C,onChange:V},Object.keys(c.sources).map((e=>a.a.createElement(ta,{tab:"_"===e?"index.".concat(fa(e,c.sources[e])):e,key:e})))),a.a.createElement("div",{className:"__dumi-default-previewer-source"},a.a.createElement(ca["a"],{code:H,lang:P,showCopy:!1}))))};t["default"]=ha},lUyv:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},liI8:function(e,t,n){var r=n("2JD6");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},lttk:function(e,t,n){"use strict";var r=n("9izy").charAt,i=n("twJ5"),a=n("me7Q"),o="String Iterator",s=i.set,u=i.getterFor(o);a(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},m52V:function(e,t){e.exports=!1},mAbK:function(e,t){e.exports={}},"mKn/":function(e,t,n){var r=n("kPvK"),i=n("mAbK"),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},mODz:function(e,t,n){var r=n("HIsA"),i=n("5isN"),a=n("9HG5"),o=!a((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:o},{from:i})},mTX6:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("DDwO"),s=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=a(this),n=o(t.has);return!s(e,(function(e){if(!0===n.call(t,e))return s.stop()})).stopped}})},mVYA:function(e,t,n){"use strict";n.r(t);var r=n("xwgP"),i=n.n(r),a=n("kvV8"),o=n("lBQG"),s=i.a.memo(n("Rsk4").default["gl-demo"].component);t["default"]=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"web-gl"},i.a.createElement(a["AnchorLink"],{to:"#web-gl","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:["icon","icon-link"]})),"Web GL")),i.a.createElement(o["default"],n("Rsk4").default["gl-demo"].previewerProps,i.a.createElement(s,null))))}},ma2j:function(e,t,n){"use strict";var r=n("hXyk");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},masK:function(e,t,n){var r=n("GUTS");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},me7Q:function(e,t,n){"use strict";var r=n("HIsA"),i=n("afop"),a=n("kI7s"),o=n("UPu9"),s=n("J7X1"),u=n("D8FR"),l=n("GUTS"),c=n("kPvK"),f=n("m52V"),h=n("mAbK"),d=n("Krz3"),p=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,m=c("iterator"),v="keys",y="values",_="entries",b=function(){return this};e.exports=function(e,t,n,c,d,x,w){i(n,t,c);var S,T,E,M=function(e){if(e===d&&P)return P;if(!g&&e in O)return O[e];switch(e){case v:return function(){return new n(this,e)};case y:return function(){return new n(this,e)};case _:return function(){return new n(this,e)}}return function(){return new n(this)}},C=t+" Iterator",A=!1,O=e.prototype,D=O[m]||O["@@iterator"]||d&&O[d],P=!g&&D||M(d),L="Array"==t&&O.entries||D;if(L&&(S=a(L.call(new e)),p!==Object.prototype&&S.next&&(f||a(S)===p||(o?o(S,p):"function"!=typeof S[m]&&u(S,m,b)),s(S,C,!0,!0),f&&(h[C]=b))),d==y&&D&&D.name!==y&&(A=!0,P=function(){return D.call(this)}),f&&!w||O[m]===P||u(O,m,P),h[t]=P,d)if(T={values:M(y),keys:x?P:M(v),entries:M(_)},w)for(E in T)(g||A||!(E in O))&&l(O,E,T[E]);else r({target:t,proto:!0,forced:g||A},T);return T}},mlmj:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("bXon"),o=n("hXyk"),s=n("DDwO"),u=n("70zE"),l=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=o(this),n=new(u(t,a("Set")))(t),r=s(n["delete"]),i=s(n.add);return l(e,(function(e){r.call(n,e)||i.call(n,e)})),n}})},"n+WB":function(e,t,n){var r=n("hXyk"),i=n("pxmn"),a=n("0MLT");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e),o=n.resolve;return o(t),n.promise}},n2ef:function(e,t,n){var r=n("pxmn");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},n2r9:function(e,t,n){"use strict";var r=n("HIsA"),i=n("afop"),a=n("JzK+"),o=n("2I03"),s=n("DDwO"),u=n("hXyk"),l=n("IRht"),c=n("ihzt"),f=n("ma2j"),h=n("D8FR"),d=n("7+LC"),p=n("kPvK"),g=n("70zE"),m=n("OOuR"),v=n("twJ5"),y=n("m52V"),_=p("matchAll"),b="RegExp String",x=b+" Iterator",w=v.set,S=v.getterFor(x),T=RegExp.prototype,E=T.exec,M="".matchAll,C=!!M&&!d((function(){"a".matchAll(/./)})),A=function(e,t){var n,r=e.exec;if("function"==typeof r){if(n=r.call(e,t),"object"!=typeof n)throw TypeError("Incorrect exec result");return n}return E.call(e,t)},O=i((function(e,t,n,r){w(this,{type:x,regexp:e,string:t,global:n,unicode:r,done:!1})}),b,(function(){var e=S(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=A(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""==String(r[0])&&(t.lastIndex=m(n,o(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),D=function(e){var t,n,r,i,a,s,l=u(this),c=String(e);return t=g(l,RegExp),n=l.flags,void 0===n&&l instanceof RegExp&&!("flags"in T)&&(n=f.call(l)),r=void 0===n?"":String(n),i=new t(t===RegExp?l.source:l,r),a=!!~r.indexOf("g"),s=!!~r.indexOf("u"),i.lastIndex=o(l.lastIndex),new O(i,c,a,s)};r({target:"String",proto:!0,forced:C},{matchAll:function(e){var t,n,r,i,o=a(this);if(null!=e){if(c(e)&&(t=String(a("flags"in T?e.flags:f.call(e))),!~t.indexOf("g")))throw TypeError("`.matchAll` does not allow non-global regexes");if(C)return M.apply(o,arguments);if(r=e[_],void 0===r&&y&&"RegExp"==l(e)&&(r=D),null!=r)return s(r).call(e,o)}else if(C)return M.apply(o,arguments);return n=String(o),i=new RegExp(e,"g"),y?D.call(i,n):i[_](n)}}),y||_ in T||h(T,_,D)},nMhH:function(e,t,n){var r=n("HIsA"),i=n("Ji6T"),a=n("G70G");r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){a(t,e,n)}),void 0,!0),t}})},"nPP+":function(e,t,n){"use strict";var r=n("sqIH"),i=n("hXyk"),a=n("JzK+"),o=n("nVx8"),s=n("WdrS");r("search",1,(function(e,t,n){return[function(t){var n=a(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),u=String(this),l=a.lastIndex;o(l,0)||(a.lastIndex=0);var c=s(a,u);return o(a.lastIndex,l)||(a.lastIndex=l),null===c?-1:c.index}]}))},nVx8:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},nXFK:function(e,t,n){var r=n("7+LC"),i=n("kPvK"),a=n("m52V"),o=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},nsiD:function(e,t,n){"use strict";var r=n("HIsA"),i=n("Hiyu"),a=n("12fA"),o=n("NVMI"),s=n("DDwO"),u=n("2RC6");i&&r({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){u.f(o(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},nufT:function(e,t,n){var r=n("HIsA"),i=n("icJ8"),a=n("hXyk"),o=i.keys,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var t=arguments.length<2?void 0:s(arguments[1]);return o(a(e),t)}})},o0xK:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("40mc"),s=n("YjHi"),u=n("Ji6T");r({target:"Map",proto:!0,real:!0,forced:i},{every:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return!u(n,(function(e,n){if(!r(n,e,t))return u.stop()}),void 0,!0,!0).stopped}})},o1AR:function(e,t,n){"use strict";var r=n("HIsA"),i=n("Hiyu"),a=n("12fA"),o=n("NVMI"),s=n("n2ef"),u=n("kI7s"),l=n("qmtO").f;i&&r({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,n=o(this),r=s(e,!0);do{if(t=l(n,r))return t.get}while(n=u(n))}})},o9qH:function(e,t,n){"use strict";var r=n("pxmn"),i=n("2RC6"),a=n("kI7s"),o=n("kPvK"),s=o("hasInstance"),u=Function.prototype;s in u||i.f(u,s,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;while(e=a(e))if(this.prototype===e)return!0;return!1}})},oDub:function(e,t,n){var r=n("bVFb");r("asyncIterator")},oFyO:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("bXon"),o=n("hXyk"),s=n("DDwO"),u=n("70zE"),l=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=o(this),n=new(u(t,a("Set")))(t),r=s(n["delete"]);return l(e,(function(e){r.call(n,e)})),n}})},oTOb:function(e,t,n){"use strict";var r=n("2hCa"),i=n("JY8B"),a=n("mAbK"),o=n("twJ5"),s=n("me7Q"),u="Array Iterator",l=o.set,c=o.getterFor(u);e.exports=s(Array,"Array",(function(e,t){l(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},ob7Q:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}n.r(t),n.d(t,"default",(function(){return s}));var a=n("D0A+");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return r(e)||i(e,t)||Object(a["a"])(e,t)||o()}},ochL:function(e,t,n){"use strict";var r=n("xwgP"),i=n("dZOt"),a=n("dske");function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var u=!1,l=null,c=!1,f=null,h={onError:function(e){u=!0,l=e}};function d(e,t,n,r,i,a,o,c,f){u=!1,l=null,s.apply(h,arguments)}function p(e,t,n,r,i,a,s,h,p){if(d.apply(this,arguments),u){if(!u)throw Error(o(198));var g=l;u=!1,l=null,c||(c=!0,f=g)}}var g=null,m=null,v=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v(n),p(r,t,void 0,e),e.currentTarget=null}var _=null,b={};function x(){if(_)for(var e in b){var t=b[e],n=_.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!S[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in S[n]=t,n=t.eventTypes,n){var i=void 0,a=n[r],s=t,u=r;if(T.hasOwnProperty(u))throw Error(o(99,u));T[u]=a;var l=a.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&w(l[i],s,u);i=!0}else a.registrationName?(w(a.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function w(e,t,n){if(E[e])throw Error(o(100,e));E[e]=t,M[e]=t.eventTypes[n].dependencies}var S=[],T={},E={},M={};function C(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(o(102,t));b[t]=r,n=!0}}n&&x()}var A=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),O=null,D=null,P=null;function L(e){if(e=m(e)){if("function"!==typeof O)throw Error(o(280));var t=e.stateNode;t&&(t=g(t),O(e.stateNode,e.type,t))}}function I(e){D?P?P.push(e):P=[e]:D=e}function R(){if(D){var e=D,t=P;if(P=D=null,L(e),t)for(e=0;e<t.length;e++)L(t[e])}}function k(e,t){return e(t)}function N(e,t,n,r,i){return e(t,n,r,i)}function F(){}var B=k,z=!1,j=!1;function H(){null===D&&null===P||(F(),R())}function U(e,t,n){if(j)return e(t,n);j=!0;try{return B(e,t,n)}finally{j=!1,H()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,W={},X={};function K(e){return!!G.call(X,e)||!G.call(W,e)&&(V.test(e)?X[e]=!0:(W[e]=!0,!1))}function q(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),"data-"!==e&&"aria-"!==e));default:return!1}}function Y(e,t,n,r){if(null===t||"undefined"===typeof t||q(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Z(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){$[e]=new Z(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];$[t]=new Z(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){$[e]=new Z(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){$[e]=new Z(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){$[e]=new Z(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){$[e]=new Z(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){$[e]=new Z(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){$[e]=new Z(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){$[e]=new Z(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,J);$[t]=new Z(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,J);$[t]=new Z(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,J);$[t]=new Z(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){$[e]=new Z(e,1,!1,e.toLowerCase(),null,!1)})),$.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){$[e]=new Z(e,1,!1,e.toLowerCase(),null,!0)}));var ee=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function te(e,t,n,r){var i=$.hasOwnProperty(t)?$[t]:null,a=null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]));a||(Y(t,n,i,r)&&(n=null),r||null===i?K(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}ee.hasOwnProperty("ReactCurrentDispatcher")||(ee.ReactCurrentDispatcher={current:null}),ee.hasOwnProperty("ReactCurrentBatchConfig")||(ee.ReactCurrentBatchConfig={suspense:null});var ne=/^(.*)[\\\/]/,re="function"===typeof Symbol&&Symbol.for,ie=re?Symbol.for("react.element"):60103,ae=re?Symbol.for("react.portal"):60106,oe=re?Symbol.for("react.fragment"):60107,se=re?Symbol.for("react.strict_mode"):60108,ue=re?Symbol.for("react.profiler"):60114,le=re?Symbol.for("react.provider"):60109,ce=re?Symbol.for("react.context"):60110,fe=re?Symbol.for("react.concurrent_mode"):60111,he=re?Symbol.for("react.forward_ref"):60112,de=re?Symbol.for("react.suspense"):60113,pe=re?Symbol.for("react.suspense_list"):60120,ge=re?Symbol.for("react.memo"):60115,me=re?Symbol.for("react.lazy"):60116,ve=re?Symbol.for("react.block"):60121,ye="function"===typeof Symbol&&Symbol.iterator;function _e(e){return null===e||"object"!==typeof e?null:(e=ye&&e[ye]||e["@@iterator"],"function"===typeof e?e:null)}function be(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}function xe(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case oe:return"Fragment";case ae:return"Portal";case ue:return"Profiler";case se:return"StrictMode";case de:return"Suspense";case pe:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ce:return"Context.Consumer";case le:return"Context.Provider";case he:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ge:return xe(e.type);case ve:return xe(e.render);case me:if(e=1===e._status?e._result:null)return xe(e)}return null}function we(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=xe(e.type);n=null,r&&(n=xe(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(ne,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function Se(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Te(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ee(e){var t=Te(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Me(e){e._valueTracker||(e._valueTracker=Ee(e))}function Ce(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Te(e)?e.checked?"true":"false":e.value),e=r,e!==n&&(t.setValue(e),!0)}function Ae(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Oe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Se(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function De(e,t){t=t.checked,null!=t&&te(e,"checked",t,!1)}function Pe(e,t){De(e,t);var n=Se(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ie(e,t.type,Se(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Le(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ie(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Re(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}function ke(e,t){return e=i({children:void 0},t),(t=Re(t.children))&&(e.children=t),e}function Ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Se(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Fe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Be(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Se(n)}}function ze(e,t){var n=Se(t.value),r=Se(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function je(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var He={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ve(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ge,We=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n,r,i)}))}:e}((function(e,t){if(e.namespaceURI!==He.svg||"innerHTML"in e)e.innerHTML=t;else{for(Ge=Ge||document.createElement("div"),Ge.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Xe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ke(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:Ke("Animation","AnimationEnd"),animationiteration:Ke("Animation","AnimationIteration"),animationstart:Ke("Animation","AnimationStart"),transitionend:Ke("Transition","TransitionEnd")},Ye={},Ze={};function $e(e){if(Ye[e])return Ye[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ze)return Ye[e]=n[t];return e}A&&(Ze=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Qe=$e("animationend"),Je=$e("animationiteration"),et=$e("animationstart"),tt=$e("transitionend"),nt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rt=new("function"===typeof WeakMap?WeakMap:Map);function it(e){var t=rt.get(e);return void 0===t&&(t=new Map,rt.set(e,t)),t}function at(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(1026&t.effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ot(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(e=e.alternate,null!==e&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function st(e){if(at(e)!==e)throw Error(o(188))}function ut(e){var t=e.alternate;if(!t){if(t=at(e),null===t)throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(r=i.return,null!==r){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return st(i),e;if(a===r)return st(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function lt(e){if(e=ut(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function ct(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ft(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ht=null;function dt(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function pt(e){if(null!==e&&(ht=ct(ht,e)),e=ht,ht=null,e){if(ft(e,dt),ht)throw Error(o(95));if(c)throw e=f,c=!1,f=null,e}}function gt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function mt(e){if(!A)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"===typeof t[e]),t}var vt=[];function yt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>vt.length&&vt.push(e)}function _t(e,t,n,r){if(vt.length){var i=vt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function bt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;t=n.tag,5!==t&&6!==t||e.ancestors.push(n),n=Hn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=gt(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,u=0;u<S.length;u++){var l=S[u];l&&(l=l.extractEvents(r,t,a,i,o))&&(s=ct(s,l))}pt(s)}}function xt(e,t,n){if(!n.has(e)){switch(e){case"scroll":rn(t,"scroll",!0);break;case"focus":case"blur":rn(t,"focus",!0),rn(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":mt(e)&&rn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===nt.indexOf(e)&&nn(e,t)}n.set(e,null)}}var wt,St,Tt,Et=!1,Mt=[],Ct=null,At=null,Ot=null,Dt=new Map,Pt=new Map,Lt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Rt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function kt(e,t){var n=it(t);It.forEach((function(e){xt(e,t,n)})),Rt.forEach((function(e){xt(e,t,n)}))}function Nt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ft(e,t){switch(e){case"focus":case"blur":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Bt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=Nt(t,n,r,i,a),null!==t&&(t=Un(t),null!==t&&St(t)),e):(e.eventSystemFlags|=r,e)}function zt(e,t,n,r,i){switch(t){case"focus":return Ct=Bt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Bt(At,e,t,n,r,i),!0;case"mouseover":return Ot=Bt(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Bt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Bt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}function jt(e){var t=Hn(e.target);if(null!==t){var n=at(t);if(null!==n)if(t=n.tag,13===t){if(t=ot(n),null!==t)return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){Tt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ht(e){if(null!==e.blockedOn)return!1;var t=un(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Un(t);return null!==n&&St(n),e.blockedOn=t,!1}return!0}function Ut(e,t,n){Ht(e)&&n.delete(t)}function Vt(){for(Et=!1;0<Mt.length;){var e=Mt[0];if(null!==e.blockedOn){e=Un(e.blockedOn),null!==e&&wt(e);break}var t=un(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Mt.shift()}null!==Ct&&Ht(Ct)&&(Ct=null),null!==At&&Ht(At)&&(At=null),null!==Ot&&Ht(Ot)&&(Ot=null),Dt.forEach(Ut),Pt.forEach(Ut)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Vt)))}function Wt(e){function t(t){return Gt(t,e)}if(0<Mt.length){Gt(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Gt(Ct,e),null!==At&&Gt(At,e),null!==Ot&&Gt(Ot,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Lt.length;n++)r=Lt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&(n=Lt[0],null===n.blockedOn);)jt(n),null===n.blockedOn&&Lt.shift()}var Xt={},Kt=new Map,qt=new Map,Yt=["abort","abort",Qe,"animationEnd",Je,"animationIteration",et,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",tt,"transitionEnd","waiting","waiting"];function Zt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},qt.set(r,t),Kt.set(r,a),Xt[i]=a}}Zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Zt(Yt,2);for(var $t="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Qt=0;Qt<$t.length;Qt++)qt.set($t[Qt],0);var Jt=a.unstable_UserBlockingPriority,en=a.unstable_runWithPriority,tn=!0;function nn(e,t){rn(t,e,!1)}function rn(e,t,n){var r=qt.get(t);switch(void 0===r?2:r){case 0:r=an.bind(null,t,1,e);break;case 1:r=on.bind(null,t,1,e);break;default:r=sn.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function an(e,t,n,r){z||F();var i=sn,a=z;z=!0;try{N(i,e,t,n,r)}finally{(z=a)||H()}}function on(e,t,n,r){en(Jt,sn.bind(null,e,t,n,r))}function sn(e,t,n,r){if(tn)if(0<Mt.length&&-1<It.indexOf(e))e=Nt(null,e,t,n,r),Mt.push(e);else{var i=un(e,t,n,r);if(null===i)Ft(e,r);else if(-1<It.indexOf(e))e=Nt(i,e,t,n,r),Mt.push(e);else if(!zt(i,e,t,n,r)){Ft(e,r),e=_t(e,r,null,t);try{U(bt,e)}finally{yt(e)}}}}function un(e,t,n,r){if(n=gt(r),n=Hn(n),null!==n){var i=at(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(n=ot(i),null!==n)return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=_t(e,r,n,t);try{U(bt,e)}finally{yt(e)}return null}var ln={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cn=["Webkit","ms","Moz","O"];function fn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ln.hasOwnProperty(e)&&ln[e]?(""+t).trim():t+"px"}function hn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=fn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ln).forEach((function(e){cn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ln[t]=ln[e]}))}));var dn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pn(e,t){if(t){if(dn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function gn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mn=He.html;function vn(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=it(e);t=M[t];for(var r=0;r<t.length;r++)xt(t[r],e,n)}function yn(){}function _n(e){if(e=e||("undefined"!==typeof document?document:void 0),"undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function bn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xn(e,t){var n,r=bn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bn(r)}}function wn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?wn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Sn(){for(var e=window,t=_n();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=t.contentWindow,t=_n(e.document)}return t}function Tn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var En="$",Mn="/$",Cn="$?",An="$!",On=null,Dn=null;function Pn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ln(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var In="function"===typeof setTimeout?setTimeout:void 0,Rn="function"===typeof clearTimeout?clearTimeout:void 0;function kn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Nn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===En||n===An||n===Cn){if(0===t)return e;t--}else n===Mn&&t++}e=e.previousSibling}return null}var Fn=Math.random().toString(36).slice(2),Bn="__reactInternalInstance$"+Fn,zn="__reactEventHandlers$"+Fn,jn="__reactContainere$"+Fn;function Hn(e){var t=e[Bn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jn]||n[Bn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Nn(e);null!==e;){if(n=e[Bn])return n;e=Nn(e)}return t}e=n,n=e.parentNode}return null}function Un(e){return e=e[Bn]||e[jn],!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Vn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Gn(e){return e[zn]||null}function Wn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Xn(e,t){var n=e.stateNode;if(!n)return null;var r=g(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Kn(e,t,n){(t=Xn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=ct(n._dispatchListeners,t),n._dispatchInstances=ct(n._dispatchInstances,e))}function qn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Wn(t);for(t=n.length;0<t--;)Kn(n[t],"captured",e);for(t=0;t<n.length;t++)Kn(n[t],"bubbled",e)}}function Yn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Xn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ct(n._dispatchListeners,t),n._dispatchInstances=ct(n._dispatchInstances,e))}function Zn(e){e&&e.dispatchConfig.registrationName&&Yn(e._targetInst,null,e)}function $n(e){ft(e,qn)}var Qn=null,Jn=null,er=null;function tr(){if(er)return er;var e,t,n=Jn,r=n.length,i="value"in Qn?Qn.value:Qn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return er=i.slice(e,1<t?1-t:void 0)}function nr(){return!0}function rr(){return!1}function ir(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface,e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?nr:rr,this.isPropagationStopped=rr,this}function ar(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function or(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function sr(e){e.eventPool=[],e.getPooled=ar,e.release=or}i(ir.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){this.isPersistent=nr},isPersistent:rr,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=rr,this._dispatchInstances=this._dispatchListeners=null}}),ir.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ir.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,sr(n),n},sr(ir);var ur=ir.extend({data:null}),lr=ir.extend({data:null}),cr=[9,13,27,32],fr=A&&"CompositionEvent"in window,hr=null;A&&"documentMode"in document&&(hr=document.documentMode);var dr=A&&"TextEvent"in window&&!hr,pr=A&&(!fr||hr&&8<hr&&11>=hr),gr=String.fromCharCode(32),mr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},vr=!1;function yr(e,t){switch(e){case"keyup":return-1!==cr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function _r(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}var br=!1;function xr(e,t){switch(e){case"compositionend":return _r(t);case"keypress":return 32!==t.which?null:(vr=!0,gr);case"textInput":return e=t.data,e===gr&&vr?null:e;default:return null}}function wr(e,t){if(br)return"compositionend"===e||!fr&&yr(e,t)?(e=tr(),er=Jn=Qn=null,br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pr&&"ko"!==t.locale?null:t.data;default:return null}}var Sr={eventTypes:mr,extractEvents:function(e,t,n,r){var i;if(fr)e:{switch(e){case"compositionstart":var a=mr.compositionStart;break e;case"compositionend":a=mr.compositionEnd;break e;case"compositionupdate":a=mr.compositionUpdate;break e}a=void 0}else br?yr(e,n)&&(a=mr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=mr.compositionStart);return a?(pr&&"ko"!==n.locale&&(br||a!==mr.compositionStart?a===mr.compositionEnd&&br&&(i=tr()):(Qn=r,Jn="value"in Qn?Qn.value:Qn.textContent,br=!0)),a=ur.getPooled(a,t,n,r),i?a.data=i:(i=_r(n),null!==i&&(a.data=i)),$n(a),i=a):i=null,(e=dr?xr(e,n):wr(e,n))?(t=lr.getPooled(mr.beforeInput,t,n,r),t.data=e,$n(t)):t=null,null===i?t:null===t?i:[i,t]}},Tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tr[e.type]:"textarea"===t}var Mr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Cr(e,t,n){return e=ir.getPooled(Mr.change,e,t,n),e.type="change",I(n),$n(e),e}var Ar=null,Or=null;function Dr(e){pt(e)}function Pr(e){var t=Vn(e);if(Ce(t))return e}function Lr(e,t){if("change"===e)return t}var Ir=!1;function Rr(){Ar&&(Ar.detachEvent("onpropertychange",kr),Or=Ar=null)}function kr(e){if("value"===e.propertyName&&Pr(Or))if(e=Cr(Or,e,gt(e)),z)pt(e);else{z=!0;try{k(Dr,e)}finally{z=!1,H()}}}function Nr(e,t,n){"focus"===e?(Rr(),Ar=t,Or=n,Ar.attachEvent("onpropertychange",kr)):"blur"===e&&Rr()}function Fr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Pr(Or)}function Br(e,t){if("click"===e)return Pr(t)}function zr(e,t){if("input"===e||"change"===e)return Pr(t)}A&&(Ir=mt("input")&&(!document.documentMode||9<document.documentMode));var jr={eventTypes:Mr,_isInputEventSupported:Ir,extractEvents:function(e,t,n,r){var i=t?Vn(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=Lr;else if(Er(i))if(Ir)o=zr;else{o=Fr;var s=Nr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Br);if(o&&(o=o(e,t)))return Cr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ie(i,"number",i.value)}},Hr=ir.extend({view:null,detail:null}),Ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ur[e])&&!!t[e]}function Gr(){return Vr}var Wr=0,Xr=0,Kr=!1,qr=!1,Yr=Hr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Gr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Wr;return Wr=e.screenX,Kr?"mousemove"===e.type?e.screenX-t:0:(Kr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Xr;return Xr=e.screenY,qr?"mousemove"===e.type?e.screenY-t:0:(qr=!0,0)}}),Zr=Yr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),$r={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qr={eventTypes:$r,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o){if(o=t,t=(t=n.relatedTarget||n.toElement)?Hn(t):null,null!==t){var s=at(t);(t!==s||5!==t.tag&&6!==t.tag)&&(t=null)}}else o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var u=Yr,l=$r.mouseLeave,c=$r.mouseEnter,f="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=Zr,l=$r.pointerLeave,c=$r.pointerEnter,f="pointer");if(e=null==o?a:Vn(o),a=null==t?a:Vn(t),l=u.getPooled(l,o,n,r),l.type=f+"leave",l.target=e,l.relatedTarget=a,n=u.getPooled(c,t,n,r),n.type=f+"enter",n.target=a,n.relatedTarget=e,r=o,f=t,r&&f)e:{for(u=r,c=f,o=0,e=u;e;e=Wn(e))o++;for(e=0,t=c;t;t=Wn(t))e++;for(;0<o-e;)u=Wn(u),o--;for(;0<e-o;)c=Wn(c),e--;for(;o--;){if(u===c||u===c.alternate)break e;u=Wn(u),c=Wn(c)}u=null}else u=null;for(c=u,u=[];r&&r!==c;){if(o=r.alternate,null!==o&&o===c)break;u.push(r),r=Wn(r)}for(r=[];f&&f!==c;){if(o=f.alternate,null!==o&&o===c)break;r.push(f),f=Wn(f)}for(f=0;f<u.length;f++)Yn(u[f],"bubbled",l);for(f=r.length;0<f--;)Yn(r[f],"captured",n);return 0===(64&i)?[l]:[l,n]}};function Jr(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var ei="function"===typeof Object.is?Object.is:Jr,ti=Object.prototype.hasOwnProperty;function ni(e,t){if(ei(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ti.call(t,n[r])||!ei(e[n[r]],t[n[r]]))return!1;return!0}var ri=A&&"documentMode"in document&&11>=document.documentMode,ii={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ai=null,oi=null,si=null,ui=!1;function li(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ui||null==ai||ai!==_n(n)?null:(n=ai,"selectionStart"in n&&Tn(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),si&&ni(si,n)?null:(si=n,e=ir.getPooled(ii.select,oi,e,t),e.type="select",e.target=ai,$n(e),e))}var ci={eventTypes:ii,extractEvents:function(e,t,n,r,i,a){if(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument),!(a=!i)){e:{i=it(i),a=M.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Vn(t):window,e){case"focus":(Er(i)||"true"===i.contentEditable)&&(ai=i,oi=t,si=null);break;case"blur":si=oi=ai=null;break;case"mousedown":ui=!0;break;case"contextmenu":case"mouseup":case"dragend":return ui=!1,li(n,r);case"selectionchange":if(ri)break;case"keydown":case"keyup":return li(n,r)}return null}},fi=ir.extend({animationName:null,elapsedTime:null,pseudoElement:null}),hi=ir.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),di=Hr.extend({relatedTarget:null});function pi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,10===e&&(e=13),32<=e||13===e?e:0}var gi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vi=Hr.extend({key:function(e){if(e.key){var t=gi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=pi(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?mi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Gr,charCode:function(e){return"keypress"===e.type?pi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?pi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),yi=Yr.extend({dataTransfer:null}),_i=Hr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Gr}),bi=ir.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),xi=Yr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),wi={eventTypes:Xt,extractEvents:function(e,t,n,r){var i=Kt.get(e);if(!i)return null;switch(e){case"keypress":if(0===pi(n))return null;case"keydown":case"keyup":e=vi;break;case"blur":case"focus":e=di;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Yr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=yi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=_i;break;case Qe:case Je:case et:e=fi;break;case tt:e=bi;break;case"scroll":e=Hr;break;case"wheel":e=xi;break;case"copy":case"cut":case"paste":e=hi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Zr;break;default:e=ir}return t=e.getPooled(i,t,n,r),$n(t),t}};if(_)throw Error(o(101));_=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x();var Si=Un;g=Gn,m=Si,v=Vn,C({SimpleEventPlugin:wi,EnterLeaveEventPlugin:Qr,ChangeEventPlugin:jr,SelectEventPlugin:ci,BeforeInputEventPlugin:Sr});var Ti=[],Ei=-1;function Mi(e){0>Ei||(e.current=Ti[Ei],Ti[Ei]=null,Ei--)}function Ci(e,t){Ei++,Ti[Ei]=e.current,e.current=t}var Ai={},Oi={current:Ai},Di={current:!1},Pi=Ai;function Li(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ii(e){return e=e.childContextTypes,null!==e&&void 0!==e}function Ri(){Mi(Di),Mi(Oi)}function ki(e,t,n){if(Oi.current!==Ai)throw Error(o(168));Ci(Oi,t),Ci(Di,n)}function Ni(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext(),r)if(!(a in e))throw Error(o(108,xe(t)||"Unknown",a));return i({},n,{},r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Pi=Oi.current,Ci(Oi,e),Ci(Di,Di.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ni(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Mi(Di),Mi(Oi),Ci(Oi,e)):Mi(Di),Ci(Di,n)}var zi=a.unstable_runWithPriority,ji=a.unstable_scheduleCallback,Hi=a.unstable_cancelCallback,Ui=a.unstable_requestPaint,Vi=a.unstable_now,Gi=a.unstable_getCurrentPriorityLevel,Wi=a.unstable_ImmediatePriority,Xi=a.unstable_UserBlockingPriority,Ki=a.unstable_NormalPriority,qi=a.unstable_LowPriority,Yi=a.unstable_IdlePriority,Zi={},$i=a.unstable_shouldYield,Qi=void 0!==Ui?Ui:function(){},Ji=null,ea=null,ta=!1,na=Vi(),ra=1e4>na?Vi:function(){return Vi()-na};function ia(){switch(Gi()){case Wi:return 99;case Xi:return 98;case Ki:return 97;case qi:return 96;case Yi:return 95;default:throw Error(o(332))}}function aa(e){switch(e){case 99:return Wi;case 98:return Xi;case 97:return Ki;case 96:return qi;case 95:return Yi;default:throw Error(o(332))}}function oa(e,t){return e=aa(e),zi(e,t)}function sa(e,t,n){return e=aa(e),ji(e,t,n)}function ua(e){return null===Ji?(Ji=[e],ea=ji(Wi,ca)):Ji.push(e),Zi}function la(){if(null!==ea){var e=ea;ea=null,Hi(e)}ca()}function ca(){if(!ta&&null!==Ji){ta=!0;var e=0;try{var t=Ji;oa(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ji=null}catch(n){throw null!==Ji&&(Ji=Ji.slice(e+1)),ji(Wi,la),n}finally{ta=!1}}}function fa(e,t,n){return n/=10,1073741821-(1+((1073741821-e+t/10)/n|0))*n}function ha(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps,e)void 0===t[n]&&(t[n]=e[n]);return t}var da={current:null},pa=null,ga=null,ma=null;function va(){ma=ga=pa=null}function ya(e){var t=da.current;Mi(da),e.type._context._currentValue=t}function _a(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ba(e,t){pa=e,ma=ga=null,e=e.dependencies,null!==e&&null!==e.firstContext&&(e.expirationTime>=t&&(qo=!0),e.firstContext=null)}function xa(e,t){if(ma!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ma=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ga){if(null===pa)throw Error(o(308));ga=t,pa.dependencies={expirationTime:0,firstContext:t,responders:null}}else ga=ga.next=t;return e._currentValue}var wa=!1;function Sa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Ta(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function Ea(e,t){return e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null},e.next=e}function Ma(e,t){if(e=e.updateQueue,null!==e){e=e.shared;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Ca(e,t){var n=e.alternate;null!==n&&Ta(n,e),e=e.updateQueue,n=e.baseQueue,null===n?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function Aa(e,t,n,r){var a=e.updateQueue;wa=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var u=o.next;o.next=s.next,s.next=u}o=s,a.shared.pending=null,u=e.alternate,null!==u&&(u=u.updateQueue,null!==u&&(u.baseQueue=s))}if(null!==o){u=o.next;var l=a.baseState,c=0,f=null,h=null,d=null;if(null!==u){var p=u;do{if(s=p.expirationTime,s<r){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=g,f=l):d=d.next=g,s>c&&(c=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Nu(s,p.suspenseConfig);e:{var m=e,v=p;switch(s=t,g=n,v.tag){case 1:if(m=v.payload,"function"===typeof m){l=m.call(g,l,s);break e}l=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(m=v.payload,s="function"===typeof m?m.call(g,l,s):m,null===s||void 0===s)break e;l=i({},l,s);break e;case 2:wa=!0}}null!==p.callback&&(e.effectTag|=32,s=a.effects,null===s?a.effects=[p]:s.push(p))}if(p=p.next,null===p||p===u){if(s=a.shared.pending,null===s)break;p=o.next=s.next,s.next=u,a.baseQueue=o=s,a.shared.pending=null}}while(1)}null===d?f=l:d.next=h,a.baseState=f,a.baseQueue=d,Fu(c),e.expirationTime=c,e.memoizedState=l}}function Oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var Da=ee.ReactCurrentBatchConfig,Pa=(new r.Component).refs;function La(e,t,n,r){t=e.memoizedState,n=n(r,t),n=null===n||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Ia={isMounted:function(e){return!!(e=e._reactInternalFiber)&&at(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=wu(),i=Da.suspense;r=Su(r,e,i),i=Ea(r,i),i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Ma(e,i),Tu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=wu(),i=Da.suspense;r=Su(r,e,i),i=Ea(r,i),i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Ma(e,i),Tu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=wu(),r=Da.suspense;n=Su(n,e,r),r=Ea(n,r),r.tag=2,void 0!==t&&null!==t&&(r.callback=t),Ma(e,r),Tu(e,n)}};function Ra(e,t,n,r,i,a,o){return e=e.stateNode,"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ni(n,r)||!ni(i,a))}function ka(e,t,n){var r=!1,i=Ai,a=t.contextType;return"object"===typeof a&&null!==a?a=xa(a):(i=Ii(t)?Pi:Oi.current,r=t.contextTypes,a=(r=null!==r&&void 0!==r)?Li(e,i):Ai),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ia,e.stateNode=t,t._reactInternalFiber=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Na(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ia.enqueueReplaceState(t,t.state,null)}function Fa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Pa,Sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=xa(a):(a=Ii(t)?Pi:Oi.current,i.context=Li(e,a)),Aa(e,n,i,r),i.state=e.memoizedState,a=t.getDerivedStateFromProps,"function"===typeof a&&(La(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ia.enqueueReplaceState(i,i.state,null),Aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ba=Array.isArray;function za(e,t,n){if(e=n.ref,null!==e&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner,n){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===Pa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ja(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ha(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return e=al(e,t),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?(r=t.alternate,null!==r?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n)):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?(t=ul(n,e.mode,r),t.return=e,t):(t=i(t,n),t.return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?(r=i(t,n.props),r.ref=za(e,t,n),r.return=e,r):(r=ol(n.type,n.key,n.props,null,e.mode,r),r.ref=za(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=ll(n,e.mode,r),t.return=e,t):(t=i(t,n.children||[]),t.return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?(t=sl(n,e.mode,r,a),t.return=e,t):(t=i(t,n),t.return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return t=ul(""+t,e.mode,n),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ie:return n=ol(t.type,t.key,t.props,null,e.mode,n),n.ref=za(e,null,t),n.return=e,n;case ae:return t=ll(t,e.mode,n),t.return=e,t}if(Ba(t)||_e(t))return t=sl(t,e.mode,n,null),t.return=e,t;ja(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ie:return n.key===i?n.type===oe?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case ae:return n.key===i?c(e,t,n,r):null}if(Ba(n)||_e(n))return null!==i?null:f(e,t,n,r,null);ja(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ie:return e=e.get(null===r.key?n:r.key)||null,r.type===oe?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case ae:return e=e.get(null===r.key?n:r.key)||null,c(t,e,r,i)}if(Ba(r)||_e(r))return e=e.get(n)||null,f(t,e,r,i,null);ja(t,r)}return null}function g(i,o,s,u){for(var l=null,c=null,f=o,g=o=0,m=null;null!==f&&g<s.length;g++){f.index>g?(m=f,f=null):m=f.sibling;var v=d(i,f,s[g],u);if(null===v){null===f&&(f=m);break}e&&f&&null===v.alternate&&t(i,f),o=a(v,o,g),null===c?l=v:c.sibling=v,c=v,f=m}if(g===s.length)return n(i,f),l;if(null===f){for(;g<s.length;g++)f=h(i,s[g],u),null!==f&&(o=a(f,o,g),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);g<s.length;g++)m=p(f,i,g,s[g],u),null!==m&&(e&&null!==m.alternate&&f.delete(null===m.key?g:m.key),o=a(m,o,g),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),l}function m(i,s,u,l){var c=_e(u);if("function"!==typeof c)throw Error(o(150));if(u=c.call(u),null==u)throw Error(o(151));for(var f=c=null,g=s,m=s=0,v=null,y=u.next();null!==g&&!y.done;m++,y=u.next()){g.index>m?(v=g,g=null):v=g.sibling;var _=d(i,g,y.value,l);if(null===_){null===g&&(g=v);break}e&&g&&null===_.alternate&&t(i,g),s=a(_,s,m),null===f?c=_:f.sibling=_,f=_,g=v}if(y.done)return n(i,g),c;if(null===g){for(;!y.done;m++,y=u.next())y=h(i,y.value,l),null!==y&&(s=a(y,s,m),null===f?c=y:f.sibling=y,f=y);return c}for(g=r(i,g);!y.done;m++,y=u.next())y=p(g,i,m,y.value,l),null!==y&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?c=y:f.sibling=y,f=y);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,r,a,u){var l="object"===typeof a&&null!==a&&a.type===oe&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case ie:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(a.type===oe){n(e,l.sibling),r=i(l,a.props.children),r.return=e,e=r;break e}break;default:if(l.elementType===a.type){n(e,l.sibling),r=i(l,a.props),r.ref=za(e,l,a),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}a.type===oe?(r=sl(a.props.children,e.mode,u,a.key),r.return=e,e=r):(u=ol(a.type,a.key,a.props,null,e.mode,u),u.ref=za(e,r,a),u.return=e,e=u)}return s(e);case ae:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),r=i(r,a.children||[]),r.return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}r=ll(a,e.mode,u),r.return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),r=i(r,a),r.return=e,e=r):(n(e,r),r=ul(a,e.mode,u),r.return=e,e=r),s(e);if(Ba(a))return g(e,r,a,u);if(_e(a))return m(e,r,a,u);if(c&&ja(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ua=Ha(!0),Va=Ha(!1),Ga={},Wa={current:Ga},Xa={current:Ga},Ka={current:Ga};function qa(e){if(e===Ga)throw Error(o(174));return e}function Ya(e,t){switch(Ci(Ka,t),Ci(Xa,e),Ci(Wa,Ga),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ve(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ve(t,e)}Mi(Wa),Ci(Wa,t)}function Za(){Mi(Wa),Mi(Xa),Mi(Ka)}function $a(e){qa(Ka.current);var t=qa(Wa.current),n=Ve(t,e.type);t!==n&&(Ci(Xa,e),Ci(Wa,n))}function Qa(e){Xa.current===e&&(Mi(Wa),Mi(Xa))}var Ja={current:0};function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||n.data===Cn||n.data===An))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function to(e,t){return{responder:e,props:t}}var no=ee.ReactCurrentDispatcher,ro=ee.ReactCurrentBatchConfig,io=0,ao=null,oo=null,so=null,uo=!1;function lo(){throw Error(o(321))}function co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ei(e[n],t[n]))return!1;return!0}function fo(e,t,n,r,i,a){if(io=a,ao=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,no.current=null===e||null===e.memoizedState?ko:No,e=n(r,i),t.expirationTime===io){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,so=oo=null,t.updateQueue=null,no.current=Fo,e=n(r,i)}while(t.expirationTime===io)}if(no.current=Ro,t=null!==oo&&null!==oo.next,io=0,so=oo=ao=null,uo=!1,t)throw Error(o(300));return e}function ho(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===so?ao.memoizedState=so=e:so=so.next=e,so}function po(){if(null===oo){var e=ao.alternate;e=null!==e?e.memoizedState:null}else e=oo.next;var t=null===so?ao.memoizedState:so.next;if(null!==t)so=t,oo=e;else{if(null===e)throw Error(o(310));oo=e,e={memoizedState:oo.memoizedState,baseState:oo.baseState,baseQueue:oo.baseQueue,queue:oo.queue,next:null},null===so?ao.memoizedState=so=e:so=so.next=e}return so}function go(e,t){return"function"===typeof t?t(e):t}function mo(e){var t=po(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=oo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,l=i;do{var c=l.expirationTime;if(c<io){var f={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,c>ao.expirationTime&&(ao.expirationTime=c,Fu(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),Nu(c,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===u?a=r:u.next=s,ei(r,t.memoizedState)||(qo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function vo(e){var t=po(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);ei(a,t.memoizedState)||(qo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function yo(e){var t=ho();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:go,lastRenderedState:e},e=e.dispatch=Io.bind(null,ao,e),[t.memoizedState,e]}function _o(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ao.updateQueue,null===t?(t={lastEffect:null},ao.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,null===n?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bo(){return po().memoizedState}function xo(e,t,n,r){var i=ho();ao.effectTag|=e,i.memoizedState=_o(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=po();r=void 0===r?null:r;var a=void 0;if(null!==oo){var o=oo.memoizedState;if(a=o.destroy,null!==r&&co(r,o.deps))return void _o(t,n,a,r)}ao.effectTag|=e,i.memoizedState=_o(1|t,n,a,r)}function So(e,t){return xo(516,4,e,t)}function To(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function Mo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Co(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Mo.bind(null,t,e),n)}function Ao(){}function Oo(e,t){return ho().memoizedState=[e,void 0===t?null:t],e}function Do(e,t){var n=po();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Po(e,t){var n=po();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Lo(e,t,n){var r=ia();oa(98>r?98:r,(function(){e(!0)})),oa(97<r?97:r,(function(){var r=ro.suspense;ro.suspense=void 0===t?null:t;try{e(!1),n()}finally{ro.suspense=r}}))}function Io(e,t,n){var r=wu(),i=Da.suspense;r=Su(r,e,i),i={expirationTime:r,suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===ao||null!==a&&a===ao)uo=!0,i.expirationTime=io,ao.expirationTime=io;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&(a=t.lastRenderedReducer,null!==a))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,ei(s,o))return}catch(u){}Tu(e,r)}}var Ro={readContext:xa,useCallback:lo,useContext:lo,useEffect:lo,useImperativeHandle:lo,useLayoutEffect:lo,useMemo:lo,useReducer:lo,useRef:lo,useState:lo,useDebugValue:lo,useResponder:lo,useDeferredValue:lo,useTransition:lo},ko={readContext:xa,useCallback:Oo,useContext:xa,useEffect:So,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xo(4,2,Mo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xo(4,2,e,t)},useMemo:function(e,t){var n=ho();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ho();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Io.bind(null,ao,e),[r.memoizedState,e]},useRef:function(e){var t=ho();return e={current:e},t.memoizedState=e},useState:yo,useDebugValue:Ao,useResponder:to,useDeferredValue:function(e,t){var n=yo(e),r=n[0],i=n[1];return So((function(){var n=ro.suspense;ro.suspense=void 0===t?null:t;try{i(e)}finally{ro.suspense=n}}),[e,t]),r},useTransition:function(e){var t=yo(!1),n=t[0];return t=t[1],[Oo(Lo.bind(null,t,e),[t,e]),n]}},No={readContext:xa,useCallback:Do,useContext:xa,useEffect:To,useImperativeHandle:Co,useLayoutEffect:Eo,useMemo:Po,useReducer:mo,useRef:bo,useState:function(){return mo(go)},useDebugValue:Ao,useResponder:to,useDeferredValue:function(e,t){var n=mo(go),r=n[0],i=n[1];return To((function(){var n=ro.suspense;ro.suspense=void 0===t?null:t;try{i(e)}finally{ro.suspense=n}}),[e,t]),r},useTransition:function(e){var t=mo(go),n=t[0];return t=t[1],[Do(Lo.bind(null,t,e),[t,e]),n]}},Fo={readContext:xa,useCallback:Do,useContext:xa,useEffect:To,useImperativeHandle:Co,useLayoutEffect:Eo,useMemo:Po,useReducer:vo,useRef:bo,useState:function(){return vo(go)},useDebugValue:Ao,useResponder:to,useDeferredValue:function(e,t){var n=vo(go),r=n[0],i=n[1];return To((function(){var n=ro.suspense;ro.suspense=void 0===t?null:t;try{i(e)}finally{ro.suspense=n}}),[e,t]),r},useTransition:function(e){var t=vo(go),n=t[0];return t=t[1],[Do(Lo.bind(null,t,e),[t,e]),n]}},Bo=null,zo=null,jo=!1;function Ho(e,t){var n=nl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Uo(e,t){switch(e.tag){case 5:var n=e.type;return t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,null!==t&&(e.stateNode=t,!0);case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,!0);case 13:return!1;default:return!1}}function Vo(e){if(jo){var t=zo;if(t){var n=t;if(!Uo(e,t)){if(t=kn(n.nextSibling),!t||!Uo(e,t))return e.effectTag=-1025&e.effectTag|2,jo=!1,void(Bo=e);Ho(Bo,n)}Bo=e,zo=kn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,jo=!1,Bo=e}}function Go(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Wo(e){if(e!==Bo)return!1;if(!jo)return Go(e),jo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ln(t,e.memoizedProps))for(t=zo;t;)Ho(e,t),t=kn(t.nextSibling);if(Go(e),13===e.tag){if(e=e.memoizedState,e=null!==e?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Mn){if(0===t){zo=kn(e.nextSibling);break e}t--}else n!==En&&n!==An&&n!==Cn||t++}e=e.nextSibling}zo=null}}else zo=Bo?kn(e.stateNode.nextSibling):null;return!0}function Xo(){zo=Bo=null,jo=!1}var Ko=ee.ReactCurrentOwner,qo=!1;function Yo(e,t,n,r){t.child=null===e?Va(t,null,n,r):Ua(t,e.child,n,r)}function Zo(e,t,n,r,i){n=n.render;var a=t.ref;return ba(t,i),r=fo(e,t,n,r,a,i),null===e||qo?(t.effectTag|=1,Yo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ds(e,t,i))}function $o(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||rl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=ol(n.type,null,r,null,t.mode,a),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Qo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,n=n.compare,n=null!==n?n:ni,n(i,r)&&e.ref===t.ref)?ds(e,t,a):(t.effectTag|=1,e=al(o,r),e.ref=t.ref,e.return=t,t.child=e)}function Qo(e,t,n,r,i,a){return null!==e&&ni(e.memoizedProps,r)&&e.ref===t.ref&&(qo=!1,i<a)?(t.expirationTime=e.expirationTime,ds(e,t,a)):es(e,t,n,r,a)}function Jo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function es(e,t,n,r,i){var a=Ii(n)?Pi:Oi.current;return a=Li(t,a),ba(t,i),n=fo(e,t,n,r,a,i),null===e||qo?(t.effectTag|=1,Yo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ds(e,t,i))}function ts(e,t,n,r,i){if(Ii(n)){var a=!0;Fi(t)}else a=!1;if(ba(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ka(t,n,r),Fa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=xa(l):(l=Ii(n)?Pi:Oi.current,l=Li(t,l));var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Na(t,o,r,l),wa=!1;var h=t.memoizedState;o.state=h,Aa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Di.current||wa?("function"===typeof c&&(La(t,n,c,r),u=t.memoizedState),(s=wa||Ra(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,Ta(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:ha(t.type,s),u=o.context,l=n.contextType,"object"===typeof l&&null!==l?l=xa(l):(l=Ii(n)?Pi:Oi.current,l=Li(t,l)),c=n.getDerivedStateFromProps,(f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Na(t,o,r,l),wa=!1,u=t.memoizedState,o.state=u,Aa(t,r,o,i),h=t.memoizedState,s!==r||u!==h||Di.current||wa?("function"===typeof c&&(La(t,n,c,r),h=t.memoizedState),(c=wa||Ra(t,n,s,r,u,h,l))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return ns(e,t,n,r,a,i)}function ns(e,t,n,r,i,a){Jo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Bi(t,n,!1),ds(e,t,a);r=t.stateNode,Ko.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Ua(t,e.child,null,a),t.child=Ua(t,null,s,a)):Yo(e,t,s,a),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function rs(e){var t=e.stateNode;t.pendingContext?ki(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(e,t.context,!1),Ya(e,t.containerInfo)}var is,as,os,ss,us={dehydrated:null,retryTime:0};function ls(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Ja.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),Ci(Ja,1&o),null===e){if(void 0!==a.fallback&&Vo(t),s){if(s=a.fallback,a=sl(null,i,0,null),a.return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return n=sl(s,i,n,null),n.return=t,a.sibling=n,t.memoizedState=us,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Va(t,null,i,n)}if(null!==e.memoizedState){if(e=e.child,i=e.sibling,s){if(a=a.fallback,n=al(e,e.pendingProps),n.return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child,s!==e.child))for(n.child=s;null!==s;)s.return=n,s=s.sibling;return i=al(i,a),i.return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=us,t.child=n,i}return n=Ua(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,a=sl(null,i,0,null),a.return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return n=sl(s,i,n,null),n.return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=us,t.child=a,n}return t.memoizedState=null,t.child=Ua(t,e,a.children,n)}function cs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),_a(e.return,t)}function fs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Yo(e,t,r.children,n),r=Ja.current,0!==(2&r))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&cs(e,n);else if(19===e.tag)cs(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)e=n.alternate,null!==e&&null===eo(e)&&(i=n),n=n.sibling;n=i,null===n?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),fs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(e=i.alternate,null!==e&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}fs(t,!0,n,null,a,t.lastEffect);break;case"together":fs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ds(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Fu(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(e=t.child,n=al(e,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=al(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ps(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ii(t.type)&&Ri(),null;case 3:return Za(),Mi(Di),Mi(Oi),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Wo(t)||(t.effectTag|=4),as(t),null;case 5:Qa(t),n=qa(Ka.current);var a=t.type;if(null!==e&&null!=t.stateNode)os(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=qa(Wa.current),Wo(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[Bn]=t,r[zn]=s,a){case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(e=0;e<nt.length;e++)nn(nt[e],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"form":nn("reset",r),nn("submit",r);break;case"details":nn("toggle",r);break;case"input":Oe(r,s),nn("invalid",r),vn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nn("invalid",r),vn(n,"onChange");break;case"textarea":Be(r,s),nn("invalid",r),vn(n,"onChange")}for(var u in pn(a,s),e=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):E.hasOwnProperty(u)&&null!=l&&vn(n,u)}switch(a){case"input":Me(r),Le(r,s,!0);break;case"textarea":Me(r),je(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=yn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===mn&&(e=Ue(a)),e===mn?"script"===a?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(a,{is:r.is}):(e=u.createElement(a),"select"===a&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,a),e[Bn]=t,e[zn]=r,is(e,t,!1,!1),t.stateNode=e,u=gn(a,r),a){case"iframe":case"object":case"embed":nn("load",e),l=r;break;case"video":case"audio":for(l=0;l<nt.length;l++)nn(nt[l],e);l=r;break;case"source":nn("error",e),l=r;break;case"img":case"image":case"link":nn("error",e),nn("load",e),l=r;break;case"form":nn("reset",e),nn("submit",e),l=r;break;case"details":nn("toggle",e),l=r;break;case"input":Oe(e,r),l=Ae(e,r),nn("invalid",e),vn(n,"onChange");break;case"option":l=ke(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),nn("invalid",e),vn(n,"onChange");break;case"textarea":Be(e,r),l=Fe(e,r),nn("invalid",e),vn(n,"onChange");break;default:l=r}pn(a,l);var c=l;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?hn(e,f):"dangerouslySetInnerHTML"===s?(f=f?f.__html:void 0,null!=f&&We(e,f)):"children"===s?"string"===typeof f?("textarea"!==a||""!==f)&&Xe(e,f):"number"===typeof f&&Xe(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?null!=f&&vn(n,s):null!=f&&te(e,s,f,u))}switch(a){case"input":Me(e),Le(e,r,!1);break;case"textarea":Me(e),je(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Se(r.value));break;case"select":e.multiple=!!r.multiple,n=r.value,null!=n?Ne(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=yn)}Pn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)ss(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=qa(Ka.current),qa(Wa.current),Wo(t)?(n=t.stateNode,r=t.memoizedProps,n[Bn]=t,n.nodeValue!==r&&(t.effectTag|=4)):(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r),n[Bn]=t,t.stateNode=n)}return null;case 13:return Mi(Ja),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Wo(t):(a=e.memoizedState,r=null!==a,n||null===a||(a=e.child.sibling,null!==a&&(s=t.firstEffect,null!==s?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8))),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ja.current)?nu===Xs&&(nu=Ys):(nu!==Xs&&nu!==Ys||(nu=Zs),0!==su&&null!==Js&&(hl(Js,tu),dl(Js,su)))),(n||r)&&(t.effectTag|=4),null);case 4:return Za(),as(t),null;case 10:return ya(t),null;case 17:return Ii(t.type)&&Ri(),null;case 19:if(Mi(Ja),r=t.memoizedState,null===r)return null;if(a=0!==(64&t.effectTag),s=r.rendering,null===s){if(a)ps(r,!1);else if(nu!==Xs||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(e=eo(s),null!==e){for(t.effectTag|=64,ps(r,!1),a=e.updateQueue,null!==a&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)a=r,s=n,a.effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,e=a.alternate,null===e?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return Ci(Ja,1&Ja.current|2),t.child}s=s.sibling}}else{if(!a)if(e=eo(s),null!==e){if(t.effectTag|=64,a=!0,n=e.updateQueue,null!==n&&(t.updateQueue=n,t.effectTag|=4),ps(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return t=t.lastEffect=r.lastEffect,null!==t&&(t.nextEffect=null),null}else 2*ra()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,ps(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(n=r.last,null!==n?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ra()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ra(),n.sibling=null,t=Ja.current,Ci(Ja,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function ms(e){switch(e.tag){case 1:Ii(e.type)&&Ri();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Za(),Mi(Di),Mi(Oi),t=e.effectTag,0!==(64&t))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Qa(e),null;case 13:return Mi(Ja),t=e.effectTag,4096&t?(e.effectTag=-4097&t|64,e):null;case 19:return Mi(Ja),null;case 4:return Za(),null;case 10:return ya(e),null;default:return null}}function vs(e,t){return{value:e,source:t,stack:we(t)}}is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},as=function(){},os=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,u,l=t.stateNode;switch(qa(Wa.current),e=null,n){case"input":o=Ae(l,o),r=Ae(l,r),e=[];break;case"option":o=ke(l,o),r=ke(l,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Fe(l,o),r=Fe(l,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(l.onclick=yn)}for(s in pn(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in l=o[s],l)l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(l=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(s,c)):"children"===s?l===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(E.hasOwnProperty(s)?(null!=c&&vn(a,s),e||l===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},ss=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ys="function"===typeof WeakSet?WeakSet:Set;function _s(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=we(n)),null!==n&&xe(n.type),t=t.value,null!==e&&1===e.tag&&xe(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function bs(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Yu(e,n)}}function xs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Yu(e,n)}else t.current=null}function ws(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:ha(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function Ss(e,t){if(t=t.updateQueue,t=null!==t?t.lastEffect:null,null!==t){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Ts(e,t){if(t=t.updateQueue,t=null!==t?t.lastEffect:null,null!==t){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Es(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Ts(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:ha(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return t=n.updateQueue,void(null!==t&&Oa(n,t,e));case 3:if(t=n.updateQueue,null!==t){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Oa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Pn(n.type,n.memoizedProps)&&e.focus());case 6:return;case 4:return;case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Wt(n)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function Ms(e,t,n){switch("function"===typeof Ju&&Ju(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,null!==e&&(e=e.lastEffect,null!==e)){var r=e.next;oa(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Yu(i,a)}}e=e.next}while(e!==r)}))}break;case 1:xs(t),n=t.stateNode,"function"===typeof n.componentWillUnmount&&bs(t,n);break;case 5:xs(t);break;case 4:Ls(e,t,n)}}function Cs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&Cs(t)}function As(e){return 5===e.tag||3===e.tag||4===e.tag}function Os(e){e:{for(var t=e.return;null!==t;){if(As(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Xe(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||As(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?Ds(e,n,t):Ps(e,n,t)}function Ds(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==t.onclick||(t.onclick=yn));else if(4!==r&&(e=e.child,null!==e))for(Ds(e,t,n),e=e.sibling;null!==e;)Ds(e,t,n),e=e.sibling}function Ps(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(e=e.child,null!==e))for(Ps(e,t,n),e=e.sibling;null!==e;)Ps(e,t,n),e=e.sibling}function Ls(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:r=r.containerInfo,i=!0;break e;case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,l=a,c=n,f=l;;)if(Ms(u,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===l)break e;for(;null===f.sibling;){if(null===f.return||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,l=a.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(Ms(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return,4===a.tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ss(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[zn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&De(n,r),gn(e,i),t=gn(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?hn(n,u):"dangerouslySetInnerHTML"===s?We(n,u):"children"===s?Xe(n,u):te(n,s,u,t)}switch(e){case"input":Pe(n,r);break;case"textarea":ze(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,e=r.value,null!=e?Ne(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ne(n,!!r.multiple,r.defaultValue,!0):Ne(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return t=t.stateNode,void(t.hydrate&&(t.hydrate=!1,Wt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,lu=ra()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?(a=a.style,"function"===typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(a=e.stateNode,i=e.memoizedProps.style,i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=fn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){a=e.child.sibling,a.return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void Rs(t);case 19:return void Rs(t);case 17:return}throw Error(o(163))}function Rs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ys),t.forEach((function(t){var r=$u.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ks="function"===typeof WeakMap?WeakMap:Map;function Ns(e,t,n){n=Ea(n,null),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hu||(hu=!0,du=r),_s(e,t)},n}function Fs(e,t,n){n=Ea(n,null),n.tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return _s(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===pu?pu=new Set([this]):pu.add(this),_s(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Bs,zs=Math.ceil,js=ee.ReactCurrentDispatcher,Hs=ee.ReactCurrentOwner,Us=0,Vs=8,Gs=16,Ws=32,Xs=0,Ks=1,qs=2,Ys=3,Zs=4,$s=5,Qs=Us,Js=null,eu=null,tu=0,nu=Xs,ru=null,iu=1073741823,au=1073741823,ou=null,su=0,uu=!1,lu=0,cu=500,fu=null,hu=!1,du=null,pu=null,gu=!1,mu=null,vu=90,yu=null,_u=0,bu=null,xu=0;function wu(){return(Qs&(Gs|Ws))!==Us?1073741821-(ra()/10|0):0!==xu?xu:xu=1073741821-(ra()/10|0)}function Su(e,t,n){if(t=t.mode,0===(2&t))return 1073741823;var r=ia();if(0===(4&t))return 99===r?1073741823:1073741822;if((Qs&Gs)!==Us)return tu;if(null!==n)e=fa(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=fa(e,150,100);break;case 97:case 96:e=fa(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Js&&e===tu&&--e,e}function Tu(e,t){if(50<_u)throw _u=0,bu=null,Error(o(185));if(e=Eu(e,t),null!==e){var n=ia();1073741823===t?(Qs&Vs)!==Us&&(Qs&(Gs|Ws))===Us?Ou(e):(Cu(e),Qs===Us&&la()):Cu(e),(4&Qs)===Us||98!==n&&99!==n||(null===yu?yu=new Map([[e,t]]):(n=yu.get(e),(void 0===n||n>t)&&yu.set(e,t)))}}function Eu(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Js===i&&(Fu(t),nu===Zs&&hl(i,tu)),dl(i,t)),i}function Mu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(t=e.firstPendingTime,!fl(e,t))return t;var n=e.lastPingedTime;return e=e.nextKnownPendingLevel,e=n>e?n:e,2>=e&&t!==e?0:e}function Cu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=ua(Ou.bind(null,e));else{var t=Mu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=wu();if(1073741823===t?r=99:1===t||2===t?r=95:(r=10*(1073741821-t)-10*(1073741821-r),r=0>=r?99:250>=r?98:5250>=r?97:95),null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Zi&&Hi(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?ua(Ou.bind(null,e)):sa(r,Au.bind(null,e),{timeout:10*(1073741821-t)-ra()}),e.callbackNode=t}}}function Au(e,t){if(xu=0,t)return t=wu(),pl(e,t),Cu(e),null;var n=Mu(e);if(0!==n){if(t=e.callbackNode,(Qs&(Gs|Ws))!==Us)throw Error(o(327));if(Xu(),e===Js&&n===tu||Iu(e,n),null!==eu){var r=Qs;Qs|=Gs;var i=ku();do{try{zu();break}catch(u){Ru(e,u)}}while(1);if(va(),Qs=r,js.current=i,nu===Ks)throw t=ru,Iu(e,n),hl(e,n),Cu(e),t;if(null===eu)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=nu,Js=null,r){case Xs:case Ks:throw Error(o(345));case qs:pl(e,2<n?2:n);break;case Ys:if(hl(e,n),r=e.lastSuspendedTime,n===r&&(e.nextKnownPendingLevel=Uu(i)),1073741823===iu&&(i=lu+cu-ra(),10<i)){if(uu){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,Iu(e,n);break}}if(a=Mu(e),0!==a&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=In(Vu.bind(null,e),i);break}Vu(e);break;case Zs:if(hl(e,n),r=e.lastSuspendedTime,n===r&&(e.nextKnownPendingLevel=Uu(i)),uu&&(i=e.lastPingedTime,0===i||i>=n)){e.lastPingedTime=n,Iu(e,n);break}if(i=Mu(e),0!==i&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==au?r=10*(1073741821-au)-ra():1073741823===iu?r=0:(r=10*(1073741821-iu)-5e3,i=ra(),n=10*(1073741821-n)-i,r=i-r,0>r&&(r=0),r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zs(r/1960))-r,n<r&&(r=n)),10<r){e.timeoutHandle=In(Vu.bind(null,e),r);break}Vu(e);break;case $s:if(1073741823!==iu&&null!==ou){a=iu;var s=ou;if(r=0|s.busyMinDurationMs,0>=r?r=0:(i=0|s.busyDelayMs,a=ra()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)),r=a<=i?0:i+r-a),10<r){hl(e,n),e.timeoutHandle=In(Vu.bind(null,e),r);break}}Vu(e);break;default:throw Error(o(329))}if(Cu(e),e.callbackNode===t)return Au.bind(null,e)}}return null}function Ou(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Qs&(Gs|Ws))!==Us)throw Error(o(327));if(Xu(),e===Js&&t===tu||Iu(e,t),null!==eu){var n=Qs;Qs|=Gs;var r=ku();do{try{Bu();break}catch(i){Ru(e,i)}}while(1);if(va(),Qs=n,js.current=r,nu===Ks)throw n=ru,Iu(e,t),hl(e,t),Cu(e),n;if(null!==eu)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Js=null,Vu(e),Cu(e)}return null}function Du(){if(null!==yu){var e=yu;yu=null,e.forEach((function(e,t){pl(t,e),Cu(t)})),la()}}function Pu(e,t){var n=Qs;Qs|=1;try{return e(t)}finally{Qs=n,Qs===Us&&la()}}function Lu(e,t){var n=Qs;Qs&=-2,Qs|=Vs;try{return e(t)}finally{Qs=n,Qs===Us&&la()}}function Iu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Rn(n)),null!==eu)for(n=eu.return;null!==n;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,null!==r&&void 0!==r&&Ri();break;case 3:Za(),Mi(Di),Mi(Oi);break;case 5:Qa(r);break;case 4:Za();break;case 13:Mi(Ja);break;case 19:Mi(Ja);break;case 10:ya(r)}n=n.return}Js=e,eu=al(e.current,null),tu=t,nu=Xs,ru=null,au=iu=1073741823,ou=null,su=0,uu=!1}function Ru(e,t){do{try{if(va(),no.current=Ro,uo)for(var n=ao.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(io=0,so=oo=ao=null,uo=!1,null===eu||null===eu.return)return nu=Ks,ru=t,eu=null;e:{var i=e,a=eu.return,o=eu,s=t;if(t=tu,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&o.mode)){var l=o.alternate;l?(o.updateQueue=l.updateQueue,o.memoizedState=l.memoizedState,o.expirationTime=l.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var c=0!==(1&Ja.current),f=a;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(h){var g=f.updateQueue;if(null===g){var m=new Set;m.add(u),f.updateQueue=m}else g.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=Ea(1073741823,null);v.tag=2,Ma(o,v)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new ks,s=new Set,y.set(u,s)):(s=y.get(u),void 0===s&&(s=new Set,y.set(u,s))),!s.has(o)){s.add(o);var _=Zu.bind(null,i,u,o);u.then(_,_)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((xe(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+we(o))}nu!==$s&&(nu=qs),s=vs(s,o),f=a;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t;var b=Ns(f,u,t);Ca(f,b);break e;case 1:u=s;var x=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===pu||!pu.has(w)))){f.effectTag|=4096,f.expirationTime=t;var S=Fs(f,u,t);Ca(f,S);break e}}f=f.return}while(null!==f)}eu=Hu(eu)}catch(T){t=T;continue}break}while(1)}function ku(){var e=js.current;return js.current=Ro,null===e?Ro:e}function Nu(e,t){e<iu&&2<e&&(iu=e),null!==t&&e<au&&2<e&&(au=e,ou=t)}function Fu(e){e>su&&(su=e)}function Bu(){for(;null!==eu;)eu=ju(eu)}function zu(){for(;null!==eu&&!$i();)eu=ju(eu)}function ju(e){var t=Bs(e.alternate,e,tu);return e.memoizedProps=e.pendingProps,null===t&&(t=Hu(e)),Hs.current=null,t}function Hu(e){eu=e;do{var t=eu.alternate;if(e=eu.return,0===(2048&eu.effectTag)){if(t=gs(t,eu,tu),1===tu||1!==eu.childExpirationTime){for(var n=0,r=eu.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}eu.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=eu.firstEffect),null!==eu.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=eu.firstEffect),e.lastEffect=eu.lastEffect),1<eu.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=eu:e.firstEffect=eu,e.lastEffect=eu))}else{if(t=ms(eu),null!==t)return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(t=eu.sibling,null!==t)return t;eu=e}while(null!==eu);return nu===Xs&&(nu=$s),null}function Uu(e){var t=e.expirationTime;return e=e.childExpirationTime,t>e?t:e}function Vu(e){var t=ia();return oa(99,Gu.bind(null,e,t)),null}function Gu(e,t){do{Xu()}while(null!==mu);if((Qs&(Gs|Ws))!==Us)throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Uu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Js&&(eu=Js=null,tu=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Qs;Qs|=Ws,Hs.current=null,On=tn;var s=Sn();if(Tn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var l=u.getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{u.nodeType,f.nodeType}catch(M){u=null;break e}var h=0,d=-1,p=-1,g=0,m=0,v=s,y=null;t:for(;;){for(var _;;){if(v!==u||0!==c&&3!==v.nodeType||(d=h+c),v!==f||0!==l&&3!==v.nodeType||(p=h+l),3===v.nodeType&&(h+=v.nodeValue.length),null===(_=v.firstChild))break;y=v,v=_}for(;;){if(v===s)break t;if(y===u&&++g===c&&(d=h),y===f&&++m===l&&(p=h),null!==(_=v.nextSibling))break;v=y,y=v.parentNode}v=_}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;Dn={activeElementDetached:null,focusedElem:s,selectionRange:u},tn=!1,fu=i;do{try{Wu()}catch(M){if(null===fu)throw Error(o(330));Yu(fu,M),fu=fu.nextEffect}}while(null!==fu);fu=i;do{try{for(s=e,u=t;null!==fu;){var b=fu.effectTag;if(16&b&&Xe(fu.stateNode,""),128&b){var x=fu.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:Os(fu),fu.effectTag&=-3;break;case 6:Os(fu),fu.effectTag&=-3,Is(fu.alternate,fu);break;case 1024:fu.effectTag&=-1025;break;case 1028:fu.effectTag&=-1025,Is(fu.alternate,fu);break;case 4:Is(fu.alternate,fu);break;case 8:c=fu,Ls(s,c,u),Cs(c)}fu=fu.nextEffect}}catch(M){if(null===fu)throw Error(o(330));Yu(fu,M),fu=fu.nextEffect}}while(null!==fu);if(w=Dn,x=Sn(),b=w.focusedElem,u=w.selectionRange,x!==b&&b&&b.ownerDocument&&wn(b.ownerDocument.documentElement,b)){null!==u&&Tn(b)&&(x=u.start,w=u.end,void 0===w&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window,w.getSelection&&(w=w.getSelection(),c=b.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!w.extend&&s>u&&(c=u,u=s,s=c),c=xn(b,s),f=xn(b,u),c&&f&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==f.node||w.focusOffset!==f.offset)&&(x=x.createRange(),x.setStart(c.node,c.offset),w.removeAllRanges(),s>u?(w.addRange(x),w.extend(f.node,f.offset)):(x.setEnd(f.node,f.offset),w.addRange(x)))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)w=x[b],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}tn=!!On,Dn=On=null,e.current=n,fu=i;do{try{for(b=e;null!==fu;){var S=fu.effectTag;if(36&S&&Es(b,fu.alternate,fu),128&S){x=void 0;var T=fu.ref;if(null!==T){var E=fu.stateNode;switch(fu.tag){case 5:x=E;break;default:x=E}"function"===typeof T?T(x):T.current=x}}fu=fu.nextEffect}}catch(M){if(null===fu)throw Error(o(330));Yu(fu,M),fu=fu.nextEffect}}while(null!==fu);fu=null,Qi(),Qs=a}else e.current=n;if(gu)gu=!1,mu=e,vu=t;else for(fu=i;null!==fu;)t=fu.nextEffect,fu.nextEffect=null,fu=t;if(t=e.firstPendingTime,0===t&&(pu=null),1073741823===t?e===bu?_u++:(_u=0,bu=e):_u=0,"function"===typeof Qu&&Qu(n.stateNode,r),Cu(e),hu)throw hu=!1,e=du,du=null,e;return(Qs&Vs)!==Us||la(),null}function Wu(){for(;null!==fu;){var e=fu.effectTag;0!==(256&e)&&ws(fu.alternate,fu),0===(512&e)||gu||(gu=!0,sa(97,(function(){return Xu(),null}))),fu=fu.nextEffect}}function Xu(){if(90!==vu){var e=97<vu?97:vu;return vu=90,oa(e,Ku)}}function Ku(){if(null===mu)return!1;var e=mu;if(mu=null,(Qs&(Gs|Ws))!==Us)throw Error(o(331));var t=Qs;for(Qs|=Ws,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Ss(5,n),Ts(5,n)}}catch(r){if(null===e)throw Error(o(330));Yu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Qs=t,la(),!0}function qu(e,t,n){t=vs(n,t),t=Ns(e,t,1073741823),Ma(e,t),e=Eu(e,1073741823),null!==e&&Cu(e)}function Yu(e,t){if(3===e.tag)qu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){qu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===pu||!pu.has(r))){e=vs(t,e),e=Fs(n,e,1073741823),Ma(n,e),n=Eu(n,1073741823),null!==n&&Cu(n);break}}n=n.return}}function Zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Js===e&&tu===n?nu===Zs||nu===Ys&&1073741823===iu&&ra()-lu<cu?Iu(e,tu):uu=!0:fl(e,n)&&(t=e.lastPingedTime,0!==t&&t<n||(e.lastPingedTime=n,Cu(e)))}function $u(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=0,0===t&&(t=wu(),t=Su(t,e,null)),e=Eu(e,t),null!==e&&Cu(e)}Bs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Di.current)qo=!0;else{if(r<n){switch(qo=!1,t.tag){case 3:rs(t),Xo();break;case 5:if($a(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Ii(t.type)&&Fi(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,Ci(da,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return r=t.child.childExpirationTime,0!==r&&r>=n?ls(e,t,n):(Ci(Ja,1&Ja.current),t=ds(e,t,n),null!==t?t.sibling:null);Ci(Ja,1&Ja.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return hs(e,t,n);t.effectTag|=64}if(i=t.memoizedState,null!==i&&(i.rendering=null,i.tail=null),Ci(Ja,Ja.current),!r)return null}return ds(e,t,n)}qo=!1}}else qo=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Li(t,Oi.current),ba(t,n),i=fo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)){var a=!0;Fi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Sa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&La(t,r,s,e),i.updater=Ia,t.stateNode=i,i._reactInternalFiber=t,Fa(t,r,e,n),t=ns(null,t,r,!0,a,n)}else t.tag=0,Yo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,be(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=il(i),e=ha(i,e),a){case 0:t=es(null,t,i,e,n);break e;case 1:t=ts(null,t,i,e,n);break e;case 11:t=Zo(null,t,i,e,n);break e;case 14:t=$o(null,t,i,ha(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ha(r,i),es(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ha(r,i),ts(e,t,r,i,n);case 3:if(rs(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=t.memoizedState,i=null!==i?i.element:null,Ta(e,t),Aa(t,r,null,n),r=t.memoizedState.element,r===i)Xo(),t=ds(e,t,n);else{if((i=t.stateNode.hydrate)&&(zo=kn(t.stateNode.containerInfo.firstChild),Bo=t,i=jo=!0),i)for(n=Va(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Yo(e,t,r,n),Xo();t=t.child}return t;case 5:return $a(t),null===e&&Vo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Ln(r,i)?s=null:null!==a&&Ln(r,a)&&(t.effectTag|=16),Jo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Yo(e,t,s,n),t=t.child),t;case 6:return null===e&&Vo(t),null;case 13:return ls(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ua(t,null,r,n):Yo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ha(r,i),Zo(e,t,r,i,n);case 7:return Yo(e,t,t.pendingProps,n),t.child;case 8:return Yo(e,t,t.pendingProps.children,n),t.child;case 12:return Yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(Ci(da,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,a=ei(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823),0===a){if(s.children===i.children&&!Di.current){t=ds(e,t,n);break e}}else for(u=t.child,null!==u&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===u.tag&&(c=Ea(n,null),c.tag=2,Ma(u,c)),u.expirationTime<n&&(u.expirationTime=n),c=u.alternate,null!==c&&c.expirationTime<n&&(c.expirationTime=n),_a(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(u=s.sibling,null!==u){u.return=s.return,s=u;break}s=s.return}u=s}Yo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps,r=a.children,ba(t,n),i=xa(i,a.unstable_observedBits),r=r(i),t.effectTag|=1,Yo(e,t,r,n),t.child;case 14:return i=t.type,a=ha(i,t.pendingProps),a=ha(i.type,a),$o(e,t,i,a,r,n);case 15:return Qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ha(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Ii(r)?(e=!0,Fi(t)):e=!1,ba(t,n),ka(t,r,i),Fa(t,r,i,n),ns(null,t,r,!0,e,n);case 19:return hs(e,t,n)}throw Error(o(156,t.tag))};var Qu=null,Ju=null;function el(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Qu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Ju=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}return!0}function tl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function nl(e,t,n,r){return new tl(e,t,n,r)}function rl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function il(e){if("function"===typeof e)return rl(e)?1:0;if(void 0!==e&&null!==e){if(e=e.$$typeof,e===he)return 11;if(e===ge)return 14}return 2}function al(e,t){var n=e.alternate;return null===n?(n=nl(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ol(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)rl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case oe:return sl(n.children,i,a,t);case fe:s=8,i|=7;break;case se:s=8,i|=1;break;case ue:return e=nl(12,n,t,8|i),e.elementType=ue,e.type=ue,e.expirationTime=a,e;case de:return e=nl(13,n,t,i),e.type=de,e.elementType=de,e.expirationTime=a,e;case pe:return e=nl(19,n,t,i),e.elementType=pe,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case le:s=10;break e;case ce:s=9;break e;case he:s=11;break e;case ge:s=14;break e;case me:s=16,r=null;break e;case ve:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return t=nl(s,n,t,i),t.elementType=e,t.type=r,t.expirationTime=a,t}function sl(e,t,n,r){return e=nl(7,e,r,t),e.expirationTime=n,e}function ul(e,t,n){return e=nl(6,e,null,t),e.expirationTime=n,e}function ll(e,t,n){return t=nl(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function fl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function hl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function dl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function pl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function gl(e,t,n,r){var i=t.current,a=wu(),s=Da.suspense;a=Su(a,i,s);e:if(n){n=n._reactInternalFiber;t:{if(at(n)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Ii(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var l=n.type;if(Ii(l)){n=Ni(n,l,u);break e}}n=u}else n=Ai;return null===t.context?t.context=n:t.pendingContext=n,t=Ea(a,s),t.payload={element:e},r=void 0===r?null:r,null!==r&&(t.callback=r),Ma(i,t),Tu(i,a),a}function ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vl(e,t){e=e.memoizedState,null!==e&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function yl(e,t){vl(e,t),(e=e.alternate)&&vl(e,t)}function _l(e,t,n){n=null!=n&&!0===n.hydrate;var r=new cl(e,t,n),i=nl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,Sa(i),e[jn]=r.current,n&&0!==t&&kt(e,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function bl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function xl(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new _l(e,0,t?{hydrate:!0}:void 0)}function wl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ml(o);s.call(e)}}gl(t,o,e,i)}else{if(a=n._reactRootContainer=xl(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ml(o);u.call(e)}}Lu((function(){gl(t,o,e,i)}))}return ml(o)}function Sl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ae,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Tl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!bl(t))throw Error(o(200));return Sl(e,t,null,n)}_l.prototype.render=function(e){gl(e,this._internalRoot,null,null)},_l.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;gl(null,e,null,(function(){t[jn]=null}))},wt=function(e){if(13===e.tag){var t=fa(wu(),150,100);Tu(e,t),yl(e,t)}},St=function(e){13===e.tag&&(Tu(e,3),yl(e,3))},Tt=function(e){if(13===e.tag){var t=wu();t=Su(t,e,null),Tu(e,t),yl(e,t)}},O=function(e,t,n){switch(t){case"input":if(Pe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Gn(r);if(!i)throw Error(o(90));Ce(r),Pe(r,i)}}}break;case"textarea":ze(e,n);break;case"select":t=n.value,null!=t&&Ne(e,!!n.multiple,t,!1)}},k=Pu,N=function(e,t,n,r,i){var a=Qs;Qs|=4;try{return oa(98,e.bind(null,t,n,r,i))}finally{Qs=a,Qs===Us&&la()}},F=function(){(Qs&(1|Gs|Ws))===Us&&(Du(),Xu())},B=function(e,t){var n=Qs;Qs|=2;try{return e(t)}finally{Qs=n,Qs===Us&&la()}};var El={Events:[Un,Vn,Gn,C,T,$n,function(e){ft(e,Zn)},I,R,sn,pt,Xu,{current:!1}]};(function(e){var t=e.findFiberByHostInstance;el(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lt(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Hn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=El,t.createPortal=Tl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=lt(t),e=null===e?null:e.stateNode,e},t.flushSync=function(e,t){if((Qs&(Gs|Ws))!==Us)throw Error(o(187));var n=Qs;Qs|=1;try{return oa(99,e.bind(null,t))}finally{Qs=n,la()}},t.hydrate=function(e,t,n){if(!bl(t))throw Error(o(200));return wl(null,e,t,!0,n)},t.render=function(e,t,n){if(!bl(t))throw Error(o(200));return wl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!bl(e))throw Error(o(40));return!!e._reactRootContainer&&(Lu((function(){wl(null,null,e,!1,(function(){e._reactRootContainer=null,e[jn]=null}))})),!0)},t.unstable_batchedUpdates=Pu,t.unstable_createPortal=function(e,t){return Tl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bl(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return wl(e,t,n,!1,r)},t.version="16.14.0"},ovrx:function(e,t,n){},p21n:function(e,t){},"pMf/":function(e,t,n){var r=n("2JD6"),i=n("7+LC"),a=n("9HG5"),o=n("Wp5u").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},pYsg:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("40mc"),s=n("YjHi"),u=n("Ji6T");r({target:"Map",proto:!0,real:!0,forced:i},{some:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e,n){if(r(n,e,t))return u.stop()}),void 0,!0,!0).stopped}})},plly:function(e,t,n){"use strict";var r=n("Hiyu"),i=n("JY8B"),a=n("NVMI"),o=n("2I03"),s=n("2RC6").f;r&&!("lastItem"in[])&&(s(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=a(this),t=o(e.length);return 0==t?void 0:e[t-1]},set:function(e){var t=a(this),n=o(t.length);return t[0==n?0:n-1]=e}}),i("lastItem"))},pthC:function(e,t,n){"use strict";var r=n("HIsA"),i=n("0MLT"),a=n("uCRN");r({target:"Promise",stat:!0},{try:function(e){var t=i.f(this),n=a(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},pxmn:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},q0Qw:function(e,t,n){var r=n("G4R5"),i=n("stff"),a=n("bWCM"),o=n("pxmn"),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=a(null)};s.prototype.get=function(e,t){return this[e]||(this[e]=t())},s.prototype.next=function(e,t,n){var a=n?this.objectsByIndex[e]||(this.objectsByIndex[e]=new i):this.primitives||(this.primitives=new r),o=a.get(t);return o||a.set(t,o=new s),o};var u=new s;e.exports=function(){var e,t,n=u,r=arguments.length;for(e=0;e<r;e++)o(t=arguments[e])&&(n=n.next(e,t,!0));if(this===Object&&n===u)throw TypeError("Composite keys must contain a non-primitive component");for(e=0;e<r;e++)o(t=arguments[e])||(n=n.next(e,t,!1));return n}},q3Pu:function(e,t,n){var r=n("HIsA"),i=n("icJ8"),a=n("hXyk"),o=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{metadata:function(e,t){return function(n,r){s(e,t,a(n),o(r))}}})},q3YX:function(e){e.exports=JSON.parse('{"menus":{"en-US":{"*":[{"path":"/","title":"ECharts for React - \u5168\u7f51\u6700\u597d\u7528\u7684 ECharts \u7684 React \u7ec4\u4ef6\u5c01\u88c5","meta":{"order":10}}],"/examples":[{"path":"/examples/simple","title":"Simple","meta":{"order":1}},{"path":"/examples/api","title":"ECharts API","meta":{"order":2}},{"path":"/examples/theme","title":"Theme","meta":{"order":3}},{"path":"/examples/event","title":"Event","meta":{"order":4}},{"path":"/examples/loading","title":"Loading","meta":{"order":5}},{"path":"/examples/dynamic","title":"Dynamic","meta":{"order":6}},{"path":"/examples/gl","title":"Web GL","meta":{"order":7}},{"path":"/examples/svg","title":"SVG","meta":{"order":8}},{"path":"/examples/graph","title":"Graph","meta":{"order":9}}]}},"locales":[{"name":"en-US","label":"English"}],"navs":{"en-US":[{"path":"/examples","title":"Examples"},{"title":"\u5728\u7ebf\u6587\u6863","path":"https://github.com/hustcc/echarts-for-react"},{"title":"GitHub","path":"https://github.com/hustcc/echarts-for-react"}]},"title":"\\b","logo":"https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/zh/images/logo.png?_v_=20200710_1","mode":"site","repository":{"url":"https://github.com/hustcc/echarts-for-react","branch":"master"},"theme":{}}')},"q5+0":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return R})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return H})),n.d(t,"g",(function(){return U})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return I})),n.d(t,"j",(function(){return W})),n.d(t,"k",(function(){return X})),n.d(t,"l",(function(){return K})),n.d(t,"m",(function(){return q})),n.d(t,"n",(function(){return V}));var r=n("HMkG"),i=n("xwgP"),a=n.n(i),o=(n("EH+i"),n("HFu6")),s=n("9A8K"),u=n("AKk7"),l=n("a1z2"),c=n("8idk"),f=n.n(c),h=(n("2kiq"),n("LDy6")),d=n("QIG3"),p=n.n(d),g=function(e){var t=Object(s["a"])();return t.displayName=e,t},m=g("Router-History"),v=function(e){var t=Object(s["a"])();return t.displayName=e,t},y=v("Router"),_=function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r["a"])(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return a.a.createElement(y.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.a.createElement(m.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.a.Component);var b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t.history=Object(o["d"])(t.props),t}Object(r["a"])(t,e);var n=t.prototype;return n.render=function(){return a.a.createElement(_,{history:this.history,children:this.props.children})},t}(a.a.Component);var x=function(e){function t(){return e.apply(this,arguments)||this}Object(r["a"])(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(a.a.Component);function w(e){var t=e.message,n=e.when,r=void 0===n||n;return a.a.createElement(y.Consumer,null,(function(e){if(e||Object(u["a"])(!1),!r||e.staticContext)return null;var n=e.history.block;return a.a.createElement(x,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var S={},T=1e4,E=0;function M(e){if(S[e])return S[e];var t=f.a.compile(e);return E<T&&(S[e]=t,E++),t}function C(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:M(e)(t,{pretty:!0})}function A(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return a.a.createElement(y.Consumer,null,(function(e){e||Object(u["a"])(!1);var r=e.history,s=e.staticContext,c=i?r.push:r.replace,f=Object(o["c"])(t?"string"===typeof n?C(n,t.params):Object(l["a"])({},n,{pathname:C(n.pathname,t.params)}):n);return s?(c(f),null):a.a.createElement(x,{onMount:function(){c(f)},onUpdate:function(e,t){var n=Object(o["c"])(t.to);Object(o["f"])(n,Object(l["a"])({},f,{key:n.key}))||c(f)},to:n})}))}var O={},D=1e4,P=0;function L(e,t){var n=""+t.end+t.strict+t.sensitive,r=O[n]||(O[n]={});if(r[e])return r[e];var i=[],a=f()(e,i,t),o={regexp:a,keys:i};return P<D&&(r[e]=o,P++),o}function I(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,l=void 0!==u&&u,c=[].concat(r);return c.reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=L(n,{end:a,strict:s,sensitive:l}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var c=u[0],f=u.slice(1),h=e===c;return a&&!h?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var R=function(e){function t(){return e.apply(this,arguments)||this}Object(r["a"])(t,e);var n=t.prototype;return n.render=function(){var e=this;return a.a.createElement(y.Consumer,null,(function(t){t||Object(u["a"])(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?I(n.pathname,e.props):t.match,i=Object(l["a"])({},t,{location:n,match:r}),o=e.props,s=o.children,c=o.component,f=o.render;return Array.isArray(s)&&0===s.length&&(s=null),a.a.createElement(y.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:c?a.a.createElement(c,i):f?f(i):null:"function"===typeof s?s(i):null)}))},t}(a.a.Component);function k(e){return"/"===e.charAt(0)?e:"/"+e}function N(e,t){return e?Object(l["a"])({},t,{pathname:k(e)+t.pathname}):t}function F(e,t){if(!e)return t;var n=k(e);return 0!==t.pathname.indexOf(n)?t:Object(l["a"])({},t,{pathname:t.pathname.substr(n.length)})}function B(e){return"string"===typeof e?e:Object(o["e"])(e)}function z(e){return function(){Object(u["a"])(!1)}}function j(){}var H=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t.handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return j},t.handleBlock=function(){return j},t}Object(r["a"])(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,a=n.context,s=void 0===a?{}:a;s.action=t,s.location=N(i,Object(o["c"])(e)),s.url=B(s.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,i=void 0===r?{}:r,s=e.location,u=void 0===s?"/":s,c=Object(h["a"])(e,["basename","context","location"]),f={createHref:function(e){return k(n+B(e))},action:"POP",location:F(n,Object(o["c"])(u)),push:this.handlePush,replace:this.handleReplace,go:z("go"),goBack:z("goBack"),goForward:z("goForward"),listen:this.handleListen,block:this.handleBlock};return a.a.createElement(_,Object(l["a"])({},c,{history:f,staticContext:i}))},t}(a.a.Component);var U=function(e){function t(){return e.apply(this,arguments)||this}Object(r["a"])(t,e);var n=t.prototype;return n.render=function(){var e=this;return a.a.createElement(y.Consumer,null,(function(t){t||Object(u["a"])(!1);var n,r,i=e.props.location||t.location;return a.a.Children.forEach(e.props.children,(function(e){if(null==r&&a.a.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?I(i.pathname,Object(l["a"])({},e.props,{path:o})):t.match}})),r?a.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(a.a.Component);function V(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(h["a"])(t,["wrappedComponentRef"]);return a.a.createElement(y.Consumer,null,(function(t){return t||Object(u["a"])(!1),a.a.createElement(e,Object(l["a"])({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,p()(n,e)}var G=a.a.useContext;function W(){return G(m)}function X(){return G(y).location}function K(){var e=G(y).match;return e?e.params:{}}function q(e){var t=X(),n=G(y).match;return e?I(t.pathname,e):n}},qDpf:function(e,t,n){var r=n("1agv"),i=n("pxmn"),a=n("+qhb"),o=n("2RC6").f,s=n("fotI"),u=n("ZL/h"),l=s("meta"),c=0,f=Object.isExtensible||function(){return!0},h=function(e){o(e,l,{value:{objectID:"O"+ ++c,weakData:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,l)){if(!f(e))return"F";if(!t)return"E";h(e)}return e[l].objectID},p=function(e,t){if(!a(e,l)){if(!f(e))return!0;if(!t)return!1;h(e)}return e[l].weakData},g=function(e){return u&&m.REQUIRED&&f(e)&&!a(e,l)&&h(e),e},m=e.exports={REQUIRED:!1,fastKey:d,getWeakData:p,onFreeze:g};r[l]=!0},"qa/l":function(e,t,n){"use strict";var r=n("HIsA");r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},qesp:function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},qmtO:function(e,t,n){var r=n("Hiyu"),i=n("73Ew"),a=n("OLna"),o=n("2hCa"),s=n("n2ef"),u=n("+qhb"),l=n("IDl8"),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(n){}if(u(e,t))return a(!i.f.call(e,t),e[t])}},qoFA:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("40mc"),s=n("wKMT"),u=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{every:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return!u(n,(function(e){if(!r(e,e,t))return u.stop()}),void 0,!1,!0).stopped}})},qrga:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},qsB9:function(e,t,n){var r=n("HIsA"),i=Math.PI/180;r({target:"Math",stat:!0},{radians:function(e){return e*i}})},qya5:function(e,t,n){var r=n("QD/U");r("Array")},r4Zb:function(e,t,n){var r=n("2JD6"),i=n("Bktt"),a=n("oTOb"),o=n("D8FR"),s=n("kPvK"),u=s("iterator"),l=s("toStringTag"),c=a.values;for(var f in i){var h=r[f],d=h&&h.prototype;if(d){if(d[u]!==c)try{o(d,u,c)}catch(g){d[u]=c}if(d[l]||o(d,l,f),i[f])for(var p in a)if(d[p]!==a[p])try{o(d,p,a[p])}catch(g){d[p]=a[p]}}}},r73t:function(e,t,n){"use strict";var r=n("masK"),i=n("qDpf").getWeakData,a=n("hXyk"),o=n("pxmn"),s=n("xOST"),u=n("Ji6T"),l=n("Xf1w"),c=n("+qhb"),f=n("twJ5"),h=f.set,d=f.getterFor,p=l.find,g=l.findIndex,m=0,v=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},_=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};y.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var n=_(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,l){var f=e((function(e,r){s(e,f,t),h(e,{type:t,id:m++,frozen:void 0}),void 0!=r&&u(r,e[l],e,n)})),p=d(t),g=function(e,t,n){var r=p(e),o=i(a(t),!0);return!0===o?v(r).set(t,n):o[r.id]=n,e};return r(f.prototype,{delete:function(e){var t=p(this);if(!o(e))return!1;var n=i(e);return!0===n?v(t)["delete"](e):n&&c(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!o(e))return!1;var n=i(e);return!0===n?v(t).has(e):n&&c(n,t.id)}}),r(f.prototype,n?{get:function(e){var t=p(this);if(o(e)){var n=i(e);return!0===n?v(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),f}}},rKDr:function(e,t,n){var r=n("HIsA"),i=n("NNlX"),a=n("icJ8"),o=n("hXyk"),s=n("kI7s"),u=n("Ji6T"),l=a.keys,c=a.toKey,f=function(e){var t=[];return u(e,t.push,t),t},h=function(e,t){var n=l(e,t),r=s(e);if(null===r)return n;var a=h(r,t);return a.length?n.length?f(new i(n.concat(a))):a:n};r({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var t=arguments.length<2?void 0:c(arguments[1]);return h(o(e),t)}})},rLG7:function(e,t,n){"use strict";var r=n("HIsA"),i=n("Hiyu"),a=n("12fA"),o=n("NVMI"),s=n("n2ef"),u=n("kI7s"),l=n("qmtO").f;i&&r({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,n=o(this),r=s(e,!0);do{if(t=l(n,r))return t.set}while(n=u(n))}})},rXtS:function(e,t,n){"use strict";var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.target,r=void 0===n?document.body:n,i=document.createElement("textarea"),a=document.activeElement;i.value=e,i.setAttribute("readonly",""),i.style.contain="strict",i.style.position="absolute",i.style.left="-9999px",i.style.fontSize="12pt";var o=document.getSelection(),s=!1;o.rangeCount>0&&(s=o.getRangeAt(0)),r.append(i),i.select(),i.selectionStart=0,i.selectionEnd=e.length;var u=!1;try{u=document.execCommand("copy")}catch(l){}return i.remove(),s&&(o.removeAllRanges(),o.addRange(s)),a&&a.focus(),u};e.exports=r,e.exports["default"]=r},rcF6:function(e,t,n){var r=n("HIsA");r({target:"Math",stat:!0},{signbit:function(e){return(e=+e)==e&&0==e?1/e==-1/0:e<0}})},riWr:function(e,t,n){var r=n("2JD6"),i=n("pxmn"),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},rrU6:function(e,t,n){"use strict";n.r(t);var r=n("xwgP"),i=n.n(r),a=n("kvV8"),o=n("lBQG"),s=i.a.memo(n("Rsk4").default["svg-demo"].component);t["default"]=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"svg"},i.a.createElement(a["AnchorLink"],{to:"#svg","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:["icon","icon-link"]})),"SVG")),i.a.createElement(o["default"],n("Rsk4").default["svg-demo"].previewerProps,i.a.createElement(s,null))))}},sDKr:function(e,t,n){var r=n("HIsA"),i=n("2JD6"),a=n("vYQ8"),o=!i.setImmediate||!i.clearImmediate;r({global:!0,bind:!0,enumerable:!0,forced:o},{setImmediate:a.set,clearImmediate:a.clear})},sJYe:function(e,t,n){e.exports=n("tEmt")},sMrD:function(e,t,n){var r=n("bVFb");r("replace")},sTDl:function(e,t,n){"use strict";var r=n("HIsA"),i=n("Ra/9").includes,a=n("JY8B"),o=n("/5yA"),s=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},sTX5:function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n},sqIH:function(e,t,n){"use strict";n("41ra");var r=n("GUTS"),i=n("7+LC"),a=n("kPvK"),o=n("UTnC"),s=n("D8FR"),u=a("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),f=a("replace"),h=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),d=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var p=a(e),g=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),m=g&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!g||!m||"replace"===e&&(!l||!c||h)||"split"===e&&!d){var v=/./[p],y=n(p,""[e],(function(e,t,n,r,i){return t.exec===o?g&&!i?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),_=y[0],b=y[1];r(String.prototype,e,_),r(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}f&&s(RegExp.prototype[p],"sham",!0)}},stff:function(e,t,n){"use strict";var r,i=n("2JD6"),a=n("masK"),o=n("qDpf"),s=n("ghbW"),u=n("r73t"),l=n("pxmn"),c=n("twJ5").enforce,f=n("YE/S"),h=!i.ActiveXObject&&"ActiveXObject"in i,d=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=e.exports=s("WeakMap",p,u);if(f&&h){r=u.getConstructor(p,"WeakMap",!0),o.REQUIRED=!0;var m=g.prototype,v=m["delete"],y=m.has,_=m.get,b=m.set;a(m,{delete:function(e){if(l(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),v.call(this,e)||t.frozen["delete"](e)}return v.call(this,e)},has:function(e){if(l(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),y.call(this,e)||t.frozen.has(e)}return y.call(this,e)},get:function(e){if(l(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),y.call(this,e)?_.call(this,e):t.frozen.get(e)}return _.call(this,e)},set:function(e,t){if(l(e)&&!d(e)){var n=c(this);n.frozen||(n.frozen=new r),y.call(this,e)?b.call(this,e,t):n.frozen.set(e,t)}else b.call(this,e,t);return this}})}},swIl:function(e,t,n){"use strict";(function(e){var r,i=n("fvmE"),a={supportWebGL:function(){if(null==r)try{var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)throw new Error}catch(n){r=!1}return r}};a.Int8Array="undefined"===typeof Int8Array?Array:Int8Array,a.Uint8Array="undefined"===typeof Uint8Array?Array:Uint8Array,a.Uint16Array="undefined"===typeof Uint16Array?Array:Uint16Array,a.Uint32Array="undefined"===typeof Uint32Array?Array:Uint32Array,a.Int16Array="undefined"===typeof Int16Array?Array:Int16Array,a.Float32Array="undefined"===typeof Float32Array?Array:Float32Array,a.Float64Array="undefined"===typeof Float64Array?Array:Float64Array;var o={};"undefined"!==typeof window?o=window:"undefined"!==typeof e&&(o=e),a.requestAnimationFrame=o.requestAnimationFrame||o.msRequestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||function(e){setTimeout(e,16)},a.createCanvas=function(){return document.createElement("canvas")},a.createImage=function(){return new o.Image},a.request={get:i["a"].get},a.addEventListener=function(e,t,n,r){e.addEventListener(t,n,r)},a.removeEventListener=function(e,t,n){e.removeEventListener(t,n)},t["a"]=a}).call(this,n("UywP"))},szjD:function(e,t,n){var r=n("6tTE"),i=n("GPbW"),a=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},t0cd:function(e,t,n){var r=n("2JD6"),i=n("wQ+q").trim,a=n("/Izz"),o=r.parseInt,s=/^[+-]?0[Xx]/,u=8!==o(a+"08")||22!==o(a+"0x16");e.exports=u?function(e,t){var n=i(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},tB8F:function(e,t,n){"use strict";n.r(t);n("892e"),n("ClHO"),n("oDub"),n("8rjF"),n("W6v+"),n("FLIr"),n("sMrD"),n("MOrU"),n("B7jn"),n("J6EZ"),n("tgv4"),n("idQS"),n("tPuD"),n("hLzx"),n("27OL"),n("I5Nx"),n("horb"),n("/llE"),n("mODz"),n("sTDl"),n("7LRl"),n("oTOb"),n("auPx"),n("LuuT"),n("F4Qn"),n("8g5g"),n("CG2G"),n("d62z"),n("1Je0"),n("CNWJ"),n("qya5"),n("6mmk"),n("DnHg"),n("hv/N"),n("PlQJ"),n("He07"),n("o9qH"),n("esEm"),n("G4R5"),n("Uadk"),n("9Vf9"),n("FT/y"),n("tpE2"),n("IKXP"),n("8Jzd"),n("/P+o"),n("nsiD"),n("wdlL"),n("nMhH"),n("v4S0"),n("o1AR"),n("rLG7"),n("4YzK"),n("1XUj"),n("7Q2v"),n("4Rd9"),n("+eKy"),n("OXHO"),n("xlmz"),n("NA9k"),n("HC6C"),n("NNlX"),n("FFjv"),n("kKrw"),n("9OO5"),n("knnx"),n("iY6v"),n("Xp9m"),n("nPP+"),n("DXpG"),n("uyFV"),n("bbTr"),n("ZPal"),n("hIhI"),n("trzq"),n("+4Yi"),n("H++4"),n("0Brq"),n("Qf+e"),n("gla0"),n("PR8p"),n("kRmj"),n("2Dhz"),n("zZgq"),n("8wsV"),n("GboX"),n("G7GF"),n("w7rW"),n("stff"),n("Gcgh"),n("gS7u"),n("dXt2"),n("plly"),n("iqln"),n("jiNi"),n("+noq"),n("S6jd"),n("o0xK"),n("V8i+"),n("5Au7"),n("jAXh"),n("Y22F"),n("Hx2v"),n("CWx7"),n("Tphk"),n("GP7J"),n("aNCL"),n("EC/F"),n("Hr9Q"),n("c2jp"),n("Y0Ny"),n("pYsg"),n("/p+0"),n("X260"),n("+3Ak"),n("h6PP"),n("PF9H"),n("D2hf"),n("Xwir"),n("L1c7"),n("Mi4E"),n("qsB9"),n("0Uim"),n("IU95"),n("rcF6"),n("cCpg"),n("+3y3"),n("+7Kl"),n("4e8G"),n("xUzk"),n("pthC"),n("SCzs"),n("UqPo"),n("2x2d"),n("rKDr"),n("bL85"),n("nufT"),n("H7G2"),n("DeDD"),n("q3Pu"),n("br1d"),n("9Ywa"),n("oFyO"),n("qoFA"),n("waKi"),n("kh0G"),n("zcJV"),n("vn/D"),n("mTX6"),n("3i2j"),n("7Kf9"),n("zM5O"),n("ZcxN"),n("IXhw"),n("iKoX"),n("R6vp"),n("mlmj"),n("XxnP"),n("FmLo"),n("lBFn"),n("+G+T"),n("HQcF"),n("aK5P"),n("Pj+0"),n("YAei"),n("v8az"),n("Xk3x"),n("g+uz"),n("EMzR"),n("3fYz"),n("JENe"),n("bG4S"),n("CLo7"),n("r4Zb"),n("sDKr"),n("u2e+"),n("8al2"),n("qa/l"),n("w3Dd"),n("tEmt");var r=n("bCY9"),i=(n("9Ihz"),n("FfOG")),a=n("CU0g"),o=n("8kSY");function s(){var e=[{path:"/~demos/:uuid",layout:!1,wrappers:[n("MR8S").default],component:e=>{var t=n("xwgP"),r=n("jDiR").default(e);switch(r.length){case 1:return r[0];case 2:return t.createElement(n("lBQG").default,r[0],r[1]);default:return"Demo ".concat(uuid," not found :(")}}},{path:"/_demos/:uuid",redirect:"/~demos/:uuid"},{__dumiRoot:!0,layout:!1,path:"/",wrappers:[n("MR8S").default,n("7GOV").default],routes:[{path:"/",component:n("F+kV").default,exact:!0,meta:{filePath:"docs/index.md",updatedTime:1612692239e3,title:"ECharts for React - \u5168\u7f51\u6700\u597d\u7528\u7684 ECharts \u7684 React \u7ec4\u4ef6\u5c01\u88c5",order:10,hero:{title:"ECharts for React",desc:'<div class="markdown"><p>\u5168\u7f51\u6700\u597d\u7528\u7684 ECharts \u7684 React \u7ec4\u4ef6\u5c01\u88c5</p></div>',actions:[{text:"\u5728\u7ebf\u5b9e\u4f8b",link:"/examples/dynamic"},{text:"\u5f00\u6e90\u5730\u5740",link:"https://github.com/hustcc/echarts-for-react"}]},footer:'<div class="markdown"><p>Open-source MIT Licensed | Copyright \xa9 2021-present</p></div>',slugs:[{depth:2,value:"\u5b89\u88c5",heading:"\u5b89\u88c5"},{depth:2,value:"\u4f7f\u7528",heading:"\u4f7f\u7528"},{depth:2,value:"\u53cd\u9988",heading:"\u53cd\u9988"}]},title:"ECharts for React - \u5168\u7f51\u6700\u597d\u7528\u7684 ECharts \u7684 React \u7ec4\u4ef6\u5c01\u88c5"},{path:"/examples/api",component:n("jnx3").default,exact:!0,meta:{filePath:"docs/examples/api.md",updatedTime:1612692239e3,title:"ECharts API",order:2,slugs:[{depth:2,value:"ECharts API",heading:"echarts-api"}],nav:{path:"/examples",title:"Examples"}},title:"ECharts API"},{path:"/examples/dynamic",component:n("3/xt").default,exact:!0,meta:{filePath:"docs/examples/dynamic.md",updatedTime:1612692239e3,title:"Dynamic",order:6,slugs:[{depth:2,value:"Dynamic",heading:"dynamic"}],nav:{path:"/examples",title:"Examples"}},title:"Dynamic"},{path:"/examples/event",component:n("Vq5P").default,exact:!0,meta:{filePath:"docs/examples/event.md",updatedTime:1612692239e3,title:"Event",order:4,slugs:[{depth:2,value:"Event",heading:"event"}],nav:{path:"/examples",title:"Examples"}},title:"Event"},{path:"/examples/gl",component:n("mVYA").default,exact:!0,meta:{filePath:"docs/examples/gl.md",updatedTime:1612692239e3,title:"Web GL",order:7,slugs:[{depth:2,value:"Web GL",heading:"web-gl"}],nav:{path:"/examples",title:"Examples"}},title:"Web GL"},{path:"/examples/graph",component:n("QwcI").default,exact:!0,meta:{filePath:"docs/examples/graph.md",updatedTime:1612692239e3,title:"Graph",order:9,slugs:[{depth:2,value:"Graph",heading:"graph"}],nav:{path:"/examples",title:"Examples"}},title:"Graph"},{path:"/examples/loading",component:n("ij3K").default,exact:!0,meta:{filePath:"docs/examples/loading.md",updatedTime:1612692239e3,title:"Loading",order:5,slugs:[{depth:2,value:"Loading",heading:"loading"}],nav:{path:"/examples",title:"Examples"}},title:"Loading"},{path:"/examples/simple",component:n("CRiW").default,exact:!0,meta:{filePath:"docs/examples/simple.md",updatedTime:1612692239e3,title:"Simple",order:1,slugs:[{depth:2,value:"\u7b80\u5355\u5806\u79ef\u9762\u79ef\u56fe",heading:"\u7b80\u5355\u5806\u79ef\u9762\u79ef\u56fe"}],nav:{path:"/examples",title:"Examples"}},title:"Simple"},{path:"/examples/svg",component:n("rrU6").default,exact:!0,meta:{filePath:"docs/examples/svg.md",updatedTime:1612692239e3,title:"SVG",order:8,slugs:[{depth:2,value:"SVG",heading:"svg"}],nav:{path:"/examples",title:"Examples"}},title:"SVG"},{path:"/examples/theme",component:n("iPOA").default,exact:!0,meta:{filePath:"docs/examples/theme.md",updatedTime:1612692239e3,title:"Theme",order:3,slugs:[{depth:2,value:"Theme",heading:"theme"}],nav:{path:"/examples",title:"Examples"}},title:"Theme"},{path:"/examples",meta:{},exact:!0,redirect:"/examples/simple"}],title:"\b",component:e=>e.children}];return r["a"].applyPlugins({key:"patchRoutes",type:a["ApplyPluginsType"].event,args:{routes:e}}),e}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].applyPlugins({key:"render",type:a["ApplyPluginsType"].compose,initialValue:()=>{var t=r["a"].applyPlugins({key:"modifyClientRenderOpts",type:a["ApplyPluginsType"].modify,initialValue:{routes:e.routes||s(),plugin:r["a"],history:Object(i["a"])(e.hot),isServer:Object({NODE_ENV:"production"}).__IS_SERVER,rootElement:"root",defaultTitle:"\b"}});return Object(o["renderClient"])(t)},args:e})},l=u();t["default"]=l();window.g_umi={version:"3.3.7"}},tEmt:function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=T(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var c="suspendedStart",f="suspendedYield",h="executing",d="completed",p={};function g(){}function m(){}function v(){}var y={};y[a]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(O([])));b&&b!==n&&r.call(b,a)&&(y=b);var x=v.prototype=g.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;function a(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}this._invoke=a}function T(e,t,n){var r=c;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw a;return D()}n.method=i,n.arg=a;while(1){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?d:f,u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function O(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:D}}function D(){return{value:t,done:!0}}return m.prototype=x.constructor=v,v.constructor=m,v[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},w(S.prototype),S.prototype[o]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(x),x[s]="Generator",x[a]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},tGsd:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},tNTM:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,"a",(function(){return r}))},tPuD:function(e,t,n){"use strict";var r=n("HIsA"),i=n("7+LC"),a=n("dOdC"),o=n("pxmn"),s=n("NVMI"),u=n("2I03"),l=n("G70G"),c=n("HKEF"),f=n("HqdE"),h=n("kPvK"),d=n("9ZTU"),p=h("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=d>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),y=f("concat"),_=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)},b=!v||!y;r({target:"Array",proto:!0,forced:b},{concat:function(e){var t,n,r,i,a,o=s(this),f=c(o,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?o:arguments[t],_(a)){if(i=u(a.length),h+i>g)throw TypeError(m);for(n=0;n<i;n++,h++)n in a&&l(f,h,a[n])}else{if(h>=g)throw TypeError(m);l(f,h++,a)}return f.length=h,f}})},"tg/3":function(e,t,n){var r=n("KpHK"),i=n("mAbK"),a=n("kPvK"),o=a("iterator");e.exports=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},tgv4:function(e,t,n){var r=n("bVFb");r("toPrimitive")},tpE2:function(e,t,n){var r=n("HIsA"),i=n("hLNC");r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},trzq:function(e,t,n){var r=n("JqKL");r("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},twJ5:function(e,t,n){var r,i,a,o=n("YE/S"),s=n("2JD6"),u=n("pxmn"),l=n("D8FR"),c=n("+qhb"),f=n("fbKl"),h=n("1agv"),d=s.WeakMap,p=function(e){return a(e)?i(e):r(e,{})},g=function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(o){var m=new d,v=m.get,y=m.has,_=m.set;r=function(e,t){return _.call(m,e,t),t},i=function(e){return v.call(m,e)||{}},a=function(e){return y.call(m,e)}}else{var b=f("state");h[b]=!0,r=function(e,t){return l(e,b,t),t},i=function(e){return c(e,b)?e[b]:{}},a=function(e){return c(e,b)}}e.exports={set:r,get:i,has:a,enforce:p,getterFor:g}},"u2e+":function(e,t,n){var r=n("HIsA"),i=n("2JD6"),a=n("I67C"),o=n("IRht"),s=i.process,u="process"==o(s);r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=u&&s.domain;a(t?t.bind(e):e)}})},uCRN:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},uGNz:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"parse",(function(){return sn})),n.d(r,"lift",(function(){return cn})),n.d(r,"toHex",(function(){return fn})),n.d(r,"fastLerp",(function(){return hn})),n.d(r,"fastMapToColor",(function(){return dn})),n.d(r,"lerp",(function(){return pn})),n.d(r,"mapToColor",(function(){return gn})),n.d(r,"modifyHSL",(function(){return mn})),n.d(r,"modifyAlpha",(function(){return vn})),n.d(r,"stringify",(function(){return yn})),n.d(r,"lum",(function(){return _n})),n.d(r,"random",(function(){return bn}));var i={};n.r(i),n.d(i,"init",(function(){return Si})),n.d(i,"dispose",(function(){return Ti})),n.d(i,"disposeAll",(function(){return Ei})),n.d(i,"getInstance",(function(){return Mi})),n.d(i,"registerPainter",(function(){return Ci})),n.d(i,"version",(function(){return Ai}));var a={};n.r(a),n.d(a,"createList",(function(){return Xw})),n.d(a,"getLayoutRect",(function(){return rd})),n.d(a,"createDimensions",(function(){return yx})),n.d(a,"dataStack",(function(){return Kw})),n.d(a,"createSymbol",(function(){return iy})),n.d(a,"createScale",(function(){return qw})),n.d(a,"mixinAxisModelCommonMethods",(function(){return Yw})),n.d(a,"getECData",(function(){return Ru})),n.d(a,"enableHoverEmphasis",(function(){return Ol})),n.d(a,"createTextStyle",(function(){return Zw}));var o={};n.r(o),n.d(o,"linearMap",(function(){return Pi})),n.d(o,"round",(function(){return Ii})),n.d(o,"asc",(function(){return Ri})),n.d(o,"getPrecision",(function(){return ki})),n.d(o,"getPrecisionSafe",(function(){return Ni})),n.d(o,"getPixelPrecision",(function(){return Fi})),n.d(o,"getPercentWithPrecision",(function(){return Bi})),n.d(o,"MAX_SAFE_INTEGER",(function(){return zi})),n.d(o,"remRadian",(function(){return ji})),n.d(o,"isRadianAroundZero",(function(){return Hi})),n.d(o,"parseDate",(function(){return Vi})),n.d(o,"quantity",(function(){return Gi})),n.d(o,"quantityExponent",(function(){return Wi})),n.d(o,"nice",(function(){return Xi})),n.d(o,"quantile",(function(){return Ki})),n.d(o,"reformIntervals",(function(){return qi})),n.d(o,"isNumeric",(function(){return Zi})),n.d(o,"numericToNumber",(function(){return Yi}));var s={};n.r(s),n.d(s,"extendShape",(function(){return nf})),n.d(s,"extendPath",(function(){return af})),n.d(s,"makePath",(function(){return uf})),n.d(s,"makeImage",(function(){return lf})),n.d(s,"mergePath",(function(){return ff})),n.d(s,"resizePath",(function(){return hf})),n.d(s,"createIcon",(function(){return bf})),n.d(s,"updateProps",(function(){return pf})),n.d(s,"initProps",(function(){return gf})),n.d(s,"getTransform",(function(){return vf})),n.d(s,"clipPointsByRect",(function(){return yf})),n.d(s,"clipRectByRect",(function(){return _f})),n.d(s,"registerShape",(function(){return of})),n.d(s,"getShapeClass",(function(){return sf})),n.d(s,"Group",(function(){return mi})),n.d(s,"Image",(function(){return cu})),n.d(s,"Text",(function(){return Iu})),n.d(s,"Circle",(function(){return sc})),n.d(s,"Ellipse",(function(){return cc})),n.d(s,"Sector",(function(){return Cc})),n.d(s,"Ring",(function(){return Dc})),n.d(s,"Polygon",(function(){return Fc})),n.d(s,"Polyline",(function(){return jc})),n.d(s,"Rect",(function(){return _u})),n.d(s,"Line",(function(){return Gc})),n.d(s,"BezierCurve",(function(){return Yc})),n.d(s,"Arc",(function(){return Qc})),n.d(s,"IncrementalDisplayable",(function(){return hy})),n.d(s,"CompoundPath",(function(){return lS})),n.d(s,"LinearGradient",(function(){return dS})),n.d(s,"RadialGradient",(function(){return gS})),n.d(s,"BoundingRect",(function(){return Jn}));var u={};n.r(u),n.d(u,"addCommas",(function(){return jh})),n.d(u,"toCamelCase",(function(){return Hh})),n.d(u,"normalizeCssArray",(function(){return Uh})),n.d(u,"encodeHTML",(function(){return Wh})),n.d(u,"formatTpl",(function(){return qh})),n.d(u,"getTooltipMarker",(function(){return Yh})),n.d(u,"formatTime",(function(){return Zh})),n.d(u,"capitalFirst",(function(){return $h})),n.d(u,"truncateText",(function(){return Ja})),n.d(u,"getTextRect",(function(){return mS}));var l={};n.r(l),n.d(l,"map",(function(){return U})),n.d(l,"each",(function(){return H})),n.d(l,"indexOf",(function(){return F})),n.d(l,"inherits",(function(){return B})),n.d(l,"reduce",(function(){return V})),n.d(l,"filter",(function(){return G})),n.d(l,"bind",(function(){return K})),n.d(l,"curry",(function(){return q})),n.d(l,"isArray",(function(){return Y})),n.d(l,"isString",(function(){return $})),n.d(l,"isObject",(function(){return ee})),n.d(l,"isFunction",(function(){return Z})),n.d(l,"extend",(function(){return R})),n.d(l,"defaults",(function(){return k})),n.d(l,"clone",(function(){return L})),n.d(l,"merge",(function(){return I}));var c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)};function f(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;function h(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}Object.create;var d=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),p=function(){function e(){this.browser=new d,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1}return e}(),g=new p;function m(e,t){var n=t.browser,r=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),a=e.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(e);r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),a&&(n.edge=!0,n.version=a[1],n.newEdge=+a[1].split(".")[0]>18),o&&(n.weChat=!0),t.canvasSupported=!!document.createElement("canvas").getContext,t.svgSupported="undefined"!==typeof SVGRect,t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported="undefined"!==typeof document}"object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?(g.wxa=!0,g.canvasSupported=!0,g.touchEventsSupported=!0):"undefined"===typeof document&&"undefined"!==typeof self?(g.worker=!0,g.canvasSupported=!0):"undefined"===typeof navigator?(g.node=!0,g.canvasSupported=!0,g.svgSupported=!0):m(navigator.userAgent,g);var v=g,y={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},_={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},b=Object.prototype.toString,x=Array.prototype,w=x.forEach,S=x.filter,T=x.slice,E=x.map,M=function(){}.constructor,C=M?M.prototype:null,A={};var O=2311;function D(){return O++}function P(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!==typeof console&&console.error.apply(console,e)}function L(e){if(null==e||"object"!==typeof e)return e;var t=e,n=b.call(e);if("[object Array]"===n){if(!ge(e)){t=[];for(var r=0,i=e.length;r<i;r++)t[r]=L(e[r])}}else if(_[n]){if(!ge(e)){var a=e.constructor;if(a.from)t=a.from(e);else{t=new a(e.length);for(r=0,i=e.length;r<i;r++)t[r]=L(e[r])}}}else if(!y[n]&&!ge(e)&&!re(e))for(var o in t={},e)e.hasOwnProperty(o)&&(t[o]=L(e[o]));return t}function I(e,t,n){if(!ee(t)||!ee(e))return n?L(t):e;for(var r in t)if(t.hasOwnProperty(r)){var i=e[r],a=t[r];!ee(a)||!ee(i)||Y(a)||Y(i)||re(a)||re(i)||te(a)||te(i)||ge(a)||ge(i)?!n&&r in e||(e[r]=L(t[r])):I(i,a,n)}return e}function R(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function k(e,t,n){for(var r=W(t),i=0;i<r.length;i++){var a=r[i];(n?null!=t[a]:null==e[a])&&(e[a]=t[a])}return e}var N=function(){return A.createCanvas()};function F(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function B(e,t){var n=e.prototype;function r(){}for(var i in r.prototype=t.prototype,e.prototype=new r,n)n.hasOwnProperty(i)&&(e.prototype[i]=n[i]);e.prototype.constructor=e,e.superClass=t}function z(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var a=r[i];"constructor"!==a&&(n?null!=t[a]:null==e[a])&&(e[a]=t[a])}else k(e,t,n)}function j(e){return!!e&&("string"!==typeof e&&"number"===typeof e.length)}function H(e,t,n){if(e&&t)if(e.forEach&&e.forEach===w)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function U(e,t,n){if(!e)return[];if(!t)return le(e);if(e.map&&e.map===E)return e.map(t,n);for(var r=[],i=0,a=e.length;i<a;i++)r.push(t.call(n,e[i],i,e));return r}function V(e,t,n,r){if(e&&t){for(var i=0,a=e.length;i<a;i++)n=t.call(r,n,e[i],i,e);return n}}function G(e,t,n){if(!e)return[];if(!t)return le(e);if(e.filter&&e.filter===S)return e.filter(t,n);for(var r=[],i=0,a=e.length;i<a;i++)t.call(n,e[i],i,e)&&r.push(e[i]);return r}function W(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function X(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return e.apply(t,n.concat(T.call(arguments)))}}A.createCanvas=function(){return document.createElement("canvas")};var K=C&&Z(C.bind)?C.call.bind(C.bind):X;function q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(T.call(arguments)))}}function Y(e){return Array.isArray?Array.isArray(e):"[object Array]"===b.call(e)}function Z(e){return"function"===typeof e}function $(e){return"string"===typeof e}function Q(e){return"[object String]"===b.call(e)}function J(e){return"number"===typeof e}function ee(e){var t=typeof e;return"function"===t||!!e&&"object"===t}function te(e){return!!y[b.call(e)]}function ne(e){return!!_[b.call(e)]}function re(e){return"object"===typeof e&&"number"===typeof e.nodeType&&"object"===typeof e.ownerDocument}function ie(e){return null!=e.colorStops}function ae(e){return null!=e.image}function oe(e){return e!==e}function se(e,t){return null!=e?e:t}function ue(e,t,n){return null!=e?e:null!=t?t:n}function le(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return T.apply(e,t)}function ce(e){if("number"===typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function fe(e,t){if(!e)throw new Error(t)}function he(e){return null==e?null:"function"===typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var de="__ec_primitive__";function pe(e){e[de]=!0}function ge(e){return e[de]}var me=function(){function e(t){this.data={};var n=Y(t);this.data={};var r=this;function i(e,t){n?r.set(e,t):r.set(t,e)}t instanceof e?t.each(i):t&&H(t,i)}return e.prototype.get=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},e.prototype.set=function(e,t){return this.data[e]=t},e.prototype.each=function(e,t){for(var n in this.data)this.data.hasOwnProperty(n)&&e.call(t,this.data[n],n)},e.prototype.keys=function(){return W(this.data)},e.prototype.removeKey=function(e){delete this.data[e]},e}();function ve(e){return new me(e)}function ye(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];var i=e.length;for(r=0;r<t.length;r++)n[r+i]=t[r];return n}function _e(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&R(n,t),n}function be(e,t){return e.hasOwnProperty(t)}function xe(){}function we(e,t){return null==e&&(e=0),null==t&&(t=0),[e,t]}function Se(e){return[e[0],e[1]]}function Te(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Ee(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function Me(e){return Math.sqrt(Ce(e))}function Ce(e){return e[0]*e[0]+e[1]*e[1]}function Ae(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function Oe(e,t){var n=Me(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function De(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Pe=De;function Le(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Ie=Le;function Re(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}function ke(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function Ne(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function Fe(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var Be=function(){function e(e,t){this.target=e,this.topTarget=t&&t.topTarget}return e}(),ze=function(){function e(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(e){var t=e.target;while(t&&!t.draggable)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Be(t,e),"dragstart",e.event))},e.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,r=e.offsetY,i=n-this._x,a=r-this._y;this._x=n,this._y=r,t.drift(i,a,e),this.handler.dispatchToElement(new Be(t,e),"drag",e.event);var o=this.handler.findHover(n,r,t).target,s=this._dropTarget;this._dropTarget=o,t!==o&&(s&&o!==s&&this.handler.dispatchToElement(new Be(s,e),"dragleave",e.event),o&&o!==s&&this.handler.dispatchToElement(new Be(o,e),"dragenter",e.event))}},e.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new Be(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Be(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},e}(),je=ze,He=function(){function e(e){e&&(this._$eventProcessor=e)}return e.prototype.on=function(e,t,n,r){this._$handlers||(this._$handlers={});var i=this._$handlers;if("function"===typeof t&&(r=n,n=t,t=null),!n||!e)return this;var a=this._$eventProcessor;null!=t&&a&&a.normalizeQuery&&(t=a.normalizeQuery(t)),i[e]||(i[e]=[]);for(var o=0;o<i[e].length;o++)if(i[e][o].h===n)return this;var s={h:n,query:t,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},u=i[e].length-1,l=i[e][u];return l&&l.callAtLast?i[e].splice(u,0,s):i[e].push(s),this},e.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},e.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var r=[],i=0,a=n[e].length;i<a;i++)n[e][i].h!==t&&r.push(n[e][i]);n[e]=r}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[e],i=this._$eventProcessor;if(r)for(var a=t.length,o=r.length,s=0;s<o;s++){var u=r[s];if(!i||!i.filter||null==u.query||i.filter(e,u.query))switch(a){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t);break}}return i&&i.afterTrigger&&i.afterTrigger(e),this},e.prototype.triggerWithContext=function(e){if(!this._$handlers)return this;var t=this._$handlers[e],n=this._$eventProcessor;if(t)for(var r=arguments,i=r.length,a=r[i-1],o=t.length,s=0;s<o;s++){var u=t[s];if(!n||!n.filter||null==u.query||n.filter(e,u.query))switch(i){case 0:u.h.call(a);break;case 1:u.h.call(a,r[0]);break;case 2:u.h.call(a,r[0],r[1]);break;default:u.h.apply(a,r.slice(1,i-1));break}}return n&&n.afterTrigger&&n.afterTrigger(e),this},e}(),Ue=He,Ve=Math.log(2);function Ge(e,t,n,r,i,a){var o=r+"-"+i,s=e.length;if(a.hasOwnProperty(o))return a[o];if(1===t){var u=Math.round(Math.log((1<<s)-1&~i)/Ve);return e[n][u]}var l=r|1<<n,c=n+1;while(r&1<<c)c++;for(var f=0,h=0,d=0;h<s;h++){var p=1<<h;p&i||(f+=(d%2?-1:1)*e[n][h]*Ge(e,t-1,c,l,i|p,a),d++)}return a[o]=f,f}function We(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],r={},i=Ge(n,8,0,0,0,r);if(0!==i){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)null==a[s]&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*Ge(n,7,0===o?1:0,1<<o,1<<s,r)/i*t[o];return function(e,t,n){var r=t*a[6]+n*a[7]+1;e[0]=(t*a[0]+n*a[1]+a[2])/r,e[1]=(t*a[3]+n*a[4]+a[5])/r}}}var Xe="___zrEVENTSAVED";function Ke(e,t,n,r,i){if(t.getBoundingClientRect&&v.domSupported&&!Ze(t)){var a=t[Xe]||(t[Xe]={}),o=qe(t,a),s=Ye(o,a,i);if(s)return s(e,n,r),!0}return!1}function qe(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,u=a%2,l=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[u]+":0",i[l]+":0",r[1-u]+":auto",i[1-l]+":auto",""].join("!important;"),e.appendChild(o),n.push(o)}return n}function Ye(e,t,n){for(var r=n?"invTrans":"trans",i=t[r],a=t.srcCoords,o=[],s=[],u=!0,l=0;l<4;l++){var c=e[l].getBoundingClientRect(),f=2*l,h=c.left,d=c.top;o.push(h,d),u=u&&a&&h===a[f]&&d===a[f+1],s.push(e[l].offsetLeft,e[l].offsetTop)}return u&&i?i:(t.srcCoords=o,t[r]=n?We(s,o):We(o,s))}function Ze(e){return"CANVAS"===e.nodeName.toUpperCase()}var $e="undefined"!==typeof window&&!!window.addEventListener,Qe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Je=[];function et(e,t,n,r){return n=n||{},r||!v.canvasSupported?tt(e,t,n):v.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):tt(e,t,n),n}function tt(e,t,n){if(v.domSupported&&e.getBoundingClientRect){var r=t.clientX,i=t.clientY;if(Ze(e)){var a=e.getBoundingClientRect();return n.zrX=r-a.left,void(n.zrY=i-a.top)}if(Ke(Je,e,r,i))return n.zrX=Je[0],void(n.zrY=Je[1])}n.zrX=n.zrY=0}function nt(e){return e||window.event}function rt(e,t,n){if(t=nt(t),null!=t.zrX)return t;var r=t.type,i=r&&r.indexOf("touch")>=0;if(i){var a="touchend"!==r?t.targetTouches[0]:t.changedTouches[0];a&&et(e,a,t,n)}else{et(e,t,t,n);var o=it(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var s=t.button;return null==t.which&&void 0!==s&&Qe.test(t.type)&&(t.which=1&s?1:2&s?3:4&s?2:0),t}function it(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,r=e.deltaY;if(null==n||null==r)return t;var i=0!==r?Math.abs(r):Math.abs(n),a=r>0?-1:r<0?1:n>0?-1:1;return 3*i*a}function at(e,t,n,r){$e?e.addEventListener(t,n,r):e.attachEvent("on"+t,n)}function ot(e,t,n,r){$e?e.removeEventListener(t,n,r):e.detachEvent("on"+t,n)}var st=$e?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};var ut=function(){function e(){this._track=[]}return e.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(e,t,n){var r=e.touches;if(r){for(var i={points:[],touches:[],target:t,event:e},a=0,o=r.length;a<o;a++){var s=r[a],u=et(n,s,{});i.points.push([u.zrX,u.zrY]),i.touches.push(s)}this._track.push(i)}},e.prototype._recognize=function(e){for(var t in ft)if(ft.hasOwnProperty(t)){var n=ft[t](this._track,e);if(n)return n}},e}();function lt(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function ct(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var ft={pinch:function(e,t){var n=e.length;if(n){var r=(e[n-1]||{}).points,i=(e[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=lt(r)/lt(i);!isFinite(a)&&(a=1),t.pinchScale=a;var o=ct(r);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:e[0].target,event:t}}}}},ht="silent";function dt(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:pt}}function pt(){st(this.event)}var gt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handler=null,t}return f(t,e),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Ue),mt=function(){function e(e,t){this.x=e,this.y=t}return e}(),vt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],yt=function(e){function t(t,n,r,i){var a=e.call(this)||this;return a._hovered=new mt(0,0),a.storage=t,a.painter=n,a.painterRoot=i,r=r||new gt,a.proxy=null,a.setHandlerProxy(r),a._draggingMgr=new je(a),a}return f(t,e),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(H(vt,(function(t){e.on&&e.on(t,this[t],this)}),this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var t=e.zrX,n=e.zrY,r=bt(this,t,n),i=this._hovered,a=i.target;a&&!a.__zr&&(i=this.findHover(i.x,i.y),a=i.target);var o=this._hovered=r?new mt(t,n):this.findHover(t,n),s=o.target,u=this.proxy;u.setCursor&&u.setCursor(s?s.cursor:"default"),a&&s!==a&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(o,"mousemove",e),s&&s!==a&&this.dispatchToElement(o,"mouseover",e)},t.prototype.mouseout=function(e){var t=e.zrEventControl;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new mt(0,0)},t.prototype.dispatch=function(e,t){var n=this[e];n&&n.call(this,t)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},t.prototype.dispatchToElement=function(e,t,n){e=e||{};var r=e.target;if(!r||!r.silent){var i="on"+t,a=dt(t,e,n);while(r)if(r[i]&&(a.cancelBubble=!!r[i].call(r,a)),r.trigger(t,a),r=r.__hostTarget?r.__hostTarget:r.parent,a.cancelBubble)break;a.cancelBubble||(this.trigger(t,a),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(e){"function"===typeof e[i]&&e[i].call(e,a),e.trigger&&e.trigger(t,a)})))}},t.prototype.findHover=function(e,t,n){for(var r=this.storage.getDisplayList(),i=new mt(e,t),a=r.length-1;a>=0;a--){var o=void 0;if(r[a]!==n&&!r[a].ignore&&(o=_t(r[a],e,t))&&(!i.topTarget&&(i.topTarget=r[a]),o!==ht)){i.target=r[a];break}}return i},t.prototype.processGesture=function(e,t){this._gestureMgr||(this._gestureMgr=new ut);var n=this._gestureMgr;"start"===t&&n.clear();var r=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&n.clear(),r){var i=r.type;e.gestureEvent=i;var a=new mt;a.target=r.target,this.dispatchToElement(a,i,r.event)}},t}(Ue);function _t(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){var r=e,i=void 0,a=!1;while(r){if(r.ignoreClip&&(a=!0),!a){var o=r.getClipPath();if(o&&!o.contain(t,n))return!1;r.silent&&(i=!0)}var s=r.__hostTarget;r=s||r.parent}return!i||ht}return!1}function bt(e,t,n){var r=e.painter;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}H(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(e){yt.prototype[e]=function(t){var n,r,i=t.zrX,a=t.zrY,o=bt(this,i,a);if("mouseup"===e&&o||(n=this.findHover(i,a),r=n.target),"mousedown"===e)this._downEl=r,this._downPoint=[t.zrX,t.zrY],this._upEl=r;else if("mouseup"===e)this._upEl=r;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||Pe(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}}));var xt=yt;function wt(){return[1,0,0,1,0,0]}function St(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Tt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Et(e,t,n){var r=t[0]*n[0]+t[2]*n[1],i=t[1]*n[0]+t[3]*n[1],a=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],u=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e}function Mt(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function Ct(e,t,n){var r=t[0],i=t[2],a=t[4],o=t[1],s=t[3],u=t[5],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*l,e[1]=-r*l+o*c,e[2]=i*c+s*l,e[3]=-i*l+c*s,e[4]=c*a+l*u,e[5]=c*u-l*a,e}function At(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e}function Ot(e,t){var n=t[0],r=t[2],i=t[4],a=t[1],o=t[3],s=t[5],u=n*o-a*r;return u?(u=1/u,e[0]=o*u,e[1]=-a*u,e[2]=-r*u,e[3]=n*u,e[4]=(r*s-o*i)*u,e[5]=(a*i-n*s)*u,e):null}var Dt=St,Pt=5e-5;function Lt(e){return e>Pt||e<-Pt}var It=[],Rt=[],kt=wt(),Nt=Math.abs,Ft=function(){function e(){}return e.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},e.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},e.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},e.prototype.needLocalTransform=function(){return Lt(this.rotation)||Lt(this.x)||Lt(this.y)||Lt(this.scaleX-1)||Lt(this.scaleY-1)},e.prototype.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),r=this.transform;n||t?(r=r||wt(),n?this.getLocalTransform(r):Dt(r),t&&(n?Et(r,e.transform,r):Tt(r,e.transform)),this.transform=r,this._resolveGlobalScaleRatio(r)):r&&Dt(r)},e.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(It);var n=It[0]<0?-1:1,r=It[1]<0?-1:1,i=((It[0]-n)*t+n)/It[0]||0,a=((It[1]-r)*t+r)/It[1]||0;e[0]*=i,e[1]*=i,e[2]*=a,e[3]*=a}this.invTransform=this.invTransform||wt(),Ot(this.invTransform,e)},e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.getComputedTransform=function(){var e=this,t=[];while(e)t.push(e),e=e.parent;while(e=t.pop())e.updateTransform();return this.transform},e.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3];Lt(t-1)&&(t=Math.sqrt(t)),Lt(n-1)&&(n=Math.sqrt(n)),e[0]<0&&(t=-t),e[3]<0&&(n=-n),this.rotation=Math.atan2(-e[1]/n,e[0]/t),t<0&&n<0&&(this.rotation+=Math.PI,t=-t,n=-n),this.x=e[4],this.y=e[5],this.scaleX=t,this.scaleY=n}},e.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Et(Rt,e.invTransform,t),t=Rt);var n=this.originX,r=this.originY;(n||r)&&(kt[4]=n,kt[5]=r,Et(Rt,t,kt),Rt[4]-=n,Rt[5]-=r,t=Rt),this.setLocalTransform(t)}},e.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},e.prototype.transformCoordToLocal=function(e,t){var n=[e,t],r=this.invTransform;return r&&ke(n,n,r),n},e.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],r=this.transform;return r&&ke(n,n,r),n},e.prototype.getLineScale=function(){var e=this.transform;return e&&Nt(e[0]-1)>1e-10&&Nt(e[3]-1)>1e-10?Math.sqrt(Nt(e[0]*e[3]-e[2]*e[1])):1},e.getLocalTransform=function(e,t){t=t||[],Dt(t);var n=e.originX||0,r=e.originY||0,i=e.scaleX,a=e.scaleY,o=e.rotation||0,s=e.x,u=e.y;return t[4]-=n,t[5]-=r,t[0]*=i,t[1]*=a,t[2]*=i,t[3]*=a,t[4]*=i,t[5]*=a,o&&Ct(t,t,o),t[4]+=n,t[5]+=r,t[4]+=s,t[5]+=u,t},e.initDefaultProps=function(){var t=e.prototype;t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.originX=0,t.originY=0,t.rotation=0,t.globalScaleRatio=1}(),e}(),Bt=Ft,zt={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r))},elasticOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-zt.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*zt.bounceIn(2*e):.5*zt.bounceOut(2*e-1)+.5}},jt=zt,Ht=function(){function e(e){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart}return e.prototype.step=function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),!this._paused){var n=(e-this._startTime-this._pausedTime)/this._life;n<0&&(n=0),n=Math.min(n,1);var r=this.easing,i="string"===typeof r?jt[r]:r,a="function"===typeof i?i(n):n;if(this.onframe&&this.onframe(a),1===n){if(!this.loop)return!0;this._restart(e),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=t},e.prototype._restart=function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e}(),Ut=Ht,Vt=function(){function e(e){this.value=e}return e}(),Gt=function(){function e(){this._len=0}return e.prototype.insert=function(e){var t=new Vt(e);return this.insertEntry(t),t},e.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},e.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),Wt=function(){function e(e){this._list=new Gt,this._maxSize=10,this._map={},this._maxSize=e}return e.prototype.put=function(e,t){var n=this._list,r=this._map,i=null;if(null==r[e]){var a=n.len(),o=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var s=n.head;n.remove(s),delete r[s.key],i=s.value,this._lastRemovedEntry=s}o?o.value=t:o=new Vt(t),o.key=e,n.insertEntry(o),r[e]=o}return i},e.prototype.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),Xt=Wt,Kt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function qt(e){return e=Math.round(e),e<0?0:e>255?255:e}function Yt(e){return e=Math.round(e),e<0?0:e>360?360:e}function Zt(e){return e<0?0:e>1?1:e}function $t(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?qt(parseFloat(t)/100*255):qt(parseInt(t,10))}function Qt(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?Zt(parseFloat(t)/100):Zt(parseFloat(t))}function Jt(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function en(e,t,n){return e+(t-e)*n}function tn(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function nn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var rn=new Xt(20),an=null;function on(e,t){an&&nn(an,t),an=rn.put(e,an||t.slice())}function sn(e,t){if(e){t=t||[];var n=rn.get(e);if(n)return nn(t,n);e+="";var r=e.replace(/ /g,"").toLowerCase();if(r in Kt)return nn(t,Kt[r]),on(e,t),t;var i=r.length;if("#"!==r.charAt(0)){var a=r.indexOf("("),o=r.indexOf(")");if(-1!==a&&o+1===i){var s=r.substr(0,a),u=r.substr(a+1,o-(a+1)).split(","),l=1;switch(s){case"rgba":if(4!==u.length)return 3===u.length?tn(t,+u[0],+u[1],+u[2],1):tn(t,0,0,0,1);l=Qt(u.pop());case"rgb":return 3!==u.length?void tn(t,0,0,0,1):(tn(t,$t(u[0]),$t(u[1]),$t(u[2]),l),on(e,t),t);case"hsla":return 4!==u.length?void tn(t,0,0,0,1):(u[3]=Qt(u[3]),un(u,t),on(e,t),t);case"hsl":return 3!==u.length?void tn(t,0,0,0,1):(un(u,t),on(e,t),t);default:return}}tn(t,0,0,0,1)}else{if(4===i||5===i){var c=parseInt(r.slice(1,4),16);return c>=0&&c<=4095?(tn(t,(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,5===i?parseInt(r.slice(4),16)/15:1),on(e,t),t):void tn(t,0,0,0,1)}if(7===i||9===i){c=parseInt(r.slice(1,7),16);return c>=0&&c<=16777215?(tn(t,(16711680&c)>>16,(65280&c)>>8,255&c,9===i?parseInt(r.slice(7),16)/255:1),on(e,t),t):void tn(t,0,0,0,1)}}}}function un(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=Qt(e[1]),i=Qt(e[2]),a=i<=.5?i*(r+1):i+r-i*r,o=2*i-a;return t=t||[],tn(t,qt(255*Jt(o,a,n+1/3)),qt(255*Jt(o,a,n)),qt(255*Jt(o,a,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function ln(e){if(e){var t,n,r=e[0]/255,i=e[1]/255,a=e[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o,l=(s+o)/2;if(0===u)t=0,n=0;else{n=l<.5?u/(s+o):u/(2-s-o);var c=((s-r)/6+u/2)/u,f=((s-i)/6+u/2)/u,h=((s-a)/6+u/2)/u;r===s?t=h-f:i===s?t=1/3+c-h:a===s&&(t=2/3+f-c),t<0&&(t+=1),t>1&&(t-=1)}var d=[360*t,n,l];return null!=e[3]&&d.push(e[3]),d}}function cn(e,t){var n=sn(e);if(n){for(var r=0;r<3;r++)n[r]=t<0?n[r]*(1-t)|0:(255-n[r])*t+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return yn(n,4===n.length?"rgba":"rgb")}}function fn(e){var t=sn(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function hn(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var r=e*(t.length-1),i=Math.floor(r),a=Math.ceil(r),o=t[i],s=t[a],u=r-i;return n[0]=qt(en(o[0],s[0],u)),n[1]=qt(en(o[1],s[1],u)),n[2]=qt(en(o[2],s[2],u)),n[3]=Zt(en(o[3],s[3],u)),n}}var dn=hn;function pn(e,t,n){if(t&&t.length&&e>=0&&e<=1){var r=e*(t.length-1),i=Math.floor(r),a=Math.ceil(r),o=sn(t[i]),s=sn(t[a]),u=r-i,l=yn([qt(en(o[0],s[0],u)),qt(en(o[1],s[1],u)),qt(en(o[2],s[2],u)),Zt(en(o[3],s[3],u))],"rgba");return n?{color:l,leftIndex:i,rightIndex:a,value:r}:l}}var gn=pn;function mn(e,t,n,r){var i=sn(e);if(e)return i=ln(i),null!=t&&(i[0]=Yt(t)),null!=n&&(i[1]=Qt(n)),null!=r&&(i[2]=Qt(r)),yn(un(i),"rgba")}function vn(e,t){var n=sn(e);if(n&&null!=t)return n[3]=Zt(t),yn(n,"rgba")}function yn(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}function _n(e,t){var n=sn(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}function bn(){var e=Math.round(255*Math.random()),t=Math.round(255*Math.random()),n=Math.round(255*Math.random());return"rgb("+e+","+t+","+n+")"}var xn=Array.prototype.slice;function wn(e,t,n){return(t-e)*n+e}function Sn(e,t,n){return n>.5?t:e}function Tn(e,t,n,r){for(var i=t.length,a=0;a<i;a++)e[a]=wn(t[a],n[a],r)}function En(e,t,n,r){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=wn(t[o][s],n[o][s],r)}}function Mn(e,t,n,r){for(var i=t.length,a=0;a<i;a++)e[a]=t[a]+n[a]*r;return e}function Cn(e,t,n,r){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=t[o][s]+n[o][s]*r}return e}function An(e,t,n){var r=e,i=t;if(r.push&&i.push){var a=r.length,o=i.length;if(a!==o){var s=a>o;if(s)r.length=o;else for(var u=a;u<o;u++)r.push(1===n?i[u]:xn.call(i[u]))}var l=r[0]&&r[0].length;for(u=0;u<r.length;u++)if(1===n)isNaN(r[u])&&(r[u]=i[u]);else for(var c=0;c<l;c++)isNaN(r[u][c])&&(r[u][c]=i[u][c])}}function On(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Dn(e,t,n,r,i,a,o){var s=.5*(n-e),u=.5*(r-t);return(2*(t-n)+s+u)*o+(-3*(t-n)-2*s-u)*a+s*i+t}function Pn(e,t,n,r,i,a,o,s){for(var u=t.length,l=0;l<u;l++)e[l]=Dn(t[l],n[l],r[l],i[l],a,o,s)}function Ln(e,t,n,r,i,a,o,s){for(var u=t.length,l=t[0].length,c=0;c<u;c++){e[c]||(e[1]=[]);for(var f=0;f<l;f++)e[c][f]=Dn(t[c][f],n[c][f],r[c][f],i[c][f],a,o,s)}}function In(e){if(j(e)){var t=e.length;if(j(e[0])){for(var n=[],r=0;r<t;r++)n.push(xn.call(e[r]));return n}return xn.call(e)}return e}function Rn(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function kn(e){return j(e&&e[0])?2:1}var Nn,Fn,Bn=[0,0,0,0],zn=function(){function e(e){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=e}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(e,t){e>=this.maxTime?this.maxTime=e:this._needsSort=!0;var n=this.keyframes,r=n.length;if(this.interpolable)if(j(t)){var i=kn(t);if(r>0&&this.arrDim!==i)return void(this.interpolable=!1);if(1===i&&"number"!==typeof t[0]||2===i&&"number"!==typeof t[0][0])return void(this.interpolable=!1);if(r>0){var a=n[r-1];this._isAllValueEqual&&(1===i&&On(t,a.value)||(this._isAllValueEqual=!1))}this.arrDim=i}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"===typeof t){var o=sn(t);o?(t=o,this.isValueColor=!0):this.interpolable=!1}else if("number"!==typeof t)return void(this.interpolable=!1);if(this._isAllValueEqual&&r>0){a=n[r-1];(this.isValueColor&&!On(a.value,t)||a.value!==t)&&(this._isAllValueEqual=!1)}}var s={time:e,value:t,percent:0};return this.keyframes.push(s),s},e.prototype.prepare=function(e){var t=this.keyframes;this._needsSort&&t.sort((function(e,t){return e.time-t.time}));for(var n=this.arrDim,r=t.length,i=t[r-1],a=0;a<r;a++)t[a].percent=t[a].time/this.maxTime,n>0&&a!==r-1&&An(t[a].value,i.value,n);if(e&&this.needsAnimate()&&e.needsAnimate()&&n===e.arrDim&&this.isValueColor===e.isValueColor&&!e._finished){this._additiveTrack=e;var o=t[0].value;for(a=0;a<r;a++)0===n?this.isValueColor?t[a].additiveValue=Mn([],t[a].value,o,-1):t[a].additiveValue=t[a].value-o:1===n?t[a].additiveValue=Mn([],t[a].value,o,-1):2===n&&(t[a].additiveValue=Cn([],t[a].value,o,-1))}},e.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,r=null!=this._additiveTrack,i=r?"additiveValue":"value",a=this.keyframes,o=this.keyframes.length,s=this.propName,u=this.arrDim,l=this.isValueColor;if(t<0)n=0;else if(t<this._lastFramePercent){var c=Math.min(this._lastFrame+1,o-1);for(n=c;n>=0;n--)if(a[n].percent<=t)break;n=Math.min(n,o-2)}else{for(n=this._lastFrame;n<o;n++)if(a[n].percent>t)break;n=Math.min(n-1,o-2)}var f=a[n+1],h=a[n];if(h&&f){this._lastFrame=n,this._lastFramePercent=t;var d=f.percent-h.percent;if(0!==d){var p=(t-h.percent)/d,g=r?this._additiveValue:l?Bn:e[s];if((u>0||l)&&!g&&(g=this._additiveValue=[]),this.useSpline){var m=a[n][i],v=a[0===n?n:n-1][i],y=a[n>o-2?o-1:n+1][i],_=a[n>o-3?o-1:n+2][i];if(u>0)1===u?Pn(g,v,m,y,_,p,p*p,p*p*p):Ln(g,v,m,y,_,p,p*p,p*p*p);else if(l)Pn(g,v,m,y,_,p,p*p,p*p*p),r||(e[s]=Rn(g));else{var b=void 0;b=this.interpolable?Dn(v,m,y,_,p,p*p,p*p*p):y,r?this._additiveValue=b:e[s]=b}}else if(u>0)1===u?Tn(g,h[i],f[i],p):En(g,h[i],f[i],p);else if(l)Tn(g,h[i],f[i],p),r||(e[s]=Rn(g));else{b=void 0;b=this.interpolable?wn(h[i],f[i],p):Sn(h[i],f[i],p),r?this._additiveValue=b:e[s]=b}r&&this._addToTarget(e)}}}},e.prototype._addToTarget=function(e){var t=this.arrDim,n=this.propName,r=this._additiveValue;0===t?this.isValueColor?(sn(e[n],Bn),Mn(Bn,Bn,r,1),e[n]=Rn(Bn)):e[n]=e[n]+r:1===t?Mn(e[n],e[n],r,1):2===t&&Cn(e[n],e[n],r,1)},e}(),jn=function(){function e(e,t,n){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&n?P("Can' use additive animation on looped animation."):this._additiveAnimators=n}return e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(e){this._target=e},e.prototype.when=function(e,t){return this.whenWithKeys(e,t,W(t))},e.prototype.whenWithKeys=function(e,t,n){for(var r=this._tracks,i=0;i<n.length;i++){var a=n[i],o=r[a];if(!o){o=r[a]=new zn(a);var s=void 0,u=this._getAdditiveTrack(a);if(u){var l=u.keyframes[u.keyframes.length-1];s=l&&l.value,u.isValueColor&&s&&(s=Rn(s))}else s=this._target[a];if(null==s)continue;0!==e&&o.addKeyframe(0,In(s)),this._trackKeys.push(a)}o.addKeyframe(e,In(t[a]))}return this._maxTime=Math.max(this._maxTime,e),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneList;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedList;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},e.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},e.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var i=n[r].getTrack(e);i&&(t=i)}return t},e.prototype.start=function(e,t){if(!(this._started>0)){this._started=1;for(var n=this,r=[],i=0;i<this._trackKeys.length;i++){var a=this._trackKeys[i],o=this._tracks[a],s=this._getAdditiveTrack(a),u=o.keyframes;if(o.prepare(s),o.needsAnimate())r.push(o);else if(!o.interpolable){var l=u[u.length-1];l&&(n._target[o.propName]=l.value)}}if(r.length||t){var c=new Ut({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(e){n._started=2;var t=n._additiveAnimators;if(t){for(var i=!1,a=0;a<t.length;a++)if(t[a]._clip){i=!0;break}i||(n._additiveAnimators=null)}for(a=0;a<r.length;a++)r[a].step(n._target,e);var o=n._onframeList;if(o)for(a=0;a<o.length;a++)o[a](n._target,e)},ondestroy:function(){n._doneCallback()}});this._clip=c,this.animation&&this.animation.addClip(c),e&&"spline"!==e&&(c.easing=e)}else this._doneCallback();return this}},e.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},e.prototype.delay=function(e){return this._delay=e,this},e.prototype.during=function(e){return e&&(this._onframeList||(this._onframeList=[]),this._onframeList.push(e)),this},e.prototype.done=function(e){return e&&(this._doneList||(this._doneList=[]),this._doneList.push(e)),this},e.prototype.aborted=function(e){return e&&(this._abortedList||(this._abortedList=[]),this._abortedList.push(e)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(e){return this._tracks[e]},e.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,i=0;i<e.length;i++){var a=n[e[i]];a&&(t?a.step(this._target,1):1===this._started&&a.step(this._target,0),a.setFinished())}var o=!0;for(i=0;i<r.length;i++)if(!n[r[i]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},e.prototype.saveFinalToTarget=function(e,t){if(e){t=t||this._trackKeys;for(var n=0;n<t.length;n++){var r=t[n],i=this._tracks[r];if(i&&!i.isFinished()){var a=i.keyframes,o=a[a.length-1];if(o){var s=In(o.value);i.isValueColor&&(s=Rn(s)),e[r]=s}}}}},e.prototype.__changeFinalValue=function(e,t){t=t||W(e);for(var n=0;n<t.length;n++){var r=t[n],i=this._tracks[r];if(i){var a=i.keyframes;if(a.length>1){var o=a.pop();i.addKeyframe(o.time,e[r]),i.prepare(i.getAdditiveTrack())}}}},e}(),Hn=jn,Un=function(){function e(e,t){this.x=e||0,this.y=t||0}return e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.scale=function(e){this.x*=e,this.y*=e},e.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},e.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},e.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(e){if(e){var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this}},e.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},e.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},e.set=function(e,t,n){e.x=t,e.y=n},e.copy=function(e,t){e.x=t.x,e.y=t.y},e.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.lenSquare=function(e){return e.x*e.x+e.y*e.y},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},e.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},e.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},e.scaleAndAdd=function(e,t,n,r){e.x=t.x+n.x*r,e.y=t.y+n.y*r},e.lerp=function(e,t,n,r){var i=1-r;e.x=i*t.x+r*n.x,e.y=i*t.y+r*n.y},e}(),Vn=Un,Gn=Math.min,Wn=Math.max,Xn=new Vn,Kn=new Vn,qn=new Vn,Yn=new Vn,Zn=new Vn,$n=new Vn,Qn=function(){function e(e,t,n,r){n<0&&isFinite(n)&&(e+=n,n=-n),r<0&&isFinite(r)&&(t+=r,r=-r),this.x=e,this.y=t,this.width=n,this.height=r}return e.prototype.union=function(e){var t=Gn(e.x,this.x),n=Gn(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Wn(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=Wn(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(e){var t=this,n=e.width/t.width,r=e.height/t.height,i=wt();return Mt(i,i,[-t.x,-t.y]),At(i,i,[n,r]),Mt(i,i,[e.x,e.y]),i},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var r=this,i=r.x,a=r.x+r.width,o=r.y,s=r.y+r.height,u=t.x,l=t.x+t.width,c=t.y,f=t.y+t.height,h=!(a<u||l<i||s<c||f<o);if(n){var d=1/0,p=0,g=Math.abs(a-u),m=Math.abs(l-i),v=Math.abs(s-c),y=Math.abs(f-o),_=Math.min(g,m),b=Math.min(v,y);a<u||l<i?_>p&&(p=_,g<m?Vn.set($n,-g,0):Vn.set($n,m,0)):_<d&&(d=_,g<m?Vn.set(Zn,g,0):Vn.set(Zn,-m,0)),s<c||f<o?b>p&&(p=b,v<y?Vn.set($n,0,-v):Vn.set($n,0,y)):_<d&&(d=_,v<y?Vn.set(Zn,0,v):Vn.set(Zn,0,-y))}return n&&Vn.copy(n,h?Zn:$n),h},e.prototype.contain=function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return 0===this.width||0===this.height},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},e.applyTransform=function(t,n,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],o=r[4],s=r[5];return t.x=n.x*i+o,t.y=n.y*a+s,t.width=n.width*i,t.height=n.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}Xn.x=qn.x=n.x,Xn.y=Yn.y=n.y,Kn.x=Yn.x=n.x+n.width,Kn.y=qn.y=n.y+n.height,Xn.transform(r),Yn.transform(r),Kn.transform(r),qn.transform(r),t.x=Gn(Xn.x,Kn.x,qn.x,Yn.x),t.y=Gn(Xn.y,Kn.y,qn.y,Yn.y);var u=Wn(Xn.x,Kn.x,qn.x,Yn.x),l=Wn(Xn.y,Kn.y,qn.y,Yn.y);t.width=u-t.x,t.height=l-t.y}else t!==n&&e.copy(t,n)},e}(),Jn=Qn,er={},tr="12px sans-serif";function nr(e,t){return Nn||(Nn=N().getContext("2d")),Fn!==t&&(Fn=Nn.font=t||tr),Nn.measureText(e)}var rr={measureText:nr};function ir(e,t){t=t||tr;var n=er[t];n||(n=er[t]=new Xt(500));var r=n.get(e);return null==r&&(r=rr.measureText(e,t).width,n.put(e,r)),r}function ar(e,t,n,r){var i=ir(e,t),a=lr(t),o=sr(0,i,n),s=ur(0,a,r),u=new Jn(o,s,i,a);return u}function or(e,t,n,r){var i=((e||"")+"").split("\n"),a=i.length;if(1===a)return ar(i[0],t,n,r);for(var o=new Jn(0,0,0,0),s=0;s<i.length;s++){var u=ar(i[s],t,n,r);0===s?o.copy(u):o.union(u)}return o}function sr(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function ur(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function lr(e){return ir("\u56fd",e)}function cr(e,t){return"string"===typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function fr(e,t,n){var r=t.position||"inside",i=null!=t.distance?t.distance:5,a=n.height,o=n.width,s=a/2,u=n.x,l=n.y,c="left",f="top";if(r instanceof Array)u+=cr(r[0],n.width),l+=cr(r[1],n.height),c=null,f=null;else switch(r){case"left":u-=i,l+=s,c="right",f="middle";break;case"right":u+=i+o,l+=s,f="middle";break;case"top":u+=o/2,l-=i,c="center",f="bottom";break;case"bottom":u+=o/2,l+=a+i,c="center";break;case"inside":u+=o/2,l+=s,c="center",f="middle";break;case"insideLeft":u+=i,l+=s,f="middle";break;case"insideRight":u+=o-i,l+=s,c="right",f="middle";break;case"insideTop":u+=o/2,l+=i,c="center";break;case"insideBottom":u+=o/2,l+=a-i,c="center",f="bottom";break;case"insideTopLeft":u+=i,l+=i;break;case"insideTopRight":u+=o-i,l+=i,c="right";break;case"insideBottomLeft":u+=i,l+=a-i,f="bottom";break;case"insideBottomRight":u+=o-i,l+=a-i,c="right",f="bottom";break}return e=e||{},e.x=u,e.y=l,e.align=c,e.verticalAlign=f,e}var hr=1;"undefined"!==typeof window&&(hr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var dr=hr,pr=.4,gr="#333",mr="#ccc",vr="#eee",yr="__zr_normal__",_r=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],br={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},xr={},wr=new Jn(0,0,0,0),Sr=function(){function e(e){this.id=D(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return e.prototype._init=function(e){this.attr(e)},e.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,i=t.attachedTransform,a=void 0,o=void 0,s=!1;i.parent=r?this:null;var u=!1;if(i.x=t.x,i.y=t.y,i.originX=t.originX,i.originY=t.originY,i.rotation=t.rotation,i.scaleX=t.scaleX,i.scaleY=t.scaleY,null!=n.position){var l=wr;n.layoutRect?l.copy(n.layoutRect):l.copy(this.getBoundingRect()),r||l.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(xr,n,l):fr(xr,n,l),i.x=xr.x,i.y=xr.y,a=xr.align,o=xr.verticalAlign;var c=n.origin;if(c&&null!=n.rotation){var f=void 0,h=void 0;"center"===c?(f=.5*l.width,h=.5*l.height):(f=cr(c[0],l.width),h=cr(c[1],l.height)),u=!0,i.originX=-i.x+f+(r?0:l.x),i.originY=-i.y+h+(r?0:l.y)}}null!=n.rotation&&(i.rotation=n.rotation);var d=n.offset;d&&(i.x+=d[0],i.y+=d[1],u||(i.originX=-d[0],i.originY=-d[1]));var p=null==n.inside?"string"===typeof n.position&&n.position.indexOf("inside")>=0:n.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,v=void 0,y=void 0;p&&this.canBeInsideText()?(m=n.insideFill,v=n.insideStroke,null!=m&&"auto"!==m||(m=this.getInsideTextFill()),null!=v&&"auto"!==v||(v=this.getInsideTextStroke(m),y=!0)):(m=n.outsideFill,v=n.outsideStroke,null!=m&&"auto"!==m||(m=this.getOutsideFill()),null!=v&&"auto"!==v||(v=this.getOutsideStroke(m),y=!0)),m=m||"#000",m===g.fill&&v===g.stroke&&y===g.autoStroke&&a===g.align&&o===g.verticalAlign||(s=!0,g.fill=m,g.stroke=v,g.autoStroke=y,g.align=a,g.verticalAlign=o,t.setDefaultTextStyle(g)),s&&t.dirtyStyle(),t.markRedraw()}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(e){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?mr:gr},e.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),n="string"===typeof t&&sn(t);n||(n=[255,255,255,1]);for(var r=n[3],i=this.__zr.isDarkMode(),a=0;a<3;a++)n[a]=n[a]*r+(i?0:255)*(1-r);return n[3]=1,yn(n,"rgba")},e.prototype.traverse=function(e,t){},e.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},R(this.extra,t)):this[e]=t},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(e,t){if("string"===typeof e)this.attrKV(e,t);else if(ee(e))for(var n=e,r=W(n),i=0;i<r.length;i++){var a=r[i];this.attrKV(a,e[a])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],i=r.__fromStateTransition;if(!i||i===yr){var a=r.targetName,o=a?t[a]:t;r.saveFinalToTarget(o)}}},e.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,_r)},e.prototype._savePrimaryToNormal=function(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];null==e[i]||i in t||(t[i]=this[i])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(e){return this.states[e]},e.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},e.prototype.clearStates=function(e){this.useState(yr,!1,e)},e.prototype.useState=function(t,n,r){var i=t===yr,a=this.hasState();if(a||!i){var o=this.currentStates,s=this.stateTransition;if(!(F(o,t)>=0)||!n&&1!==o.length){var u;if(this.stateProxy&&!i&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),u||i){i||this.saveCurrentToNormalState(u);var l=!(!u||!u.hoverLayer);return l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,n,!r&&!this.__inHover&&s&&s.duration>0,s),this._textContent&&this._textContent.useState(t,n),this._textGuide&&this._textGuide.useState(t,n),i?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~e.REDARAW_BIT),u}P("State "+t+" not exists.")}}},e.prototype.useStates=function(t,n){if(t.length){var r=[],i=this.currentStates,a=t.length,o=a===i.length;if(o)for(var s=0;s<a;s++)if(t[s]!==i[s]){o=!1;break}if(o)return;for(s=0;s<a;s++){var u=t[s],l=void 0;this.stateProxy&&(l=this.stateProxy(u,t)),l||(l=this.states[u]),l&&r.push(l)}var c=!(!r[a-1]||!r[a-1].hoverLayer);c&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(r),h=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(t.join(","),f,this._normalState,!1,!n&&!this.__inHover&&h&&h.duration>0,h),this._textContent&&this._textContent.useStates(t),this._textGuide&&this._textGuide.useStates(t),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~e.REDARAW_BIT)}else this.clearStates()},e.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},e.prototype.removeState=function(e){var t=F(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},e.prototype.replaceState=function(e,t,n){var r=this.currentStates.slice(),i=F(r,e),a=F(r,t)>=0;i>=0?a?r.splice(i,1):r[i]=t:n&&!a&&r.push(t),this.useStates(r)},e.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},e.prototype._mergeStates=function(e){for(var t,n={},r=0;r<e.length;r++){var i=e[r];R(n,i),i.textConfig&&(t=t||{},R(t,i.textConfig))}return t&&(n.textConfig=t),n},e.prototype._applyStateObj=function(e,t,n,r,i,a){var o=!(t&&r);t&&t.textConfig?(this.textConfig=R({},r?this.textConfig:n.textConfig),R(this.textConfig,t.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},u=!1,l=0;l<_r.length;l++){var c=_r[l],f=i&&br[c];t&&null!=t[c]?f?(u=!0,s[c]=t[c]):this[c]=t[c]:o&&null!=n[c]&&(f?(u=!0,s[c]=n[c]):this[c]=n[c])}if(!i)for(l=0;l<this.animators.length;l++){var h=this.animators[l],d=h.targetName;h.__changeFinalValue(d?(t||n)[d]:t||n)}u&&this._transitionState(e,s,a)},e.prototype._attachComponent=function(e){if(e.__zr&&!e.__hostTarget)throw new Error("Text element has been added to zrender.");if(e===this)throw new Error("Recursive component attachment.");var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this},e.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},e.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(e){var t=this._textContent;if(t!==e){if(t&&t!==e&&this.removeTextContent(),e.__zr&&!e.__hostTarget)throw new Error("Text element has been added to zrender.");e.attachedTransform=new Bt,this._attachComponent(e),this._textContent=e,this.markRedraw()}},e.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),R(this.textConfig,e),this.markRedraw()},e.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.attachedTransform=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=e.REDARAW_BIT;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},e.prototype.addSelfToZr=function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)},e.prototype.removeSelfFromZr=function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)},e.prototype.animate=function(e,t){var n=e?this[e]:this;if(n){var r=new Hn(n,t);return this.addAnimator(r,e),r}P('Property "'+e+'" is not existed in element '+this.id)},e.prototype.addAnimator=function(e,t){var n=this.__zr,r=this;e.during((function(){r.updateDuringAnimation(t)})).done((function(){var t=r.animators,n=F(t,e);n>=0&&t.splice(n,1)})),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(e){this.markRedraw()},e.prototype.stopAnimation=function(e,t){for(var n=this.animators,r=n.length,i=[],a=0;a<r;a++){var o=n[a];e&&e!==o.scope?i.push(o):o.stop(t)}return this.animators=i,this},e.prototype.animateTo=function(e,t,n){Tr(this,e,t,n)},e.prototype.animateFrom=function(e,t,n){Tr(this,e,t,n,!0)},e.prototype._transitionState=function(e,t,n,r){for(var i=Tr(this,t,n,r),a=0;a<i.length;a++)i[a].__fromStateTransition=e},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.REDARAW_BIT=1,e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=!1,t.silent=!1,t.isGroup=!1,t.draggable=!1,t.dragging=!1,t.ignoreClip=!1,t.__inHover=!1,t.__dirty=e.REDARAW_BIT;var n={};function r(e,t,r){n[e+t+r]||(console.warn("DEPRECATED: '"+e+"' has been deprecated. use '"+t+"', '"+r+"' instead"),n[e+t+r]=!0)}function i(e,n,i,a){function o(e,t){Object.defineProperty(t,0,{get:function(){return e[i]},set:function(t){e[i]=t}}),Object.defineProperty(t,1,{get:function(){return e[a]},set:function(t){e[a]=t}})}Object.defineProperty(t,e,{get:function(){if(r(e,i,a),!this[n]){var t=this[n]=[];o(this,t)}return this[n]},set:function(t){r(e,i,a),this[i]=t[0],this[a]=t[1],this[n]=t,o(this,t)}})}Object.defineProperty&&(!v.browser.ie||v.browser.version>8)&&(i("position","_legacyPos","x","y"),i("scale","_legacyScale","scaleX","scaleY"),i("origin","_legacyOrigin","originX","originY"))}(),e}();function Tr(e,t,n,r,i){n=n||{};var a=[];Ar(e,"",e,t,n,r,a,i);var o=a.length,s=!1,u=n.done,l=n.aborted,c=function(){s=!0,o--,o<=0&&(s?u&&u():l&&l())},f=function(){o--,o<=0&&(s?u&&u():l&&l())};o||u&&u(),a.length>0&&n.during&&a[0].during((function(e,t){n.during(t)}));for(var h=0;h<a.length;h++){var d=a[h];c&&d.done(c),f&&d.aborted(f),d.start(n.easing,n.force)}return a}function Er(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function Mr(e){return j(e[0])}function Cr(e,t,n){if(j(t[n]))if(j(e[n])||(e[n]=[]),ne(t[n])){var r=t[n].length;e[n].length!==r&&(e[n]=new t[n].constructor(r),Er(e[n],t[n],r))}else{var i=t[n],a=e[n],o=i.length;if(Mr(i))for(var s=i[0].length,u=0;u<o;u++)a[u]?Er(a[u],i[u],s):a[u]=Array.prototype.slice.call(i[u]);else Er(a,i,o);a.length=i.length}else e[n]=t[n]}function Ar(e,t,n,r,i,a,o,s){for(var u=[],l=[],c=W(r),f=i.duration,h=i.delay,d=i.additive,p=i.setToFinal,g=!ee(a),m=0;m<c.length;m++){var v=c[m];if(null!=n[v]&&null!=r[v]&&(g||a[v]))if(ee(r[v])&&!j(r[v])){if(t){s||(n[v]=r[v],e.updateDuringAnimation(t));continue}Ar(e,v,n[v],r[v],i,a&&a[v],o,s)}else u.push(v),l.push(v);else s||(n[v]=r[v],e.updateDuringAnimation(t),l.push(v))}var y=u.length;if(y>0||i.force&&!o.length){for(var _=e.animators,b=[],x=0;x<_.length;x++)_[x].targetName===t&&b.push(_[x]);if(!d&&b.length)for(x=0;x<b.length;x++){var w=b[x].stopTracks(l);if(w){var S=F(_,b[x]);_.splice(S,1)}}var T=void 0,E=void 0,M=void 0;if(s){E={},p&&(T={});for(x=0;x<y;x++){v=u[x];E[v]=n[v],p?T[v]=r[v]:n[v]=r[v]}}else if(p){M={};for(x=0;x<y;x++){v=u[x];M[v]=In(n[v]),Cr(n,r,v)}}var C=new Hn(n,!1,d?b:null);C.targetName=t,i.scope&&(C.scope=i.scope),p&&T&&C.whenWithKeys(0,T,u),M&&C.whenWithKeys(0,M,u),C.whenWithKeys(null==f?500:f,s?E:r,u).delay(h||0),e.addAnimator(C,t),o.push(C)}}z(Sr,Ue),z(Sr,Bt);var Or=Sr,Dr=32,Pr=7;function Lr(e){var t=0;while(e>=Dr)t|=1&e,e>>=1;return e+t}function Ir(e,t,n,r){var i=t+1;if(i===n)return 1;if(r(e[i++],e[t])<0){while(i<n&&r(e[i],e[i-1])<0)i++;Rr(e,t,i)}else while(i<n&&r(e[i],e[i-1])>=0)i++;return i-t}function Rr(e,t,n){n--;while(t<n){var r=e[t];e[t++]=e[n],e[n--]=r}}function kr(e,t,n,r,i){for(r===t&&r++;r<n;r++){var a,o=e[r],s=t,u=r;while(s<u)a=s+u>>>1,i(o,e[a])<0?u=a:s=a+1;var l=r-s;switch(l){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:while(l>0)e[s+l]=e[s+l-1],l--}e[s]=o}}function Nr(e,t,n,r,i,a){var o=0,s=0,u=1;if(a(e,t[n+i])>0){s=r-i;while(u<s&&a(e,t[n+i+u])>0)o=u,u=1+(u<<1),u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}else{s=i+1;while(u<s&&a(e,t[n+i-u])<=0)o=u,u=1+(u<<1),u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}o++;while(o<u){var c=o+(u-o>>>1);a(e,t[n+c])>0?o=c+1:u=c}return u}function Fr(e,t,n,r,i,a){var o=0,s=0,u=1;if(a(e,t[n+i])<0){s=i+1;while(u<s&&a(e,t[n+i-u])<0)o=u,u=1+(u<<1),u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}else{s=r-i;while(u<s&&a(e,t[n+i+u])>=0)o=u,u=1+(u<<1),u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}o++;while(o<u){var c=o+(u-o>>>1);a(e,t[n+c])<0?u=c:o=c+1}return u}function Br(e,t){var n,r,i=Pr,a=0,o=0;a=e.length;var s=[];function u(e,t){n[o]=e,r[o]=t,o+=1}function l(){while(o>1){var e=o-2;if(e>=1&&r[e-1]<=r[e]+r[e+1]||e>=2&&r[e-2]<=r[e]+r[e-1])r[e-1]<r[e+1]&&e--;else if(r[e]>r[e+1])break;f(e)}}function c(){while(o>1){var e=o-2;e>0&&r[e-1]<r[e+1]&&e--,f(e)}}function f(i){var a=n[i],s=r[i],u=n[i+1],l=r[i+1];r[i]=s+l,i===o-3&&(n[i+1]=n[i+2],r[i+1]=r[i+2]),o--;var c=Fr(e[u],e,a,s,0,t);a+=c,s-=c,0!==s&&(l=Nr(e[a+s-1],e,u,l,l-1,t),0!==l&&(s<=l?h(a,s,u,l):d(a,s,u,l)))}function h(n,r,a,o){var u=0;for(u=0;u<r;u++)s[u]=e[n+u];var l=0,c=a,f=n;if(e[f++]=e[c++],0!==--o)if(1!==r){var h,d,p,g=i;while(1){h=0,d=0,p=!1;do{if(t(e[c],s[l])<0){if(e[f++]=e[c++],d++,h=0,0===--o){p=!0;break}}else if(e[f++]=s[l++],h++,d=0,1===--r){p=!0;break}}while((h|d)<g);if(p)break;do{if(h=Fr(e[c],s,l,r,0,t),0!==h){for(u=0;u<h;u++)e[f+u]=s[l+u];if(f+=h,l+=h,r-=h,r<=1){p=!0;break}}if(e[f++]=e[c++],0===--o){p=!0;break}if(d=Nr(s[l],e,c,o,0,t),0!==d){for(u=0;u<d;u++)e[f+u]=e[c+u];if(f+=d,c+=d,o-=d,0===o){p=!0;break}}if(e[f++]=s[l++],1===--r){p=!0;break}g--}while(h>=Pr||d>=Pr);if(p)break;g<0&&(g=0),g+=2}if(i=g,i<1&&(i=1),1===r){for(u=0;u<o;u++)e[f+u]=e[c+u];e[f+o]=s[l]}else{if(0===r)throw new Error;for(u=0;u<r;u++)e[f+u]=s[l+u]}}else{for(u=0;u<o;u++)e[f+u]=e[c+u];e[f+o]=s[l]}else for(u=0;u<r;u++)e[f+u]=s[l+u]}function d(n,r,a,o){var u=0;for(u=0;u<o;u++)s[u]=e[a+u];var l=n+r-1,c=o-1,f=a+o-1,h=0,d=0;if(e[f--]=e[l--],0!==--r)if(1!==o){var p=i;while(1){var g=0,m=0,v=!1;do{if(t(s[c],e[l])<0){if(e[f--]=e[l--],g++,m=0,0===--r){v=!0;break}}else if(e[f--]=s[c--],m++,g=0,1===--o){v=!0;break}}while((g|m)<p);if(v)break;do{if(g=r-Fr(s[c],e,n,r,r-1,t),0!==g){for(f-=g,l-=g,r-=g,d=f+1,h=l+1,u=g-1;u>=0;u--)e[d+u]=e[h+u];if(0===r){v=!0;break}}if(e[f--]=s[c--],1===--o){v=!0;break}if(m=o-Nr(e[l],s,0,o,o-1,t),0!==m){for(f-=m,c-=m,o-=m,d=f+1,h=c+1,u=0;u<m;u++)e[d+u]=s[h+u];if(o<=1){v=!0;break}}if(e[f--]=e[l--],0===--r){v=!0;break}p--}while(g>=Pr||m>=Pr);if(v)break;p<0&&(p=0),p+=2}if(i=p,i<1&&(i=1),1===o){for(f-=r,l-=r,d=f+1,h=l+1,u=r-1;u>=0;u--)e[d+u]=e[h+u];e[f]=s[c]}else{if(0===o)throw new Error;for(h=f-(o-1),u=0;u<o;u++)e[h+u]=s[u]}}else{for(f-=r,l-=r,d=f+1,h=l+1,u=r-1;u>=0;u--)e[d+u]=e[h+u];e[f]=s[c]}else for(h=f-(o-1),u=0;u<o;u++)e[h+u]=s[u]}return a<120?5:a<1542?10:a<119151?19:40,n=[],r=[],{mergeRuns:l,forceMergeRuns:c,pushRun:u}}function zr(e,t,n,r){n||(n=0),r||(r=e.length);var i=r-n;if(!(i<2)){var a=0;if(i<Dr)return a=Ir(e,n,r,t),void kr(e,n,r,n+a,t);var o=Br(e,t),s=Lr(i);do{if(a=Ir(e,n,r,t),a<s){var u=i;u>s&&(u=s),kr(e,n,n+u,n+a,t),a=u}o.pushRun(n,a),o.mergeRuns(),i-=a,n+=a}while(0!==i);o.forceMergeRuns()}}var jr=!1;function Hr(){jr||(jr=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Ur(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var Vr,Gr=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Ur}return e.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},e.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return!e&&n.length||this.updateDisplayList(t),n},e.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,r=0,i=t.length;r<i;r++)this._updateAndAddDisplayable(t[r],null,e);n.length=this._displayListLen,v.canvasSupported&&zr(n,Ur)},e.prototype._updateAndAddDisplayable=function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)t=null;else if(r){t=t?t.slice():[];var i=r,a=e;while(i)i.parent=a,i.updateTransform(),t.push(i),a=i,i=i.getClipPath()}if(e.childrenRef){for(var o=e.childrenRef(),s=0;s<o.length;s++){var u=o[s];e.__dirty&&(u.__dirty|=Or.REDARAW_BIT),this._updateAndAddDisplayable(u,t,n)}e.__dirty=0}else{var l=e;t&&t.length?l.__clipPaths=t:l.__clipPaths&&l.__clipPaths.length>0&&(l.__clipPaths=[]),isNaN(l.z)&&(Hr(),l.z=0),isNaN(l.z2)&&(Hr(),l.z2=0),isNaN(l.zlevel)&&(Hr(),l.zlevel=0),this._displayList[this._displayListLen++]=l}var c=e.getDecalElement&&e.getDecalElement();c&&this._updateAndAddDisplayable(c,t,n);var f=e.getTextGuideLine();f&&this._updateAndAddDisplayable(f,t,n);var h=e.getTextContent();h&&this._updateAndAddDisplayable(h,t,n)}},e.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},e.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);else{var r=F(this._roots,e);r>=0&&this._roots.splice(r,1)}},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),Wr=Gr;Vr="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var Xr=Vr,Kr=function(e){function t(t){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n.onframe=t.onframe||function(){},n}return f(t,e),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._clipsHead?(this._clipsTail.next=e,e.prev=this._clipsTail,e.next=null,this._clipsTail=e):this._clipsHead=this._clipsTail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var t=e.getClip();t&&this.addClip(t)},t.prototype.removeClip=function(e){if(e.animation){var t=e.prev,n=e.next;t?t.next=n:this._clipsHead=n,n?n.prev=t:this._clipsTail=t,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var t=e.getClip();t&&this.removeClip(t),e.animation=null},t.prototype.update=function(e){var t=(new Date).getTime()-this._pausedTime,n=t-this._time,r=this._clipsHead;while(r){var i=r.next,a=r.step(t,n);a?(r.ondestroy&&r.ondestroy(),this.removeClip(r),r=i):r=i}this._time=t,e||(this.onframe(n),this.trigger("frame",n),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;function t(){e._running&&(Xr(t),!e._paused&&e.update())}this._running=!0,Xr(t)},t.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){var e=this._clipsHead;while(e){var t=e.next;e.prev=e.next=e.animation=null,e=t}this._clipsHead=this._clipsTail=null},t.prototype.isFinished=function(){return null==this._clipsHead},t.prototype.animate=function(e,t){t=t||{},this.start();var n=new Hn(e,t.loop);return this.addAnimator(n),n},t}(Ue),qr=Kr,Yr=300,Zr=v.domSupported,$r=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=U(e,(function(e){var t=e.replace("mouse","pointer");return n.hasOwnProperty(t)?t:e}));return{mouse:e,touch:t,pointer:r}}(),Qr={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},Jr=!1;function ei(e){var t=e.pointerType;return"pen"===t||"touch"===t}function ti(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout((function(){e.touching=!1,e.touchTimer=null}),700)}function ni(e){e&&(e.zrByTouch=!0)}function ri(e,t){return rt(e.dom,new ai(e,t),!0)}function ii(e,t){var n=t,r=!1;while(n&&9!==n.nodeType&&!(r=n.domBelongToZr||n!==t&&n===e.painterRoot))n=n.parentNode;return r}var ai=function(){function e(e,t){this.stopPropagation=xe,this.stopImmediatePropagation=xe,this.preventDefault=xe,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return e}(),oi={mousedown:function(e){e=rt(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=rt(this.dom,e);var t=this.__mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=rt(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=rt(this.dom,e);var t=e.toElement||e.relatedTarget;ii(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){Jr=!0,e=rt(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){Jr||(e=rt(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=rt(this.dom,e),ni(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),oi.mousemove.call(this,e),oi.mousedown.call(this,e)},touchmove:function(e){e=rt(this.dom,e),ni(e),this.handler.processGesture(e,"change"),oi.mousemove.call(this,e)},touchend:function(e){e=rt(this.dom,e),ni(e),this.handler.processGesture(e,"end"),oi.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<Yr&&oi.click.call(this,e)},pointerdown:function(e){oi.mousedown.call(this,e)},pointermove:function(e){ei(e)||oi.mousemove.call(this,e)},pointerup:function(e){oi.mouseup.call(this,e)},pointerout:function(e){ei(e)||oi.mouseout.call(this,e)}};H(["click","dblclick","contextmenu"],(function(e){oi[e]=function(t){t=rt(this.dom,t),this.trigger(e,t)}}));var si={pointermove:function(e){ei(e)||si.mousemove.call(this,e)},pointerup:function(e){si.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function ui(e,t){var n=t.domHandlers;v.pointerEventsSupported?H($r.pointer,(function(r){ci(t,r,(function(t){n[r].call(e,t)}))})):(v.touchEventsSupported&&H($r.touch,(function(r){ci(t,r,(function(i){n[r].call(e,i),ti(t)}))})),H($r.mouse,(function(r){ci(t,r,(function(i){i=nt(i),t.touching||n[r].call(e,i)}))})))}function li(e,t){function n(n){function r(r){r=nt(r),ii(e,r.target)||(r=ri(e,r),t.domHandlers[n].call(e,r))}ci(t,n,r,{capture:!0})}v.pointerEventsSupported?H(Qr.pointer,n):v.touchEventsSupported||H(Qr.mouse,n)}function ci(e,t,n,r){e.mounted[t]=n,e.listenerOpts[t]=r,at(e.domTarget,t,n,r)}function fi(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&ot(e.domTarget,n,t[n],e.listenerOpts[n]);e.mounted={}}var hi=function(){function e(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return e}(),di=function(e){function t(t,n){var r=e.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=n,r._localHandlerScope=new hi(t,oi),Zr&&(r._globalHandlerScope=new hi(document,si)),ui(r,r._localHandlerScope),r}return f(t,e),t.prototype.dispose=function(){fi(this._localHandlerScope),Zr&&fi(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,Zr&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var t=this._globalHandlerScope;e?li(this,t):fi(t)}},t}(Ue),pi=di,gi=function(e){function t(t){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return f(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){if(e&&(e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),e.__hostTarget))throw"This elemenet has been used as an attachment";return this},t.prototype.addBefore=function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,r=n.indexOf(t);r>=0&&(n.splice(r,0,e),this._doAdd(e))}return this},t.prototype.replaceAt=function(e,t){var n=this._children,r=n[t];if(e&&e!==this&&e.parent!==this&&e!==r){n[t]=e,r.parent=null;var i=this.__zr;i&&r.removeSelfFromZr(i),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__zr;t&&t!==e.__zr&&e.addSelfToZr(t),t&&t.refresh()},t.prototype.remove=function(e){var t=this.__zr,n=this._children,r=F(n,e);return r<0||(n.splice(r,1),e.parent=null,t&&e.removeSelfFromZr(t),t&&t.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,t=this.__zr,n=0;n<e.length;n++){var r=e[n];t&&r.removeSelfFromZr(t),r.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,t){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];e.call(t,i,r)}return this},t.prototype.traverse=function(e,t){for(var n=0;n<this._children.length;n++){var r=this._children[n],i=e.call(t,r);r.isGroup&&!i&&r.traverse(e,t)}return this},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.removeSelfFromZr(t)}},t.prototype.getBoundingRect=function(e){for(var t=new Jn(0,0,0,0),n=e||this._children,r=[],i=null,a=0;a<n.length;a++){var o=n[a];if(!o.ignore&&!o.invisible){var s=o.getBoundingRect(),u=o.getLocalTransform(r);u?(Jn.applyTransform(t,s,u),i=i||t.clone(),i.union(t)):(i=i||s.clone(),i.union(s))}}return i||t},t}(Or);gi.prototype.type="group";var mi=gi,vi=!v.canvasSupported,yi={},_i={};function bi(e){delete _i[e]}function xi(e){if(!e)return!1;if("string"===typeof e)return _n(e,1)<pr;if(e.colorStops){for(var t=e.colorStops,n=0,r=t.length,i=0;i<r;i++)n+=_n(t[i].color,1);return n/=r,n<pr}return!1}var wi=function(){function e(e,t,n){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e;var i=new Wr,a=n.renderer||"canvas";if(vi)throw new Error("IE8 support has been dropped since 5.0");if(yi[a]||(a=W(yi)[0]),!yi[a])throw new Error("Renderer '"+a+"' is not imported. Please import it first.");n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var o=new yi[a](t,i,n,e);this.storage=i,this.painter=o;var s=v.node||v.worker?null:new pi(o.getViewportRoot(),o.root);this.handler=new xt(i,o,s,o.root),this.animation=new qr({stage:{update:function(){return r._flush(!0)}}}),this.animation.start()}return e.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},e.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},e.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=xi(e)},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(e){this._darkMode=e},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},e.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},e.prototype.flush=function(){this._flush(!1)},e.prototype._flush=function(e){var t,n=(new Date).getTime();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=(new Date).getTime();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},e.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},e.prototype.addHover=function(e){},e.prototype.removeHover=function(e){},e.prototype.clearHover=function(){},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},e.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},e.prototype.clearAnimation=function(){this.animation.clear()},e.prototype.getWidth=function(){return this.painter.getWidth()},e.prototype.getHeight=function(){return this.painter.getHeight()},e.prototype.pathToImage=function(e,t){if(this.painter.pathToImage)return this.painter.pathToImage(e,t)},e.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},e.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},e.prototype.on=function(e,t,n){return this.handler.on(e,t,n),this},e.prototype.off=function(e,t){this.handler.off(e,t)},e.prototype.trigger=function(e,t){this.handler.trigger(e,t)},e.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof mi&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},e.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,bi(this.id)},e}();function Si(e,t){var n=new wi(D(),e,t);return _i[n.id]=n,n}function Ti(e){e.dispose()}function Ei(){for(var e in _i)_i.hasOwnProperty(e)&&_i[e].dispose();_i={}}function Mi(e){return _i[e]}function Ci(e,t){yi[e]=t}var Ai="5.0.4",Oi=1e-4;function Di(e){return e.replace(/^\s+|\s+$/g,"")}function Pi(e,t,n,r){var i=t[1]-t[0],a=n[1]-n[0];if(0===i)return 0===a?n[0]:(n[0]+n[1])/2;if(r)if(i>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/i*a+n[0]}function Li(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return"string"===typeof e?Di(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function Ii(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function Ri(e){return e.sort((function(e,t){return e-t})),e}function ki(e){if(e=+e,isNaN(e))return 0;var t=1,n=0;while(Math.round(e*t)/t!==e)t*=10,n++;return n}function Ni(e){var t=e.toString(),n=t.indexOf("e");if(n>0){var r=+t.slice(n+1);return r<0?-r:0}var i=t.indexOf(".");return i<0?0:t.length-1-i}function Fi(e,t){var n=Math.log,r=Math.LN10,i=Math.floor(n(e[1]-e[0])/r),a=Math.round(n(Math.abs(t[1]-t[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function Bi(e,t,n){if(!e[t])return 0;var r=V(e,(function(e,t){return e+(isNaN(t)?0:t)}),0);if(0===r)return 0;var i=Math.pow(10,n),a=U(e,(function(e){return(isNaN(e)?0:e)/r*i*100})),o=100*i,s=U(a,(function(e){return Math.floor(e)})),u=V(s,(function(e,t){return e+t}),0),l=U(a,(function(e,t){return e-s[t]}));while(u<o){for(var c=Number.NEGATIVE_INFINITY,f=null,h=0,d=l.length;h<d;++h)l[h]>c&&(c=l[h],f=h);++s[f],l[f]=0,++u}return s[t]/i}var zi=9007199254740991;function ji(e){var t=2*Math.PI;return(e%t+t)%t}function Hi(e){return e>-Oi&&e<Oi}var Ui=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Vi(e){if(e instanceof Date)return e;if("string"===typeof e){var t=Ui.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return null==e?new Date(NaN):new Date(Math.round(e))}function Gi(e){return Math.pow(10,Wi(e))}function Wi(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function Xi(e,t){var n,r=Wi(e),i=Math.pow(10,r),a=e/i;return n=t?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10,e=n*i,r>=-20?+e.toFixed(r<0?-r:0):e}function Ki(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i}function qi(e){e.sort((function(e,t){return s(e,t,0)?-1:1}));for(var t=-1/0,n=1,r=0;r<e.length;){for(var i=e[r].interval,a=e[r].close,o=0;o<2;o++)i[o]<=t&&(i[o]=t,a[o]=o?1:1-n),t=i[o],n=a[o];i[0]===i[1]&&a[0]*a[1]!==1?e.splice(r,1):r++}return e;function s(e,t,n){return e.interval[n]<t.interval[n]||e.interval[n]===t.interval[n]&&(e.close[n]-t.close[n]===(n?-1:1)||!n&&s(e,t,1))}}function Yi(e){var t=parseFloat(e);return t==e&&(0!==t||"string"!==typeof e||e.indexOf("x")<=0)?t:NaN}function Zi(e){return!isNaN(Yi(e))}function $i(){return Math.round(9*Math.random())}function Qi(e,t){return 0===t?e:Qi(t,e%t)}function Ji(e,t){return null==e?t:null==t?e:e*t/Qi(e,t)}var ea="series\0",ta="\0_ec_\0";function na(e){return e instanceof Array?e:null==e?[]:[e]}function ra(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,i=n.length;r<i;r++){var a=n[r];!e.emphasis[t].hasOwnProperty(a)&&e[t].hasOwnProperty(a)&&(e.emphasis[t][a]=e[t][a])}}}var ia=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function aa(e){return!ee(e)||Y(e)||e instanceof Date?e:e.value}function oa(e){return ee(e)&&!(e instanceof Array)}function sa(e,t,n){var r="normalMerge"===n,i="replaceMerge"===n,a="replaceAll"===n;e=e||[],t=(t||[]).slice();var o=ve();H(t,(function(e,n){ee(e)||(t[n]=null)}));var s=ua(e,o,n);return(r||i)&&la(s,e,o,t),r&&ca(s,t),r||i?fa(s,t,i):a&&ha(s,t),da(s),s}function ua(e,t,n){var r=[];if("replaceAll"===n)return r;for(var i=0;i<e.length;i++){var a=e[i];a&&null!=a.id&&t.set(a.id,i),r.push({existing:"replaceMerge"===n||ya(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}function la(e,t,n,r){H(r,(function(i,a){if(i&&null!=i.id){var o=ga(i.id),s=n.get(o);if(null!=s){var u=e[s];fe(!u.newOption,'Duplicated option on id "'+o+'".'),u.newOption=i,u.existing=t[s],r[a]=null}}}))}function ca(e,t){H(t,(function(n,r){if(n&&null!=n.name)for(var i=0;i<e.length;i++){var a=e[i].existing;if(!e[i].newOption&&a&&(null==a.id||null==n.id)&&!ya(n)&&!ya(a)&&pa("name",a,n))return e[i].newOption=n,void(t[r]=null)}}))}function fa(e,t,n){H(t,(function(t){if(t){var r,i=0;while((r=e[i])&&(r.newOption||ya(r.existing)||r.existing&&null!=t.id&&!pa("id",t,r.existing)))i++;r?(r.newOption=t,r.brandNew=n):e.push({newOption:t,brandNew:n,existing:null,keyInfo:null}),i++}}))}function ha(e,t){H(t,(function(t){e.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})}))}function da(e){var t=ve();H(e,(function(e){var n=e.existing;n&&t.set(n.id,e)})),H(e,(function(e){var n=e.newOption;fe(!n||null==n.id||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})})),H(e,(function(e,n){var r=e.existing,i=e.newOption,a=e.keyInfo;if(ee(i)){if(a.name=null!=i.name?ga(i.name):r?r.name:ea+n,r)a.id=ga(r.id);else if(null!=i.id)a.id=ga(i.id);else{var o=0;do{a.id="\0"+a.name+"\0"+o++}while(t.get(a.id))}t.set(a.id,e)}}))}function pa(e,t,n){var r=ma(t[e],null),i=ma(n[e],null);return null!=r&&null!=i&&r===i}function ga(e){return ma(e,"")}function ma(e,t){if(null==e)return t;var n=typeof e;return"string"===n?e:"number"===n||Q(e)?e+"":t}function va(e){var t=e.name;return!(!t||!t.indexOf(ea))}function ya(e){return e&&null!=e.id&&0===ga(e.id).indexOf(ta)}function _a(e,t,n){H(e,(function(e){var r=e.newOption;ee(r)&&(e.keyInfo.mainType=t,e.keyInfo.subType=ba(t,r,e.existing,n))}))}function ba(e,t,n,r){var i=t.type?t.type:n?n.subType:r.determineSubType(e,t);return i}function xa(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?Y(t.dataIndex)?U(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?Y(t.name)?U(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0}function wa(){var e="__ec_inner_"+Sa++;return function(t){return t[e]||(t[e]={})}}var Sa=$i();function Ta(e,t,n){var r;if($(t)){var i={};i[t+"Index"]=0,r=i}else r=t;var a=ve(),o={},s=!1;H(r,(function(e,t){if("dataIndex"!==t&&"dataIndexInside"!==t){var r=t.match(/^(\w+)(Index|Id|Name)$/)||[],i=r[1],u=(r[2]||"").toLowerCase();if(i&&u&&!(n&&n.includeMainTypes&&F(n.includeMainTypes,i)<0)){s=s||!!i;var l=a.get(i)||a.set(i,{});l[u]=e}}else o[t]=e}));var u=n?n.defaultMainType:null;return!s&&u&&a.set(u,{}),a.each((function(t,r){var i=Ma(e,r,t,{useDefault:u===r,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});o[r+"Models"]=i.models,o[r+"Model"]=i.models[0]})),o}var Ea={useDefault:!0,enableAll:!1,enableNone:!1};function Ma(e,t,n,r){r=r||Ea;var i=n.index,a=n.id,o=n.name,s={models:null,specified:null!=i||null!=a||null!=o};if(!s.specified){var u=void 0;return s.models=r.useDefault&&(u=e.getComponent(t))?[u]:[],s}return"none"===i||!1===i?(fe(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===i&&(fe(r.enableAll,'`"all"` is not a valid value on index option.'),i=a=o=null),s.models=e.queryComponents({mainType:t,index:i,id:a,name:o}),s)}function Ca(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function Aa(e,t,n,r,i){var a=null==t||"auto"===t;if(null==r)return r;if("number"===typeof r){var o=wn(n||0,r,i);return Ii(o,a?Math.max(Ni(n||0),Ni(r)):t)}if("string"===typeof r)return i<1?n:r;for(var s=[],u=n,l=r,c=Math.max(u?u.length:0,l.length),f=0;f<c;++f){var h=e.getDimensionInfo(f);if("ordinal"===h.type)s[f]=(i<1&&u?u:l)[f];else{var d=u&&u[f]?u[f]:0,p=l[f];o=wn(d,p,i);s[f]=Ii(o,a?Math.max(Ni(d),Ni(p)):t)}}return s}var Oa=".",Da="___EC__COMPONENT__CONTAINER___",Pa="___EC__EXTENDED_CLASS___";function La(e){var t={main:"",sub:""};if(e){var n=e.split(Oa);t.main=n[0]||"",t.sub=n[1]||""}return t}function Ia(e){fe(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function Ra(e){return!(!e||!e[Pa])}function ka(e,t){e.$constructor=e,e.extend=function(e){var t=this;function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e.$constructor)e.$constructor.apply(this,arguments);else{if(Na(t)){var a=_e(n.prototype,new(t.bind.apply(t,h([void 0],r))));return a}t.apply(this,arguments)}}return n[Pa]=!0,R(n.prototype,e),n.extend=this.extend,n.superCall=ja,n.superApply=Ha,B(n,this),n.superClass=t,n}}function Na(e){return"function"===typeof e&&/^class\s/.test(Function.prototype.toString.call(e))}function Fa(e,t){e.extend=t.extend}var Ba=Math.round(10*Math.random());function za(e){var t=["__\0is_clz",Ba++].join("_");e.prototype[t]=!0,e.isInstance=function(e){return!(!e||!e[t])}}function ja(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[t].apply(e,n)}function Ha(e,t,n){return this.superClass.prototype[t].apply(e,n)}function Ua(e){var t={};function n(e){var n=t[e.main];return n&&n[Da]||(n=t[e.main]={},n[Da]=!0),n}e.registerClass=function(e){var r=e.type||e.prototype.type;if(r){Ia(r),e.prototype.type=r;var i=La(r);if(i.sub){if(i.sub!==Da){var a=n(i);a[i.sub]=e}}else t[i.main]=e}return e},e.getClass=function(e,n,r){var i=t[e];if(i&&i[Da]&&(i=n?i[n]:null),r&&!i)throw new Error(n?"Component "+e+"."+(n||"")+" not exists. Load it first.":e+".type should be specified.");return i},e.getClassesByMainType=function(e){var n=La(e),r=[],i=t[n.main];return i&&i[Da]?H(i,(function(e,t){t!==Da&&r.push(e)})):r.push(i),r},e.hasClass=function(e){var n=La(e);return!!t[n.main]},e.getAllClassMainTypes=function(){var e=[];return H(t,(function(t,n){e.push(n)})),e},e.hasSubTypes=function(e){var n=La(e),r=t[n.main];return r&&r[Da]}}function Va(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(n,r,i){for(var a={},o=0;o<e.length;o++){var s=e[o][1];if(!(r&&F(r,s)>=0||i&&F(i,s)<0)){var u=n.getShallow(s,t);null!=u&&(a[e[o][0]]=u)}}return a}}var Ga=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Wa=Va(Ga),Xa=function(){function e(){}return e.prototype.getAreaStyle=function(e,t){return Wa(this,e,t)},e}(),Ka=new Xt(50);function qa(e){if("string"===typeof e){var t=Ka.get(e);return t&&t.image}return e}function Ya(e,t,n,r,i){if(e){if("string"===typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var a=Ka.get(e),o={hostEl:n,cb:r,cbPayload:i};return a?(t=a.image,!$a(t)&&a.pending.push(o)):(t=new Image,t.onload=t.onerror=Za,Ka.put(e,t.__cachedImgObj={image:t,pending:[o]}),t.src=t.__zrImageSrc=e),t}return e}return t}function Za(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function $a(e){return e&&e.width&&e.height}var Qa=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Ja(e,t,n,r,i){if(!t)return"";var a=(e+"").split("\n");i=eo(t,n,r,i);for(var o=0,s=a.length;o<s;o++)a[o]=to(a[o],i);return a.join("\n")}function eo(e,t,n,r){r=r||{};var i=R({},r);i.font=t,n=se(n,"..."),i.maxIterations=se(r.maxIterations,2);var a=i.minChar=se(r.minChar,0);i.cnCharWidth=ir("\u56fd",t);var o=i.ascCharWidth=ir("a",t);i.placeholder=se(r.placeholder,"");for(var s=e=Math.max(0,e-1),u=0;u<a&&s>=o;u++)s-=o;var l=ir(n,t);return l>s&&(n="",l=0),s=e-l,i.ellipsis=n,i.ellipsisWidth=l,i.contentWidth=s,i.containerWidth=e,i}function to(e,t){var n=t.containerWidth,r=t.font,i=t.contentWidth;if(!n)return"";var a=ir(e,r);if(a<=n)return e;for(var o=0;;o++){if(a<=i||o>=t.maxIterations){e+=t.ellipsis;break}var s=0===o?no(e,i,t.ascCharWidth,t.cnCharWidth):a>0?Math.floor(e.length*i/a):0;e=e.substr(0,s),a=ir(e,r)}return""===e&&(e=t.placeholder),e}function no(e,t,n,r){for(var i=0,a=0,o=e.length;a<o&&i<t;a++){var s=e.charCodeAt(a);i+=0<=s&&s<=127?n:r}return a}function ro(e,t){null!=e&&(e+="");var n,r=t.overflow,i=t.padding,a=t.font,o="truncate"===r,s=lr(a),u=se(t.lineHeight,s),l="truncate"===t.lineOverflow,c=t.width;n=null!=c&&"break"===r||"breakAll"===r?e?ho(e,t.font,c,"breakAll"===r,0).lines:[]:e?e.split("\n"):[];var f=n.length*u,h=se(t.height,f);if(f>h&&l){var d=Math.floor(h/u);n=n.slice(0,d)}var p=h,g=c;if(i&&(p+=i[0]+i[2],null!=g&&(g+=i[1]+i[3])),e&&o&&null!=g)for(var m=eo(c,a,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),v=0;v<n.length;v++)n[v]=to(n[v],m);if(null==c){var y=0;for(v=0;v<n.length;v++)y=Math.max(ir(n[v],a),y);c=y}return{lines:n,height:h,outerHeight:p,lineHeight:u,calculatedLineHeight:s,contentHeight:f,width:c}}var io=function(){function e(){}return e}(),ao=function(){function e(e){this.tokens=[],e&&(this.tokens=e)}return e}(),oo=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return e}();function so(e,t){var n=new oo;if(null!=e&&(e+=""),!e)return n;var r,i=t.width,a=t.height,o=t.overflow,s="break"!==o&&"breakAll"!==o||null==i?null:{width:i,accumWidth:0,breakAll:"breakAll"===o},u=Qa.lastIndex=0;while(null!=(r=Qa.exec(e))){var l=r.index;l>u&&uo(n,e.substring(u,l),t,s),uo(n,r[2],t,s,r[1]),u=Qa.lastIndex}u<e.length&&uo(n,e.substring(u,e.length),t,s);var c=[],f=0,h=0,d=t.padding,p="truncate"===o,g="truncate"===t.lineOverflow;function m(e,t,n){e.width=t,e.lineHeight=n,f+=n,h=Math.max(h,t)}e:for(var v=0;v<n.lines.length;v++){for(var y=n.lines[v],_=0,b=0,x=0;x<y.tokens.length;x++){var w=y.tokens[x],S=w.styleName&&t.rich[w.styleName]||{},T=w.textPadding=S.padding,E=T?T[1]+T[3]:0,M=w.font=S.font||t.font;w.contentHeight=lr(M);var C=se(S.height,w.contentHeight);if(w.innerHeight=C,T&&(C+=T[0]+T[2]),w.height=C,w.lineHeight=ue(S.lineHeight,t.lineHeight,C),w.align=S&&S.align||t.align,w.verticalAlign=S&&S.verticalAlign||"middle",g&&null!=a&&f+w.lineHeight>a){x>0?(y.tokens=y.tokens.slice(0,x),m(y,b,_),n.lines=n.lines.slice(0,v+1)):n.lines=n.lines.slice(0,v);break e}var A=S.width,O=null==A||"auto"===A;if("string"===typeof A&&"%"===A.charAt(A.length-1))w.percentWidth=A,c.push(w),w.contentWidth=ir(w.text,M);else{if(O){var D=S.backgroundColor,P=D&&D.image;P&&(P=qa(P),$a(P)&&(w.width=Math.max(w.width,P.width*C/P.height)))}var L=p&&null!=i?i-b:null;null!=L&&L<w.width?!O||L<E?(w.text="",w.width=w.contentWidth=0):(w.text=Ja(w.text,L-E,M,t.ellipsis,{minChar:t.truncateMinChar}),w.width=w.contentWidth=ir(w.text,M)):w.contentWidth=ir(w.text,M)}w.width+=E,b+=w.width,S&&(_=Math.max(_,w.lineHeight)),w}m(y,b,_)}n.outerWidth=n.width=se(i,h),n.outerHeight=n.height=se(a,f),n.contentHeight=f,n.contentWidth=h,d&&(n.outerWidth+=d[1]+d[3],n.outerHeight+=d[0]+d[2]);for(v=0;v<c.length;v++){w=c[v];var I=w.percentWidth;w.width=parseInt(I,10)/100*n.width}return n}function uo(e,t,n,r,i){var a,o,s=""===t,u=i&&n.rich[i]||{},l=e.lines,c=u.font||n.font,f=!1;if(r){var h=u.padding,d=h?h[1]+h[3]:0;if(null!=u.width&&"auto"!==u.width){var p=po(u.width,r.width)+d;l.length>0&&p+r.accumWidth>r.width&&(a=t.split("\n"),f=!0),r.accumWidth=p}else{var g=ho(t,c,r.width,r.breakAll,r.accumWidth);r.accumWidth=g.accumWidth+d,o=g.linesWidths,a=g.lines}}else a=t.split("\n");for(var m=0;m<a.length;m++){var v=a[m],y=new io;if(y.styleName=i,y.text=v,y.isLineHolder=!v&&!s,"number"===typeof u.width?y.width=u.width:y.width=o?o[m]:ir(v,c),m||f)l.push(new ao([y]));else{var _=(l[l.length-1]||(l[0]=new ao)).tokens,b=_.length;1===b&&_[0].isLineHolder?_[0]=y:(v||!b||s)&&_.push(y)}}}function lo(e){var t=e.charCodeAt(0);return t>=33&&t<=255}var co=V(",&?/;] ".split(""),(function(e,t){return e[t]=!0,e}),{});function fo(e){return!lo(e)||!!co[e]}function ho(e,t,n,r,i){for(var a=[],o=[],s="",u="",l=0,c=0,f=0;f<e.length;f++){var h=e.charAt(f);if("\n"!==h){var d=ir(h,t),p=!r&&!fo(h);(a.length?c+d>n:i+c+d>n)?c?(s||u)&&(p?(s||(s=u,u="",l=0,c=l),a.push(s),o.push(c-l),u+=h,l+=d,s="",c=l):(u&&(s+=u,c+=l,u="",l=0),a.push(s),o.push(c),s=h,c=d)):p?(a.push(u),o.push(l),u=h,l=d):(a.push(h),o.push(d)):(c+=d,p?(u+=h,l+=d):(u&&(s+=u,u="",l=0),s+=h))}else u&&(s+=u,c+=l),a.push(s),o.push(c),s="",u="",l=0,c=0}return a.length||s||(s=e,u="",l=0),u&&(s+=u),s&&(a.push(s),o.push(c)),1===a.length&&(c+=i),{accumWidth:c,lines:a,linesWidths:o}}function po(e,t){return"string"===typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}var go="__zr_style_"+Math.round(10*Math.random()),mo={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},vo={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};mo[go]=!0;var yo=["z","z2","invisible"],_o=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype._init=function(t){for(var n=W(t),r=0;r<n.length;r++){var i=n[r];"style"===i?this.useStyle(t[i]):e.prototype.attrKV.call(this,i,t[i])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,t,n,r){var i=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&wo(this,e,t)||i&&!i[0]&&!i[3])return!1;if(n&&this.__clipPaths)for(var a=0;a<this.__clipPaths.length;++a)if(this.__clipPaths[a].isZeroArea())return!1;if(r&&this.parent){var o=this.parent;while(o){if(o.ignore)return!1;o=o.parent}}return!0},t.prototype.contain=function(e,t){return this.rectContain(e,t)},t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.rectContain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return r.contain(n[0],n[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var t=this.transform,n=this.getBoundingRect(),r=this.style,i=r.shadowBlur||0,a=r.shadowOffsetX||0,o=r.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Jn(0,0,0,0)),t?Jn.applyTransform(e,n,t):e.copy(n),(i||a||o)&&(e.width+=2*i+Math.abs(a),e.height+=2*i+Math.abs(o),e.x=Math.min(e.x,e.x+a-i),e.y=Math.min(e.y,e.y+o-i));var s=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-s),e.y=Math.floor(e.y-s),e.width=Math.ceil(e.width+1+2*s),e.height=Math.ceil(e.height+1+2*s))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Jn(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(t,n){"style"!==t?e.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,t){return"string"===typeof e?this.style[e]=t:R(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(){this.markRedraw(),this.__dirty|=t.STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&t.STYLE_CHANGED_BIT)},t.prototype.styleUpdated=function(){this.__dirty&=~t.STYLE_CHANGED_BIT},t.prototype.createStyle=function(e){return _e(mo,e)},t.prototype.useStyle=function(e){e[go]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[go]},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,yo)},t.prototype._applyStateObj=function(t,n,r,i,a,o){e.prototype._applyStateObj.call(this,t,n,r,i,a,o);var s,u=!(n&&i);if(n&&n.style?a?i?s=n.style:(s=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(s,n.style)):(s=this._mergeStyle(this.createStyle(),i?this.style:r.style),this._mergeStyle(s,n.style)):u&&(s=r.style),s)if(a){var l=this.style;if(this.style=this.createStyle(u?{}:l),u)for(var c=W(l),f=0;f<c.length;f++){var h=c[f];h in s&&(s[h]=s[h],this.style[h]=l[h])}var d=W(s);for(f=0;f<d.length;f++){h=d[f];this.style[h]=this.style[h]}this._transitionState(t,{style:s},o,this.getAnimationStyleProps())}else this.useStyle(s);for(f=0;f<yo.length;f++){h=yo[f];n&&null!=n[h]?this[h]=n[h]:u&&null!=r[h]&&(this[h]=r[h])}},t.prototype._mergeStates=function(t){for(var n,r=e.prototype._mergeStates.call(this,t),i=0;i<t.length;i++){var a=t[i];a.style&&(n=n||{},this._mergeStyle(n,a.style))}return n&&(r.style=n),r},t.prototype._mergeStyle=function(e,t){return R(e,t),e},t.prototype.getAnimationStyleProps=function(){return vo},t.STYLE_CHANGED_BIT=2,t.initDefaultProps=function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=Or.REDARAW_BIT|t.STYLE_CHANGED_BIT}(),t}(Or),bo=new Jn(0,0,0,0),xo=new Jn(0,0,0,0);function wo(e,t,n){return bo.copy(e.getBoundingRect()),e.transform&&bo.applyTransform(e.transform),xo.width=t,xo.height=n,!bo.intersect(xo)}var So=_o,To=Math.pow,Eo=Math.sqrt,Mo=1e-8,Co=1e-4,Ao=Eo(3),Oo=1/3,Do=we(),Po=we(),Lo=we();function Io(e){return e>-Mo&&e<Mo}function Ro(e){return e>Mo||e<-Mo}function ko(e,t,n,r,i){var a=1-i;return a*a*(a*e+3*i*t)+i*i*(i*r+3*a*n)}function No(e,t,n,r,i){var a=1-i;return 3*(((t-e)*a+2*(n-t)*i)*a+(r-n)*i*i)}function Fo(e,t,n,r,i,a){var o=r+3*(t-n)-e,s=3*(n-2*t+e),u=3*(t-e),l=e-i,c=s*s-3*o*u,f=s*u-9*o*l,h=u*u-3*s*l,d=0;if(Io(c)&&Io(f))if(Io(s))a[0]=0;else{var p=-u/s;p>=0&&p<=1&&(a[d++]=p)}else{var g=f*f-4*c*h;if(Io(g)){var m=f/c,v=(p=-s/o+m,-m/2);p>=0&&p<=1&&(a[d++]=p),v>=0&&v<=1&&(a[d++]=v)}else if(g>0){var y=Eo(g),_=c*s+1.5*o*(-f+y),b=c*s+1.5*o*(-f-y);_=_<0?-To(-_,Oo):To(_,Oo),b=b<0?-To(-b,Oo):To(b,Oo);p=(-s-(_+b))/(3*o);p>=0&&p<=1&&(a[d++]=p)}else{var x=(2*c*s-3*o*f)/(2*Eo(c*c*c)),w=Math.acos(x)/3,S=Eo(c),T=Math.cos(w),E=(p=(-s-2*S*T)/(3*o),v=(-s+S*(T+Ao*Math.sin(w)))/(3*o),(-s+S*(T-Ao*Math.sin(w)))/(3*o));p>=0&&p<=1&&(a[d++]=p),v>=0&&v<=1&&(a[d++]=v),E>=0&&E<=1&&(a[d++]=E)}}return d}function Bo(e,t,n,r,i){var a=6*n-12*t+6*e,o=9*t+3*r-3*e-9*n,s=3*t-3*e,u=0;if(Io(o)){if(Ro(a)){var l=-s/a;l>=0&&l<=1&&(i[u++]=l)}}else{var c=a*a-4*o*s;if(Io(c))i[0]=-a/(2*o);else if(c>0){var f=Eo(c),h=(l=(-a+f)/(2*o),(-a-f)/(2*o));l>=0&&l<=1&&(i[u++]=l),h>=0&&h<=1&&(i[u++]=h)}}return u}function zo(e,t,n,r,i,a){var o=(t-e)*i+e,s=(n-t)*i+t,u=(r-n)*i+n,l=(s-o)*i+o,c=(u-s)*i+s,f=(c-l)*i+l;a[0]=e,a[1]=o,a[2]=l,a[3]=f,a[4]=f,a[5]=c,a[6]=u,a[7]=r}function jo(e,t,n,r,i,a,o,s,u,l,c){var f,h,d,p,g,m=.005,v=1/0;Do[0]=u,Do[1]=l;for(var y=0;y<1;y+=.05)Po[0]=ko(e,n,i,o,y),Po[1]=ko(t,r,a,s,y),p=Ie(Do,Po),p<v&&(f=y,v=p);v=1/0;for(var _=0;_<32;_++){if(m<Co)break;h=f-m,d=f+m,Po[0]=ko(e,n,i,o,h),Po[1]=ko(t,r,a,s,h),p=Ie(Po,Do),h>=0&&p<v?(f=h,v=p):(Lo[0]=ko(e,n,i,o,d),Lo[1]=ko(t,r,a,s,d),g=Ie(Lo,Do),d<=1&&g<v?(f=d,v=g):m*=.5)}return c&&(c[0]=ko(e,n,i,o,f),c[1]=ko(t,r,a,s,f)),Eo(v)}function Ho(e,t,n,r,i,a,o,s,u){for(var l=e,c=t,f=0,h=1/u,d=1;d<=u;d++){var p=d*h,g=ko(e,n,i,o,p),m=ko(t,r,a,s,p),v=g-l,y=m-c;f+=Math.sqrt(v*v+y*y),l=g,c=m}return f}function Uo(e,t,n,r){var i=1-r;return i*(i*e+2*r*t)+r*r*n}function Vo(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function Go(e,t,n,r,i){var a=e-2*t+n,o=2*(t-e),s=e-r,u=0;if(Io(a)){if(Ro(o)){var l=-s/o;l>=0&&l<=1&&(i[u++]=l)}}else{var c=o*o-4*a*s;if(Io(c)){l=-o/(2*a);l>=0&&l<=1&&(i[u++]=l)}else if(c>0){var f=Eo(c),h=(l=(-o+f)/(2*a),(-o-f)/(2*a));l>=0&&l<=1&&(i[u++]=l),h>=0&&h<=1&&(i[u++]=h)}}return u}function Wo(e,t,n){var r=e+n-2*t;return 0===r?.5:(e-t)/r}function Xo(e,t,n,r,i){var a=(t-e)*r+e,o=(n-t)*r+t,s=(o-a)*r+a;i[0]=e,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=n}function Ko(e,t,n,r,i,a,o,s,u){var l,c=.005,f=1/0;Do[0]=o,Do[1]=s;for(var h=0;h<1;h+=.05){Po[0]=Uo(e,n,i,h),Po[1]=Uo(t,r,a,h);var d=Ie(Do,Po);d<f&&(l=h,f=d)}f=1/0;for(var p=0;p<32;p++){if(c<Co)break;var g=l-c,m=l+c;Po[0]=Uo(e,n,i,g),Po[1]=Uo(t,r,a,g);d=Ie(Po,Do);if(g>=0&&d<f)l=g,f=d;else{Lo[0]=Uo(e,n,i,m),Lo[1]=Uo(t,r,a,m);var v=Ie(Lo,Do);m<=1&&v<f?(l=m,f=v):c*=.5}}return u&&(u[0]=Uo(e,n,i,l),u[1]=Uo(t,r,a,l)),Eo(f)}function qo(e,t,n,r,i,a,o){for(var s=e,u=t,l=0,c=1/o,f=1;f<=o;f++){var h=f*c,d=Uo(e,n,i,h),p=Uo(t,r,a,h),g=d-s,m=p-u;l+=Math.sqrt(g*g+m*m),s=d,u=p}return l}var Yo=Math.min,Zo=Math.max,$o=Math.sin,Qo=Math.cos,Jo=2*Math.PI,es=we(),ts=we(),ns=we();function rs(e,t,n){if(0!==e.length){for(var r=e[0],i=r[0],a=r[0],o=r[1],s=r[1],u=1;u<e.length;u++)r=e[u],i=Yo(i,r[0]),a=Zo(a,r[0]),o=Yo(o,r[1]),s=Zo(s,r[1]);t[0]=i,t[1]=o,n[0]=a,n[1]=s}}function is(e,t,n,r,i,a){i[0]=Yo(e,n),i[1]=Yo(t,r),a[0]=Zo(e,n),a[1]=Zo(t,r)}var as=[],os=[];function ss(e,t,n,r,i,a,o,s,u,l){var c=Bo,f=ko,h=c(e,n,i,o,as);u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var d=0;d<h;d++){var p=f(e,n,i,o,as[d]);u[0]=Yo(p,u[0]),l[0]=Zo(p,l[0])}h=c(t,r,a,s,os);for(d=0;d<h;d++){var g=f(t,r,a,s,os[d]);u[1]=Yo(g,u[1]),l[1]=Zo(g,l[1])}u[0]=Yo(e,u[0]),l[0]=Zo(e,l[0]),u[0]=Yo(o,u[0]),l[0]=Zo(o,l[0]),u[1]=Yo(t,u[1]),l[1]=Zo(t,l[1]),u[1]=Yo(s,u[1]),l[1]=Zo(s,l[1])}function us(e,t,n,r,i,a,o,s){var u=Wo,l=Uo,c=Zo(Yo(u(e,n,i),1),0),f=Zo(Yo(u(t,r,a),1),0),h=l(e,n,i,c),d=l(t,r,a,f);o[0]=Yo(e,i,h),o[1]=Yo(t,a,d),s[0]=Zo(e,i,h),s[1]=Zo(t,a,d)}function ls(e,t,n,r,i,a,o,s,u){var l=Ne,c=Fe,f=Math.abs(i-a);if(f%Jo<1e-4&&f>1e-4)return s[0]=e-n,s[1]=t-r,u[0]=e+n,void(u[1]=t+r);if(es[0]=Qo(i)*n+e,es[1]=$o(i)*r+t,ts[0]=Qo(a)*n+e,ts[1]=$o(a)*r+t,l(s,es,ts),c(u,es,ts),i%=Jo,i<0&&(i+=Jo),a%=Jo,a<0&&(a+=Jo),i>a&&!o?a+=Jo:i<a&&o&&(i+=Jo),o){var h=a;a=i,i=h}for(var d=0;d<a;d+=Math.PI/2)d>i&&(ns[0]=Qo(d)*n+e,ns[1]=$o(d)*r+t,l(s,ns,s),c(u,ns,u))}var cs={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},fs=[],hs=[],ds=[],ps=[],gs=[],ms=[],vs=Math.min,ys=Math.max,_s=Math.cos,bs=Math.sin,xs=Math.sqrt,ws=Math.abs,Ss=Math.PI,Ts=2*Ss,Es="undefined"!==typeof Float32Array,Ms=[];function Cs(e){var t=Math.round(e/Ss*1e8)/1e8;return t%2*Ss}function As(e,t){var n=Cs(e[0]);n<0&&(n+=Ts);var r=n-e[0],i=e[1];i+=r,!t&&i-n>=Ts?i=n+Ts:t&&n-i>=Ts?i=n-Ts:!t&&n>i?i=n+(Ts-Cs(n-i)):t&&n<i&&(i=n-(Ts-Cs(i-n))),e[0]=n,e[1]=i}var Os=function(){function e(e){this.dpr=1,this._version=0,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(e,t,n){n=n||0,n>0&&(this._ux=ws(n/dr/e)||0,this._uy=ws(n/dr/t)||0)},e.prototype.setDPR=function(e){this.dpr=e},e.prototype.setContext=function(e){this._ctx=e},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(e,t){return this.addData(cs.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},e.prototype.lineTo=function(e,t){var n=ws(e-this._xi)>this._ux||ws(t-this._yi)>this._uy||this._len<5;return this.addData(cs.L,e,t),this._ctx&&n&&(this._needsDash?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},e.prototype.bezierCurveTo=function(e,t,n,r,i,a){return this.addData(cs.C,e,t,n,r,i,a),this._ctx&&(this._needsDash?this._dashedBezierTo(e,t,n,r,i,a):this._ctx.bezierCurveTo(e,t,n,r,i,a)),this._xi=i,this._yi=a,this},e.prototype.quadraticCurveTo=function(e,t,n,r){return this.addData(cs.Q,e,t,n,r),this._ctx&&(this._needsDash?this._dashedQuadraticTo(e,t,n,r):this._ctx.quadraticCurveTo(e,t,n,r)),this._xi=n,this._yi=r,this},e.prototype.arc=function(e,t,n,r,i,a){Ms[0]=r,Ms[1]=i,As(Ms,a),r=Ms[0],i=Ms[1];var o=i-r;return this.addData(cs.A,e,t,n,n,r,o,0,a?0:1),this._ctx&&this._ctx.arc(e,t,n,r,i,a),this._xi=_s(i)*n+e,this._yi=bs(i)*n+t,this},e.prototype.arcTo=function(e,t,n,r,i){return this._ctx&&this._ctx.arcTo(e,t,n,r,i),this},e.prototype.rect=function(e,t,n,r){return this._ctx&&this._ctx.rect(e,t,n,r),this.addData(cs.R,e,t,n,r),this},e.prototype.closePath=function(){this.addData(cs.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},e.prototype.fill=function(e){e&&e.fill(),this.toStatic()},e.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},e.prototype.setLineDash=function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},e.prototype.setLineDashOffset=function(e){return this._dashOffset=e,this},e.prototype.len=function(){return this._len},e.prototype.setData=function(e){var t=e.length;this.data&&this.data.length===t||!Es||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},e.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,r=this._len,i=0;i<t;i++)n+=e[i].len();Es&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(i=0;i<t;i++)for(var a=e[i].data,o=0;o<a.length;o++)this.data[r++]=a[o];this._len=r},e.prototype.addData=function(e,t,n,r,i,a,o,s,u){if(this._saveData){var l=this.data;this._len+arguments.length>l.length&&(this._expandData(),l=this.data);for(var c=0;c<arguments.length;c++)l[this._len++]=arguments[c]}},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},e.prototype._dashedLineTo=function(e,t){var n,r,i=this._dashSum,a=this._lineDash,o=this._ctx,s=this._dashOffset,u=this._xi,l=this._yi,c=e-u,f=t-l,h=xs(c*c+f*f),d=u,p=l,g=a.length;c/=h,f/=h,s<0&&(s=i+s),s%=i,d-=s*c,p-=s*f;while(c>0&&d<=e||c<0&&d>=e||0===c&&(f>0&&p<=t||f<0&&p>=t))r=this._dashIdx,n=a[r],d+=c*n,p+=f*n,this._dashIdx=(r+1)%g,c>0&&d<u||c<0&&d>u||f>0&&p<l||f<0&&p>l||o[r%2?"moveTo":"lineTo"](c>=0?vs(d,e):ys(d,e),f>=0?vs(p,t):ys(p,t));c=d-e,f=p-t,this._dashOffset=-xs(c*c+f*f)},e.prototype._dashedBezierTo=function(e,t,n,r,i,a){var o,s,u,l,c,f=this._ctx,h=this._dashSum,d=this._dashOffset,p=this._lineDash,g=this._xi,m=this._yi,v=0,y=this._dashIdx,_=p.length,b=0;for(d<0&&(d=h+d),d%=h,o=0;o<1;o+=.1)s=ko(g,e,n,i,o+.1)-ko(g,e,n,i,o),u=ko(m,t,r,a,o+.1)-ko(m,t,r,a,o),v+=xs(s*s+u*u);for(;y<_;y++)if(b+=p[y],b>d)break;o=(b-d)/v;while(o<=1)l=ko(g,e,n,i,o),c=ko(m,t,r,a,o),y%2?f.moveTo(l,c):f.lineTo(l,c),o+=p[y]/v,y=(y+1)%_;y%2!==0&&f.lineTo(i,a),s=i-l,u=a-c,this._dashOffset=-xs(s*s+u*u)},e.prototype._dashedQuadraticTo=function(e,t,n,r){var i=n,a=r;n=(n+2*e)/3,r=(r+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,n,r,i,a)},e.prototype.toStatic=function(){if(this._saveData){var e=this.data;e instanceof Array&&(e.length=this._len,Es&&this._len>11&&(this.data=new Float32Array(e)))}},e.prototype.getBoundingRect=function(){ds[0]=ds[1]=gs[0]=gs[1]=Number.MAX_VALUE,ps[0]=ps[1]=ms[0]=ms[1]=-Number.MAX_VALUE;var e,t=this.data,n=0,r=0,i=0,a=0;for(e=0;e<this._len;){var o=t[e++],s=1===e;switch(s&&(n=t[e],r=t[e+1],i=n,a=r),o){case cs.M:n=i=t[e++],r=a=t[e++],gs[0]=i,gs[1]=a,ms[0]=i,ms[1]=a;break;case cs.L:is(n,r,t[e],t[e+1],gs,ms),n=t[e++],r=t[e++];break;case cs.C:ss(n,r,t[e++],t[e++],t[e++],t[e++],t[e],t[e+1],gs,ms),n=t[e++],r=t[e++];break;case cs.Q:us(n,r,t[e++],t[e++],t[e],t[e+1],gs,ms),n=t[e++],r=t[e++];break;case cs.A:var u=t[e++],l=t[e++],c=t[e++],f=t[e++],h=t[e++],d=t[e++]+h;e+=1;var p=!t[e++];s&&(i=_s(h)*c+u,a=bs(h)*f+l),ls(u,l,c,f,h,d,p,gs,ms),n=_s(d)*c+u,r=bs(d)*f+l;break;case cs.R:i=n=t[e++],a=r=t[e++];var g=t[e++],m=t[e++];is(i,a,i+g,a+m,gs,ms);break;case cs.Z:n=i,r=a;break}Ne(ds,ds,gs),Fe(ps,ps,ms)}return 0===e&&(ds[0]=ds[1]=ps[0]=ps[1]=0),new Jn(ds[0],ds[1],ps[0]-ds[0],ps[1]-ds[1])},e.prototype._calculateLength=function(){var e=this.data,t=this._len,n=this._ux,r=this._uy,i=0,a=0,o=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,l=0,c=0,f=0;f<t;){var h=e[f++],d=1===f;d&&(i=e[f],a=e[f+1],o=i,s=a);var p=-1;switch(h){case cs.M:i=o=e[f++],a=s=e[f++];break;case cs.L:var g=e[f++],m=e[f++],v=g-i,y=m-a;(ws(v)>n||ws(y)>r||f===t-1)&&(p=Math.sqrt(v*v+y*y),i=g,a=m);break;case cs.C:var _=e[f++],b=e[f++],x=(g=e[f++],m=e[f++],e[f++]),w=e[f++];p=Ho(i,a,_,b,g,m,x,w,10),i=x,a=w;break;case cs.Q:_=e[f++],b=e[f++],g=e[f++],m=e[f++];p=qo(i,a,_,b,g,m,10),i=g,a=m;break;case cs.A:var S=e[f++],T=e[f++],E=e[f++],M=e[f++],C=e[f++],A=e[f++],O=A+C;f+=1;e[f++];d&&(o=_s(C)*E+S,s=bs(C)*M+T),p=ys(E,M)*vs(Ts,Math.abs(A)),i=_s(O)*E+S,a=bs(O)*M+T;break;case cs.R:o=i=e[f++],s=a=e[f++];var D=e[f++],P=e[f++];p=2*D+2*P;break;case cs.Z:v=o-i,y=s-a;p=Math.sqrt(v*v+y*y),i=o,a=s;break}p>=0&&(u[c++]=p,l+=p)}return this._pathLen=l,l},e.prototype.rebuildPath=function(e,t){var n,r,i,a,o,s,u,l,c,f=this.data,h=this._ux,d=this._uy,p=this._len,g=t<1,m=0,v=0;if(!g||(this._pathSegLen||this._calculateLength(),u=this._pathSegLen,l=this._pathLen,c=t*l,c))e:for(var y=0;y<p;){var _=f[y++],b=1===y;switch(b&&(i=f[y],a=f[y+1],n=i,r=a),_){case cs.M:n=i=f[y++],r=a=f[y++],e.moveTo(i,a);break;case cs.L:if(o=f[y++],s=f[y++],ws(o-i)>h||ws(s-a)>d||y===p-1){if(g){var x=u[v++];if(m+x>c){var w=(c-m)/x;e.lineTo(i*(1-w)+o*w,a*(1-w)+s*w);break e}m+=x}e.lineTo(o,s),i=o,a=s}break;case cs.C:var S=f[y++],T=f[y++],E=f[y++],M=f[y++],C=f[y++],A=f[y++];if(g){x=u[v++];if(m+x>c){w=(c-m)/x;zo(i,S,E,C,w,fs),zo(a,T,M,A,w,hs),e.bezierCurveTo(fs[1],hs[1],fs[2],hs[2],fs[3],hs[3]);break e}m+=x}e.bezierCurveTo(S,T,E,M,C,A),i=C,a=A;break;case cs.Q:S=f[y++],T=f[y++],E=f[y++],M=f[y++];if(g){x=u[v++];if(m+x>c){w=(c-m)/x;Xo(i,S,E,w,fs),Xo(a,T,M,w,hs),e.quadraticCurveTo(fs[1],hs[1],fs[2],hs[2]);break e}m+=x}e.quadraticCurveTo(S,T,E,M),i=E,a=M;break;case cs.A:var O=f[y++],D=f[y++],P=f[y++],L=f[y++],I=f[y++],R=f[y++],k=f[y++],N=!f[y++],F=P>L?P:L,B=ws(P-L)>.001,z=I+R,j=!1;if(g){x=u[v++];m+x>c&&(z=I+R*(c-m)/x,j=!0),m+=x}if(B&&e.ellipse?e.ellipse(O,D,P,L,k,I,z,N):e.arc(O,D,F,I,z,N),j)break e;b&&(n=_s(I)*P+O,r=bs(I)*L+D),i=_s(z)*P+O,a=bs(z)*L+D;break;case cs.R:n=i=f[y],r=a=f[y+1],o=f[y++],s=f[y++];var H=f[y++],U=f[y++];if(g){x=u[v++];if(m+x>c){var V=c-m;e.moveTo(o,s),e.lineTo(o+vs(V,H),s),V-=H,V>0&&e.lineTo(o+H,s+vs(V,U)),V-=U,V>0&&e.lineTo(o+ys(H-V,0),s+U),V-=H,V>0&&e.lineTo(o,s+ys(U-V,0));break e}m+=x}e.rect(o,s,H,U);break;case cs.Z:if(g){x=u[v++];if(m+x>c){w=(c-m)/x;e.lineTo(i*(1-w)+n*w,a*(1-w)+r*w);break e}m+=x}e.closePath(),i=n,a=r}}},e.CMD=cs,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._needsDash=!1,t._dashOffset=0,t._dashIdx=0,t._dashSum=0,t._ux=0,t._uy=0}(),e}(),Ds=Os;function Ps(e,t,n,r,i,a,o){if(0===i)return!1;var s=i,u=0,l=e;if(o>t+s&&o>r+s||o<t-s&&o<r-s||a>e+s&&a>n+s||a<e-s&&a<n-s)return!1;if(e===n)return Math.abs(a-e)<=s/2;u=(t-r)/(e-n),l=(e*r-n*t)/(e-n);var c=u*a-o+l,f=c*c/(u*u+1);return f<=s/2*s/2}function Ls(e,t,n,r,i,a,o,s,u,l,c){if(0===u)return!1;var f=u;if(c>t+f&&c>r+f&&c>a+f&&c>s+f||c<t-f&&c<r-f&&c<a-f&&c<s-f||l>e+f&&l>n+f&&l>i+f&&l>o+f||l<e-f&&l<n-f&&l<i-f&&l<o-f)return!1;var h=jo(e,t,n,r,i,a,o,s,l,c,null);return h<=f/2}function Is(e,t,n,r,i,a,o,s,u){if(0===o)return!1;var l=o;if(u>t+l&&u>r+l&&u>a+l||u<t-l&&u<r-l&&u<a-l||s>e+l&&s>n+l&&s>i+l||s<e-l&&s<n-l&&s<i-l)return!1;var c=Ko(e,t,n,r,i,a,s,u,null);return c<=l/2}var Rs=2*Math.PI;function ks(e){return e%=Rs,e<0&&(e+=Rs),e}var Ns=2*Math.PI;function Fs(e,t,n,r,i,a,o,s,u){if(0===o)return!1;var l=o;s-=e,u-=t;var c=Math.sqrt(s*s+u*u);if(c-l>n||c+l<n)return!1;if(Math.abs(r-i)%Ns<1e-4)return!0;if(a){var f=r;r=ks(i),i=ks(f)}else r=ks(r),i=ks(i);r>i&&(i+=Ns);var h=Math.atan2(u,s);return h<0&&(h+=Ns),h>=r&&h<=i||h+Ns>=r&&h+Ns<=i}function Bs(e,t,n,r,i,a){if(a>t&&a>r||a<t&&a<r)return 0;if(r===t)return 0;var o=(a-t)/(r-t),s=r<t?1:-1;1!==o&&0!==o||(s=r<t?.5:-.5);var u=o*(n-e)+e;return u===i?1/0:u>i?s:0}var zs=Ds.CMD,js=2*Math.PI,Hs=1e-4;function Us(e,t){return Math.abs(e-t)<Hs}var Vs=[-1,-1,-1],Gs=[-1,-1];function Ws(){var e=Gs[0];Gs[0]=Gs[1],Gs[1]=e}function Xs(e,t,n,r,i,a,o,s,u,l){if(l>t&&l>r&&l>a&&l>s||l<t&&l<r&&l<a&&l<s)return 0;var c=Fo(t,r,a,s,l,Vs);if(0===c)return 0;for(var f=0,h=-1,d=void 0,p=void 0,g=0;g<c;g++){var m=Vs[g],v=0===m||1===m?.5:1,y=ko(e,n,i,o,m);y<u||(h<0&&(h=Bo(t,r,a,s,Gs),Gs[1]<Gs[0]&&h>1&&Ws(),d=ko(t,r,a,s,Gs[0]),h>1&&(p=ko(t,r,a,s,Gs[1]))),2===h?m<Gs[0]?f+=d<t?v:-v:m<Gs[1]?f+=p<d?v:-v:f+=s<p?v:-v:m<Gs[0]?f+=d<t?v:-v:f+=s<d?v:-v)}return f}function Ks(e,t,n,r,i,a,o,s){if(s>t&&s>r&&s>a||s<t&&s<r&&s<a)return 0;var u=Go(t,r,a,s,Vs);if(0===u)return 0;var l=Wo(t,r,a);if(l>=0&&l<=1){for(var c=0,f=Uo(t,r,a,l),h=0;h<u;h++){var d=0===Vs[h]||1===Vs[h]?.5:1,p=Uo(e,n,i,Vs[h]);p<o||(Vs[h]<l?c+=f<t?d:-d:c+=a<f?d:-d)}return c}d=0===Vs[0]||1===Vs[0]?.5:1,p=Uo(e,n,i,Vs[0]);return p<o?0:a<t?d:-d}function qs(e,t,n,r,i,a,o,s){if(s-=t,s>n||s<-n)return 0;var u=Math.sqrt(n*n-s*s);Vs[0]=-u,Vs[1]=u;var l=Math.abs(r-i);if(l<1e-4)return 0;if(l>=js-1e-4){r=0,i=js;var c=a?1:-1;return o>=Vs[0]+e&&o<=Vs[1]+e?c:0}if(r>i){var f=r;r=i,i=f}r<0&&(r+=js,i+=js);for(var h=0,d=0;d<2;d++){var p=Vs[d];if(p+e>o){var g=Math.atan2(s,p);c=a?1:-1;g<0&&(g=js+g),(g>=r&&g<=i||g+js>=r&&g+js<=i)&&(g>Math.PI/2&&g<1.5*Math.PI&&(c=-c),h+=c)}}return h}function Ys(e,t,n,r,i){for(var a,o,s=e.data,u=e.len(),l=0,c=0,f=0,h=0,d=0,p=0;p<u;){var g=s[p++],m=1===p;switch(g===zs.M&&p>1&&(n||(l+=Bs(c,f,h,d,r,i))),m&&(c=s[p],f=s[p+1],h=c,d=f),g){case zs.M:h=s[p++],d=s[p++],c=h,f=d;break;case zs.L:if(n){if(Ps(c,f,s[p],s[p+1],t,r,i))return!0}else l+=Bs(c,f,s[p],s[p+1],r,i)||0;c=s[p++],f=s[p++];break;case zs.C:if(n){if(Ls(c,f,s[p++],s[p++],s[p++],s[p++],s[p],s[p+1],t,r,i))return!0}else l+=Xs(c,f,s[p++],s[p++],s[p++],s[p++],s[p],s[p+1],r,i)||0;c=s[p++],f=s[p++];break;case zs.Q:if(n){if(Is(c,f,s[p++],s[p++],s[p],s[p+1],t,r,i))return!0}else l+=Ks(c,f,s[p++],s[p++],s[p],s[p+1],r,i)||0;c=s[p++],f=s[p++];break;case zs.A:var v=s[p++],y=s[p++],_=s[p++],b=s[p++],x=s[p++],w=s[p++];p+=1;var S=!!(1-s[p++]);a=Math.cos(x)*_+v,o=Math.sin(x)*b+y,m?(h=a,d=o):l+=Bs(c,f,a,o,r,i);var T=(r-v)*b/_+v;if(n){if(Fs(v,y,b,x,x+w,S,t,T,i))return!0}else l+=qs(v,y,b,x,x+w,S,T,i);c=Math.cos(x+w)*_+v,f=Math.sin(x+w)*b+y;break;case zs.R:h=c=s[p++],d=f=s[p++];var E=s[p++],M=s[p++];if(a=h+E,o=d+M,n){if(Ps(h,d,a,d,t,r,i)||Ps(a,d,a,o,t,r,i)||Ps(a,o,h,o,t,r,i)||Ps(h,o,h,d,t,r,i))return!0}else l+=Bs(a,d,a,o,r,i),l+=Bs(h,o,h,d,r,i);break;case zs.Z:if(n){if(Ps(c,f,h,d,t,r,i))return!0}else l+=Bs(c,f,h,d,r,i);c=h,f=d;break}}return n||Us(f,d)||(l+=Bs(c,f,h,d,r,i)||0),0!==l}function Zs(e,t,n){return Ys(e,0,!1,t,n)}function $s(e,t,n,r){return Ys(e,t,!0,n,r)}var Qs=k({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},mo),Js={style:k({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},vo.style)},eu=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],tu=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.update=function(){var n=this;e.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(e){n.buildPath(e,n.shape)}),i.silent=!0;var a=i.style;for(var o in r)a[o]!==r[o]&&(a[o]=r[o]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var s=0;s<eu.length;++s)i[eu[s]]=this[eu[s]];i.__dirty|=Or.REDARAW_BIT}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(t){var n=W(t);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var i=0;i<n.length;i++){var a=n[i],o=t[a];"style"===a?this.style?R(this.style,o):this.useStyle(o):"shape"===a?R(this.shape,o):e.prototype.attrKV.call(this,a,o)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if("none"!==e){if($(e)){var t=_n(e,0);return t>.5?gr:t>.2?vr:mr}if(e)return mr}return gr},t.prototype.getInsideTextStroke=function(e){var t=this.style.fill;if($(t)){var n=this.__zr,r=!(!n||!n.isDarkMode()),i=_n(e,0)<pr;if(r===i)return t}},t.prototype.buildPath=function(e,t,n){},t.prototype.pathUpdated=function(){this.__dirty&=~t.SHAPE_CHANGED_BIT},t.prototype.createPathProxy=function(){this.path=new Ds(!1)},t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style,t=e.fill;return null!=t&&"none"!==t},t.prototype.getBoundingRect=function(){var e=this._rect,n=this.style,r=!e;if(r){var i=!1;this.path||(i=!0,this.createPathProxy());var a=this.path;(i||this.__dirty&t.SHAPE_CHANGED_BIT)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),e=a.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||r){o.copy(e);var s=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;u=Math.max(u,null==l?4:l)}s>1e-10&&(o.width+=u/s,o.height+=u/s,o.x-=u/s/2,o.y-=u/s/2)}return o}return e},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect(),i=this.style;if(e=n[0],t=n[1],r.contain(e,t)){var a=this.path;if(this.hasStroke()){var o=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),$s(a,o/s,e,t)))return!0}if(this.hasFill())return Zs(a,e,t)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=t.SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():"shape"===e?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(t,n){"shape"===t?this.setShape(n):e.prototype.attrKV.call(this,t,n)},t.prototype.setShape=function(e,t){var n=this.shape;return n||(n=this.shape={}),"string"===typeof e?n[e]=t:R(n,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&t.SHAPE_CHANGED_BIT)},t.prototype.createStyle=function(e){return _e(Qs,e)},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=R({},this.shape))},t.prototype._applyStateObj=function(t,n,r,i,a,o){e.prototype._applyStateObj.call(this,t,n,r,i,a,o);var s,u=!(n&&i);if(n&&n.shape?a?i?s=n.shape:(s=R({},r.shape),R(s,n.shape)):(s=R({},i?this.shape:r.shape),R(s,n.shape)):u&&(s=r.shape),s)if(a){this.shape=R({},this.shape);for(var l={},c=W(s),f=0;f<c.length;f++){var h=c[f];"object"===typeof s[h]?this.shape[h]=s[h]:l[h]=s[h]}this._transitionState(t,{shape:l},o)}else this.shape=s,this.dirtyShape()},t.prototype._mergeStates=function(t){for(var n,r=e.prototype._mergeStates.call(this,t),i=0;i<t.length;i++){var a=t[i];a.shape&&(n=n||{},this._mergeStyle(n,a.shape))}return n&&(r.shape=n),r},t.prototype.getAnimationStyleProps=function(){return Js},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=function(t){function n(n){var r=t.call(this,n)||this;return e.init&&e.init.call(r,n),r}return f(n,t),n.prototype.getDefaultStyle=function(){return L(e.style)},n.prototype.getDefaultShape=function(){return L(e.shape)},n}(t);for(var r in e)"function"===typeof e[r]&&(n.prototype[r]=e[r]);return n},t.SHAPE_CHANGED_BIT=4,t.initDefaultProps=function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=Or.REDARAW_BIT|So.STYLE_CHANGED_BIT|t.SHAPE_CHANGED_BIT}(),t}(So),nu=tu,ru=k({strokeFirst:!0,font:tr,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Qs),iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return null!=t&&"none"!==t&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style,t=e.fill;return null!=t&&"none"!==t},t.prototype.createStyle=function(e){return _e(ru,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var t=e.text;null!=t?t+="":t="";var n=or(t,e.font,e.textAlign,e.textBaseline);if(n.x+=e.x||0,n.y+=e.y||0,this.hasStroke()){var r=e.lineWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect},t.initDefaultProps=function(){var e=t.prototype;e.dirtyRectTolerance=10}(),t}(So);iu.prototype.type="tspan";var au=iu,ou=k({x:0,y:0},mo),su={style:k({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},vo.style)};function uu(e){return!!(e&&"string"!==typeof e&&e.width&&e.height)}var lu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.createStyle=function(e){return _e(ou,e)},t.prototype._getSize=function(e){var t=this.style,n=t[e];if(null!=n)return n;var r=uu(t.image)?t.image:this.__image;if(!r)return 0;var i="width"===e?"height":"width",a=t[i];return null==a?r[e]:r[e]/r[i]*a},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return su},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Jn(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(So);lu.prototype.type="image";var cu=lu;function fu(e,t){var n,r,i,a,o,s=t.x,u=t.y,l=t.width,c=t.height,f=t.r;l<0&&(s+=l,l=-l),c<0&&(u+=c,c=-c),"number"===typeof f?n=r=i=a=f:f instanceof Array?1===f.length?n=r=i=a=f[0]:2===f.length?(n=i=f[0],r=a=f[1]):3===f.length?(n=f[0],r=a=f[1],i=f[2]):(n=f[0],r=f[1],i=f[2],a=f[3]):n=r=i=a=0,n+r>l&&(o=n+r,n*=l/o,r*=l/o),i+a>l&&(o=i+a,i*=l/o,a*=l/o),r+i>c&&(o=r+i,r*=c/o,i*=c/o),n+a>c&&(o=n+a,n*=c/o,a*=c/o),e.moveTo(s+n,u),e.lineTo(s+l-r,u),0!==r&&e.arc(s+l-r,u+r,r,-Math.PI/2,0),e.lineTo(s+l,u+c-i),0!==i&&e.arc(s+l-i,u+c-i,i,0,Math.PI/2),e.lineTo(s+a,u+c),0!==a&&e.arc(s+a,u+c-a,a,Math.PI/2,Math.PI),e.lineTo(s,u+n),0!==n&&e.arc(s+n,u+n,n,Math.PI,1.5*Math.PI)}var hu=Math.round;function du(e,t,n){if(t){var r=t.x1,i=t.x2,a=t.y1,o=t.y2;e.x1=r,e.x2=i,e.y1=a,e.y2=o;var s=n&&n.lineWidth;return s?(hu(2*r)===hu(2*i)&&(e.x1=e.x2=gu(r,s,!0)),hu(2*a)===hu(2*o)&&(e.y1=e.y2=gu(a,s,!0)),e):e}}function pu(e,t,n){if(t){var r=t.x,i=t.y,a=t.width,o=t.height;e.x=r,e.y=i,e.width=a,e.height=o;var s=n&&n.lineWidth;return s?(e.x=gu(r,s,!0),e.y=gu(i,s,!0),e.width=Math.max(gu(r+a,s,!1)-e.x,0===a?0:1),e.height=Math.max(gu(i+o,s,!1)-e.y,0===o?0:1),e):e}}function gu(e,t,n){if(!t)return e;var r=hu(2*e);return(r+hu(t))%2===0?r/2:(r+(n?1:-1))/2}var mu=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),vu={},yu=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.getDefaultShape=function(){return new mu},t.prototype.buildPath=function(e,t){var n,r,i,a;if(this.subPixelOptimize){var o=pu(vu,t,this.style);n=o.x,r=o.y,i=o.width,a=o.height,o.r=t.r,t=o}else n=t.x,r=t.y,i=t.width,a=t.height;t.r?fu(e,t):e.rect(n,r,i,a)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(nu);yu.prototype.type="rect";var _u=yu,bu={fill:"#000"},xu=2,wu={style:k({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},vo.style)},Su=function(e){function t(t){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=bu,n.attr(t),n}return f(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}var r=this.attachedTransform;if(r){r.updateTransform();var i=r.transform;i?(this.transform=this.transform||[],Tt(this.transform,i)):this.transform=null}else e.prototype.update.call(this)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),this.attachedTransform?this.attachedTransform.getComputedTransform():e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,Mu(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Jn(0,0,0,0),t=this._children,n=[],r=null,i=0;i<t.length;i++){var a=t[i],o=a.getBoundingRect(),s=a.getLocalTransform(n);s?(e.copy(o),e.applyTransform(s),r=r||e.clone(),r.union(e)):(r=r||o.clone(),r.union(o))}this._rect=r||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||bu},t.prototype.setTextContent=function(e){throw new Error("Can't attach text on another text")},t.prototype._mergeStyle=function(e,t){if(!t)return e;var n=t.rich,r=e.rich||n&&{};return R(e,t),n&&r?(this._mergeRich(r,n),e.rich=r):r&&(e.rich=r),e},t.prototype._mergeRich=function(e,t){for(var n=W(t),r=0;r<n.length;r++){var i=n[r];e[i]=e[i]||{},R(e[i],t[i])}},t.prototype.getAnimationStyleProps=function(){return wu},t.prototype._getOrCreateChild=function(e){var t=this._children[this._childCursor];return t&&t instanceof e||(t=new e),this._children[this._childCursor++]=t,t.__zr=this.__zr,t.parent=this,t},t.prototype._updatePlainTexts=function(){var e=this.style,t=e.font||tr,n=e.padding,r=Pu(e),i=ro(r,e),a=Lu(e),o=!!e.backgroundColor,s=i.outerHeight,u=i.lines,l=i.lineHeight,c=this._defaultStyle,f=e.x||0,h=e.y||0,d=e.align||c.align||"left",p=e.verticalAlign||c.verticalAlign||"top",g=f,m=ur(h,i.contentHeight,p);if(a||n){var v=i.width;n&&(v+=n[1]+n[3]);var y=sr(f,v,d),_=ur(h,s,p);a&&this._renderBackground(e,e,y,_,v,s)}m+=l/2,n&&(g=Du(f,d,n),"top"===p?m+=n[0]:"bottom"===p&&(m-=n[2]));for(var b=0,x=!1,w=(Ou("fill"in e?e.fill:(x=!0,c.fill))),S=(Au("stroke"in e?e.stroke:o||c.autoStroke&&!x?null:(b=xu,c.stroke))),T=e.textShadowBlur>0,E=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),M=i.calculatedLineHeight,C=0;C<u.length;C++){var A=this._getOrCreateChild(au),O=A.createStyle();A.useStyle(O),O.text=u[C],O.x=g,O.y=m,d&&(O.textAlign=d),O.textBaseline="middle",O.opacity=e.opacity,O.strokeFirst=!0,T&&(O.shadowBlur=e.textShadowBlur||0,O.shadowColor=e.textShadowColor||"transparent",O.shadowOffsetX=e.textShadowOffsetX||0,O.shadowOffsetY=e.textShadowOffsetY||0),S&&(O.stroke=S,O.lineWidth=e.lineWidth||b,O.lineDash=e.lineDash,O.lineDashOffset=e.lineDashOffset||0),w&&(O.fill=w),O.font=t,m+=l,E&&A.setBoundingRect(new Jn(sr(O.x,e.width,O.textAlign),ur(O.y,M,O.textBaseline),e.width,M))}},t.prototype._updateRichTexts=function(){var e=this.style,t=Pu(e),n=so(t,e),r=n.width,i=n.outerWidth,a=n.outerHeight,o=e.padding,s=e.x||0,u=e.y||0,l=this._defaultStyle,c=e.align||l.align,f=e.verticalAlign||l.verticalAlign,h=sr(s,i,c),d=ur(u,a,f),p=h,g=d;o&&(p+=o[3],g+=o[0]);var m=p+r;Lu(e)&&this._renderBackground(e,e,h,d,i,a);for(var v=!!e.backgroundColor,y=0;y<n.lines.length;y++){var _=n.lines[y],b=_.tokens,x=b.length,w=_.lineHeight,S=_.width,T=0,E=p,M=m,C=x-1,A=void 0;while(T<x&&(A=b[T],!A.align||"left"===A.align))this._placeToken(A,e,w,g,E,"left",v),S-=A.width,E+=A.width,T++;while(C>=0&&(A=b[C],"right"===A.align))this._placeToken(A,e,w,g,M,"right",v),S-=A.width,M-=A.width,C--;E+=(r-(E-p)-(m-M)-S)/2;while(T<=C)A=b[T],this._placeToken(A,e,w,g,E+A.width/2,"center",v),E+=A.width,T++;g+=w}},t.prototype._placeToken=function(e,t,n,r,i,a,o){var s=t.rich[e.styleName]||{};s.text=e.text;var u=e.verticalAlign,l=r+n/2;"top"===u?l=r+e.height/2:"bottom"===u&&(l=r+n-e.height/2);var c=!e.isLineHolder&&Lu(s);c&&this._renderBackground(s,t,"right"===a?i-e.width:"center"===a?i-e.width/2:i,l-e.height/2,e.width,e.height);var f=!!s.backgroundColor,h=e.textPadding;h&&(i=Du(i,a,h),l-=e.height/2-h[0]-e.innerHeight/2);var d=this._getOrCreateChild(au),p=d.createStyle();d.useStyle(p);var g=this._defaultStyle,m=!1,v=0,y=Au("fill"in s?s.fill:"fill"in t?t.fill:(m=!0,g.fill)),_=Au("stroke"in s?s.stroke:"stroke"in t?t.stroke:f||o||g.autoStroke&&!m?null:(v=xu,g.stroke)),b=s.textShadowBlur>0||t.textShadowBlur>0;p.text=e.text,p.x=i,p.y=l,b&&(p.shadowBlur=s.textShadowBlur||t.textShadowBlur||0,p.shadowColor=s.textShadowColor||t.textShadowColor||"transparent",p.shadowOffsetX=s.textShadowOffsetX||t.textShadowOffsetX||0,p.shadowOffsetY=s.textShadowOffsetY||t.textShadowOffsetY||0),p.textAlign=a,p.textBaseline="middle",p.font=e.font||tr,p.opacity=ue(s.opacity,t.opacity,1),_&&(p.lineWidth=ue(s.lineWidth,t.lineWidth,v),p.lineDash=se(s.lineDash,t.lineDash),p.lineDashOffset=t.lineDashOffset||0,p.stroke=_),y&&(p.fill=y);var x=e.contentWidth,w=e.contentHeight;d.setBoundingRect(new Jn(sr(p.x,x,p.textAlign),ur(p.y,w,p.textBaseline),x,w))},t.prototype._renderBackground=function(e,t,n,r,i,a){var o,s,u=e.backgroundColor,l=e.borderWidth,c=e.borderColor,f=$(u),h=e.borderRadius,d=this;if(f||l&&c){o=this._getOrCreateChild(_u),o.useStyle(o.createStyle()),o.style.fill=null;var p=o.shape;p.x=n,p.y=r,p.width=i,p.height=a,p.r=h,o.dirtyShape()}if(f){var g=o.style;g.fill=u||null,g.fillOpacity=se(e.fillOpacity,1)}else if(u&&u.image){s=this._getOrCreateChild(cu),s.onload=function(){d.dirtyStyle()};var m=s.style;m.image=u.image,m.x=n,m.y=r,m.width=i,m.height=a}if(l&&c){g=o.style;g.lineWidth=l,g.stroke=c,g.strokeOpacity=se(e.strokeOpacity,1),g.lineDash=e.borderDash,g.lineDashOffset=e.borderDashOffset||0,o.strokeContainThreshold=0,o.hasFill()&&o.hasStroke()&&(g.strokeFirst=!0,g.lineWidth*=2)}var v=(o||s).style;v.shadowBlur=e.shadowBlur||0,v.shadowColor=e.shadowColor||"transparent",v.shadowOffsetX=e.shadowOffsetX||0,v.shadowOffsetY=e.shadowOffsetY||0,v.opacity=ue(e.opacity,t.opacity,1)},t.makeFont=function(e){var t="";if(e.fontSize||e.fontFamily||e.fontWeight){var n="";n="string"!==typeof e.fontSize||-1===e.fontSize.indexOf("px")&&-1===e.fontSize.indexOf("rem")&&-1===e.fontSize.indexOf("em")?isNaN(+e.fontSize)?"12px":e.fontSize+"px":e.fontSize,t=[e.fontStyle,e.fontWeight,n,e.fontFamily||"sans-serif"].join(" ")}return t&&he(t)||e.textFont||e.font},t}(So),Tu={left:!0,right:1,center:1},Eu={top:1,bottom:1,middle:1};function Mu(e){return Cu(e),H(e.rich,Cu),e}function Cu(e){if(e){e.font=Su.makeFont(e);var t=e.align;"middle"===t&&(t="center"),e.align=null==t||Tu[t]?t:"left";var n=e.verticalAlign;"center"===n&&(n="middle"),e.verticalAlign=null==n||Eu[n]?n:"top";var r=e.padding;r&&(e.padding=ce(e.padding))}}function Au(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function Ou(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function Du(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function Pu(e){var t=e.text;return null!=t&&(t+=""),t}function Lu(e){return!!(e.backgroundColor||e.borderWidth&&e.borderColor)}var Iu=Su,Ru=wa(),ku=1,Nu={},Fu=wa(),Bu=0,zu=1,ju=2,Hu=["emphasis","blur","select"],Uu=["normal","emphasis","blur","select"],Vu=10,Gu=9,Wu="highlight",Xu="downplay",Ku="select",qu="unselect",Yu="toggleSelect";function Zu(e){return null!=e&&"none"!==e}var $u=new Xt(100);function Qu(e){if("string"!==typeof e)return e;var t=$u.get(e);return t||(t=cn(e,-.1),$u.put(e,t)),t}function Ju(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function el(e){Ju(e,"emphasis",ju)}function tl(e){e.hoverState===ju&&Ju(e,"normal",Bu)}function nl(e){Ju(e,"blur",zu)}function rl(e){e.hoverState===zu&&Ju(e,"normal",Bu)}function il(e){e.selected=!0}function al(e){e.selected=!1}function ol(e,t,n){t(e,n)}function sl(e,t,n){ol(e,t,n),e.isGroup&&e.traverse((function(e){ol(e,t,n)}))}function ul(e,t,n,r){for(var i=e.style,a={},o=0;o<t.length;o++){var s=t[o],u=i[s];a[s]=null==u?r&&r[s]:u}for(o=0;o<e.animators.length;o++){var l=e.animators[o];l.__fromStateTransition&&l.__fromStateTransition.indexOf(n)<0&&"style"===l.targetName&&l.saveFinalToTarget(a,t)}return a}function ll(e,t,n,r){var i=n&&F(n,"select")>=0,a=!1;if(e instanceof nu){var o=Fu(e),s=i&&o.selectFill||o.normalFill,u=i&&o.selectStroke||o.normalStroke;if(Zu(s)||Zu(u)){r=r||{};var l=r.style||{};!Zu(l.fill)&&Zu(s)?(a=!0,r=R({},r),l=R({},l),l.fill=Qu(s)):!Zu(l.stroke)&&Zu(u)&&(a||(r=R({},r),l=R({},l)),l.stroke=Qu(u)),r.style=l}}if(r&&null==r.z2){a||(r=R({},r));var c=e.z2EmphasisLift;r.z2=e.z2+(null!=c?c:Vu)}return r}function cl(e,t,n){if(n&&null==n.z2){n=R({},n);var r=e.z2SelectLift;n.z2=e.z2+(null!=r?r:Gu)}return n}function fl(e,t,n){var r=F(e.currentStates,t)>=0,i=e.style.opacity,a=r?null:ul(e,["opacity"],t,{opacity:1});n=n||{};var o=n.style||{};return null==o.opacity&&(n=R({},n),o=R({opacity:r?i:.1*a.opacity},o),n.style=o),n}function hl(e,t){var n=this.states[e];if(this.style){if("emphasis"===e)return ll(this,e,t,n);if("blur"===e)return fl(this,e,n);if("select"===e)return cl(this,e,n)}return n}function dl(e){e.stateProxy=hl;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=hl),n&&(n.stateProxy=hl)}function pl(e,t){!wl(e,t)&&!e.__highByOuter&&sl(e,el)}function gl(e,t){!wl(e,t)&&!e.__highByOuter&&sl(e,tl)}function ml(e,t){e.__highByOuter|=1<<(t||0),sl(e,el)}function vl(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&sl(e,tl)}function yl(e){sl(e,nl)}function _l(e){sl(e,rl)}function bl(e){sl(e,il)}function xl(e){sl(e,al)}function wl(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Sl(e){var t=e.getModel();t.eachComponent((function(t,n){var r="series"===t?e.getViewOfSeriesModel(n):e.getViewOfComponentModel(n);r.group.traverse((function(e){rl(e)}))}))}function Tl(e,t,n,r,i){var a=r.getModel();function o(e,t){for(var n=0;n<t.length;n++){var r=e.getItemGraphicEl(t[n]);r&&_l(r)}}if(n=n||"coordinateSystem",i){if(null!=e&&t&&"none"!==t){var s=a.getSeriesByIndex(e),u=s.coordinateSystem;u&&u.master&&(u=u.master);var l=[];a.eachSeries((function(e){var i=s===e,a=e.coordinateSystem;a&&a.master&&(a=a.master);var c=a&&u?a===u:i;if(!("series"===n&&!i||"coordinateSystem"===n&&!c||"series"===t&&i)){var f=r.getViewOfSeriesModel(e);if(f.group.traverse((function(e){nl(e)})),j(t))o(e.getData(),t);else if(ee(t))for(var h=W(t),d=0;d<h.length;d++)o(e.getData(h[d]),t[h[d]]);l.push(e)}})),a.eachComponent((function(e,t){if("series"!==e){var n=r.getViewOfComponentModel(t);n&&n.blurSeries&&n.blurSeries(l,a)}}))}}else Sl(r)}function El(e,t,n){if(kl(t)){var r=t.type===Wu,i=e.seriesIndex,a=e.getData(t.dataType),o=xa(a,t);o=(Y(o)?o[0]:o)||0;var s=a.getItemGraphicEl(o);if(!s){var u=a.count(),l=0;while(!s&&l<u)s=a.getItemGraphicEl(l++)}if(s){var c=Ru(s);Tl(i,c.focus,c.blurScope,n,r)}else{var f=e.get(["emphasis","focus"]),h=e.get(["emphasis","blurScope"]);null!=f&&Tl(i,f,h,n,r)}}}function Ml(e,t,n){if(Rl(t)){var r=t.dataType,i=e.getData(r),a=xa(i,t);Y(a)||(a=[a]),e[t.type===Yu?"toggleSelect":t.type===Ku?"select":"unselect"](a,r)}}function Cl(e){var t=e.getAllData();H(t,(function(t){var n=t.data,r=t.type;n.eachItemGraphicEl((function(t,n){e.isSelected(n,r)?bl(t):xl(t)}))}))}function Al(e){var t=[];return e.eachSeries((function(e){var n=e.getAllData();H(n,(function(n){n.data;var r=n.type,i=e.getSelectedDataIndices();if(i.length>0){var a={dataIndex:i,seriesIndex:e.seriesIndex};null!=r&&(a.dataType=r),t.push(a)}}))})),t}function Ol(e,t,n){Pl(e,!0),sl(e,dl),Dl(e,t,n)}function Dl(e,t,n){var r=Ru(e);null!=t?(r.focus=t,r.blurScope=n):r.focus&&(r.focus=null)}function Pl(e,t){var n=!1===t,r=e;e.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=e.highDownSilentOnTouch),n&&!r.__highDownDispatcher||(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function Ll(e){return!(!e||!e.__highDownDispatcher)}function Il(e){var t=Nu[e];return null==t&&ku<=32&&(t=Nu[e]=ku++),t}function Rl(e){var t=e.type;return t===Ku||t===qu||t===Yu}function kl(e){var t=e.type;return t===Wu||t===Xu}function Nl(e){var t=Fu(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}var Fl=Ds.CMD,Bl=[[],[],[]],zl=Math.sqrt,jl=Math.atan2;function Hl(e,t){var n,r,i,a,o,s,u=e.data,l=e.len(),c=Fl.M,f=Fl.C,h=Fl.L,d=Fl.R,p=Fl.A,g=Fl.Q;for(i=0,a=0;i<l;){switch(n=u[i++],a=i,r=0,n){case c:r=1;break;case h:r=1;break;case f:r=3;break;case g:r=2;break;case p:var m=t[4],v=t[5],y=zl(t[0]*t[0]+t[1]*t[1]),_=zl(t[2]*t[2]+t[3]*t[3]),b=jl(-t[1]/_,t[0]/y);u[i]*=y,u[i++]+=m,u[i]*=_,u[i++]+=v,u[i++]*=y,u[i++]*=_,u[i++]+=b,u[i++]+=b,i+=2,a=i;break;case d:s[0]=u[i++],s[1]=u[i++],ke(s,s,t),u[a++]=s[0],u[a++]=s[1],s[0]+=u[i++],s[1]+=u[i++],ke(s,s,t),u[a++]=s[0],u[a++]=s[1]}for(o=0;o<r;o++){var x=Bl[o];x[0]=u[i++],x[1]=u[i++],ke(x,x,t),u[a++]=x[0],u[a++]=x[1]}}e.increaseVersion()}var Ul=Math.sqrt,Vl=Math.sin,Gl=Math.cos,Wl=Math.PI;function Xl(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Kl(e,t){return(e[0]*t[0]+e[1]*t[1])/(Xl(e)*Xl(t))}function ql(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Kl(e,t))}function Yl(e,t,n,r,i,a,o,s,u,l,c){var f=u*(Wl/180),h=Gl(f)*(e-n)/2+Vl(f)*(t-r)/2,d=-1*Vl(f)*(e-n)/2+Gl(f)*(t-r)/2,p=h*h/(o*o)+d*d/(s*s);p>1&&(o*=Ul(p),s*=Ul(p));var g=(i===a?-1:1)*Ul((o*o*(s*s)-o*o*(d*d)-s*s*(h*h))/(o*o*(d*d)+s*s*(h*h)))||0,m=g*o*d/s,v=g*-s*h/o,y=(e+n)/2+Gl(f)*m-Vl(f)*v,_=(t+r)/2+Vl(f)*m+Gl(f)*v,b=ql([1,0],[(h-m)/o,(d-v)/s]),x=[(h-m)/o,(d-v)/s],w=[(-1*h-m)/o,(-1*d-v)/s],S=ql(x,w);if(Kl(x,w)<=-1&&(S=Wl),Kl(x,w)>=1&&(S=0),S<0){var T=Math.round(S/Wl*1e6)/1e6;S=2*Wl+T%2*Wl}c.addData(l,y,_,o,s,b,S,f,a)}var Zl=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,$l=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Ql(e){var t=new Ds;if(!e)return t;var n,r=0,i=0,a=r,o=i,s=Ds.CMD,u=e.match(Zl);if(!u)return t;for(var l=0;l<u.length;l++){for(var c=u[l],f=c.charAt(0),h=void 0,d=c.match($l)||[],p=d.length,g=0;g<p;g++)d[g]=parseFloat(d[g]);var m=0;while(m<p){var v=void 0,y=void 0,_=void 0,b=void 0,x=void 0,w=void 0,S=void 0,T=r,E=i,M=void 0,C=void 0;switch(f){case"l":r+=d[m++],i+=d[m++],h=s.L,t.addData(h,r,i);break;case"L":r=d[m++],i=d[m++],h=s.L,t.addData(h,r,i);break;case"m":r+=d[m++],i+=d[m++],h=s.M,t.addData(h,r,i),a=r,o=i,f="l";break;case"M":r=d[m++],i=d[m++],h=s.M,t.addData(h,r,i),a=r,o=i,f="L";break;case"h":r+=d[m++],h=s.L,t.addData(h,r,i);break;case"H":r=d[m++],h=s.L,t.addData(h,r,i);break;case"v":i+=d[m++],h=s.L,t.addData(h,r,i);break;case"V":i=d[m++],h=s.L,t.addData(h,r,i);break;case"C":h=s.C,t.addData(h,d[m++],d[m++],d[m++],d[m++],d[m++],d[m++]),r=d[m-2],i=d[m-1];break;case"c":h=s.C,t.addData(h,d[m++]+r,d[m++]+i,d[m++]+r,d[m++]+i,d[m++]+r,d[m++]+i),r+=d[m-2],i+=d[m-1];break;case"S":v=r,y=i,M=t.len(),C=t.data,n===s.C&&(v+=r-C[M-4],y+=i-C[M-3]),h=s.C,T=d[m++],E=d[m++],r=d[m++],i=d[m++],t.addData(h,v,y,T,E,r,i);break;case"s":v=r,y=i,M=t.len(),C=t.data,n===s.C&&(v+=r-C[M-4],y+=i-C[M-3]),h=s.C,T=r+d[m++],E=i+d[m++],r+=d[m++],i+=d[m++],t.addData(h,v,y,T,E,r,i);break;case"Q":T=d[m++],E=d[m++],r=d[m++],i=d[m++],h=s.Q,t.addData(h,T,E,r,i);break;case"q":T=d[m++]+r,E=d[m++]+i,r+=d[m++],i+=d[m++],h=s.Q,t.addData(h,T,E,r,i);break;case"T":v=r,y=i,M=t.len(),C=t.data,n===s.Q&&(v+=r-C[M-4],y+=i-C[M-3]),r=d[m++],i=d[m++],h=s.Q,t.addData(h,v,y,r,i);break;case"t":v=r,y=i,M=t.len(),C=t.data,n===s.Q&&(v+=r-C[M-4],y+=i-C[M-3]),r+=d[m++],i+=d[m++],h=s.Q,t.addData(h,v,y,r,i);break;case"A":_=d[m++],b=d[m++],x=d[m++],w=d[m++],S=d[m++],T=r,E=i,r=d[m++],i=d[m++],h=s.A,Yl(T,E,r,i,w,S,_,b,x,h,t);break;case"a":_=d[m++],b=d[m++],x=d[m++],w=d[m++],S=d[m++],T=r,E=i,r+=d[m++],i+=d[m++],h=s.A,Yl(T,E,r,i,w,S,_,b,x,h,t);break}}"z"!==f&&"Z"!==f||(h=s.Z,t.addData(h),r=a,i=o),n=h}return t.toStatic(),t}var Jl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.applyTransform=function(e){},t}(nu);function ec(e){return null!=e.setData}function tc(e,t){var n=Ql(e),r=R({},t);return r.buildPath=function(e){if(ec(e)){e.setData(n.data);var t=e.getContext();t&&e.rebuildPath(t,1)}else{t=e;n.rebuildPath(t,1)}},r.applyTransform=function(e){Hl(n,e),this.dirtyShape()},r}function nc(e,t){return new Jl(tc(e,t))}function rc(e,t){var n=tc(e,t),r=function(e){function t(t){var r=e.call(this,t)||this;return r.applyTransform=n.applyTransform,r.buildPath=n.buildPath,r}return f(t,e),t}(Jl);return r}function ic(e,t){for(var n=[],r=e.length,i=0;i<r;i++){var a=e[i];a.path||a.createPathProxy(),a.shapeChanged()&&a.buildPath(a.path,a.shape,!0),n.push(a.path)}var o=new nu(t);return o.createPathProxy(),o.buildPath=function(e){if(ec(e)){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t,1)}},o}var ac=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),oc=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.getDefaultShape=function(){return new ac},t.prototype.buildPath=function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI)},t}(nu);oc.prototype.type="circle";var sc=oc,uc=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),lc=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.getDefaultShape=function(){return new uc},t.prototype.buildPath=function(e,t){var n=.5522848,r=t.cx,i=t.cy,a=t.rx,o=t.ry,s=a*n,u=o*n;e.moveTo(r-a,i),e.bezierCurveTo(r-a,i-u,r-s,i-o,r,i-o),e.bezierCurveTo(r+s,i-o,r+a,i-u,r+a,i),e.bezierCurveTo(r+a,i+u,r+s,i+o,r,i+o),e.bezierCurveTo(r-s,i+o,r-a,i+u,r-a,i),e.closePath()},t}(nu);lc.prototype.type="ellipse";var cc=lc,fc=Math.PI,hc=2*fc,dc=Math.sin,pc=Math.cos,gc=Math.acos,mc=Math.atan2,vc=Math.abs,yc=Math.sqrt,_c=Math.max,bc=Math.min,xc=1e-4;function wc(e,t,n,r,i,a,o,s){var u=n-e,l=r-t,c=o-i,f=s-a,h=f*u-c*l;if(!(h*h<xc))return h=(c*(t-a)-f*(e-i))/h,[e+h*u,t+h*l]}function Sc(e,t,n,r,i,a,o){var s=e-n,u=t-r,l=(o?a:-a)/yc(s*s+u*u),c=l*u,f=-l*s,h=e+c,d=t+f,p=n+c,g=r+f,m=(h+p)/2,v=(d+g)/2,y=p-h,_=g-d,b=y*y+_*_,x=i-a,w=h*g-p*d,S=(_<0?-1:1)*yc(_c(0,x*x*b-w*w)),T=(w*_-y*S)/b,E=(-w*y-_*S)/b,M=(w*_+y*S)/b,C=(-w*y+_*S)/b,A=T-m,O=E-v,D=M-m,P=C-v;return A*A+O*O>D*D+P*P&&(T=M,E=C),{cx:T,cy:E,x01:-c,y01:-f,x11:T*(i/x-1),y11:E*(i/x-1)}}function Tc(e,t){var n=_c(t.r,0),r=_c(t.r0||0,0),i=n>0,a=r>0;if(i||a){if(i||(n=r,r=0),r>n){var o=n;n=r,r=o}var s,u=!!t.clockwise,l=t.startAngle,c=t.endAngle;if(l===c)s=0;else{var f=[l,c];As(f,!u),s=vc(f[0]-f[1])}var h=t.cx,d=t.cy,p=t.cornerRadius||0,g=t.innerCornerRadius||0;if(n>xc)if(s>hc-xc)e.moveTo(h+n*pc(l),d+n*dc(l)),e.arc(h,d,n,l,c,!u),r>xc&&(e.moveTo(h+r*pc(c),d+r*dc(c)),e.arc(h,d,r,c,l,u));else{var m=vc(n-r)/2,v=bc(m,p),y=bc(m,g),_=y,b=v,x=n*pc(l),w=n*dc(l),S=r*pc(c),T=r*dc(c),E=void 0,M=void 0,C=void 0,A=void 0;if((v>xc||y>xc)&&(E=n*pc(c),M=n*dc(c),C=r*pc(l),A=r*dc(l),s<fc)){var O=wc(x,w,C,A,E,M,S,T);if(O){var D=x-O[0],P=w-O[1],L=E-O[0],I=M-O[1],R=1/dc(gc((D*L+P*I)/(yc(D*D+P*P)*yc(L*L+I*I)))/2),k=yc(O[0]*O[0]+O[1]*O[1]);_=bc(y,(r-k)/(R-1)),b=bc(v,(n-k)/(R+1))}}if(s>xc)if(b>xc){var N=Sc(C,A,x,w,n,b,u),F=Sc(E,M,S,T,n,b,u);e.moveTo(h+N.cx+N.x01,d+N.cy+N.y01),b<v?e.arc(h+N.cx,d+N.cy,b,mc(N.y01,N.x01),mc(F.y01,F.x01),!u):(e.arc(h+N.cx,d+N.cy,b,mc(N.y01,N.x01),mc(N.y11,N.x11),!u),e.arc(h,d,n,mc(N.cy+N.y11,N.cx+N.x11),mc(F.cy+F.y11,F.cx+F.x11),!u),e.arc(h+F.cx,d+F.cy,b,mc(F.y11,F.x11),mc(F.y01,F.x01),!u))}else e.moveTo(h+x,d+w),e.arc(h,d,n,l,c,!u);else e.moveTo(h+x,d+w);if(r>xc&&s>xc)if(_>xc){N=Sc(S,T,E,M,r,-_,u),F=Sc(x,w,C,A,r,-_,u);e.lineTo(h+N.cx+N.x01,d+N.cy+N.y01),_<y?e.arc(h+N.cx,d+N.cy,_,mc(N.y01,N.x01),mc(F.y01,F.x01),!u):(e.arc(h+N.cx,d+N.cy,_,mc(N.y01,N.x01),mc(N.y11,N.x11),!u),e.arc(h,d,r,mc(N.cy+N.y11,N.cx+N.x11),mc(F.cy+F.y11,F.cx+F.x11),u),e.arc(h+F.cx,d+F.cy,_,mc(F.y11,F.x11),mc(F.y01,F.x01),!u))}else e.lineTo(h+S,d+T),e.arc(h,d,r,c,l,u);else e.lineTo(h+S,d+T)}else e.moveTo(h,d);e.closePath()}}var Ec=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0}return e}(),Mc=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.getDefaultShape=function(){return new Ec},t.prototype.buildPath=function(e,t){Tc(e,t)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(nu);Mc.prototype.type="sector";var Cc=Mc,Ac=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),Oc=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.getDefaultShape=function(){return new Ac},t.prototype.buildPath=function(e,t){var n=t.cx,r=t.cy,i=2*Math.PI;e.moveTo(n+t.r,r),e.arc(n,r,t.r,0,i,!1),e.moveTo(n+t.r0,r),e.arc(n,r,t.r0,0,i,!0)},t}(nu);Oc.prototype.type="ring";var Dc=Oc;function Pc(e,t,n,r,i,a,o){var s=.5*(n-e),u=.5*(r-t);return(2*(t-n)+s+u)*o+(-3*(t-n)-2*s-u)*a+s*i+t}function Lc(e,t){for(var n=e.length,r=[],i=0,a=1;a<n;a++)i+=De(e[a-1],e[a]);var o=i/2;o=o<n?n:o;for(a=0;a<o;a++){var s=a/(o-1)*(t?n:n-1),u=Math.floor(s),l=s-u,c=void 0,f=e[u%n],h=void 0,d=void 0;t?(c=e[(u-1+n)%n],h=e[(u+1)%n],d=e[(u+2)%n]):(c=e[0===u?u:u-1],h=e[u>n-2?n-1:u+1],d=e[u>n-3?n-1:u+2]);var p=l*l,g=l*p;r.push([Pc(c[0],f[0],h[0],d[0],l,p,g),Pc(c[1],f[1],h[1],d[1],l,p,g)])}return r}function Ic(e,t,n,r){var i,a,o,s,u=[],l=[],c=[],f=[];if(r){o=[1/0,1/0],s=[-1/0,-1/0];for(var h=0,d=e.length;h<d;h++)Ne(o,o,e[h]),Fe(s,s,e[h]);Ne(o,o,r[0]),Fe(s,s,r[1])}for(h=0,d=e.length;h<d;h++){var p=e[h];if(n)i=e[h?h-1:d-1],a=e[(h+1)%d];else{if(0===h||h===d-1){u.push(Se(e[h]));continue}i=e[h-1],a=e[h+1]}Ee(l,a,i),Ae(l,l,t);var g=De(p,i),m=De(p,a),v=g+m;0!==v&&(g/=v,m/=v),Ae(c,l,-g),Ae(f,l,m);var y=Te([],p,c),_=Te([],p,f);r&&(Fe(y,y,o),Ne(y,y,s),Fe(_,_,o),Ne(_,_,s)),u.push(y),u.push(_)}return n&&u.push(u.shift()),u}function Rc(e,t,n){var r=t.smooth,i=t.points;if(i&&i.length>=2){if(r&&"spline"!==r){var a=Ic(i,r,n,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(n?o:o-1);s++){var u=a[2*s],l=a[2*s+1],c=i[(s+1)%o];e.bezierCurveTo(u[0],u[1],l[0],l[1],c[0],c[1])}}else{"spline"===r&&(i=Lc(i,n)),e.moveTo(i[0][0],i[0][1]);s=1;for(var f=i.length;s<f;s++)e.lineTo(i[s][0],i[s][1])}n&&e.closePath()}}var kc=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),Nc=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.getDefaultShape=function(){return new kc},t.prototype.buildPath=function(e,t){Rc(e,t,!0)},t}(nu);Nc.prototype.type="polygon";var Fc=Nc,Bc=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),zc=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Bc},t.prototype.buildPath=function(e,t){Rc(e,t,!1)},t}(nu);zc.prototype.type="polyline";var jc=zc,Hc={},Uc=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),Vc=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Uc},t.prototype.buildPath=function(e,t){var n,r,i,a;if(this.subPixelOptimize){var o=du(Hc,t,this.style);n=o.x1,r=o.y1,i=o.x2,a=o.y2}else n=t.x1,r=t.y1,i=t.x2,a=t.y2;var s=t.percent;0!==s&&(e.moveTo(n,r),s<1&&(i=n*(1-s)+i*s,a=r*(1-s)+a*s),e.lineTo(i,a))},t.prototype.pointAt=function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]},t}(nu);Vc.prototype.type="line";var Gc=Vc,Wc=[],Xc=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function Kc(e,t,n){var r=e.cpx2,i=e.cpy2;return null===r||null===i?[(n?No:ko)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?No:ko)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?Vo:Uo)(e.x1,e.cpx1,e.x2,t),(n?Vo:Uo)(e.y1,e.cpy1,e.y2,t)]}var qc=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Xc},t.prototype.buildPath=function(e,t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2,o=t.cpx1,s=t.cpy1,u=t.cpx2,l=t.cpy2,c=t.percent;0!==c&&(e.moveTo(n,r),null==u||null==l?(c<1&&(Xo(n,o,i,c,Wc),o=Wc[1],i=Wc[2],Xo(r,s,a,c,Wc),s=Wc[1],a=Wc[2]),e.quadraticCurveTo(o,s,i,a)):(c<1&&(zo(n,o,u,i,c,Wc),o=Wc[1],u=Wc[2],i=Wc[3],zo(r,s,l,a,c,Wc),s=Wc[1],l=Wc[2],a=Wc[3]),e.bezierCurveTo(o,s,u,l,i,a)))},t.prototype.pointAt=function(e){return Kc(this.shape,e,!1)},t.prototype.tangentAt=function(e){var t=Kc(this.shape,e,!0);return Oe(t,t)},t}(nu);qc.prototype.type="bezier-curve";var Yc=qc,Zc=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return e}(),$c=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Zc},t.prototype.buildPath=function(e,t){var n=t.cx,r=t.cy,i=Math.max(t.r,0),a=t.startAngle,o=t.endAngle,s=t.clockwise,u=Math.cos(a),l=Math.sin(a);e.moveTo(u*i+n,l*i+r),e.arc(n,r,i,a,o,!s)},t}(nu);$c.prototype.type="arc";var Qc=$c,Jc=Math.max,ef=Math.min,tf={};function nf(e){return nu.extend(e)}var rf=rc;function af(e,t){return rf(e,t)}function of(e,t){tf[e]=t}function sf(e){if(tf.hasOwnProperty(e))return tf[e]}function uf(e,t,n,r){var i=nc(e,t);return n&&("center"===r&&(n=cf(n,i.getBoundingRect())),hf(i,n)),i}function lf(e,t,n){var r=new cu({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===n){var i={width:e.width,height:e.height};r.setStyle(cf(t,i))}}});return r}function cf(e,t){var n,r=t.width/t.height,i=e.height*r;i<=e.width?n=e.height:(i=e.width,n=i/r);var a=e.x+e.width/2,o=e.y+e.height/2;return{x:a-i/2,y:o-n/2,width:i,height:n}}var ff=ic;function hf(e,t){if(e.applyTransform){var n=e.getBoundingRect(),r=n.calculateTransform(t);e.applyTransform(r)}}function df(e,t,n,r,i,a,o){var s,u=!1;"function"===typeof i?(o=a,a=i,i=null):ee(i)&&(a=i.cb,o=i.during,u=i.isFrom,s=i.removeOpt,i=i.dataIndex);var l,c="update"===e,f="remove"===e;if(r&&r.ecModel){var h=r.ecModel.getUpdatePayload();l=h&&h.animation}var d=r&&r.isAnimationEnabled();if(f||t.stopAnimation("remove"),d){var p=void 0,g=void 0,m=void 0;l?(p=l.duration||0,g=l.easing||"cubicOut",m=l.delay||0):f?(s=s||{},p=se(s.duration,200),g=se(s.easing,"cubicOut"),m=0):(p=r.getShallow(c?"animationDurationUpdate":"animationDuration"),g=r.getShallow(c?"animationEasingUpdate":"animationEasing"),m=r.getShallow(c?"animationDelayUpdate":"animationDelay")),"function"===typeof m&&(m=m(i,r.getAnimationDelayParams?r.getAnimationDelayParams(t,i):null)),"function"===typeof p&&(p=p(i)),p>0?u?t.animateFrom(n,{duration:p,delay:m||0,easing:g,done:a,force:!!a||!!o,scope:e,during:o}):t.animateTo(n,{duration:p,delay:m||0,easing:g,done:a,force:!!a||!!o,setToFinal:!0,scope:e,during:o}):(t.stopAnimation(),!u&&t.attr(n),a&&a())}else t.stopAnimation(),!u&&t.attr(n),o&&o(1),a&&a()}function pf(e,t,n,r,i,a){df("update",e,t,n,r,i,a)}function gf(e,t,n,r,i,a){df("init",e,t,n,r,i,a)}function mf(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var n=e.animators[t];if("remove"===n.scope)return!0}return!1}function vf(e,t){var n=St([]);while(e&&e!==t)Et(n,e.getLocalTransform(),n),e=e.parent;return n}function yf(e,t){return U(e,(function(e){var n=e[0];n=Jc(n,t.x),n=ef(n,t.x+t.width);var r=e[1];return r=Jc(r,t.y),r=ef(r,t.y+t.height),[n,r]}))}function _f(e,t){var n=Jc(e.x,t.x),r=ef(e.x+e.width,t.x+t.width),i=Jc(e.y,t.y),a=ef(e.y+e.height,t.y+t.height);if(r>=n&&a>=i)return{x:n,y:i,width:r-n,height:a-i}}function bf(e,t,n){var r=R({rectHover:!0},t),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(i.image=e.slice(8),k(i,n),new cu(r)):uf(e.replace("path://",""),r,n,"center")}of("circle",sc),of("ellipse",cc),of("sector",Cc),of("ring",Dc),of("polygon",Fc),of("polyline",jc),of("rect",_u),of("line",Gc),of("bezierCurve",Yc),of("arc",Qc);var xf={};function wf(e,t){for(var n=0;n<Hu.length;n++){var r=Hu[n],i=t[r],a=e.ensureState(r);a.style=a.style||{},a.style.text=i}var o=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(o,!0)}function Sf(e,t,n){var r,i=e.labelFetcher,a=e.labelDataIndex,o=e.labelDimIndex,s=t.normal;i&&(r=i.getFormattedLabel(a,"normal",null,o,s&&s.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==r&&(r=Z(e.defaultText)?e.defaultText(a,e,n):e.defaultText);for(var u={normal:r},l=0;l<Hu.length;l++){var c=Hu[l],f=t[c];u[c]=se(i?i.getFormattedLabel(a,c,null,o,f&&f.get("formatter")):null,r)}return u}function Tf(e,t,n,r,i){var a={};return Ef(a,e,n,r,i),t&&R(a,t),a}function Ef(e,t,n,r,i){n=n||xf;var a,o=t.ecModel,s=o&&o.option.textStyle,u=Mf(t);if(u)for(var l in a={},u)if(u.hasOwnProperty(l)){var c=t.getModel(["rich",l]);Df(a[l]={},c,s,n,r,i,!1,!0)}a&&(e.rich=a);var f=t.get("overflow");f&&(e.overflow=f);var h=t.get("minMargin");null!=h&&(e.margin=h),Df(e,t,s,n,r,i,!0,!1)}function Mf(e){var t;while(e&&e!==e.ecModel){var n=(e.option||xf).rich;if(n){t=t||{};for(var r=W(n),i=0;i<r.length;i++){var a=r[i];t[a]=1}}e=e.parentModel}return t}var Cf=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Af=["align","lineHeight","width","height","tag","verticalAlign"],Of=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Df(e,t,n,r,i,a,o,s){n=!i&&n||xf;var u=r&&r.inheritColor,l=t.getShallow("color"),c=t.getShallow("textBorderColor"),f=se(t.getShallow("opacity"),n.opacity);"inherit"!==l&&"auto"!==l||(l=u||null),"inherit"!==c&&"auto"!==c||(c=u||null),a||(l=l||n.color,c=c||n.textBorderColor),null!=l&&(e.fill=l),null!=c&&(e.stroke=c);var h=se(t.getShallow("textBorderWidth"),n.textBorderWidth);null!=h&&(e.lineWidth=h);var d=se(t.getShallow("textBorderType"),n.textBorderType);null!=d&&(e.lineDash=d);var p=se(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=p&&(e.lineDashOffset=p),i||null!=f||s||(f=r&&r.defaultOpacity),null!=f&&(e.opacity=f),i||a||null==e.fill&&r.inheritColor&&(e.fill=r.inheritColor);for(var g=0;g<Cf.length;g++){var m=Cf[g],v=se(t.getShallow(m),n[m]);null!=v&&(e[m]=v)}for(g=0;g<Af.length;g++){m=Af[g],v=t.getShallow(m);null!=v&&(e[m]=v)}if(null==e.verticalAlign){var y=t.getShallow("baseline");null!=y&&(e.verticalAlign=y)}if(!o||!r.disableBox){for(g=0;g<Of.length;g++){m=Of[g],v=t.getShallow(m);null!=v&&(e[m]=v)}var _=t.getShallow("borderType");null!=_&&(e.borderDash=_),"auto"!==e.backgroundColor&&"inherit"!==e.backgroundColor||!u||(e.backgroundColor=u),"auto"!==e.borderColor&&"inherit"!==e.borderColor||!u||(e.borderColor=u)}}function Pf(e,t){var n=t&&t.getModel("textStyle");return he([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var Lf=wa();function If(e,t,n,r,i){var a=Lf(e);if(a.valueAnimation){var o=a.defaultInterpolatedText,s=se(a.interpolatedValue,a.prevValue),u=a.value;(null==s?gf:pf)(e,{},r,t,null,l)}function l(r){var l=Aa(n,a.precision,s,u,r);a.interpolatedValue=1===r?null:l;var c=Sf({labelDataIndex:t,labelFetcher:i,defaultText:o?o(l):l+""},a.statesModels,l);wf(e,c)}}var Rf=["textStyle","color"],kf=new Iu,Nf=function(){function e(){}return e.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(Rf):null)},e.prototype.getFont=function(){return Pf({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(e){return kf.useStyle({text:e,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),kf.update(),kf.getBoundingRect()},e}(),Ff=Nf,Bf=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],zf=Va(Bf),jf=function(){function e(){}return e.prototype.getLineStyle=function(e){return zf(this,e)},e}(),Hf=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Uf=Va(Hf),Vf=function(){function e(){}return e.prototype.getItemStyle=function(e,t){return Uf(this,e,t)},e}(),Gf=function(){function e(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return e.prototype.init=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i]},e.prototype.mergeOption=function(e,t){I(this.option,e,!0)},e.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},e.prototype.getShallow=function(e,t){var n=this.option,r=null==n?n:n[e];if(null==r&&!t){var i=this.parentModel;i&&(r=i.getShallow(e))}return r},e.prototype.getModel=function(t,n){var r=null!=t,i=r?this.parsePath(t):null,a=r?this._doGet(i):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new e(a,n,this.ecModel)},e.prototype.isEmpty=function(){return null==this.option},e.prototype.restoreData=function(){},e.prototype.clone=function(){var e=this.constructor;return new e(L(this.option))},e.prototype.parsePath=function(e){return"string"===typeof e?e.split("."):e},e.prototype.resolveParentPath=function(e){return e},e.prototype.isAnimationEnabled=function(){if(!v.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var r=0;r<e.length;r++)if(e[r]&&(n=n&&"object"===typeof n?n[e[r]]:null,null==n))break;return null==n&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},e}();ka(Gf),za(Gf),z(Gf,jf),z(Gf,Vf),z(Gf,Xa),z(Gf,Ff);var Wf=Gf,Xf=Math.round(10*Math.random());function Kf(e){return[e||"",Xf++].join("_")}function qf(e){var t={};e.registerSubTypeDefaulter=function(e,n){var r=La(e);t[r.main]=n},e.determineSubType=function(n,r){var i=r.type;if(!i){var a=La(n).main;e.hasSubTypes(n)&&t[a]&&(i=t[a](r))}return i}}function Yf(e,t){function n(e){var n={},a=[];return H(e,(function(o){var s=r(n,o),u=s.originalDeps=t(o),l=i(u,e);s.entryCount=l.length,0===s.entryCount&&a.push(o),H(l,(function(e){F(s.predecessor,e)<0&&s.predecessor.push(e);var t=r(n,e);F(t.successor,e)<0&&t.successor.push(o)}))})),{graph:n,noEntryList:a}}function r(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}function i(e,t){var n=[];return H(e,(function(e){F(t,e)>=0&&n.push(e)})),n}e.topologicalTravel=function(e,t,r,i){if(e.length){var a=n(t),o=a.graph,s=a.noEntryList,u={};H(e,(function(e){u[e]=!0}));while(s.length){var l=s.pop(),c=o[l],f=!!u[l];f&&(r.call(i,l,c.originalDeps.slice()),delete u[l]),H(c.successor,f?d:h)}H(u,(function(){var e="";throw new Error(e)}))}function h(e){o[e].entryCount--,0===o[e].entryCount&&s.push(e)}function d(e){u[e]=!0,h(e)}}}var Zf={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Guage",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},$f={time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}},Qf="ZH",Jf="EN",eh=Jf,th={},nh={},rh=v.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return e.indexOf(Qf)>-1?Qf:eh}():eh;function ih(e,t){e=e.toUpperCase(),nh[e]=new Wf(t),th[e]=t}function ah(e){if($(e)){var t=th[e.toUpperCase()]||{};return e===Qf||e===Jf?L(t):I(L(t),L(th[eh]),!1)}return I(L(e),L(th[eh]),!1)}function oh(e){return nh[e]}function sh(){return nh[eh]}ih(Jf,Zf),ih(Qf,$f);var uh=1e3,lh=60*uh,ch=60*lh,fh=24*ch,hh=365*fh,dh={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{hh}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss} {SSS}"},ph="{yyyy}-{MM}-{dd}",gh={year:"{yyyy}",month:"{yyyy}-{MM}",day:ph,hour:ph+" "+dh.hour,minute:ph+" "+dh.minute,second:ph+" "+dh.second,millisecond:dh.none},mh=["year","month","day","hour","minute","second","millisecond"],vh=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function yh(e,t){return e+="","0000".substr(0,t-e.length)+e}function _h(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function bh(e){return e===_h(e)}function xh(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function wh(e,t,n,r){var i=Vi(e),a=i[Mh(n)](),o=i[Ch(n)]()+1,s=Math.floor((o-1)/4)+1,u=i[Ah(n)](),l=i["get"+(n?"UTC":"")+"Day"](),c=i[Oh(n)](),f=(c-1)%12+1,h=i[Dh(n)](),d=i[Ph(n)](),p=i[Lh(n)](),g=r instanceof Wf?r:oh(r||rh)||sh(),m=g.getModel("time"),v=m.get("month"),y=m.get("monthAbbr"),_=m.get("dayOfWeek"),b=m.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,a%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,v[o-1]).replace(/{MMM}/g,y[o-1]).replace(/{MM}/g,yh(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,yh(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,_[l]).replace(/{ee}/g,b[l]).replace(/{e}/g,l+"").replace(/{HH}/g,yh(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,yh(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,yh(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,yh(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,yh(p,3)).replace(/{S}/g,p+"")}function Sh(e,t,n,r,i){var a=null;if("string"===typeof n)a=n;else if("function"===typeof n)a=n(e.value,t,{level:e.level});else{var o=R({},dh);if(e.level>0)for(var s=0;s<mh.length;++s)o[mh[s]]="{primary|"+o[mh[s]]+"}";var u=n?!1===n.inherit?n:k(n,o):o,l=Th(e.value,i);if(u[l])a=u[l];else if(u.inherit){var c=vh.indexOf(l);for(s=c-1;s>=0;--s)if(u[l]){a=u[l];break}a=a||o.none}if(Y(a)){var f=null==e.level?0:e.level>=0?e.level:a.length+e.level;f=Math.min(f,a.length-1),a=a[f]}}return wh(new Date(e.value),a,i,r)}function Th(e,t){var n=Vi(e),r=n[Ch(t)]()+1,i=n[Ah(t)](),a=n[Oh(t)](),o=n[Dh(t)](),s=n[Ph(t)](),u=n[Lh(t)](),l=0===u,c=l&&0===s,f=c&&0===o,h=f&&0===a,d=h&&1===i,p=d&&1===r;return p?"year":d?"month":h?"day":f?"hour":c?"minute":l?"second":"millisecond"}function Eh(e,t,n){var r="number"===typeof e?Vi(e):e;switch(t=t||Th(e,n),t){case"year":return r[Mh(n)]();case"half-year":return r[Ch(n)]()>=6?1:0;case"quarter":return Math.floor((r[Ch(n)]()+1)/4);case"month":return r[Ch(n)]();case"day":return r[Ah(n)]();case"half-day":return r[Oh(n)]()/24;case"hour":return r[Oh(n)]();case"minute":return r[Dh(n)]();case"second":return r[Ph(n)]();case"millisecond":return r[Lh(n)]()}}function Mh(e){return e?"getUTCFullYear":"getFullYear"}function Ch(e){return e?"getUTCMonth":"getMonth"}function Ah(e){return e?"getUTCDate":"getDate"}function Oh(e){return e?"getUTCHours":"getHours"}function Dh(e){return e?"getUTCMinutes":"getMinutes"}function Ph(e){return e?"getUTCSeconds":"getSeconds"}function Lh(e){return e?"getUTCSeconds":"getSeconds"}function Ih(e){return e?"setUTCFullYear":"setFullYear"}function Rh(e){return e?"setUTCMonth":"setMonth"}function kh(e){return e?"setUTCDate":"setDate"}function Nh(e){return e?"setUTCHours":"setHours"}function Fh(e){return e?"setUTCMinutes":"setMinutes"}function Bh(e){return e?"setUTCSeconds":"setSeconds"}function zh(e){return e?"setUTCSeconds":"setSeconds"}function jh(e){if(!Zi(e))return $(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Hh(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var Uh=ce,Vh=/([&<>"'])/g,Gh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Wh(e){return null==e?"":(e+"").replace(Vh,(function(e,t){return Gh[t]}))}var Xh=["a","b","c","d","e","f","g"],Kh=function(e,t){return"{"+e+(null==t?"":t)+"}"};function qh(e,t,n){Y(t)||(t=[t]);var r=t.length;if(!r)return"";for(var i=t[0].$vars||[],a=0;a<i.length;a++){var o=Xh[a];e=e.replace(Kh(o),Kh(o,0))}for(var s=0;s<r;s++)for(var u=0;u<i.length;u++){var l=t[s][i[u]];e=e.replace(Kh(Xh[u],s),n?Wh(l):l)}return e}function Yh(e,t){var n=$(e)?{color:e,extraCssText:t}:e||{},r=n.color,i=n.type;t=n.extraCssText;var a=n.renderMode||"html";if(!r)return"";if("html"===a)return"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Wh(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Wh(r)+";"+(t||"")+'"></span>';var o=n.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:"subItem"===i?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function Zh(e,t,n){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var r=Vi(t),i=n?"UTC":"",a=r["get"+i+"FullYear"](),o=r["get"+i+"Month"]()+1,s=r["get"+i+"Date"](),u=r["get"+i+"Hours"](),l=r["get"+i+"Minutes"](),c=r["get"+i+"Seconds"](),f=r["get"+i+"Milliseconds"]();return e=e.replace("MM",yh(o,2)).replace("M",o).replace("yyyy",a).replace("yy",a%100+"").replace("dd",yh(s,2)).replace("d",s).replace("hh",yh(u,2)).replace("h",u).replace("mm",yh(l,2)).replace("m",l).replace("ss",yh(c,2)).replace("s",c).replace("SSS",yh(f,3)),e}function $h(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}function Qh(e,t){return t=t||"transparent",$(e)?e:ee(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}var Jh=H,ed=["left","right","top","bottom","width","height"],td=[["width","left","right"],["height","top","bottom"]];function nd(e,t,n,r,i){var a=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;t.eachChild((function(u,l){var c,f,h=u.getBoundingRect(),d=t.childAt(l+1),p=d&&d.getBoundingRect();if("horizontal"===e){var g=h.width+(p?-p.x+h.x:0);c=a+g,c>r||u.newline?(a=0,c=g,o+=s+n,s=h.height):s=Math.max(s,h.height)}else{var m=h.height+(p?-p.y+h.y:0);f=o+m,f>i||u.newline?(a+=s+n,o=0,f=m,s=h.width):s=Math.max(s,h.width)}u.newline||(u.x=a,u.y=o,u.markRedraw(),"horizontal"===e?a=c+n:o=f+n)}))}q(nd,"vertical"),q(nd,"horizontal");function rd(e,t,n){n=Uh(n||0);var r=t.width,i=t.height,a=Li(e.left,r),o=Li(e.top,i),s=Li(e.right,r),u=Li(e.bottom,i),l=Li(e.width,r),c=Li(e.height,i),f=n[2]+n[0],h=n[1]+n[3],d=e.aspect;switch(isNaN(l)&&(l=r-s-h-a),isNaN(c)&&(c=i-u-f-o),null!=d&&(isNaN(l)&&isNaN(c)&&(d>r/i?l=.8*r:c=.8*i),isNaN(l)&&(l=d*c),isNaN(c)&&(c=l/d)),isNaN(a)&&(a=r-s-l-h),isNaN(o)&&(o=i-u-c-f),e.left||e.right){case"center":a=r/2-l/2-n[3];break;case"right":a=r-l-h;break}switch(e.top||e.bottom){case"middle":case"center":o=i/2-c/2-n[0];break;case"bottom":o=i-c-f;break}a=a||0,o=o||0,isNaN(l)&&(l=r-h-a-(s||0)),isNaN(c)&&(c=i-f-o-(u||0));var p=new Jn(a+n[3],o+n[0],l,c);return p.margin=n,p}function id(e){var t=e.layoutMode||e.constructor.layoutMode;return ee(t)?t:t?{type:t}:null}function ad(e,t,n){var r=n&&n.ignoreSize;!Y(r)&&(r=[r,r]);var i=o(td[0],0),a=o(td[1],1);function o(n,i){var a={},o=0,l={},c=0,f=2;if(Jh(n,(function(t){l[t]=e[t]})),Jh(n,(function(e){s(t,e)&&(a[e]=l[e]=t[e]),u(a,e)&&o++,u(l,e)&&c++})),r[i])return u(t,n[1])?l[n[2]]=null:u(t,n[2])&&(l[n[1]]=null),l;if(c!==f&&o){if(o>=f)return a;for(var h=0;h<n.length;h++){var d=n[h];if(!s(a,d)&&s(e,d)){a[d]=e[d];break}}return a}return l}function s(e,t){return e.hasOwnProperty(t)}function u(e,t){return null!=e[t]&&"auto"!==e[t]}function l(e,t,n){Jh(e,(function(e){t[e]=n[e]}))}l(td[0],e,i),l(td[1],e,a)}function od(e){return sd({},e)}function sd(e,t){return t&&e&&Jh(ed,(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}var ud=wa(),ld=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.uid=Kf("ec_cpt_model"),i}return f(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=id(this),r=n?od(e):{},i=t.getTheme();I(e,i.get(this.mainType)),I(e,this.getDefaultOption()),n&&ad(e,r,n)},t.prototype.mergeOption=function(e,t){I(this.option,e,!0);var n=id(this);n&&ad(this.option,e,n)},t.prototype.optionUpdated=function(e,t){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!Ra(e))return e.defaultOption;var t=ud(this);if(!t.defaultOption){var n=[],r=e;while(r){var i=r.prototype.defaultOption;i&&n.push(i),r=r.superClass}for(var a={},o=n.length-1;o>=0;o--)a=I(a,n[o],!0);t.defaultOption=a}return t.defaultOption},t.prototype.getReferringComponents=function(e,t){var n=e+"Index",r=e+"Id";return Ma(this.ecModel,e,{index:this.get(n,!0),id:this.get(r,!0)},t)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.protoInitialize=function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),t}(Wf);function cd(e){var t=[];return H(ld.getClassesByMainType(e),(function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])})),t=U(t,(function(e){return La(e).main})),"dataset"!==e&&F(t,"dataset")<=0&&t.unshift("dataset"),t}Fa(ld,Wf),Ua(ld),qf(ld),Yf(ld,cd);var fd=ld,hd="";"undefined"!==typeof navigator&&(hd=navigator.platform||"");var dd="rgba(0, 0, 0, 0.2)",pd={darkMode:"auto",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:dd,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:dd,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:dd,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:dd,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:dd,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:dd,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:hd.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},gd=ve(["tooltip","label","itemName","itemId","seriesName"]),md="original",vd="arrayRows",yd="objectRows",_d="keyedColumns",bd="typedArray",xd="unknown",wd="column",Sd="row",Td={Must:1,Might:2,Not:3},Ed=wa();function Md(e){Ed(e).datasetMap=ve()}function Cd(e,t,n){var r={},i=Ad(t);if(!i||!e)return r;var a,o,s=[],u=[],l=t.ecModel,c=Ed(l).datasetMap,f=i.uid+"_"+n.seriesLayoutBy;e=e.slice(),H(e,(function(t,n){var i=ee(t)?t:e[n]={name:t};"ordinal"===i.type&&null==a&&(a=n,o=p(i)),r[i.name]=[]}));var h=c.get(f)||c.set(f,{categoryWayDim:o,valueWayDim:0});function d(e,t,n){for(var r=0;r<n;r++)e.push(t+r)}function p(e){var t=e.dimsDef;return t?t.length:1}return H(e,(function(e,t){var n=e.name,i=p(e);if(null==a){var o=h.valueWayDim;d(r[n],o,i),d(u,o,i),h.valueWayDim+=i}else if(a===t)d(r[n],0,i),d(s,0,i);else{o=h.categoryWayDim;d(r[n],o,i),d(u,o,i),h.categoryWayDim+=i}})),s.length&&(r.itemName=s),u.length&&(r.seriesName=u),r}function Ad(e){var t=e.get("data",!0);if(!t)return Ma(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},Ea).models[0]}function Od(e){return e.get("transform",!0)||e.get("fromTransformResult",!0)?Ma(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},Ea).models:[]}function Dd(e,t){return Pd(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function Pd(e,t,n,r,i,a){var o,s,u,l=5;if(ne(e))return Td.Not;if(r){var c=r[a];ee(c)?(s=c.name,u=c.type):$(c)&&(s=c)}if(null!=u)return"ordinal"===u?Td.Must:Td.Not;if(t===vd){var f=e;if(n===Sd){for(var h=f[a],d=0;d<(h||[]).length&&d<l;d++)if(null!=(o=b(h[i+d])))return o}else for(d=0;d<f.length&&d<l;d++){var p=f[i+d];if(p&&null!=(o=b(p[a])))return o}}else if(t===yd){var g=e;if(!s)return Td.Not;for(d=0;d<g.length&&d<l;d++){var m=g[d];if(m&&null!=(o=b(m[s])))return o}}else if(t===_d){var v=e;if(!s)return Td.Not;h=v[s];if(!h||ne(h))return Td.Not;for(d=0;d<h.length&&d<l;d++)if(null!=(o=b(h[d])))return o}else if(t===md){var y=e;for(d=0;d<y.length&&d<l;d++){m=y[d];var _=aa(m);if(!Y(_))return Td.Not;if(null!=(o=b(_[a])))return o}}function b(e){var t=$(e);return null!=e&&isFinite(e)&&""!==e?t?Td.Might:Td.Not:t&&"-"!==e?Td.Must:void 0}return Td.Not}var Ld=ve();function Id(e,t,n){var r=Ld.get(t);if(!r)return n;var i=r(e);return i?n.concat(i):n}var Rd,kd,Nd,Fd=wa(),Bd=(wa(),function(){function e(){}return e.prototype.getColorFromPalette=function(e,t,n){var r=na(this.get("color",!0)),i=this.get("colorLayer",!0);return jd(this,Fd,r,i,e,t,n)},e.prototype.clearColorPalette=function(){Hd(this,Fd)},e}());function zd(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].length>t)return e[r];return e[n-1]}function jd(e,t,n,r,i,a,o){a=a||e;var s=t(a),u=s.paletteIdx||0,l=s.paletteNameMap=s.paletteNameMap||{};if(l.hasOwnProperty(i))return l[i];var c=null!=o&&r?zd(r,o):n;if(c=c||n,c&&c.length){var f=c[u];return i&&(l[i]=f),s.paletteIdx=(u+1)%c.length,f}}function Hd(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var Ud="\0_ec_inner",Vd=1,Gd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.init=function(e,t,n,r,i,a){r=r||{},this.option=null,this._theme=new Wf(r),this._locale=new Wf(i),this._optionManager=a},t.prototype.setOption=function(e,t,n){var r=Yd(t);this._optionManager.setOption(e,n,r),this._resetOption(null,r)},t.prototype.resetOption=function(e,t){return this._resetOption(e,Yd(t))},t.prototype._resetOption=function(e,t){var n=!1,r=this._optionManager;if(!e||"recreate"===e){var i=r.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(i,t)):Nd(this,i),n=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var a=r.getTimelineOption(this);a&&(n=!0,this._mergeOption(a,t))}if(!e||"recreate"===e||"media"===e){var o=r.getMediaOption(this);o.length&&H(o,(function(e){n=!0,this._mergeOption(e,t)}),this)}return n},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,t){var n=this.option,r=this._componentsMap,i=this._componentsCount,a=[],o=ve(),s=t&&t.replaceMergeMainTypeMap;function u(t){var a=Id(this,t,na(e[t])),o=r.get(t),u=o?s&&s.get(t)?"replaceMerge":"normalMerge":"replaceAll",l=sa(o,a,u);_a(l,t,fd),n[t]=null,r.set(t,null),i.set(t,0);var c=[],f=[],h=0;H(l,(function(e,n){var r=e.existing,i=e.newOption;if(i){var a=fd.getClass(t,e.keyInfo.subType,!0);if(r&&r.constructor===a)r.name=e.keyInfo.name,r.mergeOption(i,this),r.optionUpdated(i,!1);else{var o=R({componentIndex:n},e.keyInfo);r=new a(i,this,this,o),R(r,o),e.brandNew&&(r.__requireNewView=!0),r.init(i,this,this),r.optionUpdated(null,!0)}}else r&&(r.mergeOption({},this),r.optionUpdated({},!1));r?(c.push(r.option),f.push(r),h++):(c.push(void 0),f.push(void 0))}),this),n[t]=c,r.set(t,f),i.set(t,h),"series"===t&&Rd(this)}Md(this),H(e,(function(e,t){null!=e&&(fd.hasClass(t)?t&&(a.push(t),o.set(t,!0)):n[t]=null==n[t]?L(e):I(n[t],e,!0))})),s&&s.each((function(e,t){fd.hasClass(t)&&!o.get(t)&&(a.push(t),o.set(t,!0))})),fd.topologicalTravel(a,fd.getAllClassMainTypes(),u,this),this._seriesIndices||Rd(this)},t.prototype.getOption=function(){var e=L(this.option);return H(e,(function(t,n){if(fd.hasClass(n)){for(var r=na(t),i=r.length,a=!1,o=i-1;o>=0;o--)r[o]&&!ya(r[o])?a=!0:(r[o]=null,!a&&i--);r.length=i,e[n]=r}})),delete e[Ud],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.getLocale=function(e){var t=this.getLocaleModel();return t.get(e)},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,t){var n=this._componentsMap.get(e);if(n){var r=n[t||0];if(r)return r;if(null==t)for(var i=0;i<n.length;i++)if(n[i])return n[i]}},t.prototype.queryComponents=function(e){var t=e.mainType;if(!t)return[];var n,r=e.index,i=e.id,a=e.name,o=this._componentsMap.get(t);return o&&o.length?(null!=r?(n=[],H(na(r),(function(e){o[e]&&n.push(o[e])}))):n=null!=i?Kd("id",i,o):null!=a?Kd("name",a,o):G(o,(function(e){return!!e})),qd(n,e)):[]},t.prototype.findComponents=function(e){var t=e.query,n=e.mainType,r=a(t),i=r?this.queryComponents(r):G(this._componentsMap.get(n),(function(e){return!!e}));return o(qd(i,e));function a(e){var t=n+"Index",r=n+"Id",i=n+"Name";return!e||null==e[t]&&null==e[r]&&null==e[i]?null:{mainType:n,index:e[t],id:e[r],name:e[i]}}function o(t){return e.filter?G(t,e.filter):t}},t.prototype.eachComponent=function(e,t,n){var r=this._componentsMap;if(Z(e)){var i=t,a=e;r.each((function(e,t){for(var n=0;e&&n<e.length;n++){var r=e[n];r&&a.call(i,t,r,r.componentIndex)}}))}else for(var o=$(e)?r.get(e):ee(e)?this.findComponents(e):null,s=0;o&&s<o.length;s++){var u=o[s];u&&t.call(n,u,u.componentIndex)}},t.prototype.getSeriesByName=function(e){var t=ma(e,null);return G(this._componentsMap.get("series"),(function(e){return!!e&&null!=t&&e.name===t}))},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return G(this._componentsMap.get("series"),(function(t){return!!t&&t.subType===e}))},t.prototype.getSeries=function(){return G(this._componentsMap.get("series").slice(),(function(e){return!!e}))},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,t){kd(this),H(this._seriesIndices,(function(n){var r=this._componentsMap.get("series")[n];e.call(t,r,n)}),this)},t.prototype.eachRawSeries=function(e,t){H(this._componentsMap.get("series"),(function(n){n&&e.call(t,n,n.componentIndex)}))},t.prototype.eachSeriesByType=function(e,t,n){kd(this),H(this._seriesIndices,(function(r){var i=this._componentsMap.get("series")[r];i.subType===e&&t.call(n,i,r)}),this)},t.prototype.eachRawSeriesByType=function(e,t,n){return H(this.getSeriesByType(e),t,n)},t.prototype.isSeriesFiltered=function(e){return kd(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,t){kd(this);var n=[];H(this._seriesIndices,(function(r){var i=this._componentsMap.get("series")[r];e.call(t,i,r)&&n.push(r)}),this),this._seriesIndices=n,this._seriesIndicesMap=ve(n)},t.prototype.restoreData=function(e){Rd(this);var t=this._componentsMap,n=[];t.each((function(e,t){fd.hasClass(t)&&n.push(t)})),fd.topologicalTravel(n,fd.getAllClassMainTypes(),(function(n){H(t.get(n),(function(t){!t||"series"===n&&Wd(t,e)||t.restoreData()}))}))},t.internalField=function(){Rd=function(e){var t=e._seriesIndices=[];H(e._componentsMap.get("series"),(function(e){e&&t.push(e.componentIndex)})),e._seriesIndicesMap=ve(t)},kd=function(e){0},Nd=function(e,t){e.option={},e.option[Ud]=Vd,e._componentsMap=ve({series:[]}),e._componentsCount=ve();var n=t.aria;ee(n)&&null==n.enabled&&(n.enabled=!0),Xd(t,e._theme.option),I(t,pd,!1),e._mergeOption(t,null)}}(),t}(Wf);function Wd(e,t){if(t){var n=t.seriesIndex,r=t.seriesId,i=t.seriesName;return null!=n&&e.componentIndex!==n||null!=r&&e.id!==r||null!=i&&e.name!==i}}function Xd(e,t){var n=e.color&&!e.colorLayer;H(t,(function(t,r){"colorLayer"===r&&n||fd.hasClass(r)||("object"===typeof t?e[r]=e[r]?I(e[r],t,!1):L(t):null==e[r]&&(e[r]=t))}))}function Kd(e,t,n){if(Y(t)){var r=ve();return H(t,(function(e){if(null!=e){var t=ma(e,null);null!=t&&r.set(e,!0)}})),G(n,(function(t){return t&&r.get(t[e])}))}var i=ma(t,null);return G(n,(function(t){return t&&null!=i&&t[e]===i}))}function qd(e,t){return t.hasOwnProperty("subType")?G(e,(function(e){return e&&e.subType===t.subType})):e}function Yd(e){var t=ve();return e&&H(na(e.replaceMerge),(function(e){t.set(e,!0)})),{replaceMergeMainTypeMap:t}}z(Gd,Bd);var Zd=Gd,$d=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Qd=function(){function e(e){H($d,(function(t){this[t]=K(e[t],e)}),this)}return e}(),Jd=Qd,ep={},tp=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(e,t){var n=[];H(ep,(function(r,i){var a=r.create(e,t);n=n.concat(a||[])})),this._coordinateSystems=n},e.prototype.update=function(e,t){H(this._coordinateSystems,(function(n){n.update&&n.update(e,t)}))},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(e,t){ep[e]=t},e.get=function(e){return ep[e]},e}(),np=tp,rp=/^(min|max)?(.+)$/,ip=function(){function e(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return e.prototype.setOption=function(e,t,n){e&&(H(na(e.series),(function(e){e&&e.data&&ne(e.data)&&pe(e.data)})),H(na(e.dataset),(function(e){e&&e.source&&ne(e.source)&&pe(e.source)}))),e=L(e);var r=this._optionBackup,i=ap(e,t,!r);this._newBaseOption=i.baseOption,r?(i.timelineOptions.length&&(r.timelineOptions=i.timelineOptions),i.mediaList.length&&(r.mediaList=i.mediaList),i.mediaDefault&&(r.mediaDefault=i.mediaDefault)):this._optionBackup=i},e.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],L(e?t.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var r=e.getComponent("timeline");r&&(t=L(n[r.getCurrentIndex()]))}return t},e.prototype.getMediaOption=function(e){var t=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,i=this._mediaDefault,a=[],o=[];if(!r.length&&!i)return o;for(var s=0,u=r.length;s<u;s++)op(r[s].query,t,n)&&a.push(s);return!a.length&&i&&(a=[-1]),a.length&&!up(a,this._currentMediaIndices)&&(o=U(a,(function(e){return L(-1===e?i.option:r[e].option)}))),this._currentMediaIndices=a,o},e}();function ap(e,t,n){var r,i,a=[],o=e.baseOption,s=e.timeline,u=e.options,l=e.media,c=!!e.media,f=!!(u||s||o&&o.timeline);function h(e){H(t,(function(t){t(e,n)}))}return o?(i=o,i.timeline||(i.timeline=s)):((f||c)&&(e.options=e.media=null),i=e),c&&Y(l)&&H(l,(function(e){e&&e.option&&(e.query?a.push(e):r||(r=e))})),h(i),H(u,(function(e){return h(e)})),H(a,(function(e){return h(e.option)})),{baseOption:i,timelineOptions:u||[],mediaDefault:r,mediaList:a}}function op(e,t,n){var r={width:t,height:n,aspectratio:t/n},i=!0;return H(e,(function(e,t){var n=t.match(rp);if(n&&n[1]&&n[2]){var a=n[1],o=n[2].toLowerCase();sp(r[o],e,a)||(i=!1)}})),i}function sp(e,t,n){return"min"===n?e>=t:"max"===n?e<=t:e===t}function up(e,t){return e.join(",")===t.join(",")}var lp=ip,cp=H,fp=ee,hp=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function dp(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=hp.length;n<r;n++){var i=hp[n],a=t.normal,o=t.emphasis;a&&a[i]&&(e[i]=e[i]||{},e[i].normal?I(e[i].normal,a[i]):e[i].normal=a[i],a[i]=null),o&&o[i]&&(e[i]=e[i]||{},e[i].emphasis?I(e[i].emphasis,o[i]):e[i].emphasis=o[i],o[i]=null)}}function pp(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,i=e[t].emphasis;r&&(n?(e[t].normal=e[t].emphasis=null,k(e[t],r)):e[t]=r),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function gp(e){pp(e,"itemStyle"),pp(e,"lineStyle"),pp(e,"areaStyle"),pp(e,"label"),pp(e,"labelLine"),pp(e,"upperLabel"),pp(e,"edgeLabel")}function mp(e,t){var n=fp(e)&&e[t],r=fp(n)&&n.textStyle;if(r){0;for(var i=0,a=ia.length;i<a;i++){var o=ia[i];r.hasOwnProperty(o)&&(n[o]=r[o])}}}function vp(e){e&&(gp(e),mp(e,"label"),e.emphasis&&mp(e.emphasis,"label"))}function yp(e){if(fp(e)){dp(e),gp(e),mp(e,"label"),mp(e,"upperLabel"),mp(e,"edgeLabel"),e.emphasis&&(mp(e.emphasis,"label"),mp(e.emphasis,"upperLabel"),mp(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(dp(t),vp(t));var n=e.markLine;n&&(dp(n),vp(n));var r=e.markArea;r&&vp(r);var i=e.data;if("graph"===e.type){i=i||e.nodes;var a=e.links||e.edges;if(a&&!ne(a))for(var o=0;o<a.length;o++)vp(a[o]);H(e.categories,(function(e){gp(e)}))}if(i&&!ne(i))for(o=0;o<i.length;o++)vp(i[o]);if(t=e.markPoint,t&&t.data){var s=t.data;for(o=0;o<s.length;o++)vp(s[o])}if(n=e.markLine,n&&n.data){var u=n.data;for(o=0;o<u.length;o++)Y(u[o])?(vp(u[o][0]),vp(u[o][1])):vp(u[o])}"gauge"===e.type?(mp(e,"axisLabel"),mp(e,"title"),mp(e,"detail")):"treemap"===e.type?(pp(e.breadcrumb,"itemStyle"),H(e.levels,(function(e){gp(e)}))):"tree"===e.type&&gp(e.leaves)}}function _p(e){return Y(e)?e:e?[e]:[]}function bp(e){return(Y(e)?e[0]:e)||{}}function xp(e,t){cp(_p(e.series),(function(e){fp(e)&&yp(e)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),cp(n,(function(t){cp(_p(e[t]),(function(e){e&&(mp(e,"axisLabel"),mp(e.axisPointer,"label"))}))})),cp(_p(e.parallel),(function(e){var t=e&&e.parallelAxisDefault;mp(t,"axisLabel"),mp(t&&t.axisPointer,"label")})),cp(_p(e.calendar),(function(e){pp(e,"itemStyle"),mp(e,"dayLabel"),mp(e,"monthLabel"),mp(e,"yearLabel")})),cp(_p(e.radar),(function(e){mp(e,"name"),e.name&&null==e.axisName&&(e.axisName=e.name,delete e.name),null!=e.nameGap&&null==e.axisNameGap&&(e.axisNameGap=e.nameGap,delete e.nameGap)})),cp(_p(e.geo),(function(e){fp(e)&&(vp(e),cp(_p(e.regions),(function(e){vp(e)})))})),cp(_p(e.timeline),(function(e){vp(e),pp(e,"label"),pp(e,"itemStyle"),pp(e,"controlStyle",!0);var t=e.data;Y(t)&&H(t,(function(e){ee(e)&&(pp(e,"label"),pp(e,"itemStyle"))}))})),cp(_p(e.toolbox),(function(e){pp(e,"iconStyle"),cp(e.feature,(function(e){pp(e,"iconStyle")}))})),mp(bp(e.axisPointer),"label"),mp(bp(e.tooltip).axisPointer,"label")}function wp(e,t){for(var n=t.split(","),r=e,i=0;i<n.length;i++)if(r=r&&r[n[i]],null==r)break;return r}function Sp(e,t,n,r){for(var i,a=t.split(","),o=e,s=0;s<a.length-1;s++)i=a[s],null==o[i]&&(o[i]={}),o=o[i];(r||null==o[a[s]])&&(o[a[s]]=n)}function Tp(e){e&&H(Ep,(function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])}))}var Ep=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Mp=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Cp=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Ap(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<Cp.length;n++){var r=Cp[n][1],i=Cp[n][0];null!=t[r]&&(t[i]=t[r])}}function Op(e){e&&"edge"===e.alignTo&&null!=e.margin&&null==e.edgeDistance&&(e.edgeDistance=e.margin)}function Dp(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function Pp(e){e&&null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(e.emphasis.focus="adjacency"))}function Lp(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&Lp(e[n].children,t)}function Ip(e,t){xp(e,t),e.series=na(e.series),H(e.series,(function(e){if(ee(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t){null!=e.clockWise&&(e.clockwise=e.clockWise),Op(e.label);var n=e.data;if(n&&!ne(n))for(var r=0;r<n.length;r++)Op(n[r]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===t){var i=wp(e,"pointer.color");null!=i&&Sp(e,"itemStyle.color",i)}else if("bar"===t){Ap(e),Ap(e.backgroundStyle),Ap(e.emphasis);n=e.data;if(n&&!ne(n))for(r=0;r<n.length;r++)"object"===typeof n[r]&&(Ap(n[r]),Ap(n[r]&&n[r].emphasis))}else if("sunburst"===t){var a=e.highlightPolicy;a&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=a)),Dp(e),Lp(e.data,Dp)}else"graph"===t||"sankey"===t?Pp(e):"map"===t&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&k(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),Tp(e)}})),e.dataRange&&(e.visualMap=e.dataRange),H(Mp,(function(t){var n=e[t];n&&(Y(n)||(n=[n]),H(n,(function(e){Tp(e)})))}))}function Rp(e){var t=ve();e.eachSeries((function(e){var n=e.get("stack");if(n){var r=t.get(n)||t.set(n,[]),i=e.getData(),a={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:e};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}})),t.each(kp)}function kp(e){H(e,(function(t,n){var r=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,u=o.map(a,(function(a,u,l){var c,f,h=o.get(t.stackedDimension,l);if(isNaN(h))return i;s?f=o.getRawIndex(l):c=o.get(t.stackedByDimension,l);for(var d=NaN,p=n-1;p>=0;p--){var g=e[p];if(s||(f=g.data.rawIndexOf(g.stackedByDimension,c)),f>=0){var m=g.data.getByRawIndex(g.stackResultDimension,f);if(h>=0&&m>0||h<=0&&m<0){h+=m,d=m;break}}}return r[0]=h,r[1]=d,r}));o.hostModel.setData(u),t.data=u}))}var Np,Fp,Bp,zp,jp,Hp=function(){function e(e){this.data=e.data||(e.sourceFormat===_d?{}:[]),this.sourceFormat=e.sourceFormat||xd,this.seriesLayoutBy=e.seriesLayoutBy||wd,this.startIndex=e.startIndex||0,this.dimensionsDefine=e.dimensionsDefine,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.encodeDefine=e.encodeDefine,this.metaRawOption=e.metaRawOption}return e}();function Up(e){return e instanceof Hp}function Vp(e,t,n,r){n=n||Kp(e);var i=t.seriesLayoutBy,a=qp(e,n,i,t.sourceHeader,t.dimensions),o=new Hp({data:e,sourceFormat:n,seriesLayoutBy:i,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,encodeDefine:Xp(r),metaRawOption:L(t)});return o}function Gp(e){return new Hp({data:e,sourceFormat:ne(e)?bd:md})}function Wp(e){return new Hp({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:L(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount,encodeDefine:Xp(e.encodeDefine)})}function Xp(e){return e?ve(e):null}function Kp(e){var t=xd;if(ne(e))t=bd;else if(Y(e)){0===e.length&&(t=vd);for(var n=0,r=e.length;n<r;n++){var i=e[n];if(null!=i){if(Y(i)){t=vd;break}if(ee(i)){t=yd;break}}}}else if(ee(e))for(var a in e)if(be(e,a)&&j(e[a])){t=_d;break}return t}function qp(e,t,n,r,i){var a,o;if(!e)return{dimensionsDefine:Zp(i),startIndex:o,dimensionsDetectedCount:a};if(t===vd){var s=e;"auto"===r||null==r?$p((function(e){null!=e&&"-"!==e&&($(e)?null==o&&(o=1):o=0)}),n,s,10):o=J(r)?r:r?1:0,i||1!==o||(i=[],$p((function(e,t){i[t]=null!=e?e+"":""}),n,s,1/0)),a=i?i.length:n===Sd?s.length:s[0]?s[0].length:null}else if(t===yd)i||(i=Yp(e));else if(t===_d)i||(i=[],H(e,(function(e,t){i.push(t)})));else if(t===md){var u=aa(e[0]);a=Y(u)&&u.length||1}return{startIndex:o,dimensionsDefine:Zp(i),dimensionsDetectedCount:a}}function Yp(e){var t,n=0;while(n<e.length&&!(t=e[n++]));if(t){var r=[];return H(t,(function(e,t){r.push(t)})),r}}function Zp(e){if(e){var t=ve();return U(e,(function(e,n){e=ee(e)?e:{name:e};var r={name:e.name,displayName:e.displayName,type:e.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var i=t.get(r.name);return i?r.name+="-"+i.count++:t.set(r.name,{count:1}),r}))}}function $p(e,t,n,r){if(t===Sd)for(var i=0;i<n.length&&i<r;i++)e(n[i]?n[i][0]:null,i);else{var a=n[0]||[];for(i=0;i<a.length&&i<r;i++)e(a[i],i)}}var Qp=function(){function e(e,t){var n=Up(e)?e:Gp(e);this._source=n;var r=this._data=n.data;n.sourceFormat===bd&&(this._offset=0,this._dimSize=t,this._data=r),jp(this,r,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(e,t){},e.prototype.appendData=function(e){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var e;jp=function(e,i,a){var o=a.sourceFormat,s=a.seriesLayoutBy,u=a.startIndex,l=a.dimensionsDefine,c=zp[ug(o,s)];if(R(e,c),o===bd)e.getItem=t,e.count=r,e.fillStorage=n;else{var f=tg(o,s);e.getItem=K(f,null,i,u,l);var h=ig(o,s);e.count=K(h,null,i,u,l)}};var t=function(e,t){e-=this._offset,t=t||[];for(var n=this._data,r=this._dimSize,i=r*e,a=0;a<r;a++)t[a]=n[i+a];return t},n=function(e,t,n,r){for(var i=this._data,a=this._dimSize,o=0;o<a;o++){for(var s=r[o],u=null==s[0]?1/0:s[0],l=null==s[1]?-1/0:s[1],c=t-e,f=n[o],h=0;h<c;h++){var d=i[h*a+o];f[e+h]=d,d<u&&(u=d),d>l&&(l=d)}s[0]=u,s[1]=l}},r=function(){return this._data?this._data.length/this._dimSize:0};function i(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}e={},e[vd+"_"+wd]={pure:!0,appendData:i},e[vd+"_"+Sd]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[yd]={pure:!0,appendData:i},e[_d]={pure:!0,appendData:function(e){var t=this._data;H(e,(function(e,n){for(var r=t[n]||(t[n]=[]),i=0;i<(e||[]).length;i++)r.push(e[i])}))}},e[md]={appendData:i},e[bd]={persistent:!1,pure:!0,appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}},zp=e}(),e}(),Jp=function(e,t,n,r){return e[r]},eg=(Np={},Np[vd+"_"+wd]=function(e,t,n,r){return e[r+t]},Np[vd+"_"+Sd]=function(e,t,n,r){r+=t;for(var i=[],a=e,o=0;o<a.length;o++){var s=a[o];i.push(s?s[r]:null)}return i},Np[yd]=Jp,Np[_d]=function(e,t,n,r){for(var i=[],a=0;a<n.length;a++){var o=n[a].name;0;var s=e[o];i.push(s?s[r]:null)}return i},Np[md]=Jp,Np);function tg(e,t){var n=eg[ug(e,t)];return n}var ng=function(e,t,n){return e.length},rg=(Fp={},Fp[vd+"_"+wd]=function(e,t,n){return Math.max(0,e.length-t)},Fp[vd+"_"+Sd]=function(e,t,n){var r=e[0];return r?Math.max(0,r.length-t):0},Fp[yd]=ng,Fp[_d]=function(e,t,n){var r=n[0].name;var i=e[r];return i?i.length:0},Fp[md]=ng,Fp);function ig(e,t){var n=rg[ug(e,t)];return n}var ag=function(e,t,n){return null!=t?e[t]:e},og=(Bp={},Bp[vd]=ag,Bp[yd]=function(e,t,n){return null!=t?e[n]:e},Bp[_d]=ag,Bp[md]=function(e,t,n){var r=aa(e);return null!=t&&r instanceof Array?r[t]:r},Bp[bd]=ag,Bp);function sg(e){var t=og[e];return t}function ug(e,t){return e===vd?e+"_"+t:e}function lg(e,t,n){if(e){var r=e.getRawDataItem(t);if(null!=r){var i,a,o=e.getProvider().getSource().sourceFormat,s=e.getDimensionInfo(n);return s&&(i=s.name,a=s.index),sg(o)(r,a,i)}}}var cg=/\{@(.+?)\}/g,fg=function(){function e(){}return e.prototype.getDataParams=function(e,t){var n=this.getData(t),r=this.getRawValue(e,t),i=n.getRawIndex(e),a=n.getName(e),o=n.getRawDataItem(e),s=n.getItemVisual(e,"style"),u=s&&s[n.getItemVisual(e,"drawType")||"fill"],l=s&&s.stroke,c=this.mainType,f="series"===c,h=n.userOutput;return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:a,dataIndex:i,data:o,dataType:t,value:r,color:u,borderColor:l,dimensionNames:h?h.dimensionNames:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(e,t,n,r,i,a){t=t||"normal";var o=this.getData(n),s=this.getDataParams(e,n);if(a&&(s.value=a.interpolatedValue),null!=r&&Y(s.value)&&(s.value=s.value[r]),!i){var u=o.getItemModel(e);i=u.get("normal"===t?["label","formatter"]:[t,"label","formatter"])}if("function"===typeof i)return s.status=t,s.dimensionIndex=r,i(s);if("string"===typeof i){var l=qh(i,s);return l.replace(cg,(function(t,n){var r=n.length,i="["===n.charAt(0)&&"]"===n.charAt(r-1)?+n.slice(1,r-1):n,s=lg(o,e,i);if(a&&Y(a.interpolatedValue)){var u=o.getDimensionInfo(i);u&&(s=a.interpolatedValue[u.index])}return null!=s?s+"":""}))}},e.prototype.getRawValue=function(e,t){return lg(this.getData(t),e)},e.prototype.formatTooltip=function(e,t,n){},e}();function hg(e){return new dg(e)}var dg=function(){function e(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return e.prototype.perform=function(e){var t,n=this._upstream,r=e&&e.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(t=this._plan(this.context));var a,o=c(this._modBy),s=this._modDataCount||0,u=c(e&&e.modBy),l=e&&e.modDataCount||0;function c(e){return!(e>=1)&&(e=1),e}o===u&&s===l||(t="reset"),(this._dirty||"reset"===t)&&(this._dirty=!1,a=this._doReset(r)),this._modBy=u,this._modDataCount=l;var f=e&&e.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,d=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!r&&(a||h<d)){var p=this._progress;if(Y(p))for(var g=0;g<p.length;g++)this._doProgress(p[g],h,d,u,l);else this._doProgress(p,h,d,u,l)}this._dueIndex=d;var m=null!=this._settedOutputEnd?this._settedOutputEnd:d;0,this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(e,t,n,r,i){pg.reset(t,n,r,i),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:pg.next},this.context)},e.prototype._doReset=function(e){var t,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(n=t.forceFirstProgress,t=t.progress),Y(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},e}(),pg=function(){var e,t,n,r,i,a={reset:function(u,l,c,f){t=u,e=l,n=c,r=f,i=Math.ceil(r/n),a.next=n>1&&r>0?s:o}};return a;function o(){return t<e?t++:null}function s(){var a=t%i*n+Math.ceil(t/i),o=t>=e?null:a<r?a:t;return t++,o}}();"undefined"!==typeof console&&console.warn&&console.log;function gg(e){0}function mg(e){throw new Error(e)}function vg(e,t){var n=t&&t.type;if("ordinal"===n){var r=t&&t.ordinalMeta;return r?r.parseAndCollect(e):e}return"time"===n&&"number"!==typeof e&&null!=e&&"-"!==e&&(e=+Vi(e)),null==e||""===e?NaN:+e}ve({number:function(e){return parseFloat(e)},time:function(e){return+Vi(e)},trim:function(e){return"string"===typeof e?he(e):e}});var yg={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}};(function(){function e(e,t){if("number"!==typeof t){var n="";0,mg(n)}this._opFn=yg[e],this._rvalFloat=Yi(t)}e.prototype.evaluate=function(e){return"number"===typeof e?this._opFn(e,this._rvalFloat):this._opFn(Yi(e),this._rvalFloat)}})(),function(){function e(e,t){var n="desc"===e;this._resultLT=n?1:-1,null==t&&(t=n?"min":"max"),this._incomparable="min"===t?-1/0:1/0}e.prototype.evaluate=function(e,t){var n=typeof e,r=typeof t,i="number"===n?e:Yi(e),a="number"===r?t:Yi(t),o=isNaN(i),s=isNaN(a);if(o&&(i=this._incomparable),s&&(a=this._incomparable),o&&s){var u="string"===n,l="string"===r;u&&(i=l?e:0),l&&(a=u?t:0)}return i<a?this._resultLT:i>a?-this._resultLT:0}}(),function(){function e(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=Yi(t)}e.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(t=Yi(e)===this._rvalFloat)}return this._isEQ?t:!t}}();var _g=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(e){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(e){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(e,t){},e.prototype.retrieveValueFromItem=function(e,t){},e.prototype.convertValue=function(e,t){return vg(e,t)},e}();function bg(e,t){var n=new _g,r=e.data,i=n.sourceFormat=e.sourceFormat,a=e.startIndex,o="";e.seriesLayoutBy!==wd&&mg(o);var s=[],u={},l=e.dimensionsDefine;if(l)H(l,(function(e,t){var n=e.name,r={index:t,name:n,displayName:e.displayName};if(s.push(r),null!=n){var i="";be(u,n)&&mg(i),u[n]=r}}));else for(var c=0;c<e.dimensionsDetectedCount;c++)s.push({index:c});var f=tg(i,wd);t.__isBuiltIn&&(n.getRawDataItem=function(e){return f(r,a,s,e)},n.getRawData=K(xg,null,e)),n.cloneRawData=K(wg,null,e);var h=ig(i,wd);n.count=K(h,null,r,a,s);var d=sg(i);n.retrieveValue=function(e,t){var n=f(r,a,s,e);return p(n,t)};var p=n.retrieveValueFromItem=function(e,t){if(null!=e){var n=s[t];return n?d(e,t,n.name):void 0}};return n.getDimensionInfo=K(Sg,null,s,u),n.cloneAllDimensionInfo=K(Tg,null,s),n}function xg(e){var t=e.sourceFormat;if(!Og(t)){var n="";0,mg(n)}return e.data}function wg(e){var t=e.sourceFormat,n=e.data;if(!Og(t)){var r="";0,mg(r)}if(t===vd){for(var i=[],a=0,o=n.length;a<o;a++)i.push(n[a].slice());return i}if(t===yd){for(i=[],a=0,o=n.length;a<o;a++)i.push(R({},n[a]));return i}}function Sg(e,t,n){if(null!=n)return"number"===typeof n||!isNaN(n)&&!be(t,n)?e[n]:be(t,n)?t[n]:void 0}function Tg(e){return L(e)}var Eg=ve();function Mg(e){e=L(e);var t=e.type,n="";t||mg(n);var r=t.split(":");2!==r.length&&mg(n);var i=!1;"echarts"===r[0]&&(t=r[1],i=!0),e.__isBuiltIn=i,Eg.set(t,e)}function Cg(e,t,n){var r=na(e),i=r.length,a="";i||mg(a);for(var o=0,s=i;o<s;o++){var u=r[o];t=Ag(u,t,n,1===i?null:o),o!==s-1&&(t.length=Math.max(t.length,1))}return t}function Ag(e,t,n,r){var i="";t.length||mg(i),ee(e)||mg(i);var a=e.type,o=Eg.get(a);o||mg(i);var s=U(t,(function(e){return bg(e,o)})),u=na(o.transform({upstream:s[0],upstreamList:s,config:L(e.config)}));return U(u,(function(e,n){var r="";ee(e)||mg(r),e.data||mg(r);var i,a=Kp(e.data);Og(a)||mg(r);var o=t[0];if(o&&0===n&&!e.dimensions){var s=o.startIndex;s&&(e.data=o.data.slice(0,s).concat(e.data)),i={seriesLayoutBy:wd,sourceHeader:s,dimensions:o.metaRawOption.dimensions}}else i={seriesLayoutBy:wd,sourceHeader:0,dimensions:e.dimensions};return Vp(e.data,i,null,null)}))}function Og(e){return e===vd||e===yd}var Dg=function(){function e(e){this._sourceList=[],this._upstreamSignList=[],this._versionSignBase=0,this._sourceHost=e}return e.prototype.dirty=function(){this._setLocalSource([],[])},e.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&this._createSource()},e.prototype._createSource=function(){this._setLocalSource([],[]);var e,t,n=this._sourceHost,r=this._getUpstreamSourceManagers(),i=!!r.length;if(Lg(n)){var a=n,o=void 0,s=void 0,u=void 0;if(i){var l=r[0];l.prepareSource(),u=l.getSource(),o=u.data,s=u.sourceFormat,t=[l._getVersionSign()]}else o=a.get("data",!0),s=ne(o)?bd:md,t=[];var c=this._getSourceMetaRawOption(),f=u?u.metaRawOption:null,h=se(c.seriesLayoutBy,f?f.seriesLayoutBy:null),d=se(c.sourceHeader,f?f.sourceHeader:null),p=se(c.dimensions,f?f.dimensions:null);e=[Vp(o,{seriesLayoutBy:h,sourceHeader:d,dimensions:p},s,a.get("encode",!0))]}else{var g=n;if(i){var m=this._applyTransform(r);e=m.sourceList,t=m.upstreamSignList}else{var v=g.get("source",!0);e=[Vp(v,this._getSourceMetaRawOption(),null,null)],t=[]}}this._setLocalSource(e,t)},e.prototype._applyTransform=function(e){var t,n=this._sourceHost,r=n.get("transform",!0),i=n.get("fromTransformResult",!0);if(null!=i){var a="";1!==e.length&&Ig(a)}var o=[],s=[];return H(e,(function(e){e.prepareSource();var t=e.getSource(i||0),n="";null==i||t||Ig(n),o.push(t),s.push(e._getVersionSign())})),r?t=Cg(r,o,{datasetIndex:n.componentIndex}):null!=i&&(t=[Wp(o[0])]),{sourceList:t,upstreamSignList:s}},e.prototype._isDirty=function(){var e=this._sourceList;if(!e.length)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var r=t[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},e.prototype.getSource=function(e){return this._sourceList[e||0]},e.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Lg(e)){var t=Ad(e);return t?[t.getSourceManager()]:[]}return U(Od(e),(function(e){return e.getSourceManager()}))},e.prototype._getSourceMetaRawOption=function(){var e,t,n,r=this._sourceHost;if(Lg(r))e=r.get("seriesLayoutBy",!0),t=r.get("sourceHeader",!0),n=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=r;e=i.get("seriesLayoutBy",!0),t=i.get("sourceHeader",!0),n=i.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:t,dimensions:n}},e}();function Pg(e){var t=e.option.transform;t&&pe(e.option.transform)}function Lg(e){return"series"===e.mainType}function Ig(e){throw new Error(e)}function Rg(e,t){return t.type=e,t}function kg(e,t){var n=e.getData().getItemVisual(t,"style"),r=n[e.visualDrawType];return Qh(r)}(function(){function e(){this.richTextStyles={},this._nextStyleNameId=$i()}e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(e,t,n){var r="richText"===n?this._generateStyleName():null,i=Yh({color:t,type:e,renderMode:n,markerId:r});return $(i)?i:(this.richTextStyles[r]=i.style,i.content)},e.prototype.wrapRichTextStyle=function(e,t){var n={};Y(t)?H(t,(function(e){return R(n,e)})):R(n,t);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+e+"}"}})();function Ng(e){var t,n,r,i,a=e.series,o=e.dataIndex,s=e.multipleSeries,u=a.getData(),l=u.mapDimensionsAll("defaultedTooltip"),c=l.length,f=a.getRawValue(o),h=Y(f),d=kg(a,o);if(c>1||h&&!c){var p=Fg(f,a,o,l,d);t=p.inlineValues,n=p.inlineValueTypes,r=p.blocks,i=p.inlineValues[0]}else if(c){var g=u.getDimensionInfo(l[0]);i=t=lg(u,o,l[0]),n=g.type}else i=t=h?f[0]:f;var m=va(a),v=m&&a.name||"",y=u.getName(o),_=s?v:y;return Rg("section",{header:v,noHeader:s||!m,sortParam:i,blocks:[Rg("nameValue",{markerType:"item",markerColor:d,name:_,noName:!he(_),value:t,valueType:n})].concat(r||[])})}function Fg(e,t,n,r,i){var a=t.getData(),o=V(e,(function(e,t,n){var r=a.getDimensionInfo(n);return e||r&&!1!==r.tooltip&&null!=r.displayName}),!1),s=[],u=[],l=[];function c(e,t){var n=a.getDimensionInfo(t);n&&!1!==n.otherDims.tooltip&&(o?l.push(Rg("nameValue",{markerType:"subItem",markerColor:i,name:n.displayName,value:e,valueType:n.type})):(s.push(e),u.push(n.type)))}return r.length?H(r,(function(e){c(lg(a,n,e),e)})):H(e,c),{inlineValues:s,inlineValueTypes:u,blocks:l}}var Bg=wa();function zg(e,t){return e.getName(t)||e.getId(t)}var jg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return f(t,e),t.prototype.init=function(e,t,n){this.seriesIndex=this.componentIndex,this.dataTask=hg({count:Vg,reset:Gg}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n);var r=Bg(this).sourceManager=new Dg(this);r.prepareSource();var i=this.getInitialData(e,n);Xg(i,this),this.dataTask.context.data=i,Bg(this).dataBeforeProcessed=i,Hg(this),this._initSelectedMapFromData(i)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=id(this),r=n?od(e):{},i=this.subType;fd.hasClass(i)&&(i+="Series"),I(e,t.getTheme().get(this.subType)),I(e,this.getDefaultOption()),ra(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&ad(e,r,n)},t.prototype.mergeOption=function(e,t){e=I(this.option,e,!0),this.fillDataTextStyle(e.data);var n=id(this);n&&ad(this.option,e,n);var r=Bg(this).sourceManager;r.dirty(),r.prepareSource();var i=this.getInitialData(e,t);Xg(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,Bg(this).dataBeforeProcessed=i,Hg(this),this._initSelectedMapFromData(i)},t.prototype.fillDataTextStyle=function(e){if(e&&!ne(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&ra(e[n],"label",t)},t.prototype.getInitialData=function(e,t){},t.prototype.appendData=function(e){var t=this.getRawData();t.appendData(e.data)},t.prototype.getData=function(e){var t=qg(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}return Bg(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var t=qg(this);if(t){var n=t.context;n.outputData=e,t!==this.dataTask&&(n.data=e)}Bg(this).data=e},t.prototype.getSource=function(){return Bg(this).sourceManager.getSource()},t.prototype.getRawData=function(){return Bg(this).dataBeforeProcessed},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,t,n){return Ng({series:this,dataIndex:e,multipleSeries:t})},t.prototype.isAnimationEnabled=function(){if(v.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),!!e},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,t,n){var r=this.ecModel,i=Bd.prototype.getColorFromPalette.call(this,e,t,n);return i||(i=r.getColorFromPalette(e,t,n)),i},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,t){this._innerSelect(this.getData(t),e)},t.prototype.unselect=function(e,t){var n=this.option.selectedMap;if(n)for(var r=this.getData(t),i=0;i<e.length;i++){var a=e[i],o=zg(r,a);n[o]=!1,this._selectedDataIndicesMap[o]=-1}},t.prototype.toggleSelect=function(e,t){for(var n=[],r=0;r<e.length;r++)n[0]=e[r],this.isSelected(e[r],t)?this.unselect(n,t):this.select(n,t)},t.prototype.getSelectedDataIndices=function(){for(var e=this._selectedDataIndicesMap,t=W(e),n=[],r=0;r<t.length;r++){var i=e[t[r]];i>=0&&n.push(i)}return n},t.prototype.isSelected=function(e,t){var n=this.option.selectedMap;if(!n)return!1;var r=this.getData(t),i=zg(r,e);return n[i]||!1},t.prototype._innerSelect=function(e,t){var n,r,i=this.option.selectedMode,a=t.length;if(i&&a)if("multiple"===i)for(var o=this.option.selectedMap||(this.option.selectedMap={}),s=0;s<a;s++){var u=t[s],l=zg(e,u);o[l]=!0,this._selectedDataIndicesMap[l]=e.getRawIndex(u)}else if("single"===i||!0===i){var c=t[a-1];l=zg(e,c);this.option.selectedMap=(n={},n[l]=!0,n),this._selectedDataIndicesMap=(r={},r[l]=e.getRawIndex(c),r)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var t=[];e.hasItemOption&&e.each((function(n){var r=e.getRawDataItem(n);"object"===typeof r&&r.selected&&t.push(n)})),t.length>0&&this._innerSelect(e,t)}},t.registerClass=function(e){return fd.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.useColorPaletteOnData=!1,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),t}(fd);function Hg(e){var t=e.name;va(e)||(e.name=Ug(e)||t)}function Ug(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),r=[];return H(n,(function(e){var n=t.getDimensionInfo(e);n.displayName&&r.push(n.displayName)})),r.join(" ")}function Vg(e){return e.model.getRawData().count()}function Gg(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),Wg}function Wg(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function Xg(e,t){H(h(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),(function(n){e.wrapMethod(n,q(Kg,t))}))}function Kg(e,t){var n=qg(e);return n&&n.setOutputEnd((t||this).count()),t}function qg(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(e.uid))}return r}}z(jg,fg),z(jg,Bd),Fa(jg,fd);var Yg=jg,Zg=function(){function e(){this.group=new mi,this.uid=Kf("viewComponent")}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,r){},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,r){},e.prototype.updateLayout=function(e,t,n,r){},e.prototype.updateVisual=function(e,t,n,r){},e.prototype.blurSeries=function(e,t){},e}();ka(Zg),Ua(Zg);var $g=Zg;function Qg(){var e=wa();return function(t){var n=e(t),r=t.pipelineContext,i=!!n.large,a=!!n.progressiveRender,o=n.large=!(!r||!r.large),s=n.progressiveRender=!(!r||!r.progressiveRender);return!(i===o&&a===s)&&"reset"}}var Jg=wa(),em=Qg(),tm=function(){function e(){this.group=new mi,this.uid=Kf("viewChart"),this.renderTask=hg({plan:im,reset:am}),this.renderTask.context={view:this}}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,r){},e.prototype.highlight=function(e,t,n,r){rm(e.getData(),r,"emphasis")},e.prototype.downplay=function(e,t,n,r){rm(e.getData(),r,"normal")},e.prototype.remove=function(e,t){this.group.removeAll()},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,r){this.render(e,t,n,r)},e.prototype.updateLayout=function(e,t,n,r){this.render(e,t,n,r)},e.prototype.updateVisual=function(e,t,n,r){this.render(e,t,n,r)},e.markUpdateMethod=function(e,t){Jg(e).updateMethod=t},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function nm(e,t,n){e&&("emphasis"===t?ml:vl)(e,n)}function rm(e,t,n){var r=xa(e,t),i=t&&null!=t.highlightKey?Il(t.highlightKey):null;null!=r?H(na(r),(function(t){nm(e.getItemGraphicEl(t),n,i)})):e.eachItemGraphicEl((function(e){nm(e,n,i)}))}function im(e){return em(e.model)}function am(e){var t=e.model,n=e.ecModel,r=e.api,i=e.payload,a=t.pipelineContext.progressiveRender,o=e.view,s=i&&Jg(i).updateMethod,u=a?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==u&&o[u](t,n,r,i),om[u]}ka(tm,["dispose"]),Ua(tm);var om={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},sm=tm;function um(e,t,n){var r,i,a,o,s,u=0,l=0,c=null;function f(){l=(new Date).getTime(),c=null,e.apply(a,o||[])}t=t||0;var h=function(){for(var e=[],h=0;h<arguments.length;h++)e[h]=arguments[h];r=(new Date).getTime(),a=this,o=e;var d=s||t,p=s||n;s=null,i=r-(p?u:l)-d,clearTimeout(c),p?c=setTimeout(f,d):i>=0?f():c=setTimeout(f,-i),u=r};return h.clear=function(){c&&(clearTimeout(c),c=null)},h.debounceNextCall=function(e){s=e},h}var lm=wa(),cm={itemStyle:Va(Hf,!0),lineStyle:Va(Bf,!0)},fm={lineStyle:"stroke",itemStyle:"fill"};function hm(e,t){var n=e.visualStyleMapper||cm[t];return n||(console.warn("Unkown style type '"+t+"'."),cm.itemStyle)}function dm(e,t){var n=e.visualDrawType||fm[t];return n||(console.warn("Unkown style type '"+t+"'."),"fill")}var pm={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=e.getModel(r),a=hm(e,r),o=a(i),s=i.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var u=dm(e,r),l=o[u],c=Z(l)?l:null;if(o[u]&&!c||(o[u]=e.getColorFromPalette(e.name,null,t.getSeriesCount()),n.setVisual("colorFromPalette",!0)),n.setVisual("style",o),n.setVisual("drawType",u),!t.isSeriesFiltered(e)&&c)return n.setVisual("colorFromPalette",!1),{dataEach:function(t,n){var r=e.getDataParams(n),i=R({},o);i[u]=c(r),t.setItemVisual(n,"style",i)}}}},gm=new Wf,mm={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.ignoreStyleOnData&&!t.isSeriesFiltered(e)){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=hm(e,r),a=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(e,t){var n=e.getRawDataItem(t);if(n&&n[r]){gm.option=n[r];var o=i(gm),s=e.ensureUniqueItemVisual(t,"style");R(s,o),gm.option.decal&&(e.setItemVisual(t,"decal",gm.option.decal),gm.option.decal.dirty=!0),a in o&&e.setItemVisual(t,"colorFromPalette",!1)}}:null}}}},vm={performRawSeries:!0,overallReset:function(e){var t=ve();e.eachSeries((function(e){if(e.useColorPaletteOnData){var n=t.get(e.type);n||(n={},t.set(e.type,n)),lm(e).scope=n}})),e.eachSeries((function(t){if(t.useColorPaletteOnData&&!e.isSeriesFiltered(t)){var n=t.getRawData(),r={},i=t.getData(),a=lm(t).scope,o=t.visualStyleAccessPath||"itemStyle",s=dm(t,o);i.each((function(e){var t=i.getRawIndex(e);r[t]=e})),n.each((function(e){var o=r[e],u=i.getItemVisual(o,"colorFromPalette");if(u){var l=i.ensureUniqueItemVisual(o,"style"),c=n.getName(e)||e+"",f=n.count();l[s]=t.getColorFromPalette(c,a,f)}}))}}))}},ym=Math.PI;function _m(e,t){t=t||{},k(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new mi,r=new _u({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(r);var i,a=new Iu({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily}}),o=new _u({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return n.add(o),t.showSpinner&&(i=new Qc({shape:{startAngle:-ym/2,endAngle:-ym/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),i.animateShape(!0).when(1e3,{endAngle:3*ym/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{startAngle:3*ym/2}).delay(300).start("circularInOut"),n.add(i)),n.resize=function(){var n=a.getBoundingRect().width,s=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-2*s-(t.showSpinner&&n?10:0)-n)/2-(t.showSpinner&&n?0:5+n/2)+(t.showSpinner?0:n/2)+(n?0:s),l=e.getHeight()/2;t.showSpinner&&i.setShape({cx:u,cy:l}),o.setShape({x:u-s,y:l-s,width:2*s,height:2*s}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}var bm=function(){function e(e,t,n,r){this._stageTaskMap=ve(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return e.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each((function(e){var t=e.overallTask;t&&t.dirty()}))},e.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),r=n.context,i=!t&&n.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>n.blockIndex,a=i?n.step:null,o=r&&r.modDataCount,s=null!=o?Math.ceil(o/a):null;return{step:a,modBy:s,modDataCount:o}}},e.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},e.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),r=e.getData(),i=r.count(),a=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,o=e.get("large")&&i>=e.get("largeThreshold"),s="mod"===e.get("progressiveChunkMode")?i:null;e.pipelineContext=n.context={progressiveRender:a,modDataCount:s,large:o}},e.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=ve();e.eachSeries((function(e){var r=e.getProgressive(),i=e.uid;n.set(i,{id:i,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:r&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),t._pipe(e,e.dataTask)}))},e.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;H(this._allHandlers,(function(r){var i=e.get(r.uid)||e.set(r.uid,{}),a="";fe(!(r.reset&&r.overallReset),a),r.reset&&this._createSeriesStageTask(r,i,t,n),r.overallReset&&this._createOverallStageTask(r,i,t,n)}),this)},e.prototype.prepareView=function(e,t,n,r){var i=e.renderTask,a=i.context;a.model=t,a.ecModel=n,a.api=r,i.__block=!e.incrementalPrepareRender,this._pipe(t,i)},e.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},e.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},e.prototype._performStageTasks=function(e,t,n,r){r=r||{};var i=!1,a=this;function o(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}H(e,(function(e,s){if(!r.visualType||r.visualType===e.visualType){var u=a._stageTaskMap.get(e.uid),l=u.seriesTaskMap,c=u.overallTask;if(c){var f,h=c.agentStubMap;h.each((function(e){o(r,e)&&(e.dirty(),f=!0)})),f&&c.dirty(),a.updatePayload(c,n);var d=a.getPerformArgs(c,r.block);h.each((function(e){e.perform(d)})),c.perform(d)&&(i=!0)}else l&&l.each((function(s,u){o(r,s)&&s.dirty();var l=a.getPerformArgs(s,r.block);l.skip=!e.performRawSeries&&t.isSeriesFiltered(s.context.model),a.updatePayload(s,n),s.perform(l)&&(i=!0)}))}})),this.unfinished=i||this.unfinished},e.prototype.performSeriesTasks=function(e){var t;e.eachSeries((function(e){t=e.dataTask.perform()||t})),this.unfinished=t||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each((function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)}))},e.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},e.prototype._createSeriesStageTask=function(e,t,n,r){var i=this,a=t.seriesTaskMap,o=t.seriesTaskMap=ve(),s=e.seriesType,u=e.getTargetSeries;function l(t){var s=t.uid,u=o.set(s,a&&a.get(s)||hg({plan:Em,reset:Mm,count:Om}));u.context={model:t,ecModel:n,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:i},i._pipe(t,u)}e.createOnAllSeries?n.eachRawSeries(l):s?n.eachRawSeriesByType(s,l):u&&u(n,r).each(l)},e.prototype._createOverallStageTask=function(e,t,n,r){var i=this,a=t.overallTask=t.overallTask||hg({reset:xm});a.context={ecModel:n,api:r,overallReset:e.overallReset,scheduler:i};var o=a.agentStubMap,s=a.agentStubMap=ve(),u=e.seriesType,l=e.getTargetSeries,c=!0,f=!1,h="";function d(e){var t=e.uid,n=s.set(t,o&&o.get(t)||(f=!0,hg({reset:wm,onDirty:Tm})));n.context={model:e,overallProgress:c},n.agent=a,n.__block=c,i._pipe(e,n)}fe(!e.createOnAllSeries,h),u?n.eachRawSeriesByType(u,d):l?l(n,r).each(d):(c=!1,H(n.getSeries(),d)),f&&a.dirty()},e.prototype._pipe=function(e,t){var n=e.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},e.wrapStageHandler=function(e,t){return Z(e)&&(e={overallReset:e,seriesType:Dm(e)}),e.uid=Kf("stageHandler"),t&&(e.visualType=t),e},e}();function xm(e){e.overallReset(e.ecModel,e.api,e.payload)}function wm(e){return e.overallProgress&&Sm}function Sm(){this.agent.dirty(),this.getDownstream().dirty()}function Tm(){this.agent&&this.agent.dirty()}function Em(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function Mm(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=na(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?U(t,(function(e,t){return Am(t)})):Cm}var Cm=Am(0);function Am(e){return function(t,n){var r=n.data,i=n.resetDefines[e];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(t,r)}}function Om(e){return e.data.count()}function Dm(e){Pm=null;try{e(Lm,Im)}catch(t){}return Pm}var Pm,Lm={},Im={};function Rm(e,t){for(var n in t.prototype)e[n]=xe}Rm(Lm,Zd),Rm(Im,Jd),Lm.eachSeriesByType=Lm.eachRawSeriesByType=function(e){Pm=e},Lm.eachComponent=function(e){"series"===e.mainType&&e.subType&&(Pm=e.subType)};var km=bm,Nm=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Fm={color:Nm,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Nm]},Bm="#B9B8CE",zm="#100C2A",jm=function(){return{axisLine:{lineStyle:{color:Bm}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Hm=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Um={darkMode:!0,color:Hm,backgroundColor:zm,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Bm}},textStyle:{color:Bm},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Bm}},dataZoom:{borderColor:"#71708A",textStyle:{color:Bm},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Bm}},timeline:{lineStyle:{color:Bm},label:{color:Bm},controlStyle:{color:Bm,borderColor:Bm}},calendar:{itemStyle:{color:zm},dayLabel:{color:Bm},monthLabel:{color:Bm},yearLabel:{color:Bm}},timeAxis:jm(),logAxis:jm(),valueAxis:jm(),categoryAxis:jm(),line:{symbol:"circle"},graph:{color:Hm},gauge:{title:{color:Bm},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Bm},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Um.categoryAxis.splitLine.show=!1;var Vm=Um;function Gm(e){if($(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var n=e;9===n.nodeType&&(n=n.firstChild);while("svg"!==n.nodeName.toLowerCase()||1!==n.nodeType)n=n.nextSibling;return n}var Wm=ve(),Xm={registerMap:function(e,t,n){var r;if(Y(t))r=t;else if(t.svg)r=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}];else{var i=t.geoJson||t.geoJSON;i&&!t.features&&(n=t.specialAreas,t=i),r=[{type:"geoJSON",source:t,specialAreas:n}]}return H(r,(function(e){var t=e.type;"geoJson"===t&&(t=e.type="geoJSON");var n=Km[t];n(e)})),Wm.set(e,r)},retrieveMap:function(e){return Wm.get(e)}},Km={geoJSON:function(e){var t=e.source;e.geoJSON=$(t)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=Gm(e.source)}},qm=function(){function e(){}return e.prototype.normalizeQuery=function(e){var t={},n={},r={};if($(e)){var i=La(e);t.mainType=i.main||null,t.subType=i.sub||null}else{var a=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};H(e,(function(e,i){for(var s=!1,u=0;u<a.length;u++){var l=a[u],c=i.lastIndexOf(l);if(c>0&&c===i.length-l.length){var f=i.slice(0,c);"data"!==f&&(t.mainType=f,t[l.toLowerCase()]=e,s=!0)}}o.hasOwnProperty(i)&&(n[i]=e,s=!0),s||(r[i]=e)}))}return{cptQuery:t,dataQuery:n,otherQuery:r}},e.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,i=n.packedEvent,a=n.model,o=n.view;if(!a||!o)return!0;var s=t.cptQuery,u=t.dataQuery;return l(s,a,"mainType")&&l(s,a,"subType")&&l(s,a,"index","componentIndex")&&l(s,a,"name")&&l(s,a,"id")&&l(u,i,"name")&&l(u,i,"dataIndex")&&l(u,i,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,r,i));function l(e,t,n,r){return null==e[n]||t[r||n]===e[n]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),Ym={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendSymbol&&n.setVisual("legendSymbol",e.legendSymbol),e.hasSymbolVisual){var r=e.get("symbol"),i=e.get("symbolSize"),a=e.get("symbolKeepAspect"),o=e.get("symbolRotate"),s=Z(r),u=Z(i),l=Z(o),c=s||u||l,f=!s&&r?r:e.defaultSymbol,h=u?null:i,d=l?null:o;if(n.setVisual({legendSymbol:e.legendSymbol||f,symbol:f,symbolSize:h,symbolKeepAspect:a,symbolRotate:d}),!t.isSeriesFiltered(e))return{dataEach:c?p:null}}function p(t,n){var a=e.getRawValue(n),c=e.getDataParams(n);s&&t.setItemVisual(n,"symbol",r(a,c)),u&&t.setItemVisual(n,"symbolSize",i(a,c)),l&&t.setItemVisual(n,"symbolRotate",o(a,c))}}},Zm={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(e.hasSymbolVisual&&!t.isSeriesFiltered(e)){var n=e.getData();return{dataEach:n.hasItemOption?r:null}}function r(e,t){var n=e.getItemModel(t),r=n.getShallow("symbol",!0),i=n.getShallow("symbolSize",!0),a=n.getShallow("symbolRotate",!0),o=n.getShallow("symbolKeepAspect",!0);null!=r&&e.setItemVisual(t,"symbol",r),null!=i&&e.setItemVisual(t,"symbolSize",i),null!=a&&e.setItemVisual(t,"symbolRotate",a),null!=o&&e.setItemVisual(t,"symbolKeepAspect",o)}}};function $m(e,t,n){switch(n){case"color":var r=e.getItemVisual(t,"style");return r[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n);default:0}}function Qm(e,t){switch(t){case"color":var n=e.getVisual("style");return n[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t);default:0}}var Jm=2*Math.PI,ev=Ds.CMD,tv=["top","right","bottom","left"];function nv(e,t,n,r,i){var a=n.width,o=n.height;switch(e){case"top":r.set(n.x+a/2,n.y-t),i.set(0,-1);break;case"bottom":r.set(n.x+a/2,n.y+o+t),i.set(0,1);break;case"left":r.set(n.x-t,n.y+o/2),i.set(-1,0);break;case"right":r.set(n.x+a+t,n.y+o/2),i.set(1,0);break}}function rv(e,t,n,r,i,a,o,s,u){o-=e,s-=t;var l=Math.sqrt(o*o+s*s);o/=l,s/=l;var c=o*n+e,f=s*n+t;if(Math.abs(r-i)%Jm<1e-4)return u[0]=c,u[1]=f,l-n;if(a){var h=r;r=ks(i),i=ks(h)}else r=ks(r),i=ks(i);r>i&&(i+=Jm);var d=Math.atan2(s,o);if(d<0&&(d+=Jm),d>=r&&d<=i||d+Jm>=r&&d+Jm<=i)return u[0]=c,u[1]=f,l-n;var p=n*Math.cos(r)+e,g=n*Math.sin(r)+t,m=n*Math.cos(i)+e,v=n*Math.sin(i)+t,y=(p-o)*(p-o)+(g-s)*(g-s),_=(m-o)*(m-o)+(v-s)*(v-s);return y<_?(u[0]=p,u[1]=g,Math.sqrt(y)):(u[0]=m,u[1]=v,Math.sqrt(_))}function iv(e,t,n,r,i,a,o,s){var u=i-e,l=a-t,c=n-e,f=r-t,h=Math.sqrt(c*c+f*f);c/=h,f/=h;var d=u*c+l*f,p=d/h;s&&(p=Math.min(Math.max(p,0),1)),p*=h;var g=o[0]=e+p*c,m=o[1]=t+p*f;return Math.sqrt((g-i)*(g-i)+(m-a)*(m-a))}function av(e,t,n,r,i,a,o){n<0&&(e+=n,n=-n),r<0&&(t+=r,r=-r);var s=e+n,u=t+r,l=o[0]=Math.min(Math.max(i,e),s),c=o[1]=Math.min(Math.max(a,t),u);return Math.sqrt((l-i)*(l-i)+(c-a)*(c-a))}var ov=[];function sv(e,t,n){var r=av(t.x,t.y,t.width,t.height,e.x,e.y,ov);return n.set(ov[0],ov[1]),r}function uv(e,t,n){for(var r,i,a=0,o=0,s=0,u=0,l=1/0,c=t.data,f=e.x,h=e.y,d=0;d<c.length;){var p=c[d++];1===d&&(a=c[d],o=c[d+1],s=a,u=o);var g=l;switch(p){case ev.M:s=c[d++],u=c[d++],a=s,o=u;break;case ev.L:g=iv(a,o,c[d],c[d+1],f,h,ov,!0),a=c[d++],o=c[d++];break;case ev.C:g=jo(a,o,c[d++],c[d++],c[d++],c[d++],c[d],c[d+1],f,h,ov),a=c[d++],o=c[d++];break;case ev.Q:g=Ko(a,o,c[d++],c[d++],c[d],c[d+1],f,h,ov),a=c[d++],o=c[d++];break;case ev.A:var m=c[d++],v=c[d++],y=c[d++],_=c[d++],b=c[d++],x=c[d++];d+=1;var w=!!(1-c[d++]);r=Math.cos(b)*y+m,i=Math.sin(b)*_+v,d<=1&&(s=r,u=i);var S=(f-m)*_/y+m;g=rv(m,v,_,b,b+x,w,S,h,ov),a=Math.cos(b+x)*y+m,o=Math.sin(b+x)*_+v;break;case ev.R:s=a=c[d++],u=o=c[d++];var T=c[d++],E=c[d++];g=av(s,u,T,E,f,h,ov);break;case ev.Z:g=iv(a,o,s,u,f,h,ov,!0),a=s,o=u;break}g<l&&(l=g,n.set(ov[0],ov[1]))}return l}var lv=new Vn,cv=new Vn,fv=new Vn,hv=new Vn,dv=new Vn;function pv(e,t){if(e){var n=e.getTextGuideLine(),r=e.getTextContent();if(r&&n){var i=e.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||tv,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var u=1/0,l=i.anchor,c=e.getComputedTransform(),f=c&&Ot([],c),h=t.get("length2")||0;l&&fv.copy(l);for(var d=0;d<o.length;d++){var p=o[d];nv(p,0,s,lv,hv),Vn.scaleAndAdd(cv,lv,hv,h),cv.transform(f);var g=e.getBoundingRect(),m=l?l.distance(cv):e instanceof nu?uv(cv,e.path,fv):sv(cv,g,fv);m<u&&(u=m,cv.transform(c),fv.transform(c),fv.toArray(a[0]),cv.toArray(a[1]),lv.toArray(a[2]))}vv(a,t.get("minTurnAngle")),n.setShape({points:a})}}}var gv=[],mv=new Vn;function vv(e,t){if(t<=180&&t>0){t=t/180*Math.PI,lv.fromArray(e[0]),cv.fromArray(e[1]),fv.fromArray(e[2]),Vn.sub(hv,lv,cv),Vn.sub(dv,fv,cv);var n=hv.len(),r=dv.len();if(!(n<.001||r<.001)){hv.scale(1/n),dv.scale(1/r);var i=hv.dot(dv),a=Math.cos(t);if(a<i){var o=iv(cv.x,cv.y,fv.x,fv.y,lv.x,lv.y,gv,!1);mv.fromArray(gv),mv.scaleAndAdd(dv,o/Math.tan(Math.PI-t));var s=fv.x!==cv.x?(mv.x-cv.x)/(fv.x-cv.x):(mv.y-cv.y)/(fv.y-cv.y);if(isNaN(s))return;s<0?Vn.copy(mv,cv):s>1&&Vn.copy(mv,fv),mv.toArray(e[1])}}}}function yv(e,t,n,r){var i="normal"===n,a=i?e:e.ensureState(n);a.ignore=t;var o=r.get("smooth");o&&!0===o&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=r.getModel("lineStyle").getLineStyle();i?e.useStyle(s):a.style=s}function _v(e,t){var n=t.smooth,r=t.points;if(r)if(e.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var i=Pe(r[0],r[1]),a=Pe(r[1],r[2]);if(!i||!a)return e.lineTo(r[1][0],r[1][1]),void e.lineTo(r[2][0],r[2][1]);var o=Math.min(i,a)*n,s=Re([],r[1],r[0],o/i),u=Re([],r[1],r[2],o/a),l=Re([],s,u,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],l[0],l[1]),e.bezierCurveTo(u[0],u[1],u[0],u[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)e.lineTo(r[c][0],r[c][1])}function bv(e,t,n){var r=e.getTextGuideLine(),i=e.getTextContent();if(i){for(var a=t.normal,o=a.get("show"),s=i.ignore,u=0;u<Uu.length;u++){var l=Uu[u],c=t[l],f="normal"===l;if(c){var h=c.get("show"),d=f?s:se(i.states[l]&&i.states[l].ignore,s);if(d||!se(h,o)){var p=f?r:r&&r.states.normal;p&&(p.ignore=!0);continue}r||(r=new jc,e.setTextGuideLine(r),f||!s&&o||yv(r,!0,"normal",t.normal),e.stateProxy&&(r.stateProxy=e.stateProxy)),yv(r,!1,l,c)}}if(r){k(r.style,n),r.style.fill=null;var g=a.get("showAbove"),m=e.textGuideLineConfig=e.textGuideLineConfig||{};m.showAbove=g||!1,r.buildPath=_v}}else r&&e.removeTextGuideLine()}function xv(e,t){t=t||"labelLine";for(var n={normal:e.getModel(t)},r=0;r<Hu.length;r++){var i=Hu[r];n[i]=e.getModel([i,t])}return n}var wv=[0,0],Sv=[0,0],Tv=new Vn,Ev=new Vn,Mv=function(){function e(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Vn;for(n=0;n<2;n++)this._axes[n]=new Vn;e&&this.fromBoundingRect(e,t)}return e.prototype.fromBoundingRect=function(e,t){var n=this._corners,r=this._axes,i=e.x,a=e.y,o=i+e.width,s=a+e.height;if(n[0].set(i,a),n[1].set(o,a),n[2].set(o,s),n[3].set(i,s),t)for(var u=0;u<4;u++)n[u].transform(t);Vn.sub(r[0],n[1],n[0]),Vn.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize();for(u=0;u<2;u++)this._origin[u]=r[u].dot(n[0])},e.prototype.intersect=function(e,t){var n=!0,r=!t;return Tv.set(1/0,1/0),Ev.set(0,0),!this._intersectCheckOneSide(this,e,Tv,Ev,r,1)&&(n=!1,r)||!this._intersectCheckOneSide(e,this,Tv,Ev,r,-1)&&(n=!1,r)||r||Vn.copy(t,n?Tv:Ev),n},e.prototype._intersectCheckOneSide=function(e,t,n,r,i,a){for(var o=!0,s=0;s<2;s++){var u=this._axes[s];if(this._getProjMinMaxOnAxis(s,e._corners,wv),this._getProjMinMaxOnAxis(s,t._corners,Sv),wv[1]<Sv[0]||wv[0]>Sv[1]){if(o=!1,i)return o;var l=Math.abs(Sv[0]-wv[1]),c=Math.abs(wv[0]-Sv[1]);Math.min(l,c)>r.len()&&(l<c?Vn.scale(r,u,-l*a):Vn.scale(r,u,c*a))}else if(n){l=Math.abs(Sv[0]-wv[1]),c=Math.abs(wv[0]-Sv[1]);Math.min(l,c)<n.len()&&(l<c?Vn.scale(n,u,l*a):Vn.scale(n,u,-c*a))}}return o},e.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var r=this._axes[e],i=this._origin,a=t[0].dot(r)+i[e],o=a,s=a,u=1;u<t.length;u++){var l=t[u].dot(r)+i[e];o=Math.min(l,o),s=Math.max(l,s)}n[0]=o,n[1]=s},e}(),Cv=Mv;function Av(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.defaultAttr.ignore){var i=r.label,a=i.getComputedTransform(),o=i.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,u=i.style.margin||0,l=o.clone();l.applyTransform(a),l.x-=u/2,l.y-=u/2,l.width+=u,l.height+=u;var c=s?new Cv(o,a):null;t.push({label:i,labelLine:r.labelLine,rect:l,localRect:o,obb:c,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:a})}}return t}function Ov(e,t,n,r,i,a){var o=e.length;if(!(o<2)){e.sort((function(e,n){return e.rect[t]-n.rect[t]}));for(var s,u=0,l=!1,c=[],f=0,h=0;h<o;h++){var d=e[h],p=d.rect;s=p[t]-u,s<0&&(p[t]-=s,d.label[t]-=s,l=!0);var g=Math.max(-s,0);c.push(g),f+=g,u=p[t]+p[n]}f>0&&a&&w(-f/o,0,o);var m,v,y=e[0],_=e[o-1];return b(),m<0&&S(-m,.8),v<0&&S(v,.8),b(),x(m,v,1),x(v,m,-1),b(),m<0&&T(-m),v<0&&T(v),l}function b(){m=y.rect[t]-r,v=i-_.rect[t]-_.rect[n]}function x(e,t,n){if(e<0){var r=Math.min(t,-e);if(r>0){w(r*n,0,o);var i=r+e;i<0&&S(-i*n,1)}else S(-e*n,1)}}function w(n,r,i){0!==n&&(l=!0);for(var a=r;a<i;a++){var o=e[a],s=o.rect;s[t]+=n,o.label[t]+=n}}function S(r,i){for(var a=[],s=0,u=1;u<o;u++){var l=e[u-1].rect,c=Math.max(e[u].rect[t]-l[t]-l[n],0);a.push(c),s+=c}if(s){var f=Math.min(Math.abs(r)/s,i);if(r>0)for(u=0;u<o-1;u++){var h=a[u]*f;w(h,0,u+1)}else for(u=o-1;u>0;u--){h=a[u-1]*f;w(-h,u,o)}}}function T(e){var t=e<0?-1:1;e=Math.abs(e);for(var n=Math.ceil(e/(o-1)),r=0;r<o-1;r++)if(t>0?w(n,0,r+1):w(-n,o-r-1,o),e-=n,e<=0)return}}function Dv(e,t,n,r){return Ov(e,"x","width",t,n,r)}function Pv(e,t,n,r){return Ov(e,"y","height",t,n,r)}function Lv(e){var t=[];e.sort((function(e,t){return t.priority-e.priority}));var n=new Jn(0,0,0,0);function r(e){if(!e.ignore){var t=e.ensureState("emphasis");null==t.ignore&&(t.ignore=!1)}e.ignore=!0}for(var i=0;i<e.length;i++){var a=e[i],o=a.axisAligned,s=a.localRect,u=a.transform,l=a.label,c=a.labelLine;n.copy(a.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var f=a.obb,h=!1,d=0;d<t.length;d++){var p=t[d];if(n.intersect(p.rect)){if(o&&p.axisAligned){h=!0;break}if(p.obb||(p.obb=new Cv(p.localRect,p.transform)),f||(f=new Cv(s,u)),f.intersect(p.obb)){h=!0;break}}}h?(r(l),c&&r(c)):(l.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),t.push(a))}}function Iv(e){if(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice());return t}}function Rv(e,t){var n=e.label,r=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:Iv(r&&r.shape.points)}}var kv=["align","verticalAlign","width","height","fontSize"],Nv=new Bt,Fv=wa(),Bv=wa();function zv(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];null!=t[i]&&(e[i]=t[i])}}var jv=["x","y","rotation"],Hv=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(e,t,n,r,i){var a=r.style,o=r.__hostTarget,s=o.textConfig||{},u=r.getComputedTransform(),l=r.getBoundingRect().plain();Jn.applyTransform(l,l,u),u?Nv.setLocalTransform(u):(Nv.x=Nv.y=Nv.rotation=Nv.originX=Nv.originY=0,Nv.scaleX=Nv.scaleY=1);var c,f=r.__hostTarget;if(f){c=f.getBoundingRect().plain();var h=f.getComputedTransform();Jn.applyTransform(c,c,h)}var d=c&&f.getTextGuideLine();this._labelList.push({label:r,labelLine:d,seriesModel:n,dataIndex:e,dataType:t,layoutOption:i,computedLayoutOption:null,rect:l,hostRect:c,priority:c?c.width*c.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:d&&d.ignore,x:Nv.x,y:Nv.y,rotation:Nv.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:s.position,attachedRot:s.rotation}})},e.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var n=e.__model,r=n.get("labelLayout");(Z(r)||W(r).length)&&e.group.traverse((function(e){if(e.ignore)return!0;var i=e.getTextContent(),a=Ru(e);i&&!i.disableLabelLayout&&t._addLabel(a.dataIndex,a.dataType,n,i,r)}))},e.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),n=e.getHeight();function r(e,t){return function(){pv(e,t)}}for(var i=0;i<this._labelList.length;i++){var a=this._labelList[i],o=a.label,s=o.__hostTarget,u=a.defaultAttr,l=void 0;l="function"===typeof a.layoutOption?a.layoutOption(Rv(a,s)):a.layoutOption,l=l||{},a.computedLayoutOption=l;var c=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=l.x||null!=l.y?null:u.attachedPos,rotation:null!=l.rotate?l.rotate*c:u.attachedRot,offset:[l.dx||0,l.dy||0]});var f=!1;if(null!=l.x?(o.x=Li(l.x,t),o.setStyle("x",0),f=!0):(o.x=u.x,o.setStyle("x",u.style.x)),null!=l.y?(o.y=Li(l.y,n),o.setStyle("y",0),f=!0):(o.y=u.y,o.setStyle("y",u.style.y)),l.labelLinePoints){var h=s.getTextGuideLine();h&&(h.setShape({points:l.labelLinePoints}),f=!1)}var d=Fv(o);d.needsUpdateLabelLine=f,o.rotation=null!=l.rotate?l.rotate*c:u.rotation;for(var p=0;p<kv.length;p++){var g=kv[p];o.setStyle(g,null!=l[g]?l[g]:u.style[g])}if(l.draggable){if(o.draggable=!0,o.cursor="move",s){var m=a.seriesModel;if(null!=a.dataIndex){var v=a.seriesModel.getData(a.dataType);m=v.getItemModel(a.dataIndex)}o.on("drag",r(s,m.getModel("labelLine")))}}else o.off("drag"),o.cursor=u.cursor}},e.prototype.layout=function(e){var t=e.getWidth(),n=e.getHeight(),r=Av(this._labelList),i=G(r,(function(e){return"shiftX"===e.layoutOption.moveOverlap})),a=G(r,(function(e){return"shiftY"===e.layoutOption.moveOverlap}));Dv(i,0,t),Pv(a,0,n);var o=G(r,(function(e){return e.layoutOption.hideOverlap}));Lv(o)},e.prototype.processLabelsOverall=function(){var e=this;H(this._chartViewList,(function(t){var n=t.__model,r=t.ignoreLabelLineUpdate,i=n.isAnimationEnabled();t.group.traverse((function(t){if(t.ignore)return!0;var a=!r,o=t.getTextContent();!a&&o&&(a=Fv(o).needsUpdateLabelLine),a&&e._updateLabelLine(t,n),i&&e._animateLabels(t,n)}))}))},e.prototype._updateLabelLine=function(e,t){var n=e.getTextContent(),r=Ru(e),i=r.dataIndex;if(n&&null!=i){var a=t.getData(r.dataType),o=a.getItemModel(i),s={},u=a.getItemVisual(i,"style"),l=a.getVisual("drawType");s.stroke=u[l];var c=o.getModel("labelLine");bv(e,xv(o),s),pv(e,c)}},e.prototype._animateLabels=function(e,t){var n=e.getTextContent(),r=e.getTextGuideLine();if(n&&!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!mf(e)){var i=Fv(n),a=i.oldLayout,o=Ru(e),s=o.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},l=t.getData(o.dataType);if(a){n.attr(a);var c=e.prevStates;c&&(F(c,"select")>=0&&n.attr(i.oldLayoutSelect),F(c,"emphasis")>=0&&n.attr(i.oldLayoutEmphasis)),pf(n,u,t,s)}else if(n.attr(u),!Lf(n).valueAnimation){var f=se(n.style.opacity,1);n.style.opacity=0,gf(n,{style:{opacity:f}},t,s)}if(i.oldLayout=u,n.states.select){var h=i.oldLayoutSelect={};zv(h,u,jv),zv(h,n.states.select,jv)}if(n.states.emphasis){var d=i.oldLayoutEmphasis={};zv(d,u,jv),zv(d,n.states.emphasis,jv)}If(n,s,l,t,t)}if(r&&!r.ignore&&!r.invisible){i=Bv(r),a=i.oldLayout;var p={points:r.shape.points};a?(r.attr({shape:a}),pf(r,{shape:p},t)):(r.setShape(p),r.style.strokePercent=0,gf(r,{style:{strokePercent:1}},t)),i.oldLayout=p}},e}(),Uv=Hv;function Vv(e,t,n,r,i){var a=e+t;n.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},(function(e){for(var t=e.seriesIndex,r=i.selected,o=0;o<r.length;o++)if(r[o].seriesIndex===t){var s=e.getData(),u=xa(s,i.fromActionPayload);n.trigger(a,{type:a,seriesId:e.id,name:Y(u)?s.getName(u[0]):s.getName(u),selected:R({},e.option.selectedMap)})}}))}function Gv(e,t,n){e.on("selectchanged",(function(e){var r=n.getModel();e.isFromClick?(Vv("map","selectchanged",t,r,e),Vv("pie","selectchanged",t,r,e)):"select"===e.fromAction?(Vv("map","selected",t,r,e),Vv("pie","selected",t,r,e)):"unselect"===e.fromAction&&(Vv("map","unselected",t,r,e),Vv("pie","unselected",t,r,e))}))}function Wv(e,t,n){var r;while(e){if(t(e)&&(r=e,n))break;e=e.__hostTarget||e.parent}return r}var Xv=Math.round(9*Math.random()),Kv=function(){function e(){this._id="__ec_inner_"+Xv++}return e.prototype.get=function(e){return this._guard(e)[this._id]},e.prototype.set=function(e,t){var n=this._guard(e);return"function"===typeof Object.defineProperty?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},e.prototype["delete"]=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},e.prototype.has=function(e){return!!this._guard(e)[this._id]},e.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},e}(),qv=Kv,Yv=nu.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,a=t.height/2;e.moveTo(n,r-a),e.lineTo(n+i,r+a),e.lineTo(n-i,r+a),e.closePath()}}),Zv=nu.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,a=t.height/2;e.moveTo(n,r-a),e.lineTo(n+i,r),e.lineTo(n,r+a),e.lineTo(n-i,r),e.closePath()}}),$v=nu.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,i=t.width/5*3,a=Math.max(i,t.height),o=i/2,s=o*o/(a-o),u=r-a+o+s,l=Math.asin(s/o),c=Math.cos(l)*o,f=Math.sin(l),h=Math.cos(l),d=.6*o,p=.7*o;e.moveTo(n-c,u+s),e.arc(n,u,o,Math.PI-l,2*Math.PI+l),e.bezierCurveTo(n+c-f*d,u+s+h*d,n,r-p,n,r),e.bezierCurveTo(n,r-p,n-c+f*d,u+s+h*d,n-c,u+s),e.closePath()}}),Qv=nu.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,i=t.x,a=t.y,o=r/3*2;e.moveTo(i,a),e.lineTo(i+o,a+n),e.lineTo(i,a+n/4*3),e.lineTo(i-o,a+n),e.lineTo(i,a),e.closePath()}}),Jv={line:_u,rect:_u,roundRect:_u,square:_u,circle:sc,diamond:Zv,pin:$v,arrow:Qv,triangle:Yv},ey={line:function(e,t,n,r,i){var a=2;i.x=e,i.y=t+r/2-a/2,i.width=n,i.height=a},rect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r},roundRect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(e,t,n,r,i){var a=Math.min(n,r);i.x=e,i.y=t,i.width=a,i.height=a},circle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.r=Math.min(n,r)/2},diamond:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r},pin:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},arrow:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},triangle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r}},ty={};H(Jv,(function(e,t){ty[t]=new e}));var ny=nu.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var r=fr(e,t,n),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===t.position&&(r.y=n.y+.4*n.height),r},buildPath:function(e,t,n){var r=t.symbolType;if("none"!==r){var i=ty[r];i||(r="rect",i=ty[r]),ey[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,n)}}});function ry(e,t){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):n.fill=e,this.markRedraw()}}function iy(e,t,n,r,i,a,o){var s,u=0===e.indexOf("empty");return u&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),s=0===e.indexOf("image://")?lf(e.slice(8),new Jn(t,n,r,i),o?"center":"cover"):0===e.indexOf("path://")?uf(e.slice(7),{},new Jn(t,n,r,i),o?"center":"cover"):new ny({shape:{symbolType:e,x:t,y:n,width:r,height:i}}),s.__isEmptyBrush=u,s.setColor=ry,a&&s.setColor(a),s}function ay(e,t,n){var r=null==t.x?0:t.x,i=null==t.x2?1:t.x2,a=null==t.y?0:t.y,o=null==t.y2?0:t.y2;t.global||(r=r*n.width+n.x,i=i*n.width+n.x,a=a*n.height+n.y,o=o*n.height+n.y),r=isNaN(r)?0:r,i=isNaN(i)?1:i,a=isNaN(a)?0:a,o=isNaN(o)?0:o;var s=e.createLinearGradient(r,a,i,o);return s}function oy(e,t,n){var r=n.width,i=n.height,a=Math.min(r,i),o=null==t.x?.5:t.x,s=null==t.y?.5:t.y,u=null==t.r?.5:t.r;t.global||(o=o*r+n.x,s=s*i+n.y,u*=a);var l=e.createRadialGradient(o,s,0,o,s,u);return l}function sy(e,t,n){for(var r="radial"===t.type?oy(e,t,n):ay(e,t,n),i=t.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function uy(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function ly(e,t){return e&&"solid"!==e&&t>0?(t=t||1,"dashed"===e?[4*t,2*t]:"dotted"===e?[t]:J(e)?[e]:Y(e)?e:null):null}var cy=[],fy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return f(t,e),t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(e=0;e<this._temporaryDisplayables.length;e++){t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Jn(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(cy)),e.union(r)}this._rect=e}return this._rect},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();if(r.contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){var a=this._displayables[i];if(a.contain(e,t))return!0}return!1},t}(So),hy=fy,dy=new Ds(!0);function py(e){var t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))}function gy(e){var t=e.fill;return null!=t&&"none"!==t}function my(e,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function vy(e,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function yy(e,t,n){var r=Ya(t.image,t.__image,n);if($a(r)){var i=e.createPattern(r,t.repeat||"repeat");if("function"===typeof DOMMatrix){var a=new DOMMatrix;a.rotateSelf(0,0,(t.rotation||0)/Math.PI*180),a.scaleSelf(t.scaleX||1,t.scaleY||1),a.translateSelf(t.x||0,t.y||0),i.setTransform(a)}return i}}function _y(e,t,n,r){var i=py(n),a=gy(n),o=n.strokePercent,s=o<1,u=!t.path;t.silent&&!s||!u||t.createPathProxy();var l=t.path||dy;if(!r){var c=n.fill,f=n.stroke,h=a&&!!c.colorStops,d=i&&!!f.colorStops,p=a&&!!c.image,g=i&&!!f.image,m=void 0,v=void 0,y=void 0,_=void 0,b=void 0;(h||d)&&(b=t.getBoundingRect()),h&&(m=t.__dirty?sy(e,c,b):t.__canvasFillGradient,t.__canvasFillGradient=m),d&&(v=t.__dirty?sy(e,f,b):t.__canvasStrokeGradient,t.__canvasStrokeGradient=v),p&&(y=t.__dirty||!t.__canvasFillPattern?yy(e,c,t):t.__canvasFillPattern,t.__canvasFillPattern=y),g&&(_=t.__dirty||!t.__canvasStrokePattern?yy(e,f,t):t.__canvasStrokePattern,t.__canvasStrokePattern=y),h?e.fillStyle=m:p&&(y?e.fillStyle=y:a=!1),d?e.strokeStyle=v:g&&(_?e.strokeStyle=_:i=!1)}var x=n.lineDash&&n.lineWidth>0&&ly(n.lineDash,n.lineWidth),w=n.lineDashOffset,S=!!e.setLineDash,T=t.getGlobalScale();if(l.setScale(T[0],T[1],t.segmentIgnoreThreshold),x){var E=n.strokeNoScale&&t.getLineScale?t.getLineScale():1;E&&1!==E&&(x=U(x,(function(e){return e/E})),w/=E)}var M=!0;(u||t.__dirty&nu.SHAPE_CHANGED_BIT||x&&!S&&i)&&(l.setDPR(e.dpr),s?l.setContext(null):(l.setContext(e),M=!1),l.reset(),x&&!S&&(l.setLineDash(x),l.setLineDashOffset(w)),t.buildPath(l,t.shape,r),l.toStatic(),t.pathUpdated()),M&&l.rebuildPath(e,s?o:1),x&&S&&(e.setLineDash(x),e.lineDashOffset=w),r||(n.strokeFirst?(i&&vy(e,n),a&&my(e,n)):(a&&my(e,n),i&&vy(e,n))),x&&S&&e.setLineDash([])}function by(e,t,n){var r=t.__image=Ya(n.image,t.__image,t,t.onload);if(r&&$a(r)){var i=n.x||0,a=n.y||0,o=t.getWidth(),s=t.getHeight(),u=r.width/r.height;if(null==o&&null!=s?o=s*u:null==s&&null!=o?s=o/u:null==o&&null==s&&(o=r.width,s=r.height),n.sWidth&&n.sHeight){var l=n.sx||0,c=n.sy||0;e.drawImage(r,l,c,n.sWidth,n.sHeight,i,a,o,s)}else if(n.sx&&n.sy){l=n.sx,c=n.sy;var f=o-l,h=s-c;e.drawImage(r,l,c,f,h,i,a,o,s)}else e.drawImage(r,i,a,o,s)}}function xy(e,t,n){var r=n.text;if(null!=r&&(r+=""),r){e.font=n.font||tr,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var i=void 0;if(e.setLineDash){var a=n.lineDash&&n.lineWidth>0&&ly(n.lineDash,n.lineWidth),o=n.lineDashOffset;if(a){var s=n.strokeNoScale&&t.getLineScale?t.getLineScale():1;s&&1!==s&&(a=U(a,(function(e){return e/s})),o/=s),e.setLineDash(a),e.lineDashOffset=o,i=!0}}n.strokeFirst?(py(n)&&e.strokeText(r,n.x,n.y),gy(n)&&e.fillText(r,n.x,n.y)):(gy(n)&&e.fillText(r,n.x,n.y),py(n)&&e.strokeText(r,n.x,n.y)),i&&e.setLineDash([])}}var wy=["shadowBlur","shadowOffsetX","shadowOffsetY"],Sy=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Ty(e,t,n,r,i){var a=!1;if(!r&&(n=n||{},t===n))return!1;(r||t.opacity!==n.opacity)&&(a||(ky(e,i),a=!0),e.globalAlpha=null==t.opacity?mo.opacity:t.opacity),(r||t.blend!==n.blend)&&(a||(ky(e,i),a=!0),e.globalCompositeOperation=t.blend||mo.blend);for(var o=0;o<wy.length;o++){var s=wy[o];(r||t[s]!==n[s])&&(a||(ky(e,i),a=!0),e[s]=e.dpr*(t[s]||0))}return(r||t.shadowColor!==n.shadowColor)&&(a||(ky(e,i),a=!0),e.shadowColor=t.shadowColor||mo.shadowColor),a}function Ey(e,t,n,r,i){var a=Ny(t,i.inHover),o=r?null:n&&Ny(n,i.inHover)||{};if(a===o)return!1;var s=Ty(e,a,o,r,i);if((r||a.fill!==o.fill)&&(s||(ky(e,i),s=!0),e.fillStyle=a.fill),(r||a.stroke!==o.stroke)&&(s||(ky(e,i),s=!0),e.strokeStyle=a.stroke),(r||a.opacity!==o.opacity)&&(s||(ky(e,i),s=!0),e.globalAlpha=null==a.opacity?1:a.opacity),t.hasStroke()){var u=a.lineWidth,l=u/(a.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1);e.lineWidth!==l&&(s||(ky(e,i),s=!0),e.lineWidth=l)}for(var c=0;c<Sy.length;c++){var f=Sy[c],h=f[0];(r||a[h]!==o[h])&&(s||(ky(e,i),s=!0),e[h]=a[h]||f[1])}return s}function My(e,t,n,r,i){return Ty(e,Ny(t,i.inHover),n&&Ny(n,i.inHover),r,i)}function Cy(e,t){var n=t.transform,r=e.dpr||1;n?e.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):e.setTransform(r,0,0,r,0,0)}function Ay(e,t,n){for(var r=!1,i=0;i<e.length;i++){var a=e[i];r=r||a.isZeroArea(),Cy(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}n.allClipped=r}function Oy(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var Dy=1,Py=2,Ly=3,Iy=4;function Ry(e){var t=gy(e),n=py(e);return!(e.lineDash||!(+t^+n)||t&&"string"!==typeof e.fill||n&&"string"!==typeof e.stroke||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function ky(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function Ny(e,t){return t&&e.__hoverStyle||e.style}function Fy(e,t){By(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function By(e,t,n,r){var i=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return t.__dirty&=~Or.REDARAW_BIT,void(t.__isRendered=!1);var a=t.__clipPaths,o=n.prevElClipPaths,s=!1,u=!1;if(o&&!uy(a,o)||(o&&o.length&&(ky(e,n),e.restore(),u=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),a&&a.length&&(ky(e,n),e.save(),Ay(a,e,n),s=!0),n.prevElClipPaths=a),n.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var l=n.prevEl;l||(u=s=!0);var c=t instanceof nu&&t.autoBatch&&Ry(t.style);s||Oy(i,l.transform)?(ky(e,n),Cy(e,t)):c||ky(e,n);var f=Ny(t,n.inHover);t instanceof nu?(n.lastDrawType!==Dy&&(u=!0,n.lastDrawType=Dy),Ey(e,t,l,u,n),c&&(n.batchFill||n.batchStroke)||e.beginPath(),_y(e,t,f,c),c&&(n.batchFill=f.fill||"",n.batchStroke=f.stroke||"")):t instanceof au?(n.lastDrawType!==Ly&&(u=!0,n.lastDrawType=Ly),Ey(e,t,l,u,n),xy(e,t,f)):t instanceof cu?(n.lastDrawType!==Py&&(u=!0,n.lastDrawType=Py),My(e,t,l,u,n),by(e,t,f)):t instanceof hy&&(n.lastDrawType!==Iy&&(u=!0,n.lastDrawType=Iy),zy(e,t,n)),c&&r&&ky(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}}function zy(e,t,n){var r=t.getDisplayables(),i=t.getTemporalDisplayables();e.save();var a,o,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(a=t.getCursor(),o=r.length;a<o;a++){var u=r[a];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),By(e,u,s,a===o-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u}for(var l=0,c=i.length;l<c;l++){u=i[l];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),By(e,u,s,l===c-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var jy=new qv,Hy=new Xt(100),Uy=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Vy(e,t){if("none"===e)return null;var n=t.getDevicePixelRatio(),r=t.getZr(),i="svg"===r.painter.type;e.dirty&&jy["delete"](e);var a=jy.get(e);if(a)return a;var o=k(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===o.backgroundColor&&(o.backgroundColor=null);var s={repeat:"repeat"};return u(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/n,jy.set(e,s),e.dirty=!1,s;function u(e){for(var t,a=[n],s=!0,u=0;u<Uy.length;++u){var l=o[Uy[u]],c=typeof l;if(null!=l&&!Y(l)&&"string"!==c&&"number"!==c&&"boolean"!==c){s=!1;break}a.push(l)}if(s){t=a.join(",")+(i?"-svg":"");var f=Hy.get(t);f&&(i?e.svgElement=f:e.image=f)}var h,d=Wy(o.dashArrayX),p=Xy(o.dashArrayY),g=Gy(o.symbol),m=Ky(d),v=qy(p),y=!i&&N(),_=i&&r.painter.createSVGElement("g"),b=x();function x(){for(var e=1,t=0,n=m.length;t<n;++t)e=Ji(e,m[t]);var r=1;for(t=0,n=g.length;t<n;++t)r=Ji(r,g[t].length);e*=r;var i=v*m.length*g.length;return{width:Math.max(1,Math.min(e,o.maxTileWidth)),height:Math.max(1,Math.min(i,o.maxTileHeight))}}function w(){h&&(h.clearRect(0,0,y.width,y.height),o.backgroundColor&&(h.fillStyle=o.backgroundColor,h.fillRect(0,0,y.width,y.height)));for(var e=0,t=0;t<p.length;++t)e+=p[t];if(!(e<=0)){var a=-v,s=0,u=0,l=0;while(a<b.height){if(s%2===0){var c=u/2%g.length,f=0,m=0,x=0;while(f<2*b.width){var w=0;for(t=0;t<d[l].length;++t)w+=d[l][t];if(w<=0)break;if(m%2===0){var S=.5*(1-o.symbolSize),T=f+d[l][m]*S,E=a+p[s]*S,M=d[l][m]*o.symbolSize,C=p[s]*o.symbolSize,A=x/2%g[c].length;O(T,E,M,C,g[c][A])}f+=d[l][m],++x,++m,m===d[l].length&&(m=0)}++l,l===d.length&&(l=0)}a+=p[s],++u,++s,s===p.length&&(s=0)}}function O(e,t,a,s,u){var l=i?1:n,c=iy(u,e*l,t*l,a*l,s*l,o.color,o.symbolKeepAspect);i?_.appendChild(r.painter.paintOne(c)):Fy(h,c)}}y&&(y.width=b.width*n,y.height=b.height*n,h=y.getContext("2d")),w(),s&&Hy.put(t,y||_),e.image=y,e.svgElement=_,e.svgWidth=b.width,e.svgHeight=b.height}}function Gy(e){if(!e||0===e.length)return[["rect"]];if("string"===typeof e)return[[e]];for(var t=!0,n=0;n<e.length;++n)if("string"!==typeof e[n]){t=!1;break}if(t)return Gy([e]);var r=[];for(n=0;n<e.length;++n)"string"===typeof e[n]?r.push([e[n]]):r.push(e[n]);return r}function Wy(e){if(!e||0===e.length)return[[0,0]];if("number"===typeof e){var t=Math.ceil(e);return[[t,t]]}for(var n=!0,r=0;r<e.length;++r)if("number"!==typeof e[r]){n=!1;break}if(n)return Wy([e]);var i=[];for(r=0;r<e.length;++r)if("number"===typeof e[r]){t=Math.ceil(e[r]);i.push([t,t])}else{t=U(e[r],(function(e){return Math.ceil(e)}));t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function Xy(e){if(!e||"object"===typeof e&&0===e.length)return[0,0];if("number"===typeof e){var t=Math.ceil(e);return[t,t]}var n=U(e,(function(e){return Math.ceil(e)}));return e.length%2?n.concat(n):n}function Ky(e){return U(e,(function(e){return qy(e)}))}function qy(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2===1?2*t:t}function Yy(e,t){e.eachRawSeries((function(n){if(!e.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each((function(e){var n=r.getItemVisual(e,"decal");if(n){var i=r.ensureUniqueItemVisual(e,"style");i.decal=Vy(n,t)}}));var i=r.getVisual("decal");if(i){var a=r.getVisual("style");a.decal=Vy(i,t)}}}))}var Zy=fe,$y=H,Qy=Z,Jy=ee,e_=F,t_="undefined"!==typeof window,n_=1,r_=800,i_=900,a_=1e3,o_=2e3,s_=5e3,u_=1e3,l_=1100,c_=2e3,f_=3e3,h_=4e3,d_=4500,p_=4600,g_=5e3,m_=6e3,v_=7e3,y_={PROCESSOR:{FILTER:a_,SERIES_FILTER:r_,STATISTIC:s_},VISUAL:{LAYOUT:u_,PROGRESSIVE_LAYOUT:l_,GLOBAL:c_,CHART:f_,POST_CHART_LAYOUT:p_,COMPONENT:h_,BRUSH:g_,CHART_ITEM:d_,ARIA:m_,DECAL:v_}},__="__flagInMainProcess",b_="__optionUpdated",x_="__needsUpdateStatus",w_=/^[a-zA-Z0-9_]+$/,S_="__connectUpdateStatus",T_=0,E_=1,M_=2;function C_(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!this.isDisposed())return O_(this,e,t);tb(this.id)}}function A_(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return O_(this,e,t)}}function O_(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),Ue.prototype[t].apply(e,n)}var D_,P_,L_,I_,R_,k_,N_,F_,B_,z_,j_,H_,U_,V_,G_,W_,X_,K_,q_,Y_,Z_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t}(Ue),$_=Z_.prototype;$_.on=A_("on"),$_.off=A_("off");var Q_=function(e){function t(t,n,r){var i=e.call(this,new qm)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],r=r||{},"string"===typeof n&&(n=lb[n]),i._dom=t;var a="canvas",o=!1,s=i._zr=Si(t,{renderer:r.renderer||a,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,useDirtyRect:null==r.useDirtyRect?o:r.useDirtyRect});i._throttledZrFlush=um(K(s.flush,s),17),n=L(n),n&&Ip(n,!0),i._theme=n,i._locale=ah(r.locale||rh),i._coordSysMgr=new np;var u=i._api=X_(i);function l(e,t){return e.__prio-t.__prio}return zr(ub,l),zr(ib,l),i._scheduler=new km(i,u,ib,ub),i._messageCenter=new Z_,i._labelManager=new Uv,i._initEvents(),i.resize=K(i.resize,i),s.animation.on("frame",i._onframe,i),z_(s,i),j_(s,i),pe(i),i}return f(t,e),t.prototype._onframe=function(){if(!this._disposed){Y_(this);var e=this._scheduler;if(this[b_]){var t=this[b_].silent;this[__]=!0,D_(this),I_.update.call(this),this._zr.flush(),this[__]=!1,this[b_]=!1,F_.call(this,t),B_.call(this,t)}else if(e.unfinished){var n=n_,r=this._model,i=this._api;e.unfinished=!1;do{var a=+new Date;e.performSeriesTasks(r),e.performDataProcessorTasks(r),k_(this,r),e.performVisualTasks(r),G_(this,this._model,i,"remain"),n-=+new Date-a}while(n>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.setOption=function(e,t,n){if(this._disposed)tb(this.id);else{var r,i,a;if(Jy(t)&&(n=t.lazyUpdate,r=t.silent,i=t.replaceMerge,a=t.transition,t=t.notMerge),this[__]=!0,!this._model||t){var o=new lp(this._api),s=this._theme,u=this._model=new Zd;u.scheduler=this._scheduler,u.init(null,null,null,s,this._locale,o)}this._model.setOption(e,{replaceMerge:i},ab),K_(this,a),n?(this[b_]={silent:r},this[__]=!1,this.getZr().wakeUp()):(D_(this),I_.update.call(this),this._zr.flush(),this[b_]=!1,this[__]=!1,F_.call(this,r),B_.call(this,r))}},t.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||t_&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){if(v.canvasSupported){e=R({},e||{}),e.pixelRatio=e.pixelRatio||this.getDevicePixelRatio(),e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr;return t.painter.getRenderedCanvas(e)}},t.prototype.getSvgDataURL=function(){if(v.svgSupported){var e=this._zr,t=e.storage.getDisplayList();return H(t,(function(e){e.stopAnimation(null,!0)})),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){e=e||{};var t=e.excludeComponents,n=this._model,r=[],i=this;$y(t,(function(e){n.eachComponent({mainType:e},(function(e){var t=i._componentsMap[e.__viewId];t.group.ignore||(r.push(t),t.group.ignore=!0)}))}));var a="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return $y(r,(function(e){e.group.ignore=!1})),a}tb(this.id)},t.prototype.getConnectedDataURL=function(e){if(this._disposed)tb(this.id);else if(v.canvasSupported){var t="svg"===e.type,n=this.group,r=Math.min,i=Math.max,a=1/0;if(hb[n]){var o=a,s=a,u=-a,l=-a,c=[],f=e&&e.pixelRatio||this.getDevicePixelRatio();H(fb,(function(a,f){if(a.group===n){var h=t?a.getZr().painter.getSvgDom().innerHTML:a.getRenderedCanvas(L(e)),d=a.getDom().getBoundingClientRect();o=r(d.left,o),s=r(d.top,s),u=i(d.right,u),l=i(d.bottom,l),c.push({dom:h,left:d.left,top:d.top})}})),o*=f,s*=f,u*=f,l*=f;var h=u-o,d=l-s,p=N(),g=Si(p,{renderer:t?"svg":"canvas"});if(g.resize({width:h,height:d}),t){var m="";return $y(c,(function(e){var t=e.left-o,n=e.top-s;m+='<g transform="translate('+t+","+n+')">'+e.dom+"</g>"})),g.painter.getSvgRoot().innerHTML=m,e.connectedBackgroundColor&&g.painter.setBackgroundColor(e.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}return e.connectedBackgroundColor&&g.add(new _u({shape:{x:0,y:0,width:h,height:d},style:{fill:e.connectedBackgroundColor}})),$y(c,(function(e){var t=new cu({style:{x:e.left*f-o,y:e.top*f-s,image:e.dom}});g.add(t)})),g.refreshImmediately(),p.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,t){return R_(this,"convertToPixel",e,t)},t.prototype.convertFromPixel=function(e,t){return R_(this,"convertFromPixel",e,t)},t.prototype.containPixel=function(e,t){if(!this._disposed){var n,r=this._model,i=Ta(r,e);return H(i,(function(e,r){r.indexOf("Models")>=0&&H(e,(function(e){var i=e.coordinateSystem;if(i&&i.containPoint)n=n||!!i.containPoint(t);else if("seriesModels"===r){var a=this._chartsMap[e.__viewId];a&&a.containPoint&&(n=n||a.containPoint(t,e))}else 0}),this)}),this),!!n}tb(this.id)},t.prototype.getVisual=function(e,t){var n=this._model,r=Ta(n,e,{defaultMainType:"series"}),i=r.seriesModel;var a=i.getData(),o=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?a.indexOfRawIndex(r.dataIndex):null;return null!=o?$m(a,o,t):Qm(a,t)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;$y(eb,(function(t){var n=function(n){var r,i=e.getModel(),a=n.target,o="globalout"===t;if(o?r={}:a&&Wv(a,(function(e){var t=Ru(e);if(t&&null!=t.dataIndex){var n=t.dataModel||i.getSeriesByIndex(t.seriesIndex);return r=n&&n.getDataParams(t.dataIndex,t.dataType)||{},!0}if(t.eventData)return r=R({},t.eventData),!0}),!0),r){var s=r.componentType,u=r.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",u=r.seriesIndex);var l=s&&null!=u&&i.getComponent(s,u),c=l&&e["series"===l.mainType?"_chartsMap":"_componentsMap"][l.__viewId];0,r.event=n,r.type=t,e._$eventProcessor.eventInfo={targetEl:a,packedEvent:r,model:l,view:c},e.trigger(t,r)}};n.zrEventfulCallAtLast=!0,e._zr.on(t,n,e)})),$y(rb,(function(t,n){e._messageCenter.on(n,(function(e){this.trigger(n,e)}),e)})),$y(["selectchanged"],(function(t){e._messageCenter.on(t,(function(e){this.trigger(t,e)}),e)})),Gv(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed?tb(this.id):this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed)tb(this.id);else{this._disposed=!0,Ca(this.getDom(),db,"");var e=this._api,t=this._model;$y(this._componentsViews,(function(n){n.dispose(t,e)})),$y(this._chartsViews,(function(n){n.dispose(t,e)})),this._zr.dispose(),delete fb[this.id]}},t.prototype.resize=function(e){if(this._disposed)tb(this.id);else{this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),r=e&&e.silent;this[__]=!0,n&&D_(this),I_.update.call(this,{type:"resize",animation:{duration:0}}),this[__]=!1,F_.call(this,r),B_.call(this,r)}}},t.prototype.showLoading=function(e,t){if(this._disposed)tb(this.id);else if(Jy(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),cb[e]){var n=cb[e](this._api,t),r=this._zr;this._loadingFX=n,r.add(n)}},t.prototype.hideLoading=function(){this._disposed?tb(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var t=R({},e);return t.type=rb[e.type],t},t.prototype.dispatchAction=function(e,t){if(this._disposed)tb(this.id);else if(Jy(t)||(t={silent:!!t}),nb[e.type]&&this._model)if(this[__])this._pendingActions.push(e);else{var n=t.silent;N_.call(this,e,n);var r=t.flush;r?this._zr.flush():!1!==r&&v.browser.weChat&&this._throttledZrFlush(),F_.call(this,n),B_.call(this,n)}},t.prototype.updateLabelLayout=function(){var e=this._labelManager;e.updateLayoutConfig(this._api),e.layout(this._api),e.processLabelsOverall()},t.prototype.appendData=function(e){if(this._disposed)tb(this.id);else{var t=e.seriesIndex,n=this.getModel(),r=n.getSeriesByIndex(t);0,r.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(e){for(var t=[],n=e.currentStates,r=0;r<n.length;r++){var i=n[r];"emphasis"!==i&&"blur"!==i&&"select"!==i&&t.push(i)}e.selected&&e.states.select&&t.push("select"),e.hoverState===ju&&e.states.emphasis?t.push("emphasis"):e.hoverState===zu&&e.states.blur&&t.push("blur"),e.useStates(t)}function t(e,t){var n=e._zr,r=n.storage,i=0;r.traverse((function(e){e.isGroup||i++})),i>t.get("hoverLayerThreshold")&&!v.node&&!v.worker&&t.eachSeries((function(t){if(!t.preventUsingHoverLayer){var n=e._chartsMap[t.__viewId];n.__alive&&n.group.traverse((function(e){e.states.emphasis&&(e.states.emphasis.hoverLayer=!0)}))}}))}function n(e,t){var n=e.get("blendMode")||null;t.group.traverse((function(e){e.isGroup||(e.style.blend=n),e.eachPendingDisplayable&&e.eachPendingDisplayable((function(e){e.style.blend=n}))}))}function r(e,t){if(!e.preventAutoZ){var n=e.get("z"),r=e.get("zlevel");t.group.traverse((function(e){if(!e.isGroup){null!=n&&(e.z=n),null!=r&&(e.zlevel=r);var t=e.getTextContent(),i=e.getTextGuideLine();if(t&&(t.z=e.z,t.zlevel=e.zlevel,t.z2=e.z2+2),i){var a=e.textGuideLineConfig&&e.textGuideLineConfig.showAbove;i.z=e.z,i.zlevel=e.zlevel,i.z2=e.z2+(a?1:-1)}}}))}}function i(e,t){t.group.traverse((function(e){if(!mf(e)){var t=e.getTextContent(),n=e.getTextGuideLine();e.stateTransition&&(e.stateTransition=null),t&&t.stateTransition&&(t.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),e.hasState()?(e.prevStates=e.currentStates,e.clearStates()):e.prevStates&&(e.prevStates=null)}}))}function a(t,n){var r=t.getModel("stateAnimation"),i=t.isAnimationEnabled(),a=r.get("duration"),o=a>0?{duration:a,delay:r.get("delay"),easing:r.get("easing")}:null;n.group.traverse((function(t){if(t.states&&t.states.emphasis){if(mf(t))return;if(t instanceof nu&&Nl(t),t.__dirty){var n=t.prevStates;n&&t.useStates(n)}if(i){t.stateTransition=o;var r=t.getTextContent(),a=t.getTextGuideLine();r&&(r.stateTransition=o),a&&(a.stateTransition=o)}t.__dirty&&e(t)}}))}D_=function(e){var t=e._scheduler;t.restorePipelines(e._model),t.prepareStageTasks(),P_(e,!0),P_(e,!1),t.plan()},P_=function(e,t){for(var n=e._model,r=e._scheduler,i=t?e._componentsViews:e._chartsViews,a=t?e._componentsMap:e._chartsMap,o=e._zr,s=e._api,u=0;u<i.length;u++)i[u].__alive=!1;function l(e){var u=e.__requireNewView;e.__requireNewView=!1;var l="_ec_"+e.id+"_"+e.type,c=!u&&a[l];if(!c){var f=La(e.type),h=t?$g.getClass(f.main,f.sub):sm.getClass(f.sub);0,c=new h,c.init(n,s),a[l]=c,i.push(c),o.add(c.group)}e.__viewId=c.__id=l,c.__alive=!0,c.__model=e,c.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!t&&r.prepareView(c,e,n,s)}t?n.eachComponent((function(e,t){"series"!==e&&l(t)})):n.eachSeries(l);for(u=0;u<i.length;){var c=i[u];c.__alive?u++:(!t&&c.renderTask.dispose(),o.remove(c.group),c.dispose(n,s),i.splice(u,1),a[c.__id]===c&&delete a[c.__id],c.__id=c.group.__ecComponentInfo=null)}},L_=function(e,t,n,r,i){var a=e._model;if(a.setUpdatePayload(n),r){var o={};o[r+"Id"]=n[r+"Id"],o[r+"Index"]=n[r+"Index"],o[r+"Name"]=n[r+"Name"];var s={mainType:r,query:o};i&&(s.subType=i);var u,l=n.excludeSeriesId;null!=l&&(u=ve(),$y(na(l),(function(e){var t=ma(e,null);null!=t&&u.set(t,!0)}))),a&&a.eachComponent(s,(function(t){u&&null!=u.get(t.id)||(kl(n)&&!n.notBlur?t instanceof Yg&&El(t,n,e._api):Rl(n)&&t instanceof Yg&&(Ml(t,n,e._api),Cl(t),q_(e)),c(e["series"===r?"_chartsMap":"_componentsMap"][t.__viewId]))}),e)}else $y([].concat(e._componentsViews).concat(e._chartsViews),c);function c(r){r&&r.__alive&&r[t]&&r[t](r.__model,a,e._api,n)}},I_={prepareAndUpdate:function(e){D_(this),I_.update.call(this,e)},update:function(e){var t=this._model,n=this._api,r=this._zr,i=this._coordSysMgr,a=this._scheduler;if(t){t.setUpdatePayload(e),a.restoreData(t,e),a.performSeriesTasks(t),i.create(t,n),a.performDataProcessorTasks(t,e),k_(this,t),i.update(t,n),H_(t),a.performVisualTasks(t,e),U_(this,t,n,e);var o=t.get("backgroundColor")||"transparent",s=t.get("darkMode");if(v.canvasSupported)r.setBackgroundColor(o),null!=s&&"auto"!==s&&r.setDarkMode(s);else{var u=sn(o);o=yn(u,"rgb"),0===u[3]&&(o="transparent")}W_(t,n)}},updateTransform:function(e){var t=this,n=this._model,r=this._api;if(n){n.setUpdatePayload(e);var i=[];n.eachComponent((function(a,o){if("series"!==a){var s=t.getViewOfComponentModel(o);if(s&&s.__alive)if(s.updateTransform){var u=s.updateTransform(o,n,r,e);u&&u.update&&i.push(s)}else i.push(s)}}));var a=ve();n.eachSeries((function(i){var o=t._chartsMap[i.__viewId];if(o.updateTransform){var s=o.updateTransform(i,n,r,e);s&&s.update&&a.set(i.uid,1)}else a.set(i.uid,1)})),H_(n),this._scheduler.performVisualTasks(n,e,{setDirty:!0,dirtyMap:a}),G_(this,n,r,e,a),W_(n,this._api)}},updateView:function(e){var t=this._model;t&&(t.setUpdatePayload(e),sm.markUpdateMethod(e,"updateView"),H_(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),U_(this,this._model,this._api,e),W_(t,this._api))},updateVisual:function(e){var t=this,n=this._model;n&&(n.setUpdatePayload(e),n.eachSeries((function(e){e.getData().clearAllVisual()})),sm.markUpdateMethod(e,"updateVisual"),H_(n),this._scheduler.performVisualTasks(n,e,{visualType:"visual",setDirty:!0}),n.eachComponent((function(r,i){if("series"!==r){var a=t.getViewOfComponentModel(i);a&&a.__alive&&a.updateVisual(i,n,t._api,e)}})),n.eachSeries((function(r){var i=t._chartsMap[r.__viewId];i.updateVisual(r,n,t._api,e)})),W_(n,this._api))},updateLayout:function(e){I_.update.call(this,e)}},R_=function(e,t,n,r){if(e._disposed)tb(e.id);else{for(var i,a=e._model,o=e._coordSysMgr.getCoordinateSystems(),s=Ta(a,n),u=0;u<o.length;u++){var l=o[u];if(l[t]&&null!=(i=l[t](a,s,r)))return i}0}},k_=function(e,t){var n=e._chartsMap,r=e._scheduler;t.eachSeries((function(e){r.updateStreamModes(e,n[e.__viewId])}))},N_=function(e,t){var n=this,r=this.getModel(),i=e.type,a=e.escapeConnect,o=nb[i],s=o.actionInfo,u=(s.update||"update").split(":"),l=u.pop(),c=null!=u[0]&&La(u[0]);this[__]=!0;var f=[e],h=!1;e.batch&&(h=!0,f=U(e.batch,(function(t){return t=k(R({},t),e),t.batch=null,t})));var d,p=[],g=Rl(e),m=kl(e)||g;if($y(f,(function(e){d=o.action(e,n._model,n._api),d=d||R({},e),d.type=s.event||d.type,p.push(d),m?(L_(n,l,e,"series"),q_(n)):c&&L_(n,l,e,c.main,c.sub)})),"none"===l||m||c||(this[b_]?(D_(this),I_.update.call(this,e),this[b_]=!1):I_[l].call(this,e)),d=h?{type:s.event||i,escapeConnect:a,batch:p}:p[0],this[__]=!1,!t){var v=this._messageCenter;if(v.trigger(d.type,d),g){var y={type:"selectchanged",escapeConnect:a,selected:Al(r),isFromClick:e.isFromClick||!1,fromAction:e.type,fromActionPayload:e};v.trigger(y.type,y)}}},F_=function(e){var t=this._pendingActions;while(t.length){var n=t.shift();N_.call(this,n,e)}},B_=function(e){!e&&this.trigger("updated")},z_=function(e,t){e.on("rendered",(function(n){t.trigger("rendered",n),!e.animation.isFinished()||t[b_]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")}))},j_=function(e,t){e.on("mouseover",(function(e){var n=e.target,r=Wv(n,Ll);if(r){var i=Ru(r);Tl(i.seriesIndex,i.focus,i.blurScope,t._api,!0),pl(r,e),q_(t)}})).on("mouseout",(function(e){var n=e.target,r=Wv(n,Ll);if(r){var i=Ru(r);Tl(i.seriesIndex,i.focus,i.blurScope,t._api,!1),gl(r,e),q_(t)}})).on("click",(function(e){var n=e.target,r=Wv(n,(function(e){return null!=Ru(e).dataIndex}),!0);if(r){var i=r.selected?"unselect":"select",a=Ru(r);t._api.dispatchAction({type:i,dataType:a.dataType,dataIndexInside:a.dataIndex,seriesIndex:a.seriesIndex,isFromClick:!0})}}))},H_=function(e){e.clearColorPalette(),e.eachSeries((function(e){e.clearColorPalette()}))},U_=function(e,t,n,r){V_(e,t,n,r),$y(e._chartsViews,(function(e){e.__alive=!1})),G_(e,t,n,r),$y(e._chartsViews,(function(e){e.__alive||e.remove(t,n)}))},V_=function(e,t,n,o,s){$y(s||e._componentsViews,(function(e){var s=e.__model;i(s,e),e.render(s,t,n,o),r(s,e),a(s,e)}))},G_=function(e,o,s,u,l){var c=e._scheduler,f=e._labelManager;f.clearLabels();var h=!1;o.eachSeries((function(t){var r=e._chartsMap[t.__viewId];r.__alive=!0;var a=r.renderTask;c.updatePayload(a,u),i(t,r),l&&l.get(t.uid)&&a.dirty(),a.perform(c.getPerformArgs(a))&&(h=!0),t.__transientTransitionOpt=null,r.group.silent=!!t.get("silent"),n(t,r),Cl(t),f.addLabelsOfSeries(r)})),c.unfinished=h||c.unfinished,f.updateLayoutConfig(s),f.layout(s),f.processLabelsOverall(),o.eachSeries((function(t){var n=e._chartsMap[t.__viewId];r(t,n),a(t,n)})),t(e,o)},W_=function(e,t){$y(sb,(function(n){n(e,t)}))},q_=function(e){e[x_]=!0,e.getZr().wakeUp()},Y_=function(t){t[x_]&&(t.getZr().storage.traverse((function(t){mf(t)||e(t)})),t[x_]=!1)},X_=function(e){return new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return f(n,t),n.prototype.getCoordinateSystems=function(){return e._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(t){while(t){var n=t.__ecComponentInfo;if(null!=n)return e._model.getComponent(n.mainType,n.index);t=t.parent}},n.prototype.enterEmphasis=function(t,n){ml(t,n),q_(e)},n.prototype.leaveEmphasis=function(t,n){vl(t,n),q_(e)},n.prototype.enterBlur=function(t){yl(t),q_(e)},n.prototype.leaveBlur=function(t){_l(t),q_(e)},n.prototype.enterSelect=function(t){bl(t),q_(e)},n.prototype.leaveSelect=function(t){xl(t),q_(e)},n.prototype.getModel=function(){return e.getModel()},n.prototype.getViewOfComponentModel=function(t){return e.getViewOfComponentModel(t)},n.prototype.getViewOfSeriesModel=function(t){return e.getViewOfSeriesModel(t)},n}(Jd))(e)},function(e){function t(e,t){for(var n=0;n<e.length;n++){var r=e[n];r[S_]=t}}$y(rb,(function(n,r){e._messageCenter.on(r,(function(n){if(hb[e.group]&&e[S_]!==T_){if(n&&n.escapeConnect)return;var r=e.makeActionFromEvent(n),i=[];$y(fb,(function(t){t!==e&&t.group===e.group&&i.push(t)})),t(i,T_),$y(i,(function(e){e[S_]!==E_&&e.dispatchAction(r)})),t(i,M_)}}))}))},K_=function(e,t){var n=e._model;H(na(t),(function(e){var t,r=e.from,i=e.to;null==i&&mg(t);var a={includeMainTypes:["series"],enableAll:!1,enableNone:!1},o=r?Ta(n,r,a):null,s=Ta(n,i,a),u=s.seriesModel;null==u&&(t=""),o&&o.seriesModel!==u&&(t=""),null!=t&&mg(t),u.__transientTransitionOpt={from:r?r.dimension:null,to:i.dimension,dividingMethod:e.dividingMethod}}))}}(),t}(Ue),J_=Q_.prototype;J_.on=C_("on"),J_.off=C_("off"),J_.one=function(e,t,n){var r=this;function i(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];t&&t.apply&&t.apply(this,n),r.off(e,i)}gg("ECharts#one is deprecated."),this.on.call(this,e,i,n)};var eb=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function tb(e){0}var nb={},rb={},ib=[],ab=[],ob=[],sb=[],ub=[],lb={},cb={},fb={},hb={},db=(new Date,new Date,"_echarts_instance_");function pb(e,t){lb[e]=t}function gb(e){e_(ab,e)<0&&ab.push(e)}function mb(e,t){Eb(ib,e,t,o_)}function vb(e){e_(ob,e)<0&&e&&ob.push(e)}function yb(e){e_(sb,e)<0&&e&&sb.push(e)}function _b(e,t,n){"function"===typeof t&&(n=t,t="");var r=Jy(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),t=e.event,rb[t]||(Zy(w_.test(r)&&w_.test(t)),nb[r]||(nb[r]={action:n,actionInfo:e}),rb[t]=r)}function bb(e,t){np.register(e,t)}function xb(e){var t=np.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function wb(e,t){Eb(ub,e,t,u_,"layout")}function Sb(e,t){Eb(ub,e,t,f_,"visual")}var Tb=[];function Eb(e,t,n,r,i){if((Qy(t)||Jy(t))&&(n=t,t=r),!(e_(Tb,n)>=0)){Tb.push(n);var a=km.wrapStageHandler(n,i);a.__prio=t,a.__raw=n,e.push(a)}}function Mb(e,t){cb[e]=t}function Cb(e,t,n){Xm.registerMap(e,t,n)}function Ab(e){var t=Xm.retrieveMap(e);return t&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}}var Ob=Mg;Sb(c_,pm),Sb(d_,mm),Sb(d_,vm),Sb(c_,Ym),Sb(d_,Zm),Sb(v_,Yy),gb(Ip),mb(i_,Rp),Mb("default",_m),_b({type:Wu,event:Wu,update:Wu},xe),_b({type:Xu,event:Xu,update:Xu},xe),_b({type:Ku,event:Ku,update:Ku},xe),_b({type:qu,event:qu,update:qu},xe),_b({type:Yu,event:Yu,update:Yu},xe),pb("light",Fm),pb("dark",Vm);function Db(e){return null==e?0:e.length||1}function Pb(e){return e}var Lb=function(){function e(e,t,n,r,i,a){this._old=e,this._new=t,this._oldKeyGetter=n||Pb,this._newKeyGetter=r||Pb,this.context=i,this._diffModeMultiple="multiple"===a}return e.prototype.add=function(e){return this._add=e,this},e.prototype.update=function(e){return this._update=e,this},e.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},e.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},e.prototype.remove=function(e){return this._remove=e,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},r=new Array(e.length),i=new Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(t,n,i,"_newKeyGetter");for(var a=0;a<e.length;a++){var o=r[a],s=n[o],u=Db(s);if(u>1){var l=s.shift();1===s.length&&(n[o]=s[0]),this._update&&this._update(l,a)}else 1===u?(n[o]=null,this._update&&this._update(s,a)):this._remove&&this._remove(a)}this._performRestAdd(i,n)},e.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},r={},i=[],a=[];this._initIndexMap(e,n,i,"_oldKeyGetter"),this._initIndexMap(t,r,a,"_newKeyGetter");for(var o=0;o<i.length;o++){var s=i[o],u=n[s],l=r[s],c=Db(u),f=Db(l);if(c>1&&1===f)this._updateManyToOne&&this._updateManyToOne(l,u),r[s]=null;else if(1===c&&f>1)this._updateOneToMany&&this._updateOneToMany(l,u),r[s]=null;else if(1===c&&1===f)this._update&&this._update(l,u),r[s]=null;else if(c>1)for(var h=0;h<c;h++)this._remove&&this._remove(u[h]);else this._remove&&this._remove(u)}this._performRestAdd(a,r)},e.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t[r],a=Db(i);if(a>1)for(var o=0;o<a;o++)this._add&&this._add(i[o]);else 1===a&&this._add&&this._add(i);t[r]=null}},e.prototype._initIndexMap=function(e,t,n,r){for(var i=this._diffModeMultiple,a=0;a<e.length;a++){var o="_ec_"+this[r](e[a],a);if(i||(n[a]=o),t){var s=t[o],u=Db(s);0===u?(t[o]=a,i&&n.push(o)):1===u?t[o]=[s,a]:s.push(a)}}},e}(),Ib=Lb;function Rb(e){var t={},n=t.encode={},r=ve(),i=[],a=[],o=t.userOutput={dimensionNames:e.dimensions.slice(),encode:{}};H(e.dimensions,(function(t){var s=e.getDimensionInfo(t),u=s.coordDim;if(u){0;var l=s.coordDimIndex;kb(n,u)[l]=t,s.isExtraCoord||(r.set(u,1),Fb(s.type)&&(i[0]=t),kb(o.encode,u)[l]=s.index),s.defaultTooltip&&a.push(t)}gd.each((function(e,t){var r=kb(n,t),i=s.otherDims[t];null!=i&&!1!==i&&(r[i]=s.name)}))}));var s=[],u={};r.each((function(e,t){var r=n[t];u[t]=r[0],s=s.concat(r)})),t.dataDimsOnCoord=s,t.encodeFirstDimNotExtra=u;var l=n.label;l&&l.length&&(i=l.slice());var c=n.tooltip;return c&&c.length?a=c.slice():a.length||(a=i.slice()),n.defaultedLabel=i,n.defaultedTooltip=a,t}function kb(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function Nb(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function Fb(e){return!("ordinal"===e||"time"===e)}var Bb,zb,jb,Hb,Ub,Vb,Gb,Wb,Xb,Kb,qb,Yb,Zb,$b,Qb=function(){function e(e){this.otherDims={},null!=e&&R(this,e)}return e}(),Jb=Qb,ex=Math.floor,tx=ee,nx=U,rx="undefined",ix=-1,ax="e\0\0",ox={float:typeof Float64Array===rx?Array:Float64Array,int:typeof Int32Array===rx?Array:Int32Array,ordinal:Array,number:Array,time:Array},sx=typeof Uint32Array===rx?Array:Uint32Array,ux=typeof Int32Array===rx?Array:Int32Array,lx=typeof Uint16Array===rx?Array:Uint16Array,cx=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx","_nameRepeatCount"],fx=["_extent","_approximateExtent","_rawExtent"],hx=function(){function e(e,t){this.type="list",this._count=0,this._rawCount=0,this._storage={},this._storageArr=[],this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawExtent={},this._extent={},this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!0,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"],this.getRawIndex=Ub,e=e||["x","y"];for(var n={},r=[],i={},a=0;a<e.length;a++){var o=e[a],s=$(o)?new Jb({name:o}):o instanceof Jb?o:new Jb(o),u=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=u,s.coordDimIndex=0);var l=s.otherDims=s.otherDims||{};r.push(u),n[u]=s,s.index=a,s.createInvertedIndices&&(i[u]=[]),0===l.itemName&&(this._nameDimIdx=a,this._nameOrdinalMeta=s.ordinalMeta),0===l.itemId&&(this._idDimIdx=a,this._idOrdinalMeta=s.ordinalMeta)}this.dimensions=r,this._dimensionInfos=n,this.hostModel=t,this._dimensionsSummary=Rb(this),this._invertedIndicesMap=i,this.userOutput=this._dimensionsSummary.userOutput}return e.prototype.getDimension=function(e){return"number"!==typeof e&&(isNaN(e)||this._dimensionInfos.hasOwnProperty(e))||(e=this.dimensions[e]),e},e.prototype.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},e.prototype.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(e,t){var n=this._dimensionsSummary;if(null==t)return n.encodeFirstDimNotExtra[e];var r=n.encode[e];return r?r[t]:null},e.prototype.mapDimensionsAll=function(e){var t=this._dimensionsSummary,n=t.encode[e];return(n||[]).slice()},e.prototype.initData=function(e,t,n){var r=Up(e)||j(e),i=r?new Qp(e,this.dimensions.length):e;this._rawData=i;var a=i.getSource().sourceFormat;this._storage={},this._indices=null,this._dontMakeIdFromName=null!=this._idDimIdx||a===bd||!!i.fillStorage,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=Bb[a],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=Bb.arrayRows,this._rawExtent={},this._initDataFromProvider(0,i.count()),i.pure&&(this.hasItemOption=!1)},e.prototype.getProvider=function(){return this._rawData},e.prototype.appendData=function(e){var t=this._rawData,n=this.count();t.appendData(e);var r=t.count();t.persistent||(r+=n),this._initDataFromProvider(n,r,!0)},e.prototype.appendValues=function(e,t){for(var n=this._storage,r=this.dimensions,i=r.length,a=this._rawExtent,o=this.count(),s=o+Math.max(e.length,t?t.length:0),u=0;u<i;u++){var l=r[u];a[l]||(a[l]=Yb()),Hb(n,this._dimensionInfos[l],s,!0)}for(var c=nx(r,(function(e){return a[e]})),f=this._storageArr=nx(r,(function(e){return n[e]})),h=[],d=o;d<s;d++){for(var p=d-o,g=0;g<i;g++){l=r[g];var m=this._dimValueGetterArrayRows(e[p]||h,l,p,g);f[g][d]=m;var v=c[g];m<v[0]&&(v[0]=m),m>v[1]&&(v[1]=m)}t&&(this._nameList[d]=t[p],this._dontMakeIdFromName||Xb(this,d))}this._rawCount=this._count=s,this._extent={},zb(this)},e.prototype._initDataFromProvider=function(e,t,n){if(!(e>=t)){for(var r=this._rawData,i=this._storage,a=this.dimensions,o=a.length,s=this._dimensionInfos,u=this._nameList,l=this._idList,c=this._rawExtent,f=r.getSource().sourceFormat,h=f===md,d=0;d<o;d++){var p=a[d];c[p]||(c[p]=Yb()),Hb(i,s[p],t,n)}var g=this._storageArr=nx(a,(function(e){return i[e]})),m=nx(a,(function(e){return c[e]}));if(r.fillStorage)r.fillStorage(e,t,g,m);else for(var v=[],y=e;y<t;y++){v=r.getItem(y,v);for(var _=0;_<o;_++){p=a[_];var b=g[_],x=this._dimValueGetter(v,p,y,_);b[y]=x;var w=m[_];x<w[0]&&(w[0]=x),x>w[1]&&(w[1]=x)}if(h&&!r.pure&&v){var S=v.name;null==u[y]&&null!=S&&(u[y]=ma(S,null));var T=v.id;null==l[y]&&null!=T&&(l[y]=ma(T,null))}this._dontMakeIdFromName||Xb(this,y)}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent={},zb(this)}},e.prototype.count=function(){return this._count},e.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,r=this._count;if(n===Array){e=new n(r);for(var i=0;i<r;i++)e[i]=t[i]}else e=new n(t.buffer,0,r)}else{n=jb(this);e=new n(this.count());for(i=0;i<e.length;i++)e[i]=i}return e},e.prototype.getByDimIdx=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._storageArr[e];return n?n[this.getRawIndex(t)]:NaN},e.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._storage[e];return n?n[this.getRawIndex(t)]:NaN},e.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._storage[e];return n?n[t]:NaN},e.prototype.getValues=function(e,t){var n=[];Y(e)||(t=e,e=this.dimensions);for(var r=0,i=e.length;r<i;r++)n.push(this.get(e[r],t));return n},e.prototype.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,n=0,r=t.length;n<r;n++)if(isNaN(this.get(t[n],e)))return!1;return!0},e.prototype.getDataExtent=function(e){e=this.getDimension(e);var t=this._storage[e],n=Yb();if(!t)return n;var r,i=this.count(),a=!this._indices;if(a)return this._rawExtent[e].slice();if(r=this._extent[e],r)return r.slice();r=n;for(var o=r[0],s=r[1],u=0;u<i;u++){var l=this.getRawIndex(u),c=t[l];c<o&&(o=c),c>s&&(s=c)}return r=[o,s],this._extent[e]=r,r},e.prototype.getApproximateExtent=function(e){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e)},e.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},e.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},e.prototype.setCalculationInfo=function(e,t){tx(e)?R(this._calculationInfo,e):this._calculationInfo[e]=t},e.prototype.getSum=function(e){var t=this._storage[e],n=0;if(t)for(var r=0,i=this.count();r<i;r++){var a=this.get(e,r);isNaN(a)||(n+=a)}return n},e.prototype.getMedian=function(e){var t=[];this.each(e,(function(e){isNaN(e)||t.push(e)}));var n=t.sort((function(e,t){return e-t})),r=this.count();return 0===r?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},e.prototype.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e];var r=n[t];return null==r||isNaN(r)?ix:r},e.prototype.indexOfName=function(e){for(var t=0,n=this.count();t<n;t++)if(this.getName(t)===e)return t;return-1},e.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;var r=0,i=this._count-1;while(r<=i){var a=(r+i)/2|0;if(t[a]<e)r=a+1;else{if(!(t[a]>e))return a;i=a-1}}return-1},e.prototype.indicesOfNearest=function(e,t,n){var r=this._storage,i=r[e],a=[];if(!i)return a;null==n&&(n=1/0);for(var o=1/0,s=-1,u=0,l=0,c=this.count();l<c;l++){var f=this.getRawIndex(l),h=t-i[f],d=Math.abs(h);d<=n&&((d<o||d===o&&h>=0&&s<0)&&(o=d,s=h,u=0),h===s&&(a[u++]=l))}return a.length=u,a},e.prototype.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],n=0;n<this.dimensions.length;n++){var r=this.dimensions[n];t.push(this.get(r,e))}return t},e.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return null==n&&null!=this._nameDimIdx&&(n=Wb(this,this._nameDimIdx,this._nameOrdinalMeta,t)),null==n&&(n=""),n},e.prototype.getId=function(e){return Gb(this,this.getRawIndex(e))},e.prototype.each=function(e,t,n,r){var i=this;if(this._count){"function"===typeof e&&(r=n,n=t,t=e,e=[]);var a=n||r||this,o=nx(Kb(e),this.getDimension,this);0;for(var s=o.length,u=nx(o,(function(e){return i._dimensionInfos[e].index})),l=this._storageArr,c=0,f=this.count();c<f;c++){var h=this.getRawIndex(c);switch(s){case 0:t.call(a,c);break;case 1:t.call(a,l[u[0]][h],c);break;case 2:t.call(a,l[u[0]][h],l[u[1]][h],c);break;default:for(var d=0,p=[];d<s;d++)p[d]=l[u[d]][h];p[d]=c,t.apply(a,p)}}}},e.prototype.filterSelf=function(e,t,n,r){var i=this;if(this._count){"function"===typeof e&&(r=n,n=t,t=e,e=[]);var a=n||r||this,o=nx(Kb(e),this.getDimension,this);0;for(var s=this.count(),u=jb(this),l=new u(s),c=[],f=o.length,h=0,d=nx(o,(function(e){return i._dimensionInfos[e].index})),p=d[0],g=this._storageArr,m=0;m<s;m++){var v=void 0,y=this.getRawIndex(m);if(0===f)v=t.call(a,m);else if(1===f){var _=g[p][y];v=t.call(a,_,m)}else{for(var b=0;b<f;b++)c[b]=g[d[b]][y];c[b]=m,v=t.apply(a,c)}v&&(l[h++]=y)}return h<s&&(this._indices=l),this._count=h,this._extent={},this.getRawIndex=this._indices?Vb:Ub,this}},e.prototype.selectRange=function(e){var t=this,n=this._count;if(n){var r=[];for(var i in e)e.hasOwnProperty(i)&&r.push(i);0;var a=r.length;if(a){var o=this.count(),s=jb(this),u=new s(o),l=0,c=r[0],f=nx(r,(function(e){return t._dimensionInfos[e].index})),h=e[c][0],d=e[c][1],p=this._storageArr,g=!1;if(!this._indices){var m=0;if(1===a){for(var v=p[f[0]],y=0;y<n;y++){var _=v[y];(_>=h&&_<=d||isNaN(_))&&(u[l++]=m),m++}g=!0}else if(2===a){v=p[f[0]];var b=p[f[1]],x=e[r[1]][0],w=e[r[1]][1];for(y=0;y<n;y++){_=v[y];var S=b[y];(_>=h&&_<=d||isNaN(_))&&(S>=x&&S<=w||isNaN(S))&&(u[l++]=m),m++}g=!0}}if(!g)if(1===a)for(y=0;y<o;y++){var T=this.getRawIndex(y);_=p[f[0]][T];(_>=h&&_<=d||isNaN(_))&&(u[l++]=T)}else for(y=0;y<o;y++){for(var E=!0,M=(T=this.getRawIndex(y),0);M<a;M++){var C=r[M];_=p[f[M]][T];(_<e[C][0]||_>e[C][1])&&(E=!1)}E&&(u[l++]=this.getRawIndex(y))}return l<o&&(this._indices=u),this._count=l,this._extent={},this.getRawIndex=this._indices?Vb:Ub,this}}},e.prototype.mapArray=function(e,t,n,r){"function"===typeof e&&(r=n,n=t,t=e,e=[]),n=n||r||this;var i=[];return this.each(e,(function(){i.push(t&&t.apply(this,arguments))}),n),i},e.prototype.map=function(e,t,n,r){var i=n||r||this,a=nx(Kb(e),this.getDimension,this);var o=qb(this,a),s=o._storage;o._indices=this._indices,o.getRawIndex=o._indices?Vb:Ub;for(var u=[],l=a.length,c=this.count(),f=[],h=o._rawExtent,d=0;d<c;d++){for(var p=0;p<l;p++)f[p]=this.get(a[p],d);f[l]=d;var g=t&&t.apply(i,f);if(null!=g){"object"!==typeof g&&(u[0]=g,g=u);for(var m=this.getRawIndex(d),v=0;v<g.length;v++){var y=a[v],_=g[v],b=h[y],x=s[y];x&&(x[m]=_),_<b[0]&&(b[0]=_),_>b[1]&&(b[1]=_)}}}return o},e.prototype.downSample=function(e,t,n,r){for(var i=qb(this,[e]),a=i._storage,o=[],s=ex(1/t),u=a[e],l=this.count(),c=i._rawExtent[e],f=new(jb(this))(l),h=0,d=0;d<l;d+=s){s>l-d&&(s=l-d,o.length=s);for(var p=0;p<s;p++){var g=this.getRawIndex(d+p);o[p]=u[g]}var m=n(o),v=this.getRawIndex(Math.min(d+r(o,m)||0,l-1));u[v]=m,m<c[0]&&(c[0]=m),m>c[1]&&(c[1]=m),f[h++]=v}return i._count=h,i._indices=f,i.getRawIndex=Vb,i},e.prototype.lttbDownSample=function(e,t){var n,r,i,a=qb(this,[]),o=a._storage,s=o[e],u=this.count(),l=new(jb(this))(u),c=0,f=ex(1/t),h=this.getRawIndex(0);l[c++]=h;for(var d=1;d<u-1;d+=f){for(var p=Math.min(d+f,u-1),g=Math.min(d+2*f,u),m=(g+p)/2,v=0,y=p;y<g;y++){var _=this.getRawIndex(y),b=s[_];isNaN(b)||(v+=b)}v/=g-p;var x=d,w=Math.min(d+f,u),S=d-1,T=s[h];n=-1,i=x;for(y=x;y<w;y++){_=this.getRawIndex(y),b=s[_];isNaN(b)||(r=Math.abs((S-m)*(b-T)-(S-y)*(v-T)),r>n&&(n=r,i=_))}l[c++]=i,h=i}return l[c++]=this.getRawIndex(u-1),a._count=c,a._indices=l,a.getRawIndex=Vb,a},e.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new Wf(n,t,t&&t.ecModel)},e.prototype.diff=function(e){var t=this;return new Ib(e?e.getIndices():[],this.getIndices(),(function(t){return Gb(e,t)}),(function(e){return Gb(t,e)}))},e.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},e.prototype.setVisual=function(e,t){this._visual=this._visual||{},tx(e)?R(this._visual,e):this._visual[e]=t},e.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],r=n&&n[t];return null==r?this.getVisual(t):r},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,r=n[e];r||(r=n[e]={});var i=r[t];return null==i&&(i=this.getVisual(t),Y(i)?i=i.slice():tx(i)&&(i=R({},i)),r[t]=i),i},e.prototype.setItemVisual=function(e,t,n){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,tx(t)?R(r,t):r[t]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(e,t){if(tx(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},e.prototype.getLayout=function(e){return this._layout[e]},e.prototype.getItemLayout=function(e){return this._itemLayouts[e]},e.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?R(this._itemLayouts[e]||{},t):t},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel;if(t){var r=Ru(t);r.dataIndex=e,r.dataType=this.dataType,r.seriesIndex=n&&n.seriesIndex,"group"===t.type&&t.traverse(Zb,t)}this._graphicEls[e]=t},e.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},e.prototype.eachItemGraphicEl=function(e,t){H(this._graphicEls,(function(n,r){n&&e&&e.call(t,n,r)}))},e.prototype.cloneShallow=function(t){if(!t){var n=nx(this.dimensions,this.getDimensionInfo,this);t=new e(n,this.hostModel)}if(t._storage=this._storage,t._storageArr=this._storageArr,$b(t,this),this._indices){var r=this._indices.constructor;if(r===Array){var i=this._indices.length;t._indices=new r(i);for(var a=0;a<i;a++)t._indices[a]=this._indices[a]}else t._indices=new r(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?Vb:Ub,t},e.prototype.wrapMethod=function(e,t){var n=this[e];"function"===typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(le(arguments)))})},e.internalField=function(){function t(e,t,n,r){return vg(e[r],this._dimensionInfos[t])}function n(e){var t=e.constructor;return t===Array?e.slice():new t(e)}Bb={arrayRows:t,objectRows:function(e,t,n,r){return vg(e[t],this._dimensionInfos[t])},keyedColumns:t,original:function(e,t,n,r){var i=e&&(null==e.value?e:e.value);return!this._rawData.pure&&oa(e)&&(this.hasItemOption=!0),vg(i instanceof Array?i[r]:i,this._dimensionInfos[t])},typedArray:function(e,t,n,r){return e[r]}},zb=function(e){var t=e._invertedIndicesMap;H(t,(function(n,r){var i=e._dimensionInfos[r],a=i.ordinalMeta;if(a){n=t[r]=new ux(a.categories.length);for(var o=0;o<n.length;o++)n[o]=ix;for(o=0;o<e._count;o++)n[e.get(r,o)]=o}}))},Wb=function(e,t,n,r){var i,a=e._storageArr[t];return a&&(i=a[r],n&&n.categories.length&&(i=n.categories[i])),ma(i,null)},jb=function(e){return e._rawCount>65535?sx:lx},Hb=function(e,t,n,r){var i=ox[t.type],a=t.name;if(r){var o=e[a],s=o&&o.length;if(s!==n){for(var u=new i(n),l=0;l<s;l++)u[l]=o[l];e[a]=u}}else e[a]=new i(n)},Ub=function(e){return e},Vb=function(e){return e<this._count&&e>=0?this._indices[e]:-1},Gb=function(e,t){var n=e._idList[t];return null==n&&null!=e._idDimIdx&&(n=Wb(e,e._idDimIdx,e._idOrdinalMeta,t)),null==n&&(n=ax+t),n},Kb=function(e){return Y(e)||(e=null!=e?[e]:[]),e},function(e,t){for(var n=0;n<t.length;n++)e._dimensionInfos[t[n]]||console.error("Unkown dimension "+t[n])},qb=function(t,r){var i=t.dimensions,a=new e(nx(i,t.getDimensionInfo,t),t.hostModel);$b(a,t);for(var o=a._storage={},s=t._storage,u=a._storageArr=[],l=0;l<i.length;l++){var c=i[l];s[c]&&(F(r,c)>=0?(o[c]=n(s[c]),a._rawExtent[c]=Yb(),a._extent[c]=null):o[c]=s[c],u.push(o[c]))}return a},Yb=function(){return[1/0,-1/0]},Zb=function(e){var t=Ru(e),n=Ru(this);t.seriesIndex=n.seriesIndex,t.dataIndex=n.dataIndex,t.dataType=n.dataType},$b=function(e,t){H(cx.concat(t.__wrappedMethods||[]),(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e.__wrappedMethods=t.__wrappedMethods,H(fx,(function(n){e[n]=L(t[n])})),e._calculationInfo=R({},t._calculationInfo)},Xb=function(e,t){var n=e._nameList,r=e._idList,i=e._nameDimIdx,a=e._idDimIdx,o=n[t],s=r[t];if(null==o&&null!=i&&(n[t]=o=Wb(e,i,e._nameOrdinalMeta,t)),null==s&&null!=a&&(r[t]=s=Wb(e,a,e._idOrdinalMeta,t)),null==s&&null!=o){var u=e._nameRepeatCount,l=u[o]=(u[o]||0)+1;s=o,l>1&&(s+="__ec__"+l),r[t]=s}}}(),e}(),dx=hx;function px(e,t,n){Up(t)||(t=Gp(t)),n=n||{},e=(e||[]).slice();for(var r=(n.dimsDef||[]).slice(),i=ve(),a=ve(),o=[],s=gx(t,e,r,n.dimCount),u=0;u<s;u++){var l=r[u],c=r[u]=R({},ee(l)?l:{name:l}),f=c.name,h=o[u]=new Jb;null!=f&&null==i.get(f)&&(h.name=h.displayName=f,i.set(f,u)),null!=c.type&&(h.type=c.type),null!=c.displayName&&(h.displayName=c.displayName)}var d=n.encodeDef;!d&&n.encodeDefaulter&&(d=n.encodeDefaulter(t,s));var p=ve(d);p.each((function(e,t){var n=na(e).slice();if(1===n.length&&!$(n[0])&&n[0]<0)p.set(t,!1);else{var r=p.set(t,[]);H(n,(function(e,n){var a=$(e)?i.get(e):e;null!=a&&a<s&&(r[n]=a,m(o[a],t,n))}))}}));var g=0;function m(e,t,n){null!=gd.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,a.set(t,!0))}H(e,(function(e){var t,n,r,i;if($(e))t=e,i={};else{i=e,t=i.name;var a=i.ordinalMeta;i.ordinalMeta=null,i=L(i),i.ordinalMeta=a,n=i.dimsDef,r=i.otherDims,i.name=i.coordDim=i.coordDimIndex=i.dimsDef=i.otherDims=null}var s=p.get(t);if(!1!==s){if(s=na(s),!s.length)for(var u=0;u<(n&&n.length||1);u++){while(g<o.length&&null!=o[g].coordDim)g++;g<o.length&&s.push(g++)}H(s,(function(e,a){var s=o[e];if(m(k(s,i),t,a),null==s.name&&n){var u=n[a];!ee(u)&&(u={name:u}),s.name=s.displayName=u.name,s.defaultTooltip=u.defaultTooltip}r&&k(s.otherDims,r)}))}}));var v=n.generateCoord,y=n.generateCoordCount,_=null!=y;y=v?y||1:0;for(var b=v||"value",x=0;x<s;x++){h=o[x]=o[x]||new Jb;var w=h.coordDim;null==w&&(h.coordDim=mx(b,a,_),h.coordDimIndex=0,(!v||y<=0)&&(h.isExtraCoord=!0),y--),null==h.name&&(h.name=mx(h.coordDim,i,!1)),null!=h.type||Dd(t,x)!==Td.Must&&(!h.isExtraCoord||null==h.otherDims.itemName&&null==h.otherDims.seriesName)||(h.type="ordinal")}return o}function gx(e,t,n,r){var i=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,r||0);return H(t,(function(e){var t;ee(e)&&(t=e.dimsDef)&&(i=Math.max(i,t.length))})),i}function mx(e,t,n){if(n||null!=t.get(e)){var r=0;while(null!=t.get(e+r))r++;e+=r}return t.set(e,!0),e}var vx=px;function yx(e,t){return t=t||{},vx(t.coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,encodeDefaulter:t.encodeDefaulter,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})}var _x=function(){function e(e){this.coordSysDims=[],this.axisMap=ve(),this.categoryAxisMap=ve(),this.coordSysName=e}return e}();function bx(e){var t=e.get("coordinateSystem"),n=new _x(t),r=xx[t];if(r)return r(e,n,n.axisMap,n.categoryAxisMap),n}var xx={cartesian2d:function(e,t,n,r){var i=e.getReferringComponents("xAxis",Ea).models[0],a=e.getReferringComponents("yAxis",Ea).models[0];t.coordSysDims=["x","y"],n.set("x",i),n.set("y",a),Sx(i)&&(r.set("x",i),t.firstCategoryDimIndex=0),Sx(a)&&(r.set("y",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,r){var i=e.getReferringComponents("singleAxis",Ea).models[0];t.coordSysDims=["single"],n.set("single",i),Sx(i)&&(r.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,n,r){var i=e.getReferringComponents("polar",Ea).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",o),Sx(a)&&(r.set("radius",a),t.firstCategoryDimIndex=0),Sx(o)&&(r.set("angle",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,r){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,r){var i=e.ecModel,a=i.getComponent("parallel",e.get("parallelIndex")),o=t.coordSysDims=a.dimensions.slice();H(a.parallelAxisIndex,(function(e,a){var s=i.getComponent("parallelAxis",e),u=o[a];n.set(u,s),Sx(s)&&(r.set(u,s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=a))}))}};function Sx(e){return"category"===e.get("type")}function Tx(e,t,n){n=n||{};var r,i,a,o,s=n.byIndex,u=n.stackedCoordDimension,l=!(!e||!e.get("stack"));if(H(t,(function(e,n){$(e)&&(t[n]=e={name:e}),l&&!e.isExtraCoord&&(s||r||!e.ordinalMeta||(r=e),i||"ordinal"===e.type||"time"===e.type||u&&u!==e.coordDim||(i=e))})),!i||s||r||(s=!0),i){a="__\0ecstackresult",o="__\0ecstackedover",r&&(r.createInvertedIndices=!0);var c=i.coordDim,f=i.type,h=0;H(t,(function(e){e.coordDim===c&&h++})),t.push({name:a,coordDim:c,coordDimIndex:h,type:f,isExtraCoord:!0,isCalculationCoord:!0}),h++,t.push({name:o,coordDim:o,coordDimIndex:h,type:f,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:i&&i.name,stackedByDimension:r&&r.name,isStackedByIndex:s,stackedOverDimension:o,stackResultDimension:a}}function Ex(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function Mx(e,t){return Ex(e,t)?e.getCalculationInfo("stackResultDimension"):t}function Cx(e,t,n){n=n||{},Up(e)||(e=Gp(e));var r,i=t.get("coordinateSystem"),a=np.get(i),o=bx(t);o&&o.coordSysDims&&(r=U(o.coordSysDims,(function(e){var t={name:e},n=o.axisMap.get(e);if(n){var r=n.get("type");t.type=Nb(r)}return t}))),r||(r=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]);var s,u,l=n.useEncodeDefaulter,c=yx(e,{coordDimensions:r,generateCoord:n.generateCoord,encodeDefaulter:Z(l)?l:l?q(Cd,r,t):null});o&&H(c,(function(e,t){var r=e.coordDim,i=o.categoryAxisMap.get(r);i&&(null==s&&(s=t),e.ordinalMeta=i.getOrdinalMeta(),n.createInvertedIndices&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(u=!0)})),u||null==s||(c[s].otherDims.itemName=0);var f=Tx(t,c),h=new dx(c,t);h.setCalculationInfo(f);var d=null!=s&&Ax(e)?function(e,t,n,r){return r===s?n:this.defaultDimValueGetter(e,t,n,r)}:null;return h.hasItemOption=!1,h.initData(e,null,d),h}function Ax(e){if(e.sourceFormat===md){var t=Ox(e.data||[]);return null!=t&&!Y(aa(t))}}function Ox(e){var t=0;while(t<e.length&&null==e[t])t++;return e[t]}var Dx=Cx,Px=function(){function e(e){this._setting=e||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(e){return this._setting[e]},e.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},e.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},e.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(e){this._isBlank=e},e}();Ua(Px);var Lx=Px,Ix=function(){function e(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication}return e.createByAxisModel=function(t){var n=t.option,r=n.data,i=r&&U(r,Rx);return new e({categories:i,needCollect:!i,deduplication:!1!==n.dedplication})},e.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},e.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if("string"!==typeof e&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var r=this._getOrCreateMap();return t=r.get(e),null==t&&(n?(t=this.categories.length,this.categories[t]=e,r.set(e,t)):t=NaN),t},e.prototype._getOrCreateMap=function(){return this._map||(this._map=ve(this.categories))},e}();function Rx(e){return ee(e)&&null!=e.value?e.value:e+""}var kx=Ix,Nx=Ii;function Fx(e,t,n,r){var i={},a=e[1]-e[0],o=i.interval=Xi(a/t,!0);null!=n&&o<n&&(o=i.interval=n),null!=r&&o>r&&(o=i.interval=r);var s=i.intervalPrecision=Bx(o),u=i.niceTickExtent=[Nx(Math.ceil(e[0]/o)*o,s),Nx(Math.floor(e[1]/o)*o,s)];return jx(u,e),i}function Bx(e){return Ni(e)+2}function zx(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function jx(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),zx(e,0,t),zx(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function Hx(e,t){return e>=t[0]&&e<=t[1]}function Ux(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function Vx(e,t){return e*(t[1]-t[0])+t[0]}var Gx=function(e){function t(t){var n=e.call(this,t)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new kx({})),Y(r)&&(r=new kx({categories:U(r,(function(e){return ee(e)?e.value:e}))})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return f(t,e),t.prototype.parse=function(e){return"string"===typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return e=this.parse(e),Hx(e,this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return e=this._getTickNumber(this.parse(e)),Ux(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(Vx(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){var e=[],t=this._extent,n=t[0];while(n<=t[1])e.push({value:n}),n++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var t=e.ordinalNumbers,n=this._ordinalNumbersByTick=[],r=this._ticksByOrdinalNumber=[],i=0,a=this._ordinalMeta.categories.length,o=Math.min(a,t.length);i<o;++i){var s=t[i];n[i]=s,r[s]=i}for(var u=0;i<a;++i){while(null!=r[u])u++;n.push(u),r[u]=i}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var t=this.getRawOrdinalNumber(e.value),n=this._ordinalMeta.categories[t];return null==n?"":n+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.niceTicks=function(){},t.prototype.niceExtent=function(){},t.type="ordinal",t}(Lx);Lx.registerClass(Gx);var Wx=Gx,Xx=Ii,Kx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return f(t,e),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Hx(e,this._extent)},t.prototype.normalize=function(e){return Ux(e,this._extent)},t.prototype.scale=function(e){return Vx(e,this._extent)},t.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},t.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),this.setExtent(t[0],t[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Bx(e)},t.prototype.getTicks=function(e){var t=this._interval,n=this._extent,r=this._niceExtent,i=this._intervalPrecision,a=[];if(!t)return a;var o=1e4;n[0]<r[0]&&(e?a.push({value:Xx(r[0]-t,i)}):a.push({value:n[0]}));var s=r[0];while(s<=r[1]){if(a.push({value:s}),s=Xx(s+t,i),s===a[a.length-1].value)break;if(a.length>o)return[]}var u=a.length?a[a.length-1].value:r[1];return n[1]>u&&(e?a.push({value:Xx(u+t,i)}):a.push({value:n[1]})),a},t.prototype.getMinorTicks=function(e){for(var t=this.getTicks(!0),n=[],r=this.getExtent(),i=1;i<t.length;i++){var a=t[i],o=t[i-1],s=0,u=[],l=a.value-o.value,c=l/e;while(s<e-1){var f=Xx(o.value+(s+1)*c);f>r[0]&&f<r[1]&&u.push(f),s++}n.push(u)}return n},t.prototype.getLabel=function(e,t){if(null==e)return"";var n=t&&t.precision;null==n?n=Ni(e.value)||0:"auto"===n&&(n=this._intervalPrecision);var r=Xx(e.value,n,!0);return jh(r)},t.prototype.niceTicks=function(e,t,n){e=e||5;var r=this._extent,i=r[1]-r[0];if(isFinite(i)){i<0&&(i=-i,r.reverse());var a=Fx(r,e,t,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},t.prototype.niceExtent=function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;var r=t[1]-t[0];isFinite(r)||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=Xx(Math.floor(t[0]/i)*i)),e.fixMax||(t[1]=Xx(Math.ceil(t[1]/i)*i))},t.type="interval",t}(Lx);Lx.registerClass(Kx);var qx=Kx,Yx="__ec_stack_",Zx=.5,$x="undefined"!==typeof Float32Array?Float32Array:Array;function Qx(e){return e.get("stack")||Yx+e.seriesIndex}function Jx(e){return e.dim+e.index}function ew(e,t){var n=[];return t.eachSeriesByType(e,(function(e){aw(e)&&!ow(e)&&n.push(e)})),n}function tw(e){var t={};H(e,(function(e){var n=e.coordinateSystem,r=n.getBaseAxis();if("time"===r.type||"value"===r.type)for(var i=e.getData(),a=r.dim+"_"+r.index,o=i.mapDimension(r.dim),s=0,u=i.count();s<u;++s){var l=i.get(o,s);t[a]?t[a].push(l):t[a]=[l]}}));var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(i){i.sort((function(e,t){return e-t}));for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=null===a?s:Math.min(a,s))}n[r]=a}}return n}function nw(e){var t=tw(e),n=[];return H(e,(function(e){var r,i=e.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent();if("category"===a.type)r=a.getBandWidth();else if("value"===a.type||"time"===a.type){var s=a.dim+"_"+a.index,u=t[s],l=Math.abs(o[1]-o[0]),c=a.scale.getExtent(),f=Math.abs(c[1]-c[0]);r=u?l/f*u:l}else{var h=e.getData();r=Math.abs(o[1]-o[0])/h.count()}var d=Li(e.get("barWidth"),r),p=Li(e.get("barMaxWidth"),r),g=Li(e.get("barMinWidth")||1,r),m=e.get("barGap"),v=e.get("barCategoryGap");n.push({bandWidth:r,barWidth:d,barMaxWidth:p,barMinWidth:g,barGap:m,barCategoryGap:v,axisKey:Jx(a),stackId:Qx(e)})})),rw(n)}function rw(e){var t={};H(e,(function(e,n){var r=e.axisKey,i=e.bandWidth,a=t[r]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},o=a.stacks;t[r]=a;var s=e.stackId;o[s]||a.autoWidthCount++,o[s]=o[s]||{width:0,maxWidth:0};var u=e.barWidth;u&&!o[s].width&&(o[s].width=u,u=Math.min(a.remainedWidth,u),a.remainedWidth-=u);var l=e.barMaxWidth;l&&(o[s].maxWidth=l);var c=e.barMinWidth;c&&(o[s].minWidth=c);var f=e.barGap;null!=f&&(a.gap=f);var h=e.barCategoryGap;null!=h&&(a.categoryGap=h)}));var n={};return H(t,(function(e,t){n[t]={};var r=e.stacks,i=e.bandWidth,a=e.categoryGap;if(null==a){var o=W(r).length;a=Math.max(35-4*o,15)+"%"}var s=Li(a,i),u=Li(e.gap,1),l=e.remainedWidth,c=e.autoWidthCount,f=(l-s)/(c+(c-1)*u);f=Math.max(f,0),H(r,(function(e){var t=e.maxWidth,n=e.minWidth;if(e.width){r=e.width;t&&(r=Math.min(r,t)),n&&(r=Math.max(r,n)),e.width=r,l-=r+u*r,c--}else{var r=f;t&&t<r&&(r=Math.min(t,l)),n&&n>r&&(r=n),r!==f&&(e.width=r,l-=r+u*r,c--)}})),f=(l-s)/(c+(c-1)*u),f=Math.max(f,0);var h,d=0;H(r,(function(e,t){e.width||(e.width=f),h=e,d+=e.width*(1+u)})),h&&(d-=h.width*u);var p=-d/2;H(r,(function(e,r){n[t][r]=n[t][r]||{bandWidth:i,offset:p,width:e.width},p+=e.width*(1+u)}))})),n}function iw(e,t,n){if(e&&t){var r=e[Jx(t)];return null!=r&&null!=n?r[Qx(n)]:r}}Qg();function aw(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function ow(e){return e.pipelineContext&&e.pipelineContext.large}function sw(e,t,n){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}var uw=function(e,t,n,r){while(n<r){var i=n+r>>>1;e[i][1]<t?n=i+1:r=i}return n},lw=function(e){function t(t){var n=e.call(this,t)||this;return n.type="time",n}return f(t,e),t.prototype.getLabel=function(e){var t=this.getSetting("useUTC");return wh(e.value,gh[xh(_h(this._minLevelUnit))]||gh.second,t,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,t,n){var r=this.getSetting("useUTC"),i=this.getSetting("locale");return Sh(e,t,n,i,r)},t.prototype.getTicks=function(e){var t=this._interval,n=this._extent,r=[];if(!t)return r;r.push({value:n[0],level:0});var i=this.getSetting("useUTC"),a=yw(this._minLevelUnit,this._approxInterval,i,n);return r=r.concat(a),r.push({value:n[1],level:0}),r},t.prototype.niceExtent=function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=fh,t[1]+=fh),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-fh}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.niceTicks=function(e,t,n){e=e||10;var r=this._extent,i=r[1]-r[0];this._approxInterval=i/e,null!=t&&this._approxInterval<t&&(this._approxInterval=t),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var a=cw.length,o=Math.min(uw(cw,this._approxInterval,0,a),a-1);this._interval=cw[o][1],this._minLevelUnit=cw[Math.max(o-1,0)][0]},t.prototype.parse=function(e){return"number"===typeof e?e:+Vi(e)},t.prototype.contain=function(e){return Hx(this.parse(e),this._extent)},t.prototype.normalize=function(e){return Ux(this.parse(e),this._extent)},t.prototype.scale=function(e){return Vx(e,this._extent)},t.type="time",t}(qx),cw=[["second",uh],["minute",lh],["hour",ch],["quarter-day",6*ch],["half-day",12*ch],["day",1.2*fh],["half-week",3.5*fh],["week",7*fh],["month",31*fh],["quarter",95*fh],["half-year",hh/2],["year",hh]];function fw(e,t,n,r){var i=Vi(t),a=Vi(n),o=function(e){return Eh(i,e,r)===Eh(a,e,r)},s=function(){return o("year")},u=function(){return s()&&o("month")},l=function(){return u()&&o("day")},c=function(){return l()&&o("hour")},f=function(){return c()&&o("minute")},h=function(){return f()&&o("second")},d=function(){return h()&&o("millisecond")};switch(e){case"year":return s();case"month":return u();case"day":return l();case"hour":return c();case"minute":return f();case"second":return h();case"millisecond":return d()}}function hw(e,t){return e/=fh,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function dw(e){var t=30*fh;return e/=t,e>6?6:e>3?3:e>2?2:1}function pw(e){return e/=ch,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function gw(e,t){return e/=t?lh:uh,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function mw(e){return Xi(e,!0)}function vw(e,t,n){var r=new Date(e);switch(_h(t)){case"year":case"month":r[Rh(n)](0);case"day":r[kh(n)](1);case"hour":r[Nh(n)](0);case"minute":r[Fh(n)](0);case"second":r[Bh(n)](0),r[zh(n)](0)}return r.getTime()}function yw(e,t,n,r){var i=1e4,a=vh,o=0;function s(e,t,n,i,a,o,s){var u=new Date(t),l=t,c=u[i]();while(l<n&&l<=r[1])s.push({value:l}),c+=e,u[a](c),l=u.getTime();s.push({value:l,notAdd:!0})}function u(e,i,a){var o=[],u=!i.length;if(!fw(_h(e),r[0],r[1],n)){u&&(i=[{value:vw(new Date(r[0]),e,n)},{value:r[1]}]);for(var l=0;l<i.length-1;l++){var c=i[l].value,f=i[l+1].value;if(c!==f){var h=void 0,d=void 0,p=void 0,g=!1;switch(e){case"year":h=Math.max(1,Math.round(t/fh/365)),d=Mh(n),p=Ih(n);break;case"half-year":case"quarter":case"month":h=dw(t),d=Ch(n),p=Rh(n);break;case"week":case"half-week":case"day":h=hw(t,31),d=Ah(n),p=kh(n),g=!0;break;case"half-day":case"quarter-day":case"hour":h=pw(t),d=Oh(n),p=Nh(n);break;case"minute":h=gw(t,!0),d=Dh(n),p=Fh(n);break;case"second":h=gw(t,!1),d=Ph(n),p=Bh(n);break;case"millisecond":h=mw(t),d=Lh(n),p=zh(n);break}s(h,c,f,d,p,g,o),"year"===e&&a.length>1&&0===l&&a.unshift({value:a[0].value-h})}}for(l=0;l<o.length;l++)a.push(o[l]);return o}}for(var l=[],c=[],f=0,h=0,d=0;d<a.length&&o++<i;++d){var p=_h(a[d]);if(bh(a[d])){u(a[d],l[l.length-1]||[],c);var g=a[d+1]?_h(a[d+1]):null;if(p!==g){if(c.length){h=f,c.sort((function(e,t){return e.value-t.value}));for(var m=[],v=0;v<c.length;++v){var y=c[v].value;0!==v&&c[v-1].value===y||(m.push(c[v]),y>=r[0]&&y<=r[1]&&f++)}var _=(r[1]-r[0])/t;if(f>1.5*_&&h>_/1.5)break;if(l.push(m),f>_||e===a[d])break}c=[]}}}var b=G(U(l,(function(e){return G(e,(function(e){return e.value>=r[0]&&e.value<=r[1]&&!e.notAdd}))})),(function(e){return e.length>0})),x=[],w=b.length-1;for(d=0;d<b.length;++d)for(var S=b[d],T=0;T<S.length;++T)x.push({value:S[T].value,level:w-d});x.sort((function(e,t){return e.value-t.value}));var E=[];for(d=0;d<x.length;++d)0!==d&&x[d].value===x[d-1].value||E.push(x[d]);return E}Lx.registerClass(lw);var _w=lw,bw=Lx.prototype,xw=qx.prototype,ww=Ni,Sw=Ii,Tw=Math.floor,Ew=Math.ceil,Mw=Math.pow,Cw=Math.log,Aw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new qx,t._interval=0,t}return f(t,e),t.prototype.getTicks=function(e){var t=this._originalScale,n=this._extent,r=t.getExtent(),i=xw.getTicks.call(this,e);return U(i,(function(e){var t=e.value,i=Ii(Mw(this.base,t));return i=t===n[0]&&this._fixMin?Dw(i,r[0]):i,i=t===n[1]&&this._fixMax?Dw(i,r[1]):i,{value:i}}),this)},t.prototype.setExtent=function(e,t){var n=this.base;e=Cw(e)/Cw(n),t=Cw(t)/Cw(n),xw.setExtent.call(this,e,t)},t.prototype.getExtent=function(){var e=this.base,t=bw.getExtent.call(this);t[0]=Mw(e,t[0]),t[1]=Mw(e,t[1]);var n=this._originalScale,r=n.getExtent();return this._fixMin&&(t[0]=Dw(t[0],r[0])),this._fixMax&&(t[1]=Dw(t[1],r[1])),t},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=Cw(e[0])/Cw(t),e[1]=Cw(e[1])/Cw(t),bw.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.niceTicks=function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var r=Gi(n),i=e/n*r;i<=.5&&(r*=10);while(!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0)r*=10;var a=[Ii(Ew(t[0]/r)*r),Ii(Tw(t[1]/r)*r)];this._interval=r,this._niceExtent=a}},t.prototype.niceExtent=function(e){xw.niceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return e=Cw(e)/Cw(this.base),Hx(e,this._extent)},t.prototype.normalize=function(e){return e=Cw(e)/Cw(this.base),Ux(e,this._extent)},t.prototype.scale=function(e){return e=Vx(e,this._extent),Mw(this.base,e)},t.type="log",t}(Lx),Ow=Aw.prototype;function Dw(e,t){return Sw(e,ww(t))}Ow.getMinorTicks=xw.getMinorTicks,Ow.getLabel=xw.getLabel,Lx.registerClass(Aw);var Pw=Aw,Lw=function(){function e(e,t,n){this._prepareParams(e,t,n)}return e.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal="ordinal"===e.type;this._needCrossZero=t.getNeedCrossZero&&t.getNeedCrossZero();var i=this._modelMinRaw=t.get("min",!0);Z(i)?this._modelMinNum=Nw(e,i({min:n[0],max:n[1]})):"dataMin"!==i&&(this._modelMinNum=Nw(e,i));var a=this._modelMaxRaw=t.get("max",!0);if(Z(a)?this._modelMaxNum=Nw(e,a({min:n[0],max:n[1]})):"dataMax"!==a&&(this._modelMaxNum=Nw(e,a)),r)this._axisDataLen=t.getCategories().length;else{var o=t.get("boundaryGap"),s=Y(o)?o:[o||0,o||0];"boolean"===typeof s[0]||"boolean"===typeof s[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[cr(s[0],1),cr(s[1],1)]}},e.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,r=this._axisDataLen,i=this._boundaryGapInner,a=e?null:n-t||Math.abs(t),o="dataMin"===this._modelMinRaw?t:this._modelMinNum,s="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,u=null!=o,l=null!=s;null==o&&(o=e?r?0:NaN:t-i[0]*a),null==s&&(s=e?r?r-1:NaN:n+i[1]*a),(null==o||!isFinite(o))&&(o=NaN),(null==s||!isFinite(s))&&(s=NaN),o>s&&(o=NaN,s=NaN);var c=oe(o)||oe(s)||e&&!r;this._needCrossZero&&(o>0&&s>0&&!u&&(o=0),o<0&&s<0&&!l&&(s=0));var f=this._determinedMin,h=this._determinedMax;return null!=f&&(o=f,u=!0),null!=h&&(s=h,l=!0),{min:o,max:s,minFixed:u,maxFixed:l,isBlank:c}},e.prototype.modifyDataMinMax=function(e,t){this[Rw[e]]=t},e.prototype.setDeterminedMinMax=function(e,t){var n=Iw[e];this[n]=t},e.prototype.freeze=function(){this.frozen=!0},e}(),Iw={min:"_determinedMin",max:"_determinedMax"},Rw={min:"_dataMin",max:"_dataMax"};function kw(e,t,n){var r=e.rawExtentInfo;return r||(r=new Lw(e,t,n),e.rawExtentInfo=r,r)}function Nw(e,t){return null==t?null:oe(t)?NaN:e.parse(t)}function Fw(e,t){var n=e.type,r=kw(e,t,e.getExtent()).calculate();e.setBlank(r.isBlank);var i=r.min,a=r.max,o=t.ecModel;if(o&&"time"===n){var s=ew("bar",o),u=!1;if(H(s,(function(e){u=u||e.getBaseAxis()===t.axis})),u){var l=nw(s),c=Bw(i,a,t,l);i=c.min,a=c.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function Bw(e,t,n,r){var i=n.axis.getExtent(),a=i[1]-i[0],o=iw(r,n.axis);if(void 0===o)return{min:e,max:t};var s=1/0;H(o,(function(e){s=Math.min(e.offset,s)}));var u=-1/0;H(o,(function(e){u=Math.max(e.offset+e.width,u)})),s=Math.abs(s),u=Math.abs(u);var l=s+u,c=t-e,f=1-(s+u)/a,h=c/f-c;return t+=h*(u/l),e-=h*(s/l),{min:e,max:t}}function zw(e,t){var n=Fw(e,t),r=n.extent,i=t.get("splitNumber");e instanceof Pw&&(e.base=t.get("logBase"));var a=e.type;e.setExtent(r[0],r[1]),e.niceExtent({splitNumber:i,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===a||"time"===a?t.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?t.get("maxInterval"):null});var o=t.get("interval");null!=o&&e.setInterval&&e.setInterval(o)}function jw(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new Wx({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new _w({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(Lx.getClass(t)||qx)}}function Hw(e){var t=e.getLabelModel().get("formatter"),n="category"===e.type?e.scale.getExtent()[0]:null;return"time"===e.scale.type?function(t){return function(n,r){return e.scale.getFormattedLabel(n,r,t)}}(t):"string"===typeof t?function(t){return function(n){var r=e.scale.getLabel(n),i=t.replace("{value}",null!=r?r:"");return i}}(t):"function"===typeof t?function(t){return function(r,i){return null!=n&&(i=r.value-n),t(Uw(e,r),i,null!=r.level?{level:r.level}:null)}}(t):function(t){return e.scale.getLabel(t)}}function Uw(e,t){return"category"===e.type?e.scale.getLabel(t):t.value}function Vw(e){var t=e.get("interval");return null==t?"auto":t}function Gw(e){return"category"===e.type&&0===Vw(e.getLabelModel())}var Ww=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},e.prototype.getCoordSysModel=function(){},e}();function Xw(e){return Dx(e.getSource(),e)}var Kw={isDimensionStacked:Ex,enableDataStack:Tx,getStackedDimension:Mx};function qw(e,t){var n=t;t instanceof Wf||(n=new Wf(t));var r=jw(n);return r.setExtent(e[0],e[1]),zw(r,n),r}function Yw(e){z(e,Ww)}function Zw(e,t){return t=t||{},Tf(e,null,null,"normal"!==t.state)}var $w=[],Qw={registerPreprocessor:gb,registerProcessor:mb,registerPostInit:vb,registerPostUpdate:yb,registerAction:_b,registerCoordinateSystem:bb,registerLayout:wb,registerVisual:Sb,registerTransform:Ob,registerLoading:Mb,registerMap:Cb,PRIORITY:y_,ComponentModel:fd,ComponentView:$g,SeriesModel:Yg,ChartView:sm,registerComponentModel:function(e){fd.registerClass(e)},registerComponentView:function(e){$g.registerClass(e)},registerSeriesModel:function(e){Yg.registerClass(e)},registerChartView:function(e){sm.registerClass(e)},registerSubTypeDefaulter:function(e,t){fd.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){Ci(e,t)}};function Jw(e){Y(e)?H(e,(function(e){Jw(e)})):F($w,e)>=0||($w.push(e),Z(e)&&(e={install:e}),e.install(Qw))}var eS=1e-8;function tS(e,t){return Math.abs(e-t)<eS}function nS(e,t,n){var r=0,i=e[0];if(!i)return!1;for(var a=1;a<e.length;a++){var o=e[a];r+=Bs(i[0],i[1],o[0],o[1],t,n),i=o}var s=e[0];return tS(i[0],s[0])&&tS(i[1],s[1])||(r+=Bs(i[0],i[1],s[0],s[1],t,n)),0!==r}var rS=function(){function e(e,t,n){if(this.name=e,this.geometries=t,n)n=[n[0],n[1]];else{var r=this.getBoundingRect();n=[r.x+r.width/2,r.y+r.height/2]}this.center=n}return e.prototype.getBoundingRect=function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,n=[t,t],r=[-t,-t],i=[],a=[],o=this.geometries,s=0;s<o.length;s++)if("polygon"===o[s].type){var u=o[s].exterior;rs(u,i,a),Ne(n,n,i),Fe(r,r,a)}return 0===s&&(n[0]=n[1]=r[0]=r[1]=0),this._rect=new Jn(n[0],n[1],r[0]-n[0],r[1]-n[1])},e.prototype.contain=function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var r=0,i=n.length;r<i;r++)if("polygon"===n[r].type){var a=n[r].exterior,o=n[r].interiors;if(nS(a,e[0],e[1])){for(var s=0;s<(o?o.length:0);s++)if(nS(o[s],e[0],e[1]))continue e;return!0}}return!1},e.prototype.transformTo=function(e,t,n,r){var i=this.getBoundingRect(),a=i.width/i.height;n?r||(r=n/a):n=a*r;for(var o=new Jn(e,t,n,r),s=i.calculateTransform(o),u=this.geometries,l=0;l<u.length;l++)if("polygon"===u[l].type){for(var c=u[l].exterior,f=u[l].interiors,h=0;h<c.length;h++)ke(c[h],c[h],s);for(var d=0;d<(f?f.length:0);d++)for(h=0;h<f[d].length;h++)ke(f[d][h],f[d][h],s)}i=this._rect,i.copy(o),this.center=[i.x+i.width/2,i.y+i.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var n=new e(t,this.geometries,this.center);return n._rect=this._rect,n.transformTo=null,n},e}(),iS=rS;function aS(e){if(!e.UTF8Encoding)return e;var t=e,n=t.UTF8Scale;null==n&&(n=1024);for(var r=t.features,i=0;i<r.length;i++){var a=r[i],o=a.geometry;if("Polygon"===o.type)for(var s=o.coordinates,u=0;u<s.length;u++)s[u]=oS(s[u],o.encodeOffsets[u],n);else if("MultiPolygon"===o.type)for(s=o.coordinates,u=0;u<s.length;u++)for(var l=s[u],c=0;c<l.length;c++)l[c]=oS(l[c],o.encodeOffsets[u][c],n)}return t.UTF8Encoding=!1,t}function oS(e,t,n){for(var r=[],i=t[0],a=t[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,u=e.charCodeAt(o+1)-64;s=s>>1^-(1&s),u=u>>1^-(1&u),s+=i,u+=a,i=s,a=u,r.push([s/n,u/n])}return r}function sS(e,t){return e=aS(e),U(G(e.features,(function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var n=e.properties,r=e.geometry,i=[];if("Polygon"===r.type){var a=r.coordinates;i.push({type:"polygon",exterior:a[0],interiors:a.slice(1)})}if("MultiPolygon"===r.type){a=r.coordinates;H(a,(function(e){e[0]&&i.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})}))}var o=new iS(n[t||"name"],i,n.cp);return o.properties=n,o}))}var uS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="compound",t}return f(t,e),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,t=this.shapeChanged(),n=0;n<e.length;n++)t=t||e[n].shapeChanged();t&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,t){for(var n=t.paths||[],r=0;r<n.length;r++)n[r].buildPath(e,n[r].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),nu.prototype.getBoundingRect.call(this)},t}(nu),lS=uS,cS=function(){function e(e){this.colorStops=e||[]}return e.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},e}(),fS=cS,hS=function(e){function t(t,n,r,i,a,o){var s=e.call(this,a)||this;return s.x=null==t?0:t,s.y=null==n?0:n,s.x2=null==r?1:r,s.y2=null==i?0:i,s.type="linear",s.global=o||!1,s}return f(t,e),t}(fS),dS=hS,pS=function(e){function t(t,n,r,i,a){var o=e.call(this,i)||this;return o.x=null==t?.5:t,o.y=null==n?.5:n,o.r=null==r?.5:r,o.type="radial",o.global=a||!1,o}return f(t,e),t}(fS),gS=pS;function mS(e,t,n,r,i,a,o,s){gg("getTextRect is deprecated.");var u=new Iu({style:{text:e,font:t,align:n,verticalAlign:r,padding:i,rich:a,overflow:o?"truncate":null,lineHeight:s}});return u.getBoundingRect()}var vS=wa();function yS(e){return"category"===e.type?bS(e):SS(e)}function _S(e,t){return"category"===e.type?wS(e,t):{ticks:U(e.scale.getTicks(),(function(e){return e.value}))}}function bS(e){var t=e.getLabelModel(),n=xS(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function xS(e,t){var n,r,i=TS(e,"labels"),a=Vw(t),o=ES(i,a);return o||(Z(a)?n=PS(e,a):(r="auto"===a?CS(e):a,n=DS(e,r)),MS(i,a,{labels:n,labelCategoryInterval:r}))}function wS(e,t){var n,r,i=TS(e,"ticks"),a=Vw(t),o=ES(i,a);if(o)return o;if(t.get("show")&&!e.scale.isBlank()||(n=[]),Z(a))n=PS(e,a,!0);else if("auto"===a){var s=xS(e,e.getLabelModel());r=s.labelCategoryInterval,n=U(s.labels,(function(e){return e.tickValue}))}else r=a,n=DS(e,r,!0);return MS(i,a,{ticks:n,tickCategoryInterval:r})}function SS(e){var t=e.scale.getTicks(),n=Hw(e);return{labels:U(t,(function(t,r){return{formattedLabel:n(t,r),rawLabel:e.scale.getLabel(t),tickValue:t.value}}))}}function TS(e,t){return vS(e)[t]||(vS(e)[t]=[])}function ES(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function MS(e,t,n){return e.push({key:t,value:n}),n}function CS(e){var t=vS(e).autoInterval;return null!=t?t:vS(e).autoInterval=e.calculateCategoryInterval()}function AS(e){var t=OS(e),n=Hw(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=a[0],l=e.dataToCoord(u+1)-e.dataToCoord(u),c=Math.abs(l*Math.cos(r)),f=Math.abs(l*Math.sin(r)),h=0,d=0;u<=a[1];u+=s){var p=0,g=0,m=or(n({value:u}),t.font,"center","top");p=1.3*m.width,g=1.3*m.height,h=Math.max(h,p,7),d=Math.max(d,g,7)}var v=h/c,y=d/f;isNaN(v)&&(v=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(v,y))),b=vS(e.model),x=e.getExtent(),w=b.lastAutoInterval,S=b.lastTickCount;return null!=w&&null!=S&&Math.abs(w-_)<=1&&Math.abs(S-o)<=1&&w>_&&b.axisExtent0===x[0]&&b.axisExtent1===x[1]?_=w:(b.lastTickCount=o,b.lastAutoInterval=_,b.axisExtent0=x[0],b.axisExtent1=x[1]),_}function OS(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function DS(e,t,n){var r=Hw(e),i=e.scale,a=i.getExtent(),o=e.getLabelModel(),s=[],u=Math.max((t||0)+1,1),l=a[0],c=i.count();0!==l&&u>1&&c/u>2&&(l=Math.round(Math.ceil(l/u)*u));var f=Gw(e),h=o.get("showMinLabel")||f,d=o.get("showMaxLabel")||f;h&&l!==a[0]&&g(a[0]);for(var p=l;p<=a[1];p+=u)g(p);function g(e){var t={value:e};s.push(n?e:{formattedLabel:r(t),rawLabel:i.getLabel(t),tickValue:e})}return d&&p-u!==a[1]&&g(a[1]),s}function PS(e,t,n){var r=e.scale,i=Hw(e),a=[];return H(r.getTicks(),(function(e){var o=r.getLabel(e),s=e.value;t(e.value,o)&&a.push(n?s:{formattedLabel:i(e),rawLabel:o,tickValue:s})})),a}var LS=[0,1],IS=function(){function e(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return e.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=n&&e<=r},e.prototype.containData=function(e){return this.scale.contain(e)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(e){return Fi(e||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},e.prototype.dataToCoord=function(e,t){var n=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&"ordinal"===r.type&&(n=n.slice(),RS(n,r.count())),Pi(e,LS,n,t)},e.prototype.coordToData=function(e,t){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&(n=n.slice(),RS(n,r.count()));var i=Pi(e,n,LS,t);return this.scale.scale(i)},e.prototype.pointToData=function(e,t){},e.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),n=_S(this,t),r=n.ticks,i=U(r,(function(e){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(e):e),tickValue:e}}),this),a=t.get("alignWithLabel");return kS(this,i,a,e.clamp),i},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var n=this.scale.getMinorTicks(t),r=U(n,(function(e){return U(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this);return r},e.prototype.getViewLabels=function(){return yS(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/n},e.prototype.calculateCategoryInterval=function(){return AS(this)},e}();function RS(e,t){var n=e[1]-e[0],r=t,i=n/r/2;e[0]+=i,e[1]-=i}function kS(e,t,n,r){var i=t.length;if(e.onBand&&!n&&i){var a,o,s=e.getExtent();if(1===i)t[0].coord=s[0],a=t[1]={coord:s[0]};else{var u=t[i-1].tickValue-t[0].tickValue,l=(t[i-1].coord-t[0].coord)/u;H(t,(function(e){e.coord-=l/2}));var c=e.scale.getExtent();o=1+c[1]-t[i-1].tickValue,a={coord:t[i-1].coord+l*o},t.push(a)}var f=s[0]>s[1];h(t[0].coord,s[0])&&(r?t[0].coord=s[0]:t.shift()),r&&h(s[0],t[0].coord)&&t.unshift({coord:s[0]}),h(s[1],a.coord)&&(r?a.coord=s[1]:t.pop()),r&&h(a.coord,s[1])&&t.push({coord:s[1]})}function h(e,t){return e=Ii(e),t=Ii(t),f?e>t:e<t}}var NS=IS;function FS(){return!1}function BS(e,t,n){var r=N(),i=t.getWidth(),a=t.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",r.setAttribute("data-zr-dom-id",e)),r.width=i*n,r.height=a*n,r}var zS=function(e){function t(t,n,r){var i,a=e.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,r=r||dr,"string"===typeof t?i=BS(t,n,r):ee(t)&&(i=t,t=i.id),a.id=t,a.dom=i;var o=i.style;return o&&(i.onselectstart=FS,o.webkitUserSelect="none",o.userSelect="none",o.webkitTapHighlightColor="rgba(0,0,0,0)",o["-webkit-touch-callout"]="none",o.padding="0",o.margin="0",o.borderWidth="0"),a.domBack=null,a.ctxBack=null,a.painter=n,a.config=null,a.dpr=r,a}return f(t,e),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=BS("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,t,n,r){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var i,a=[],o=this.maxRepaintRectCount,s=!1,u=new Jn(0,0,0,0);function l(e){if(e.isFinite()&&!e.isZero())if(0===a.length){var t=new Jn(0,0,0,0);t.copy(e),a.push(t)}else{for(var n=!1,r=1/0,i=0,l=0;l<a.length;++l){var c=a[l];if(c.intersect(e)){var f=new Jn(0,0,0,0);f.copy(c),f.union(e),a[l]=f,n=!0;break}if(s){u.copy(e),u.union(c);var h=e.width*e.height,d=c.width*c.height,p=u.width*u.height,g=p-h-d;g<r&&(r=g,i=l)}}if(s&&(a[i].union(e),n=!0),!n){t=new Jn(0,0,0,0);t.copy(e),a.push(t)}s||(s=a.length>=o)}}for(var c=this.__startIndex;c<this.__endIndex;++c){var f=e[c];if(f){var h=f.shouldBePainted(n,r,!0,!0),d=f.__isRendered&&(f.__dirty&Or.REDARAW_BIT||!h)?f.getPrevPaintRect():null;d&&l(d);var p=h&&(f.__dirty&Or.REDARAW_BIT||!f.__isRendered)?f.getPaintRect():null;p&&l(p)}}for(c=this.__prevStartIndex;c<this.__prevEndIndex;++c){f=t[c],h=f.shouldBePainted(n,r,!0,!0);if(f&&(!h||!f.__zr)&&f.__isRendered){d=f.getPrevPaintRect();d&&l(d)}}do{i=!1;for(c=0;c<a.length;)if(a[c].isZero())a.splice(c,1);else{for(var g=c+1;g<a.length;)a[c].intersect(a[g])?(i=!0,a[c].union(a[g]),a.splice(g,1)):g++;c++}}while(i);return this._paintRects=a,a},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,t){var n=this.dpr,r=this.dom,i=r.style,a=this.domBack;i&&(i.width=e+"px",i.height=t+"px"),r.width=e*n,r.height=t*n,a&&(a.width=e*n,a.height=t*n,1!==n&&this.ctxBack.scale(n,n))},t.prototype.clear=function(e,t,n){var r=this.dom,i=this.ctx,a=r.width,o=r.height;t=t||this.clearColor;var s=this.motionBlur&&!e,u=this.lastFrameAlpha,l=this.dpr,c=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,a/l,o/l));var f=this.domBack;function h(e,n,r,a){if(i.clearRect(e,n,r,a),t&&"transparent"!==t){var o=void 0;ie(t)?(o=t.__canvasGradient||sy(i,t,{x:0,y:0,width:r,height:a}),t.__canvasGradient=o):ae(t)&&(o=yy(i,t,{dirty:function(){c.setUnpainted(),c.__painter.refresh()}})),i.save(),i.fillStyle=o||t,i.fillRect(e,n,r,a),i.restore()}s&&(i.save(),i.globalAlpha=u,i.drawImage(f,e,n,r,a),i.restore())}!n||s?h(0,0,a,o):n.length&&H(n,(function(e){h(e.x*l,e.y*l,e.width*l,e.height*l)}))},t}(Ue),jS=zS,HS=1e5,US=314159,VS=.01,GS=.001;function WS(e){return parseInt(e,10)}function XS(e){return!!e&&(!!e.__builtin__||"function"===typeof e.resize&&"function"===typeof e.refresh)}function KS(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var qS=function(){function e(e,t,n,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=R({},n||{}),this.dpr=n.devicePixelRatio||dr,this._singleCanvas=i,this.root=e;var a=e.style;a&&(a.webkitTapHighlightColor="transparent",a.webkitUserSelect="none",a.userSelect="none",a["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(i){var u=e,l=u.width,c=u.height;null!=n.width&&(l=n.width),null!=n.height&&(c=n.height),this.dpr=n.devicePixelRatio||1,u.width=l*this.dpr,u.height=c*this.dpr,this._width=l,this._height=c;var f=new jS(u,this,this.dpr);f.__builtin__=!0,f.initContext(),s[US]=f,f.zlevel=US,o.push(US),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var h=this._domRoot=KS(this._width,this._height);e.appendChild(h)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var i=0;i<r.length;i++){var a=r[i],o=this._layers[a];if(!o.__builtin__&&o.refresh){var s=0===i?this._backgroundColor:null;o.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){for(var r,i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<t;a++){var o=e[a];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(HS)),r||(r=n.ctx,r.save()),By(r,o,i,a===t-1))}r&&r.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(HS)},e.prototype.paintOne=function(e,t){Fy(e,t)},e.prototype._paintList=function(e,t,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t,n),a=i.finished,o=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),a)this.eachLayer((function(e){e.afterBrush&&e.afterBrush()}));else{var s=this;Xr((function(){s._paintList(e,t,n,r)}))}}},e.prototype._compositeManually=function(){var e=this.getLayer(US).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer((function(r){r.virtual&&e.drawImage(r.dom,0,0,t,n)}))},e.prototype._doPaintList=function(e,t,n){for(var r=this,i=[],a=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var s=this._zlevelList[o],u=this._layers[s];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&i.push(u)}for(var l=!0,c=!1,f=function(o){var s=i[o],u=s.ctx,f=a&&s.createRepaintRects(e,t,h._width,h._height);u.save();var d,p=n?s.__startIndex:s.__drawIndex,g=!n&&s.incremental&&Date.now,m=g&&Date.now(),v=s.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,v,f);else if(p===s.__startIndex){var y=e[p];y.incremental&&y.notClear&&!n||s.clear(!1,v,f)}-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=s.__startIndex);var _=function(t){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(d=p;d<s.__endIndex;d++){var i=e[d];if(i.__inHover&&(c=!0),r._doPaintEl(i,s,a,t,n,d===s.__endIndex-1),g){var o=Date.now()-m;if(o>15)break}}n.prevElClipPaths&&u.restore()};if(f)if(0===f.length)d=s.__endIndex;else for(var b=h.dpr,x=0;x<f.length;++x){var w=f[x];u.save(),u.beginPath(),u.rect(w.x*b,w.y*b,w.width*b,w.height*b),u.clip(),_(w),u.restore()}else u.save(),_(),u.restore();s.__drawIndex=d,s.__drawIndex<s.__endIndex&&(l=!1)},h=this,d=0;d<i.length;d++)f(d);return v.wxa&&H(this._layers,(function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()})),{finished:l,needsRefreshHover:c}},e.prototype._doPaintEl=function(e,t,n,r,i,a){var o=t.ctx;if(n){var s=e.getPaintRect();(!r||s&&s.intersect(r))&&(By(o,e,i,a),e.setPrevPaintRect(s))}else By(o,e,i,a)},e.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=US);var n=this._layers[e];return n||(n=new jS("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?I(n,this._layerConfig[e],!0):this._layerConfig[e-VS]&&I(n,this._layerConfig[e-VS],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},e.prototype.insertLayer=function(e,t){var n=this._layers,r=this._zlevelList,i=r.length,a=this._domRoot,o=null,s=-1;if(n[e])P("ZLevel "+e+" has been used already");else if(XS(t)){if(i>0&&e>r[0]){for(s=0;s<i-1;s++)if(r[s]<e&&r[s+1]>e)break;o=n[r[s]]}if(r.splice(s+1,0,e),n[e]=t,!t.virtual)if(o){var u=o.dom;u.nextSibling?a.insertBefore(t.dom,u.nextSibling):a.appendChild(t.dom)}else a.firstChild?a.insertBefore(t.dom,a.firstChild):a.appendChild(t.dom);t.__painter=this}else P("Layer of zlevel "+e+" is not valid")},e.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r];e.call(t,this._layers[i],i)}},e.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],a=this._layers[i];a.__builtin__&&e.call(t,a,i)}},e.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],a=this._layers[i];a.__builtin__||e.call(t,a,i)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(e){function t(e){o&&(o.__endIndex!==e&&(o.__dirty=!0),o.__endIndex=e)}if(this.eachBuiltinLayer((function(e,t){e.__dirty=e.__used=!1})),this._singleCanvas)for(var n=1;n<e.length;n++){var r=e[n];if(r.zlevel!==e[n-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var i,a,o=null,s=0;for(a=0;a<e.length;a++){r=e[a];var u=r.zlevel,l=void 0;i!==u&&(i=u,s=0),r.incremental?(l=this.getLayer(u+GS,this._needsManuallyCompositing),l.incremental=!0,s=1):l=this.getLayer(u+(s>0?VS:0),this._needsManuallyCompositing),l.__builtin__||P("ZLevel "+u+" has been used by unkown layer "+l.id),l!==o&&(l.__used=!0,l.__startIndex!==a&&(l.__dirty=!0),l.__startIndex=a,l.incremental?l.__drawIndex=-1:l.__drawIndex=a,t(a),o=l),r.__dirty&Or.REDARAW_BIT&&!r.__inHover&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=a))}t(a),this.eachBuiltinLayer((function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)}))},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(e){e.clear()},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e,H(this._layers,(function(e){e.setUnpainted()}))},e.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?I(n[e],t,!0):n[e]=t;for(var r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];if(i===e||i===e+VS){var a=this._layers[i];I(a,n[e],!0)}}}},e.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],n.splice(F(n,e),1))},e.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||t!==this._height){for(var i in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(US).resize(e,t)}return this},e.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[US].dom;var t=new jS("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,i=t.dom.height;this.eachLayer((function(e){e.__builtin__?n.drawImage(e.dom,0,0,r,i):e.renderToCanvas&&(n.save(),e.renderToCanvas(n),n.restore())}))}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),s=0,u=o.length;s<u;s++){var l=o[s];By(n,l,a,s===u-1)}return t.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype._getSize=function(e){var t=this._opts,n=["width","height"][e],r=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[r]||WS(s[n])||WS(o.style[n]))-(WS(s[i])||0)-(WS(s[a])||0)|0},e.prototype.pathToImage=function(e,t){t=t||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),i=e.getBoundingRect(),a=e.style,o=a.shadowBlur*t,s=a.shadowOffsetX*t,u=a.shadowOffsetY*t,l=e.hasStroke()?a.lineWidth:0,c=Math.max(l/2,-s+o),f=Math.max(l/2,s+o),h=Math.max(l/2,-u+o),d=Math.max(l/2,u+o),p=i.width+c+f,g=i.height+h+d;n.width=p*t,n.height=g*t,r.scale(t,t),r.clearRect(0,0,p,g),r.dpr=t;var m={x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY,rotation:e.rotation,originX:e.originX,originY:e.originY};e.x=c-i.x,e.y=h-i.y,e.rotation=0,e.scaleX=1,e.scaleY=1,e.updateTransform(),e&&By(r,e,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var v=new cu({style:{x:0,y:0,image:n}});return R(e,m),v},e}(),YS=qS;function ZS(e){e.registerPainter("canvas",YS)}var $S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return f(t,e),t.prototype.init=function(t,n,r){e.prototype.init.call(this,t,n,r),this._sourceManager=new Dg(this),Pg(this)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),Pg(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:wd},t}(fd),QS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return f(t,e),t.type="dataset",t}($g);function JS(e){e.registerComponentModel($S),e.registerComponentView(QS)}Jw([ZS,JS]);function eT(e,t,n){"object"==typeof t&&(n=t,t=null);var r,i=this;if(!(e instanceof Function))for(var a in r=[],e)e.hasOwnProperty(a)&&r.push(a);var o=function t(n){if(i.apply(this,arguments),e instanceof Function?tT(this,e.call(this,n)):nT(this,e,r),this.constructor===t)for(var a=t.__initializers__,o=0;o<a.length;o++)a[o].apply(this,arguments)};o.__super__=i,i.__initializers__?o.__initializers__=i.__initializers__.slice():o.__initializers__=[],t&&o.__initializers__.push(t);var s=function(){};return s.prototype=i.prototype,o.prototype=new s,o.prototype.constructor=o,tT(o.prototype,n),o.extend=i.extend,o.derive=i.extend,o}function tT(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function nT(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];e[i]=t[i]}}var rT={extend:eT,derive:eT};function iT(e,t){this.action=e,this.context=t}var aT={trigger:function(e){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(e)){var t=this.__handlers__[e],n=t.length,r=-1,i=arguments;switch(i.length){case 1:while(++r<n)t[r].action.call(t[r].context);return;case 2:while(++r<n)t[r].action.call(t[r].context,i[1]);return;case 3:while(++r<n)t[r].action.call(t[r].context,i[1],i[2]);return;case 4:while(++r<n)t[r].action.call(t[r].context,i[1],i[2],i[3]);return;case 5:while(++r<n)t[r].action.call(t[r].context,i[1],i[2],i[3],i[4]);return;default:while(++r<n)t[r].action.apply(t[r].context,Array.prototype.slice.call(i,1));return}}},on:function(e,t,n){if(e&&t){var r=this.__handlers__||(this.__handlers__={});if(r[e]){if(this.has(e,t))return}else r[e]=[];var i=new iT(t,n||this);return r[e].push(i),this}},once:function(e,t,n){if(e&&t){var r=this;return this.on(e,i,n)}function i(){r.off(e,i),t.apply(this,arguments)}},before:function(e,t,n){if(e&&t)return e="before"+e,this.on(e,t,n)},after:function(e,t,n){if(e&&t)return e="after"+e,this.on(e,t,n)},success:function(e,t){return this.once("success",e,t)},error:function(e,t){return this.once("error",e,t)},off:function(e,t){var n=this.__handlers__||(this.__handlers__={});if(t){if(n[e]){for(var r=n[e],i=[],a=0;a<r.length;a++)t&&r[a].action!==t&&i.push(r[a]);n[e]=i}return this}n[e]=[]},has:function(e,t){var n=this.__handlers__;if(!n||!n[e])return!1;for(var r=n[e],i=0;i<r.length;i++)if(r[i].action===t)return!0}},oT=aT,sT=0,uT=Array.prototype,lT=uT.forEach,cT={genGUID:function(){return++sT},relative2absolute:function(e,t){if(!t||e.match(/^\//))return e;var n=e.split("/"),r=t.split("/"),i=n[0];while("."===i||".."===i)".."===i&&r.pop(),n.shift(),i=n[0];return r.join("/")+"/"+n.join("/")},extend:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},defaults:function(e,t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},extendWithPropList:function(e,t,n){if(t)for(var r=0;r<n.length;r++){var i=n[r];e[i]=t[i]}return e},defaultsWithPropList:function(e,t,n){if(t)for(var r=0;r<n.length;r++){var i=n[r];null==e[i]&&(e[i]=t[i])}return e},each:function(e,t,n){if(e&&t)if(e.forEach&&e.forEach===lT)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)},isObject:function(e){return e===Object(e)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return!!e&&e.length===+e.length},clone:function(e){if(cT.isObject(e)){if(cT.isArray(e))return e.slice();if(cT.isArrayLike(e)){for(var t=new e.constructor(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}return cT.extend({},e)}return e}},fT=cT,hT=function(){this.__uid__=fT.genGUID()};hT.__initializers__=[function(e){fT.extend(this,e)}],fT.extend(hT,rT),fT.extend(hT.prototype,oT);var dT=hT,pT=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],gT=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];function mT(e){for(var t={},n={},r=0;r<pT.length;r++){var i=pT[r];o(i)}for(r=0;r<gT.length;r++){var a=gT[r];n[a]=e.getParameter(e[a])}function o(n){if(e.getExtension){var r=e.getExtension(n);r||(r=e.getExtension("MOZ_"+n)),r||(r=e.getExtension("WEBKIT_"+n)),t[n]=r}}this.getExtension=function(e){return e in t||o(e),t[e]},this.getParameter=function(e){return n[e]}}var vT=mT,yT={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444},_T=n("swIl"),bT=function(){this.head=null,this.tail=null,this._length=0};bT.prototype.insert=function(e){var t=new bT.Entry(e);return this.insertEntry(t),t},bT.prototype.insertAt=function(e,t){if(!(e<0)){var n=this.head,r=0;while(n&&r!=e)n=n.next,r++;if(n){var i=new bT.Entry(t),a=n.prev;a?(a.next=i,i.prev=a):this.head=i,i.next=n,n.prev=i}else this.insert(t)}},bT.prototype.insertBeforeEntry=function(e,t){var n=new bT.Entry(e),r=t.prev;r?(r.next=n,n.prev=r):this.head=n,n.next=t,t.prev=n,this._length++},bT.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._length++},bT.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._length--},bT.prototype.removeAt=function(e){if(!(e<0)){var t=this.head,n=0;while(t&&n!=e)t=t.next,n++;return t?(this.remove(t),t.value):void 0}},bT.prototype.getHead=function(){if(this.head)return this.head.value},bT.prototype.getTail=function(){if(this.tail)return this.tail.value},bT.prototype.getAt=function(e){if(!(e<0)){var t=this.head,n=0;while(t&&n!=e)t=t.next,n++;return t.value}},bT.prototype.indexOf=function(e){var t=this.head,n=0;while(t){if(t.value===e)return n;t=t.next,n++}},bT.prototype.length=function(){return this._length},bT.prototype.isEmpty=function(){return 0===this._length},bT.prototype.forEach=function(e,t){var n=this.head,r=0,i="undefined"!=typeof t;while(n)i?e.call(t,n.value,r):e(n.value,r),n=n.next,r++},bT.prototype.clear=function(){this.tail=this.head=null,this._length=0},bT.Entry=function(e){this.value=e,this.next=null,this.prev=null};var xT=bT,wT=function(e){this._list=new xT,this._map={},this._maxSize=e||10};wT.prototype.setMaxSize=function(e){this._maxSize=e},wT.prototype.put=function(e,t){if(!this._map.hasOwnProperty(e)){var n=this._list.length();if(n>=this._maxSize&&n>0){var r=this._list.head;this._list.remove(r),delete this._map[r.key]}var i=this._list.insert(t);i.key=e,this._map[e]=i}},wT.prototype.get=function(e){var t=this._map[e];if(this._map.hasOwnProperty(e))return t!==this._list.tail&&(this._list.remove(t),this._list.insertEntry(t)),t.value},wT.prototype.remove=function(e){var t=this._map[e];"undefined"!==typeof t&&(delete this._map[e],this._list.remove(t))},wT.prototype.clear=function(){this._list.clear(),this._map={}};var ST=wT,TT={},ET={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function MT(e){return e=Math.round(e),e<0?0:e>255?255:e}function CT(e){return e=Math.round(e),e<0?0:e>360?360:e}function AT(e){return e<0?0:e>1?1:e}function OT(e){return e.length&&"%"===e.charAt(e.length-1)?MT(parseFloat(e)/100*255):MT(parseInt(e,10))}function DT(e){return e.length&&"%"===e.charAt(e.length-1)?AT(parseFloat(e)/100):AT(parseFloat(e))}function PT(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function LT(e,t,n){return e+(t-e)*n}function IT(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function RT(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var kT=new ST(20),NT=null;function FT(e,t){NT&&RT(NT,t),NT=kT.put(e,NT||t.slice())}function BT(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=DT(e[1]),i=DT(e[2]),a=i<=.5?i*(r+1):i+r-i*r,o=2*i-a;return t=t||[],IT(t,MT(255*PT(o,a,n+1/3)),MT(255*PT(o,a,n)),MT(255*PT(o,a,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function zT(e){if(e){var t,n,r=e[0]/255,i=e[1]/255,a=e[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o,l=(s+o)/2;if(0===u)t=0,n=0;else{n=l<.5?u/(s+o):u/(2-s-o);var c=((s-r)/6+u/2)/u,f=((s-i)/6+u/2)/u,h=((s-a)/6+u/2)/u;r===s?t=h-f:i===s?t=1/3+c-h:a===s&&(t=2/3+f-c),t<0&&(t+=1),t>1&&(t-=1)}var d=[360*t,n,l];return null!=e[3]&&d.push(e[3]),d}}TT.parse=function(e,t){if(e){t=t||[];var n=kT.get(e);if(n)return RT(t,n);e+="";var r=e.replace(/ /g,"").toLowerCase();if(r in ET)return RT(t,ET[r]),FT(e,t),t;if("#"!==r.charAt(0)){var i=r.indexOf("("),a=r.indexOf(")");if(-1!==i&&a+1===r.length){var o=r.substr(0,i),s=r.substr(i+1,a-(i+1)).split(","),u=1;switch(o){case"rgba":if(4!==s.length)return void IT(t,0,0,0,1);u=DT(s.pop());case"rgb":return 3!==s.length?void IT(t,0,0,0,1):(IT(t,OT(s[0]),OT(s[1]),OT(s[2]),u),FT(e,t),t);case"hsla":return 4!==s.length?void IT(t,0,0,0,1):(s[3]=DT(s[3]),BT(s,t),FT(e,t),t);case"hsl":return 3!==s.length?void IT(t,0,0,0,1):(BT(s,t),FT(e,t),t);default:return}}IT(t,0,0,0,1)}else{if(4===r.length){var l=parseInt(r.substr(1),16);return l>=0&&l<=4095?(IT(t,(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,1),FT(e,t),t):void IT(t,0,0,0,1)}if(7===r.length){l=parseInt(r.substr(1),16);return l>=0&&l<=16777215?(IT(t,(16711680&l)>>16,(65280&l)>>8,255&l,1),FT(e,t),t):void IT(t,0,0,0,1)}}}},TT.parseToFloat=function(e,t){if(t=TT.parse(e,t),t)return t[0]/=255,t[1]/=255,t[2]/=255,t},TT.lift=function(e,t){var n=TT.parse(e);if(n){for(var r=0;r<3;r++)n[r]=t<0?n[r]*(1-t)|0:(255-n[r])*t+n[r]|0;return TT.stringify(n,4===n.length?"rgba":"rgb")}},TT.toHex=function(e){var t=TT.parse(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)},TT.fastLerp=function(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var r=e*(t.length-1),i=Math.floor(r),a=Math.ceil(r),o=t[i],s=t[a],u=r-i;return n[0]=MT(LT(o[0],s[0],u)),n[1]=MT(LT(o[1],s[1],u)),n[2]=MT(LT(o[2],s[2],u)),n[3]=AT(LT(o[3],s[3],u)),n}},TT.fastMapToColor=TT.fastLerp,TT.lerp=function(e,t,n){if(t&&t.length&&e>=0&&e<=1){var r=e*(t.length-1),i=Math.floor(r),a=Math.ceil(r),o=TT.parse(t[i]),s=TT.parse(t[a]),u=r-i,l=TT.stringify([MT(LT(o[0],s[0],u)),MT(LT(o[1],s[1],u)),MT(LT(o[2],s[2],u)),AT(LT(o[3],s[3],u))],"rgba");return n?{color:l,leftIndex:i,rightIndex:a,value:r}:l}},TT.mapToColor=TT.lerp,TT.modifyHSL=function(e,t,n,r){if(e=TT.parse(e),e)return e=zT(e),null!=t&&(e[0]=CT(t)),null!=n&&(e[1]=DT(n)),null!=r&&(e[2]=DT(r)),TT.stringify(BT(e),"rgba")},TT.modifyAlpha=function(e,t){if(e=TT.parse(e),e&&null!=t)return e[3]=AT(t),TT.stringify(e,"rgba")},TT.stringify=function(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}};var jT=TT,HT=jT.parseToFloat,UT={};function VT(e){var t=Object.keys(e);t.sort();for(var n=[],r=0;r<t.length;r++){var i=t[r],a=e[i];null===a?n.push(i):n.push(i+" "+a.toString())}return n.join("\n")}function GT(e,t,n){n.sort();for(var r=[],i=0;i<n.length;i++){var a=n[i];r.push(a)}var o=VT(e)+"\n"+VT(t)+"\n"+r.join("\n");if(UT[o])return UT[o];var s=fT.genGUID();return UT[o]=s,s}var WT=dT.extend((function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}}),(function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)}),{precision:"highp",setUniform:function(e,t){void 0===t&&console.warn('Uniform value "'+e+'" is undefined');var n=this.uniforms[e];n&&("string"===typeof t&&(t=HT(t)||t),n.value=t,this.autoUpdateTextureStatus&&"t"===n.type&&(t?this.enableTexture(e):this.disableTexture(e)))},setUniforms:function(e){for(var t in e){var n=e[t];this.setUniform(t,n)}},isUniformEnabled:function(e){return this._enabledUniforms.indexOf(e)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(e,t){if("object"===typeof e)for(var n in e){var r=e[n];this.setUniform(n,r)}else this.setUniform(e,t)},get:function(e){var t=this.uniforms[e];if(t)return t.value},attachShader:function(e,t){var n=this.uniforms;this.uniforms=e.createUniforms(),this.shader=e;var r=this.uniforms;this._enabledUniforms=Object.keys(r),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter((function(e){var t=this.uniforms[e].type;return"t"===t||"tv"===t}),this);var i=this.vertexDefines,a=this.fragmentDefines;if(this.vertexDefines=fT.clone(e.vertexDefines),this.fragmentDefines=fT.clone(e.fragmentDefines),t){for(var o in n)r[o]&&(r[o].value=n[o].value);fT.defaults(this.vertexDefines,i),fT.defaults(this.fragmentDefines,a)}var s={};for(var u in e.textures)s[u]={shaderType:e.textures[u].shaderType,type:e.textures[u].type,enabled:!(!t||!this._textureStatus[u])&&this._textureStatus[u].enabled};this._textureStatus=s,this._programKey=""},clone:function(){var e=new this.constructor({name:this.name,shader:this.shader});for(var t in this.uniforms)e.uniforms[t].value=this.uniforms[t].value;return e.depthTest=this.depthTest,e.depthMask=this.depthMask,e.transparent=this.transparent,e.blend=this.blend,e.vertexDefines=fT.clone(this.vertexDefines),e.fragmentDefines=fT.clone(this.fragmentDefines),e.enableTexture(this.getEnabledTextures()),e.precision=this.precision,e},define:function(e,t,n){var r=this.vertexDefines,i=this.fragmentDefines;"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<3&&(n=t,t=e,e="both"),n=null!=n?n:null,"vertex"!==e&&"both"!==e||r[t]!==n&&(r[t]=n,this._programKey=""),"fragment"!==e&&"both"!==e||i[t]!==n&&(i[t]=n,"both"!==e&&(this._programKey=""))},undefine:function(e,t){"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<2&&(t=e,e="both"),"vertex"!==e&&"both"!==e||this.isDefined("vertex",t)&&(delete this.vertexDefines[t],this._programKey=""),"fragment"!==e&&"both"!==e||this.isDefined("fragment",t)&&(delete this.fragmentDefines[t],"both"!==e&&(this._programKey=""))},isDefined:function(e,t){switch(e){case"vertex":return void 0!==this.vertexDefines[t];case"fragment":return void 0!==this.fragmentDefines[t]}},getDefine:function(e,t){switch(e){case"vertex":return this.vertexDefines[t];case"fragment":return this.fragmentDefines[t]}},enableTexture:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.enableTexture(e[t]);else{var n=this._textureStatus[e];if(n){var r=n.enabled;r||(n.enabled=!0,this._programKey="")}}},enableTexturesAll:function(){var e=this._textureStatus;for(var t in e)e[t].enabled=!0;this._programKey=""},disableTexture:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.disableTexture(e[t]);else{var n=this._textureStatus[e];if(n){var r=!n.enabled;r||(n.enabled=!1,this._programKey="")}}},disableTexturesAll:function(){var e=this._textureStatus;for(var t in e)e[t].enabled=!1;this._programKey=""},isTextureEnabled:function(e){var t=this._textureStatus;return!!t[e]&&t[e].enabled},getEnabledTextures:function(){var e=[],t=this._textureStatus;for(var n in t)t[n].enabled&&e.push(n);return e},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=GT(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}}),XT=WT,KT=1e-6,qT=Array,YT=Math.random,ZT={create:function(){var e=new qT(2);return e[0]=0,e[1]=0,e},clone:function(e){var t=new qT(2);return t[0]=e[0],t[1]=e[1],t},fromValues:function(e,t){var n=new qT(2);return n[0]=e,n[1]=t,n},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},set:function(e,t,n){return e[0]=t,e[1]=n,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}};ZT.sub=ZT.subtract,ZT.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},ZT.mul=ZT.multiply,ZT.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},ZT.div=ZT.divide,ZT.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},ZT.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},ZT.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},ZT.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},ZT.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},ZT.dist=ZT.distance,ZT.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},ZT.sqrDist=ZT.squaredDistance,ZT.length=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},ZT.len=ZT.length,ZT.squaredLength=function(e){var t=e[0],n=e[1];return t*t+n*n},ZT.sqrLen=ZT.squaredLength,ZT.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},ZT.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},ZT.normalize=function(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e},ZT.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},ZT.cross=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e},ZT.lerp=function(e,t,n,r){var i=t[0],a=t[1];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e},ZT.random=function(e,t){t=t||1;var n=2*GLMAT_RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},ZT.transformMat2=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e},ZT.transformMat2d=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e},ZT.transformMat3=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e},ZT.transformMat4=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e},ZT.forEach=function(){var e=ZT.create();return function(t,n,r,i,a,o){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],a(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}();var $T=ZT,QT=function(e,t){e=e||0,t=t||0,this.array=$T.fromValues(e,t),this._dirty=!0};if(QT.prototype={constructor:QT,add:function(e){return $T.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t){return this.array[0]=e,this.array[1]=t,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this._dirty=!0,this},clone:function(){return new QT(this.x,this.y)},copy:function(e){return $T.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,t){return $T.cross(e.array,this.array,t.array),e._dirty=!0,this},dist:function(e){return $T.dist(this.array,e.array)},distance:function(e){return $T.distance(this.array,e.array)},div:function(e){return $T.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return $T.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return $T.dot(this.array,e.array)},len:function(){return $T.len(this.array)},length:function(){return $T.length(this.array)},lerp:function(e,t,n){return $T.lerp(this.array,e.array,t.array,n),this._dirty=!0,this},min:function(e){return $T.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return $T.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return $T.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return $T.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return $T.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return $T.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return $T.random(this.array,e),this._dirty=!0,this},scale:function(e){return $T.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return $T.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return $T.sqrDist(this.array,e.array)},squaredDistance:function(e){return $T.squaredDistance(this.array,e.array)},sqrLen:function(){return $T.sqrLen(this.array)},squaredLength:function(){return $T.squaredLength(this.array)},sub:function(e){return $T.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return $T.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat2:function(e){return $T.transformMat2(this.array,this.array,e.array),this._dirty=!0,this},transformMat2d:function(e){return $T.transformMat2d(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return $T.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return $T.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var JT=QT.prototype;Object.defineProperty(JT,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Object.defineProperty(JT,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}})}QT.add=function(e,t,n){return $T.add(e.array,t.array,n.array),e._dirty=!0,e},QT.set=function(e,t,n){return $T.set(e.array,t,n),e._dirty=!0,e},QT.copy=function(e,t){return $T.copy(e.array,t.array),e._dirty=!0,e},QT.cross=function(e,t,n){return $T.cross(e.array,t.array,n.array),e._dirty=!0,e},QT.dist=function(e,t){return $T.distance(e.array,t.array)},QT.distance=QT.dist,QT.div=function(e,t,n){return $T.divide(e.array,t.array,n.array),e._dirty=!0,e},QT.divide=QT.div,QT.dot=function(e,t){return $T.dot(e.array,t.array)},QT.len=function(e){return $T.length(e.array)},QT.lerp=function(e,t,n,r){return $T.lerp(e.array,t.array,n.array,r),e._dirty=!0,e},QT.min=function(e,t,n){return $T.min(e.array,t.array,n.array),e._dirty=!0,e},QT.max=function(e,t,n){return $T.max(e.array,t.array,n.array),e._dirty=!0,e},QT.mul=function(e,t,n){return $T.multiply(e.array,t.array,n.array),e._dirty=!0,e},QT.multiply=QT.mul,QT.negate=function(e,t){return $T.negate(e.array,t.array),e._dirty=!0,e},QT.normalize=function(e,t){return $T.normalize(e.array,t.array),e._dirty=!0,e},QT.random=function(e,t){return $T.random(e.array,t),e._dirty=!0,e},QT.scale=function(e,t,n){return $T.scale(e.array,t.array,n),e._dirty=!0,e},QT.scaleAndAdd=function(e,t,n,r){return $T.scaleAndAdd(e.array,t.array,n.array,r),e._dirty=!0,e},QT.sqrDist=function(e,t){return $T.sqrDist(e.array,t.array)},QT.squaredDistance=QT.sqrDist,QT.sqrLen=function(e){return $T.sqrLen(e.array)},QT.squaredLength=QT.sqrLen,QT.sub=function(e,t,n){return $T.subtract(e.array,t.array,n.array),e._dirty=!0,e},QT.subtract=QT.sub,QT.transformMat2=function(e,t,n){return $T.transformMat2(e.array,t.array,n.array),e._dirty=!0,e},QT.transformMat2d=function(e,t,n){return $T.transformMat2d(e.array,t.array,n.array),e._dirty=!0,e},QT.transformMat3=function(e,t,n){return $T.transformMat3(e.array,t.array,n.array),e._dirty=!0,e},QT.transformMat4=function(e,t,n){return $T.transformMat4(e.array,t.array,n.array),e._dirty=!0,e};var eE=QT,tE=1,nE=2,rE=3,iE={};function aE(e){for(var t=e.split("\n"),n=0,r=t.length;n<r;n++)t[n]=n+1+": "+t[n];return t.join("\n")}function oE(e,t,n){if(!e.getShaderParameter(t,e.COMPILE_STATUS))return[e.getShaderInfoLog(t),aE(n)].join("\n")}var sE=new _T["a"].Float32Array(16),uE=dT.extend({uniformSemantics:{},attributes:{}},(function(){this._locations={},this._textureSlot=0,this._program=null}),{bind:function(e){this._textureSlot=0,e.gl.useProgram(this._program)},hasUniform:function(e){var t=this._locations[e];return null!==t&&void 0!==t},useTextureSlot:function(e,t,n){t&&(e.gl.activeTexture(e.gl.TEXTURE0+n),t.isRenderable()?t.bind(e):t.unbind(e))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(e){this._textureSlot=e||0},takeCurrentTextureSlot:function(e,t){var n=this._textureSlot;return this.useTextureSlot(e,t,n),this._textureSlot++,n},setUniform:function(e,t,n,r){var i=this._locations,a=i[n];if(null===a||void 0===a)return!1;switch(t){case"m4":if(!(r instanceof Float32Array)){for(var o=0;o<r.length;o++)sE[o]=r[o];r=sE}e.uniformMatrix4fv(a,!1,r);break;case"2i":e.uniform2i(a,r[0],r[1]);break;case"2f":e.uniform2f(a,r[0],r[1]);break;case"3i":e.uniform3i(a,r[0],r[1],r[2]);break;case"3f":e.uniform3f(a,r[0],r[1],r[2]);break;case"4i":e.uniform4i(a,r[0],r[1],r[2],r[3]);break;case"4f":e.uniform4f(a,r[0],r[1],r[2],r[3]);break;case"1i":e.uniform1i(a,r);break;case"1f":e.uniform1f(a,r);break;case"1fv":e.uniform1fv(a,r);break;case"1iv":e.uniform1iv(a,r);break;case"2iv":e.uniform2iv(a,r);break;case"2fv":e.uniform2fv(a,r);break;case"3iv":e.uniform3iv(a,r);break;case"3fv":e.uniform3fv(a,r);break;case"4iv":e.uniform4iv(a,r);break;case"4fv":e.uniform4fv(a,r);break;case"m2":case"m2v":e.uniformMatrix2fv(a,!1,r);break;case"m3":case"m3v":e.uniformMatrix3fv(a,!1,r);break;case"m4v":if(Array.isArray(r)&&Array.isArray(r[0])){var s=new _T["a"].Float32Array(16*r.length),u=0;for(o=0;o<r.length;o++)for(var l=r[o],c=0;c<16;c++)s[u++]=l[c];e.uniformMatrix4fv(a,!1,s)}else e.uniformMatrix4fv(a,!1,r);break}return!0},setUniformOfSemantic:function(e,t,n){var r=this.uniformSemantics[t];return!!r&&this.setUniform(e,r.type,r.symbol,n)},enableAttributes:function(e,t,n){var r,i=e.gl,a=this._program,o=this._locations;r=n?n.__enabledAttributeList:iE[e.__uid__],r||(r=n?n.__enabledAttributeList=[]:iE[e.__uid__]=[]);for(var s=[],u=0;u<t.length;u++){var l=t[u];if(this.attributes[l]){var c=o[l];if(null==c){if(c=i.getAttribLocation(a,l),-1===c){s[u]=-1;continue}o[l]=c}s[u]=c,r[c]?r[c]=nE:r[c]=tE}else s[u]=-1}for(u=0;u<r.length;u++)switch(r[u]){case tE:i.enableVertexAttribArray(u),r[u]=rE;break;case nE:r[u]=rE;break;case rE:i.disableVertexAttribArray(u),r[u]=0;break}return s},getAttribLocation:function(e,t){var n=this._locations,r=n[t];return null==r&&(r=e.getAttribLocation(this._program,t),n[t]=r),r},buildProgram:function(e,t,n,r){var i=e.createShader(e.VERTEX_SHADER),a=e.createProgram();e.shaderSource(i,n),e.compileShader(i);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,r),e.compileShader(o);var s=oE(e,i,n);if(s)return s;if(s=oE(e,o,r),s)return s;if(e.attachShader(a,i),e.attachShader(a,o),t.attributeSemantics["POSITION"])e.bindAttribLocation(a,0,t.attributeSemantics["POSITION"].symbol);else{var u=Object.keys(this.attributes);e.bindAttribLocation(a,0,u[0])}if(e.linkProgram(a),e.deleteShader(i),e.deleteShader(o),this._program=a,this.vertexCode=n,this.fragmentCode=r,!e.getProgramParameter(a,e.LINK_STATUS))return"Could not link program\n"+e.getProgramInfoLog(a);for(var l=0;l<t.uniforms.length;l++){var c=t.uniforms[l];this._locations[c]=e.getUniformLocation(a,c)}}}),lE=uE,cE=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function fE(e,t,n){function r(e,n,r,a){var o="";isNaN(n)&&(n=n in t?t[n]:i[n]),isNaN(r)&&(r=r in t?t[r]:i[r]);for(var s=parseInt(n);s<parseInt(r);s++)o+="{"+a.replace(/float\s*\(\s*_idx_\s*\)/g,s.toFixed(1)).replace(/_idx_/g,s)+"}";return o}var i={};for(var a in n)i[a+"_COUNT"]=n[a];return e.replace(cE,r)}function hE(e,t,n){var r=[];if(t)for(var i in t){var a=t[i];a>0&&r.push("#define "+i.toUpperCase()+"_COUNT "+a)}if(n)for(var o=0;o<n.length;o++){var s=n[o];r.push("#define "+s.toUpperCase()+"_ENABLED")}for(var s in e){var u=e[s];null===u?r.push("#define "+s):r.push("#define "+s+" "+u.toString())}return r.join("\n")}function dE(e){for(var t=[],n=0;n<e.length;n++)t.push("#extension GL_"+e[n]+" : enable");return t.join("\n")}function pE(e){return["precision",e,"float"].join(" ")+";\n"+["precision",e,"int"].join(" ")+";\n"+["precision",e,"sampler2D"].join(" ")+";\n"}function gE(e){this._renderer=e,this._cache={}}gE.prototype.getProgram=function(e,t,n){var r=this._cache,i=e.isSkinnedMesh&&e.isSkinnedMesh(),a=e.isInstancedMesh&&e.isInstancedMesh(),o="s"+t.shader.shaderID+"m"+t.getProgramKey();n&&(o+="se"+n.getProgramKey(e.lightGroup)),i&&(o+=",sk"+e.joints.length),a&&(o+=",is");var s=r[o];if(s)return s;var u=n?n.getLightsNumbers(e.lightGroup):{},l=this._renderer,c=l.gl,f=t.getEnabledTextures(),h="";if(i){var d={SKINNING:null,JOINT_COUNT:e.joints.length};e.joints.length>l.getMaxJointNumber()&&(d.USE_SKIN_MATRICES_TEXTURE=null),h+="\n"+hE(d)+"\n"}a&&(h+="\n#define INSTANCING\n");var p=h+hE(t.vertexDefines,u,f),g=h+hE(t.fragmentDefines,u,f),m=p+"\n"+t.shader.vertex,v=["OES_standard_derivatives","EXT_shader_texture_lod"].filter((function(e){return null!=l.getGLExtension(e)}));v.indexOf("EXT_shader_texture_lod")>=0&&(g+="\n#define SUPPORT_TEXTURE_LOD"),v.indexOf("OES_standard_derivatives")>=0&&(g+="\n#define SUPPORT_STANDARD_DERIVATIVES");var y=dE(v)+"\n"+pE(t.precision)+"\n"+g+"\n"+t.shader.fragment,_=fE(m,t.vertexDefines,u),b=fE(y,t.fragmentDefines,u);s=new lE;s.uniformSemantics=t.shader.uniformSemantics,s.attributes=t.shader.attributes;var x=s.buildProgram(c,t.shader,_,b);return s.__error=x,r[o]=s,s};var mE=gE,vE=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,yE=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,_E=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,bE={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function xE(e){for(var t=[],n=0;n<e;n++)t[n]=0;return t}var wE={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return xE(2)},vec3:function(){return xE(3)},vec4:function(){return xE(4)},ivec2:function(){return xE(2)},ivec3:function(){return xE(3)},ivec4:function(){return xE(4)},mat2:function(){return xE(4)},mat3:function(){return xE(9)},mat4:function(){return xE(16)},array:function(){return[]}},SE=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],TE=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],EE=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],ME={vec4:4,vec3:3,vec2:2,float:1},CE={},AE={};function OE(e,t){var n="vertex:"+e+"fragment:"+t;if(CE[n])return CE[n];var r=fT.genGUID();return CE[n]=r,AE[r]={vertex:e,fragment:t},r}function DE(e){return e.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function PE(){console.error("Wrong uniform/attributes syntax")}function LE(e,t){for(var n=/[,=\(\):]/,r=t.replace(/:\s*\[\s*(.*)\s*\]/g,"="+e+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),i=[],a=0;a<r.length;a++)r[a].match(n)?i.push(r[a].charAt(0),r[a].slice(1)):i.push(r[a]);r=i;var o,s=0,u=1,l=2,c=3,f=4,h=5,d=s,p={},g=null;function m(e){e||PE();var t=e.match(/\[(.*?)\]/);o=e.replace(/\[(.*?)\]/,""),p[o]={},t&&(p[o].isArray=!0,p[o].arraySize=t[1])}m(r[0]);for(a=1;a<r.length;a++){var v=r[a];if(v)if("="!==v)if(":"!==v)if(","!==v)if(")"!==v)if("("!==v)if(v.indexOf("vec")>=0){if(d!==u&&d!==f){PE();break}d=l,g=[]}else if(d!==u)if(d!==f)m(v),d=s;else{var y=v;SE.indexOf(y)>=0||TE.indexOf(y)>=0||EE.indexOf(y)>=0?p[o].semantic=y:"ignore"===y||"unconfigurable"===y?p[o].ignore=!0:p[o].value="bool"===e?"true"===y:parseFloat(y)}else p[o].value="bool"===e?"true"===v:parseFloat(v),g=null;else{if(d!==l){PE();break}if(!(g instanceof Array)){PE();break}g.push(+r[++a])}else p[o].value=new _T["a"].Float32Array(g),g=null,d=h;else if(d===l){if(!(g instanceof Array)){PE();break}g.push(+r[++a])}else d=h;else d=f;else{if(d!==s&&d!==c){PE();break}d=u}}return p}function IE(e,t){"object"===typeof e&&(t=e.fragment,e=e.vertex),e=DE(e),t=DE(t),this._shaderID=OE(e,t),this._vertexCode=IE.parseImport(e),this._fragmentCode=IE.parseImport(t),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}IE.prototype={constructor:IE,createUniforms:function(){var e={};for(var t in this.uniformTemplates){var n=this.uniformTemplates[t];e[t]={type:n.type,value:n.value()}}return e},_parseImport:function(){this._vertexCode=IE.parseImport(this.vertex),this._fragmentCode=IE.parseImport(this.fragment)},_addSemanticUniform:function(e,t,n){if(SE.indexOf(n)>=0)this.attributeSemantics[n]={symbol:e,type:t};else if(EE.indexOf(n)>=0){var r=!1,i=n;n.match(/TRANSPOSE$/)&&(r=!0,i=n.slice(0,-9)),this.matrixSemantics[n]={symbol:e,type:t,isTranspose:r,semanticNoTranspose:i}}else TE.indexOf(n)>=0&&(this.uniformSemantics[n]={symbol:e,type:t})},_addMaterialUniform:function(e,t,n,r,i,a){a[e]={type:n,value:i?wE["array"]:r||wE[t],semantic:null}},_parseUniforms:function(){var e={},t=this,n="vertex";function r(e){return null!=e?function(){return e}:null}function i(i,a,o){var s=LE(a,o),u=[];for(var l in s){var c=s[l],f=c.semantic,h=l,d=bE[a],p=r(s[l].value);s[l].isArray&&(h+="["+s[l].arraySize+"]",d+="v"),u.push(h),t._uniformList.push(l),c.ignore||("sampler2D"!==a&&"samplerCube"!==a||(t.textures[l]={shaderType:n,type:a}),f?t._addSemanticUniform(l,d,f):t._addMaterialUniform(l,a,d,p,s[l].isArray,e))}return u.length>0?"uniform "+a+" "+u.join(",")+";\n":""}this._uniformList=[],this._vertexCode=this._vertexCode.replace(vE,i),n="fragment",this._fragmentCode=this._fragmentCode.replace(vE,i),t.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=e},_parseAttributes:function(){var e={},t=this;function n(n,r,i){var a=LE(r,i),o=ME[r]||1,s=[];for(var u in a){var l=a[u].semantic;if(e[u]={type:"float",size:o,semantic:l||null},l){if(SE.indexOf(l)<0)throw new Error('Unkown semantic "'+l+'"');t.attributeSemantics[l]={symbol:u,type:r}}s.push(u)}return"attribute "+r+" "+s.join(",")+";\n"}this._vertexCode=this._vertexCode.replace(yE,n),this.attributes=e},_parseDefines:function(){var e=this,t="vertex";function n(n,r,i){var a="vertex"===t?e.vertexDefines:e.fragmentDefines;return a[r]||(a[r]="false"!==i&&("true"===i||(i?isNaN(parseFloat(i))?i.trim():parseFloat(i):null))),""}this._vertexCode=this._vertexCode.replace(_E,n),t="fragment",this._fragmentCode=this._fragmentCode.replace(_E,n)},clone:function(){var e=AE[this._shaderID],t=new IE(e.vertex,e.fragment);return t}},Object.defineProperty&&(Object.defineProperty(IE.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(IE.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(IE.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(IE.prototype,"uniforms",{get:function(){return this._uniformList}}));var RE=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;IE.parseImport=function(e){return e=e.replace(RE,(function(e,t,n){e=IE.source(n);return e?IE.parseImport(e):(console.error('Shader chunk "'+n+'" not existed in library'),"")})),e};var kE=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;IE["import"]=function(e){e.replace(kE,(function(e,t,n,r){r=r.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"");if(r){var i,a=n.split("."),o=IE.codes,s=0;while(s<a.length-1)i=a[s++],o[i]||(o[i]={}),o=o[i];i=a[s],o[i]=r}return r}))},IE.codes={},IE.source=function(e){var t=e.split("."),n=IE.codes,r=0;while(n&&r<t.length){var i=t[r++];n=n[i]}return"string"!==typeof n?(console.error('Shader "'+e+'" not existed in library'),""):n};var NE=IE,FE="@export clay.prez.vertex\nuniform mat4 WVP : WORLDVIEWPROJECTION;\nattribute vec3 pos : POSITION;\nattribute vec2 uv : TEXCOORD_0;\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n vec4 P = vec4(pos, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = WVP * P;\n v_Texcoord = uv * uvRepeat + uvOffset;\n}\n@end\n@export clay.prez.fragment\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\n}\n@end",BE={create:function(){var e=new qT(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},clone:function(e){var t=new qT(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],g=t[13],m=t[14],v=t[15],y=n*s-r*o,_=n*u-i*o,b=n*l-a*o,x=r*u-i*s,w=r*l-a*s,S=i*l-a*u,T=c*g-f*p,E=c*m-h*p,M=c*v-d*p,C=f*m-h*g,A=f*v-d*g,O=h*v-d*m,D=y*O-_*A+b*C+x*M-w*E+S*T;return D?(D=1/D,e[0]=(s*O-u*A+l*C)*D,e[1]=(i*A-r*O-a*C)*D,e[2]=(g*S-m*w+v*x)*D,e[3]=(h*w-f*S-d*x)*D,e[4]=(u*M-o*O-l*E)*D,e[5]=(n*O-i*M+a*E)*D,e[6]=(m*b-p*S-v*_)*D,e[7]=(c*S-h*b+d*_)*D,e[8]=(o*A-s*M+l*T)*D,e[9]=(r*M-n*A-a*T)*D,e[10]=(p*w-g*b+v*y)*D,e[11]=(f*b-c*w-d*y)*D,e[12]=(s*E-o*C-u*T)*D,e[13]=(n*C-r*E+i*T)*D,e[14]=(g*_-p*x-m*y)*D,e[15]=(c*x-f*_+h*y)*D,e):null},adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],g=t[13],m=t[14],v=t[15];return e[0]=s*(h*v-d*m)-f*(u*v-l*m)+g*(u*d-l*h),e[1]=-(r*(h*v-d*m)-f*(i*v-a*m)+g*(i*d-a*h)),e[2]=r*(u*v-l*m)-s*(i*v-a*m)+g*(i*l-a*u),e[3]=-(r*(u*d-l*h)-s*(i*d-a*h)+f*(i*l-a*u)),e[4]=-(o*(h*v-d*m)-c*(u*v-l*m)+p*(u*d-l*h)),e[5]=n*(h*v-d*m)-c*(i*v-a*m)+p*(i*d-a*h),e[6]=-(n*(u*v-l*m)-o*(i*v-a*m)+p*(i*l-a*u)),e[7]=n*(u*d-l*h)-o*(i*d-a*h)+c*(i*l-a*u),e[8]=o*(f*v-d*g)-c*(s*v-l*g)+p*(s*d-l*f),e[9]=-(n*(f*v-d*g)-c*(r*v-a*g)+p*(r*d-a*f)),e[10]=n*(s*v-l*g)-o*(r*v-a*g)+p*(r*l-a*s),e[11]=-(n*(s*d-l*f)-o*(r*d-a*f)+c*(r*l-a*s)),e[12]=-(o*(f*m-h*g)-c*(s*m-u*g)+p*(s*h-u*f)),e[13]=n*(f*m-h*g)-c*(r*m-i*g)+p*(r*h-i*f),e[14]=-(n*(s*m-u*g)-o*(r*m-i*g)+p*(r*u-i*s)),e[15]=n*(s*h-u*f)-o*(r*h-i*f)+c*(r*u-i*s),e},determinant:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11],d=e[12],p=e[13],g=e[14],m=e[15],v=t*o-n*a,y=t*s-r*a,_=t*u-i*a,b=n*s-r*o,x=n*u-i*o,w=r*u-i*s,S=l*p-c*d,T=l*g-f*d,E=l*m-h*d,M=c*g-f*p,C=c*m-h*p,A=f*m-h*g;return v*A-y*C+_*M+b*E-x*T+w*S},multiply:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],g=t[12],m=t[13],v=t[14],y=t[15],_=n[0],b=n[1],x=n[2],w=n[3];return e[0]=_*r+b*s+x*f+w*g,e[1]=_*i+b*u+x*h+w*m,e[2]=_*a+b*l+x*d+w*v,e[3]=_*o+b*c+x*p+w*y,_=n[4],b=n[5],x=n[6],w=n[7],e[4]=_*r+b*s+x*f+w*g,e[5]=_*i+b*u+x*h+w*m,e[6]=_*a+b*l+x*d+w*v,e[7]=_*o+b*c+x*p+w*y,_=n[8],b=n[9],x=n[10],w=n[11],e[8]=_*r+b*s+x*f+w*g,e[9]=_*i+b*u+x*h+w*m,e[10]=_*a+b*l+x*d+w*v,e[11]=_*o+b*c+x*p+w*y,_=n[12],b=n[13],x=n[14],w=n[15],e[12]=_*r+b*s+x*f+w*g,e[13]=_*i+b*u+x*h+w*m,e[14]=_*a+b*l+x*d+w*v,e[15]=_*o+b*c+x*p+w*y,e},multiplyAffine:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[4],s=t[5],u=t[6],l=t[8],c=t[9],f=t[10],h=t[12],d=t[13],p=t[14],g=n[0],m=n[1],v=n[2];return e[0]=g*r+m*o+v*l,e[1]=g*i+m*s+v*c,e[2]=g*a+m*u+v*f,g=n[4],m=n[5],v=n[6],e[4]=g*r+m*o+v*l,e[5]=g*i+m*s+v*c,e[6]=g*a+m*u+v*f,g=n[8],m=n[9],v=n[10],e[8]=g*r+m*o+v*l,e[9]=g*i+m*s+v*c,e[10]=g*a+m*u+v*f,g=n[12],m=n[13],v=n[14],e[12]=g*r+m*o+v*l+h,e[13]=g*i+m*s+v*c+d,e[14]=g*a+m*u+v*f+p,e}};BE.mul=BE.multiply,BE.mulAffine=BE.multiplyAffine,BE.translate=function(e,t,n){var r,i,a,o,s,u,l,c,f,h,d,p,g=n[0],m=n[1],v=n[2];return t===e?(e[12]=t[0]*g+t[4]*m+t[8]*v+t[12],e[13]=t[1]*g+t[5]*m+t[9]*v+t[13],e[14]=t[2]*g+t[6]*m+t[10]*v+t[14],e[15]=t[3]*g+t[7]*m+t[11]*v+t[15]):(r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=h,e[10]=d,e[11]=p,e[12]=r*g+s*m+f*v+t[12],e[13]=i*g+u*m+h*v+t[13],e[14]=a*g+l*m+d*v+t[14],e[15]=o*g+c*m+p*v+t[15]),e},BE.scale=function(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},BE.rotate=function(e,t,n,r){var i,a,o,s,u,l,c,f,h,d,p,g,m,v,y,_,b,x,w,S,T,E,M,C,A=r[0],O=r[1],D=r[2],P=Math.sqrt(A*A+O*O+D*D);return Math.abs(P)<KT?null:(P=1/P,A*=P,O*=P,D*=P,i=Math.sin(n),a=Math.cos(n),o=1-a,s=t[0],u=t[1],l=t[2],c=t[3],f=t[4],h=t[5],d=t[6],p=t[7],g=t[8],m=t[9],v=t[10],y=t[11],_=A*A*o+a,b=O*A*o+D*i,x=D*A*o-O*i,w=A*O*o-D*i,S=O*O*o+a,T=D*O*o+A*i,E=A*D*o+O*i,M=O*D*o-A*i,C=D*D*o+a,e[0]=s*_+f*b+g*x,e[1]=u*_+h*b+m*x,e[2]=l*_+d*b+v*x,e[3]=c*_+p*b+y*x,e[4]=s*w+f*S+g*T,e[5]=u*w+h*S+m*T,e[6]=l*w+d*S+v*T,e[7]=c*w+p*S+y*T,e[8]=s*E+f*M+g*C,e[9]=u*E+h*M+m*C,e[10]=l*E+d*M+v*C,e[11]=c*E+p*M+y*C,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},BE.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+c*r,e[6]=s*i+f*r,e[7]=u*i+h*r,e[8]=l*i-a*r,e[9]=c*i-o*r,e[10]=f*i-s*r,e[11]=h*i-u*r,e},BE.rotateY=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],u=t[3],l=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*r,e[1]=o*i-c*r,e[2]=s*i-f*r,e[3]=u*i-h*r,e[8]=a*r+l*i,e[9]=o*r+c*i,e[10]=s*r+f*i,e[11]=u*r+h*i,e},BE.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],u=t[3],l=t[4],c=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+c*r,e[2]=s*i+f*r,e[3]=u*i+h*r,e[4]=l*i-a*r,e[5]=c*i-o*r,e[6]=f*i-s*r,e[7]=h*i-u*r,e},BE.fromRotationTranslation=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=r+r,u=i+i,l=a+a,c=r*s,f=r*u,h=r*l,d=i*u,p=i*l,g=a*l,m=o*s,v=o*u,y=o*l;return e[0]=1-(d+g),e[1]=f+y,e[2]=h-v,e[3]=0,e[4]=f-y,e[5]=1-(c+g),e[6]=p+m,e[7]=0,e[8]=h+v,e[9]=p-m,e[10]=1-(c+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},BE.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,f=r*s,h=i*o,d=i*s,p=i*u,g=a*o,m=a*s,v=a*u;return e[0]=1-f-p,e[1]=c+v,e[2]=h-m,e[3]=0,e[4]=c-v,e[5]=1-l-p,e[6]=d+g,e[7]=0,e[8]=h+m,e[9]=d-g,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},BE.frustum=function(e,t,n,r,i,a,o){var s=1/(n-t),u=1/(i-r),l=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(o+a)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*l,e[15]=0,e},BE.perspective=function(e,t,n,r,i){var a=1/Math.tan(t/2),o=1/(r-i);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*o,e[15]=0,e},BE.ortho=function(e,t,n,r,i,a,o){var s=1/(t-n),u=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(o+a)*l,e[15]=1,e},BE.lookAt=function(e,t,n,r){var i,a,o,s,u,l,c,f,h,d,p=t[0],g=t[1],m=t[2],v=r[0],y=r[1],_=r[2],b=n[0],x=n[1],w=n[2];return Math.abs(p-b)<KT&&Math.abs(g-x)<KT&&Math.abs(m-w)<KT?BE.identity(e):(c=p-b,f=g-x,h=m-w,d=1/Math.sqrt(c*c+f*f+h*h),c*=d,f*=d,h*=d,i=y*h-_*f,a=_*c-v*h,o=v*f-y*c,d=Math.sqrt(i*i+a*a+o*o),d?(d=1/d,i*=d,a*=d,o*=d):(i=0,a=0,o=0),s=f*o-h*a,u=h*i-c*o,l=c*a-f*i,d=Math.sqrt(s*s+u*u+l*l),d?(d=1/d,s*=d,u*=d,l*=d):(s=0,u=0,l=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=a,e[5]=u,e[6]=f,e[7]=0,e[8]=o,e[9]=l,e[10]=h,e[11]=0,e[12]=-(i*p+a*g+o*m),e[13]=-(s*p+u*g+l*m),e[14]=-(c*p+f*g+h*m),e[15]=1,e)},BE.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))};var zE=BE,jE={create:function(){var e=new qT(3);return e[0]=0,e[1]=0,e[2]=0,e},clone:function(e){var t=new qT(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},fromValues:function(e,t,n){var r=new qT(3);return r[0]=e,r[1]=t,r[2]=n,r},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},set:function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}};jE.sub=jE.subtract,jE.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},jE.mul=jE.multiply,jE.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},jE.div=jE.divide,jE.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},jE.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},jE.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},jE.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},jE.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)},jE.dist=jE.distance,jE.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i},jE.sqrDist=jE.squaredDistance,jE.length=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)},jE.len=jE.length,jE.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r},jE.sqrLen=jE.squaredLength,jE.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},jE.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},jE.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e},jE.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},jE.cross=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],u=n[2];return e[0]=i*u-a*s,e[1]=a*o-r*u,e[2]=r*s-i*o,e},jE.lerp=function(e,t,n,r){var i=t[0],a=t[1],o=t[2];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e},jE.random=function(e,t){t=t||1;var n=2*YT()*Math.PI,r=2*YT()-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e},jE.transformMat4=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e},jE.transformMat3=function(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e},jE.transformQuat=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*a-u*i,f=l*i+u*r-o*a,h=l*a+o*i-s*r,d=-o*r-s*i-u*a;return e[0]=c*l+d*-o+f*-u-h*-s,e[1]=f*l+d*-s+h*-o-c*-u,e[2]=h*l+d*-u+c*-s-f*-o,e},jE.rotateX=function(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e},jE.rotateY=function(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e},jE.rotateZ=function(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e},jE.forEach=function(){var e=jE.create();return function(t,n,r,i,a,o){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}(),jE.angle=function(e,t){var n=jE.fromValues(e[0],e[1],e[2]),r=jE.fromValues(t[0],t[1],t[2]);jE.normalize(n,n),jE.normalize(r,r);var i=jE.dot(n,r);return i>1?0:Math.acos(i)};var HE=jE;NE["import"](FE);var UE=zE.create,VE={};function GE(e){return e.material}function WE(e,t,n){return t.uniforms[n].value}function XE(e,t,n,r){return n!==r}function KE(e){return!0}function qE(){}var YE={float:yT.FLOAT,byte:yT.BYTE,ubyte:yT.UNSIGNED_BYTE,short:yT.SHORT,ushort:yT.UNSIGNED_SHORT};function ZE(e,t,n){this.availableAttributes=e,this.availableAttributeSymbols=t,this.indicesBuffer=n,this.vao=null}function $E(e){var t,n;this.bind=function(e){t||(t=_T["a"].createCanvas(),t.width=t.height=1,t.getContext("2d"));var r=e.gl,i=!n;i&&(n=r.createTexture()),r.bindTexture(r.TEXTURE_2D,n),i&&r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t)},this.unbind=function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var QE=dT.extend((function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:"undefined"!==typeof window&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}}),(function(){this.canvas||(this.canvas=_T["a"].createCanvas());var e=this.canvas;try{var t={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!this.gl)throw new Error;this._glinfo=new vT(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(n){throw"Error creating WebGL Context "+n}this._programMgr=new mE(this),this._placeholderTexture=new $E(this)}),{resize:function(e,t){var n=this.canvas,r=this.devicePixelRatio;null!=e?(n.style&&(n.style.width=e+"px",n.style.height=t+"px"),n.width=e*r,n.height=t*r,this._width=e,this._height=t):(this._width=n.width/r,this._height=n.height/r),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var e=this.viewport;return e.width/e.height},setDevicePixelRatio:function(e){this.devicePixelRatio=e,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(e){return this._glinfo.getExtension(e)},getGLParameter:function(e){return this._glinfo.getParameter(e)},setViewport:function(e,t,n,r,i){if("object"===typeof e){var a=e;e=a.x,t=a.y,n=a.width,r=a.height,i=a.devicePixelRatio}i=i||this.devicePixelRatio,this.gl.viewport(e*i,t*i,n*i,r*i),this.viewport={x:e,y:t,width:n,height:r,devicePixelRatio:i}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var e=this._clearStack.pop();this.clearColor=e.clearColor,this.clearBit=e.clearBit}},bindSceneRendering:function(e){this._sceneRendering=e},render:function(e,t,n,r){var i=this.gl,a=this.clearColor;if(this.clearBit){i.colorMask(!0,!0,!0,!0),i.depthMask(!0);var o=this.viewport,s=!1,u=o.devicePixelRatio;(o.width!==this._width||o.height!==this._height||u&&u!==this.devicePixelRatio||o.x||o.y)&&(s=!0,i.enable(i.SCISSOR_TEST),i.scissor(o.x*u,o.y*u,o.width*u,o.height*u)),i.clearColor(a[0],a[1],a[2],a[3]),i.clear(this.clearBit),s&&i.disable(i.SCISSOR_TEST)}if(n||e.update(!1),e.updateLights(),t=t||e.getMainCamera(),t){t.update();var l=e.updateRenderList(t,!0);this._sceneRendering=e;var c=l.opaque,f=l.transparent,h=e.material;e.trigger("beforerender",this,e,t,l),r?(this.renderPreZ(c,e,t),i.depthFunc(i.LEQUAL)):i.depthFunc(i.LESS);for(var d=UE(),p=HE.create(),g=0;g<f.length;g++){var m=f[g];zE.multiplyAffine(d,t.viewMatrix.array,m.worldTransform.array),HE.transformMat4(p,m.position.array,d),m.__depth=p[2]}this.renderPass(c,t,{getMaterial:function(e){return h||e.material},sortCompare:this.opaqueSortCompare}),this.renderPass(f,t,{getMaterial:function(e){return h||e.material},sortCompare:this.transparentSortCompare}),e.trigger("afterrender",this,e,t,l),this._sceneRendering=null}else console.error("Can't find camera in the scene.")},getProgram:function(e,t,n){return t=t||e.material,this._programMgr.getProgram(e,t,n)},validateProgram:function(e){if(e.__error){var t=e.__error;if(VE[e.__uid__])return;if(VE[e.__uid__]=!0,this.throwError)throw new Error(t);this.trigger("error",t)}},updatePrograms:function(e,t,n){var r=n&&n.getMaterial||GE;t=t||null;for(var i=0;i<e.length;i++){var a=e[i],o=r.call(this,a);if(i>0){var s=e[i-1],u=s.joints?s.joints.length:0,l=a.joints?a.joints.length:0;if(l===u&&a.material===s.material&&a.lightGroup===s.lightGroup){a.__program=s.__program;continue}}var c=this._programMgr.getProgram(a,o,t);this.validateProgram(c),a.__program=c}},renderPass:function(e,t,n){this.trigger("beforerenderpass",this,e,t,n),n=n||{},n.getMaterial=n.getMaterial||GE,n.getUniform=n.getUniform||WE,n.isMaterialChanged=n.isMaterialChanged||XE,n.beforeRender=n.beforeRender||qE,n.afterRender=n.afterRender||qE;var r=n.ifRender||KE;this.updatePrograms(e,this._sceneRendering,n),n.sortCompare&&e.sort(n.sortCompare);var i=this.viewport,a=i.devicePixelRatio,o=[i.x*a,i.y*a,i.width*a,i.height*a],s=this.devicePixelRatio,u=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*s,this._height*s],l=[o[2],o[3]],c=Date.now();t?(zE.copy(JE.VIEW,t.viewMatrix.array),zE.copy(JE.PROJECTION,t.projectionMatrix.array),zE.copy(JE.VIEWINVERSE,t.worldTransform.array)):(zE.identity(JE.VIEW),zE.identity(JE.PROJECTION),zE.identity(JE.VIEWINVERSE)),zE.multiply(JE.VIEWPROJECTION,JE.PROJECTION,JE.VIEW),zE.invert(JE.PROJECTIONINVERSE,JE.PROJECTION),zE.invert(JE.VIEWPROJECTIONINVERSE,JE.VIEWPROJECTION);for(var f,h,d,p,g,m,v,y,_,b,x,w,S=this.gl,T=this._sceneRendering,E=null,M=0;M<e.length;M++){var C,A=e[M],O=null!=A.worldTransform;if(r(A)){O&&(C=A.isSkinnedMesh&&A.isSkinnedMesh()?A.offsetMatrix?A.offsetMatrix.array:JE.IDENTITY:A.worldTransform.array);var D=A.geometry,P=n.getMaterial.call(this,A),L=A.__program,I=P.shader,R=D.__uid__+"-"+L.__uid__,k=R!==b;b=R,k&&E&&E.bindVertexArrayOES(null),O&&(zE.copy(JE.WORLD,C),zE.multiply(JE.WORLDVIEWPROJECTION,JE.VIEWPROJECTION,C),zE.multiplyAffine(JE.WORLDVIEW,JE.VIEW,C),(I.matrixSemantics.WORLDINVERSE||I.matrixSemantics.WORLDINVERSETRANSPOSE)&&zE.invert(JE.WORLDINVERSE,C),(I.matrixSemantics.WORLDVIEWINVERSE||I.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&zE.invert(JE.WORLDVIEWINVERSE,JE.WORLDVIEW),(I.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||I.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&zE.invert(JE.WORLDVIEWPROJECTIONINVERSE,JE.WORLDVIEWPROJECTION)),A.beforeRender&&A.beforeRender(this),n.beforeRender.call(this,A,P,f);var N=L!==h;N?(L.bind(this),L.setUniformOfSemantic(S,"VIEWPORT",o),L.setUniformOfSemantic(S,"WINDOW_SIZE",u),t&&(L.setUniformOfSemantic(S,"NEAR",t.near),L.setUniformOfSemantic(S,"FAR",t.far)),L.setUniformOfSemantic(S,"DEVICEPIXELRATIO",a),L.setUniformOfSemantic(S,"TIME",c),L.setUniformOfSemantic(S,"VIEWPORT_SIZE",l),T&&T.setLightUniforms(L,A.lightGroup,this)):L=h,(N||n.isMaterialChanged(A,d,P,f))&&(P.depthTest!==p&&(P.depthTest?S.enable(S.DEPTH_TEST):S.disable(S.DEPTH_TEST),p=P.depthTest),P.depthMask!==g&&(S.depthMask(P.depthMask),g=P.depthMask),P.transparent!==_&&(P.transparent?S.enable(S.BLEND):S.disable(S.BLEND),_=P.transparent),P.transparent&&(P.blend?P.blend(S):(S.blendEquationSeparate(S.FUNC_ADD,S.FUNC_ADD),S.blendFuncSeparate(S.SRC_ALPHA,S.ONE_MINUS_SRC_ALPHA,S.ONE,S.ONE_MINUS_SRC_ALPHA))),w=this._bindMaterial(A,P,L,d||null,f||null,h||null,n.getUniform),f=P);var F=I.matrixSemanticKeys;if(O)for(var B=0;B<F.length;B++){var z=F[B],j=I.matrixSemantics[z],H=JE[z];if(j.isTranspose){var U=JE[j.semanticNoTranspose];zE.transpose(H,U)}L.setUniform(S,j.type,j.symbol,H)}A.cullFace!==v&&(v=A.cullFace,S.cullFace(v)),A.frontFace!==y&&(y=A.frontFace,S.frontFace(y)),A.culling!==m&&(m=A.culling,m?S.enable(S.CULL_FACE):S.disable(S.CULL_FACE)),this._updateSkeleton(A,L,w),k&&(x=this._bindVAO(E,I,D,L)),this._renderObject(A,x,L),n.afterRender(this,A),A.afterRender&&A.afterRender(this),h=L,d=A}}E&&E.bindVertexArrayOES(null),this.trigger("afterrenderpass",this,e,t,n)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(e,t,n){var r=this.gl,i=e.skeleton;if(i)if(i.update(),e.joints.length>this.getMaxJointNumber()){var a=i.getSubSkinMatricesTexture(e.__uid__,e.joints);t.useTextureSlot(this,a,n),t.setUniform(r,"1i","skinMatricesTexture",n),t.setUniform(r,"1f","skinMatricesTextureSize",a.width)}else{var o=i.getSubSkinMatrices(e.__uid__,e.joints);t.setUniformOfSemantic(r,"SKIN_MATRIX",o)}},_renderObject:function(e,t,n){var r=this.gl,i=e.geometry,a=e.mode;null==a&&(a=4);var o=null,s=e.isInstancedMesh&&e.isInstancedMesh();if(!s||(o=this.getGLExtension("ANGLE_instanced_arrays"),o)){var u;if(s&&(u=this._bindInstancedAttributes(e,n,o)),t.indicesBuffer){var l=this.getGLExtension("OES_element_index_uint"),c=l&&i.indices instanceof Uint32Array,f=c?r.UNSIGNED_INT:r.UNSIGNED_SHORT;s?o.drawElementsInstancedANGLE(a,t.indicesBuffer.count,f,0,e.getInstanceCount()):r.drawElements(a,t.indicesBuffer.count,f,0)}else s?o.drawArraysInstancedANGLE(a,0,i.vertexCount,e.getInstanceCount()):r.drawArrays(a,0,i.vertexCount);if(s)for(var h=0;h<u.length;h++)r.disableVertexAttribArray(u[h])}else console.warn("Device not support ANGLE_instanced_arrays extension")},_bindInstancedAttributes:function(e,t,n){for(var r=this.gl,i=e.getInstancedAttributesBuffers(this),a=[],o=0;o<i.length;o++){var s=i[o],u=t.getAttribLocation(r,s.symbol);if(!(u<0)){var l=YE[s.type]||r.FLOAT;r.enableVertexAttribArray(u),r.bindBuffer(r.ARRAY_BUFFER,s.buffer),r.vertexAttribPointer(u,s.size,l,!1,0,0),n.vertexAttribDivisorANGLE(u,s.divisor),a.push(u)}}return a},_bindMaterial:function(e,t,n,r,i,a,o){for(var s=this.gl,u=a===n,l=n.currentTextureSlot(),c=t.getEnabledUniforms(),f=t.getTextureUniforms(),h=this._placeholderTexture,d=0;d<f.length;d++){var p=f[d],g=o(e,t,p),m=t.uniforms[p].type;if("t"===m&&g)g.__slot=-1;else if("tv"===m)for(var v=0;v<g.length;v++)g[v]&&(g[v].__slot=-1)}h.__slot=-1;for(d=0;d<c.length;d++){p=c[d];var y=t.uniforms[p],_=(g=o(e,t,p),m=y.type,"t"===m);if(_&&(g&&g.isRenderable()||(g=h)),i&&u){var b=o(r,i,p);if(_&&(b&&b.isRenderable()||(b=h)),b===g){if(_)n.takeCurrentTextureSlot(this,null);else if("tv"===m&&g)for(v=0;v<g.length;v++)n.takeCurrentTextureSlot(this,null);continue}}if(null!=g)if(_)if(g.__slot<0){var x=n.currentTextureSlot(),w=n.setUniform(s,"1i",p,x);w&&(n.takeCurrentTextureSlot(this,g),g.__slot=x)}else n.setUniform(s,"1i",p,g.__slot);else if(Array.isArray(g)){if(0===g.length)continue;if("tv"===m){if(!n.hasUniform(p))continue;var S=[];for(v=0;v<g.length;v++){var T=g[v];if(T.__slot<0){x=n.currentTextureSlot();S.push(x),n.takeCurrentTextureSlot(this,T),T.__slot=x}else S.push(T.__slot)}n.setUniform(s,"1iv",p,S)}else n.setUniform(s,y.type,p,g)}else n.setUniform(s,y.type,p,g)}var E=n.currentTextureSlot();return n.resetTextureSlot(l),E},_bindVAO:function(e,t,n,r){var i=!n.dynamic,a=this.gl,o=this.__uid__+"-"+r.__uid__,s=n.__vaoCache[o];if(!s){var u=n.getBufferChunks(this);if(!u||!u.length)return;for(var l=u[0],c=l.attributeBuffers,f=l.indicesBuffer,h=[],d=[],p=0;p<c.length;p++){var g,m=c[p],v=m.name,y=m.semantic;if(y){var _=t.attributeSemantics[y];g=_&&_.symbol}else g=v;g&&r.attributes[g]&&(h.push(m),d.push(g))}s=new ZE(h,d,f),i&&(n.__vaoCache[o]=s)}var b=!0;e&&i&&(null==s.vao?s.vao=e.createVertexArrayOES():b=!1,e.bindVertexArrayOES(s.vao));h=s.availableAttributes,f=s.indicesBuffer;if(b){var x=r.enableAttributes(this,s.availableAttributeSymbols,e&&i&&s);for(p=0;p<h.length;p++){var w=x[p];if(-1!==w){m=h[p];var S=m.buffer,T=m.size,E=YE[m.type]||a.FLOAT;a.bindBuffer(a.ARRAY_BUFFER,S),a.vertexAttribPointer(w,T,E,!1,0,0)}}n.isUseIndices()&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,f.buffer)}return s},renderPreZ:function(e,t,n){var r=this.gl,i=this._prezMaterial||new XT({shader:new NE(NE.source("clay.prez.vertex"),NE.source("clay.prez.fragment"))});this._prezMaterial=i,r.colorMask(!1,!1,!1,!1),r.depthMask(!0),this.renderPass(e,n,{ifRender:function(e){return!e.ignorePreZ},isMaterialChanged:function(e,t){var n=e.material,r=t.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)},getUniform:function(e,t,n){if("alphaMap"===n)return e.material.get("diffuseMap");if("alphaCutoff"===n){if(e.material.isDefined("fragment","ALPHA_TEST")&&e.material.get("diffuseMap")){var r=e.material.get("alphaCutoff");return r||0}return 0}return"uvRepeat"===n?e.material.get("uvRepeat"):"uvOffset"===n?e.material.get("uvOffset"):t.get(n)},getMaterial:function(){return i},sort:this.opaqueSortCompare}),r.colorMask(!0,!0,!0,!0),r.depthMask(!0)},disposeScene:function(e){this.disposeNode(e,!0,!0),e.dispose()},disposeNode:function(e,t,n){e.getParent()&&e.getParent().remove(e);var r={};e.traverse((function(e){var i=e.material;if(e.geometry&&t&&e.geometry.dispose(this),n&&i&&!r[i.__uid__]){for(var a=i.getTextureUniforms(),o=0;o<a.length;o++){var s=a[o],u=i.uniforms[s].value,l=i.uniforms[s].type;if(u)if("t"===l)u.dispose&&u.dispose(this);else if("tv"===l)for(var c=0;c<u.length;c++)u[c]&&u[c].dispose&&u[c].dispose(this)}r[i.__uid__]=!0}e.dispose&&e.dispose(this)}),this)},disposeGeometry:function(e){e.dispose(this)},disposeTexture:function(e){e.dispose(this)},disposeFrameBuffer:function(e){e.dispose(this)},dispose:function(){},screenToNDC:function(e,t,n){n||(n=new eE),t=this._height-t;var r=this.viewport,i=n.array;return i[0]=(e-r.x)/r.width,i[0]=2*i[0]-1,i[1]=(t-r.y)/r.height,i[1]=2*i[1]-1,n}});QE.opaqueSortCompare=QE.prototype.opaqueSortCompare=function(e,t){return e.renderOrder===t.renderOrder?e.__program===t.__program?e.material===t.material?e.geometry.__uid__-t.geometry.__uid__:e.material.__uid__-t.material.__uid__:e.__program&&t.__program?e.__program.__uid__-t.__program.__uid__:0:e.renderOrder-t.renderOrder},QE.transparentSortCompare=QE.prototype.transparentSortCompare=function(e,t){return e.renderOrder===t.renderOrder?e.__depth===t.__depth?e.__program===t.__program?e.material===t.material?e.geometry.__uid__-t.geometry.__uid__:e.material.__uid__-t.material.__uid__:e.__program&&t.__program?e.__program.__uid__-t.__program.__uid__:0:e.__depth-t.__depth:e.renderOrder-t.renderOrder};var JE={IDENTITY:UE(),WORLD:UE(),VIEW:UE(),PROJECTION:UE(),WORLDVIEW:UE(),VIEWPROJECTION:UE(),WORLDVIEWPROJECTION:UE(),WORLDINVERSE:UE(),VIEWINVERSE:UE(),PROJECTIONINVERSE:UE(),WORLDVIEWINVERSE:UE(),VIEWPROJECTIONINVERSE:UE(),WORLDVIEWPROJECTIONINVERSE:UE(),WORLDTRANSPOSE:UE(),VIEWTRANSPOSE:UE(),PROJECTIONTRANSPOSE:UE(),WORLDVIEWTRANSPOSE:UE(),VIEWPROJECTIONTRANSPOSE:UE(),WORLDVIEWPROJECTIONTRANSPOSE:UE(),WORLDINVERSETRANSPOSE:UE(),VIEWINVERSETRANSPOSE:UE(),PROJECTIONINVERSETRANSPOSE:UE(),WORLDVIEWINVERSETRANSPOSE:UE(),VIEWPROJECTIONINVERSETRANSPOSE:UE(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:UE()};QE.COLOR_BUFFER_BIT=yT.COLOR_BUFFER_BIT,QE.DEPTH_BUFFER_BIT=yT.DEPTH_BUFFER_BIT,QE.STENCIL_BUFFER_BIT=yT.STENCIL_BUFFER_BIT;var eM=QE,tM=function(e,t,n){e=e||0,t=t||0,n=n||0,this.array=HE.fromValues(e,t,n),this._dirty=!0};tM.prototype={constructor:tM,add:function(e){return HE.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t,n){return this.array[0]=e,this.array[1]=t,this.array[2]=n,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this._dirty=!0,this},clone:function(){return new tM(this.x,this.y,this.z)},copy:function(e){return HE.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,t){return HE.cross(this.array,e.array,t.array),this._dirty=!0,this},dist:function(e){return HE.dist(this.array,e.array)},distance:function(e){return HE.distance(this.array,e.array)},div:function(e){return HE.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return HE.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return HE.dot(this.array,e.array)},len:function(){return HE.len(this.array)},length:function(){return HE.length(this.array)},lerp:function(e,t,n){return HE.lerp(this.array,e.array,t.array,n),this._dirty=!0,this},min:function(e){return HE.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return HE.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return HE.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return HE.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return HE.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return HE.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return HE.random(this.array,e),this._dirty=!0,this},scale:function(e){return HE.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return HE.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return HE.sqrDist(this.array,e.array)},squaredDistance:function(e){return HE.squaredDistance(this.array,e.array)},sqrLen:function(){return HE.sqrLen(this.array)},squaredLength:function(){return HE.squaredLength(this.array)},sub:function(e){return HE.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return HE.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return HE.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return HE.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return HE.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},applyProjection:function(e){var t=this.array;if(e=e.array,0===e[15]){var n=-1/t[2];t[0]=e[0]*t[0]*n,t[1]=e[5]*t[1]*n,t[2]=(e[10]*t[2]+e[14])*n}else t[0]=e[0]*t[0]+e[12],t[1]=e[5]*t[1]+e[13],t[2]=e[10]*t[2]+e[14];return this._dirty=!0,this},eulerFromQuat:function(e,t){tM.eulerFromQuat(this,e,t)},eulerFromMat3:function(e,t){tM.eulerFromMat3(this,e,t)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var nM=Object.defineProperty;if(nM){var rM=tM.prototype;nM(rM,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),nM(rM,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),nM(rM,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}})}function iM(e,t,n){return e<t?t:e>n?n:e}tM.add=function(e,t,n){return HE.add(e.array,t.array,n.array),e._dirty=!0,e},tM.set=function(e,t,n,r){HE.set(e.array,t,n,r),e._dirty=!0},tM.copy=function(e,t){return HE.copy(e.array,t.array),e._dirty=!0,e},tM.cross=function(e,t,n){return HE.cross(e.array,t.array,n.array),e._dirty=!0,e},tM.dist=function(e,t){return HE.distance(e.array,t.array)},tM.distance=tM.dist,tM.div=function(e,t,n){return HE.divide(e.array,t.array,n.array),e._dirty=!0,e},tM.divide=tM.div,tM.dot=function(e,t){return HE.dot(e.array,t.array)},tM.len=function(e){return HE.length(e.array)},tM.lerp=function(e,t,n,r){return HE.lerp(e.array,t.array,n.array,r),e._dirty=!0,e},tM.min=function(e,t,n){return HE.min(e.array,t.array,n.array),e._dirty=!0,e},tM.max=function(e,t,n){return HE.max(e.array,t.array,n.array),e._dirty=!0,e},tM.mul=function(e,t,n){return HE.multiply(e.array,t.array,n.array),e._dirty=!0,e},tM.multiply=tM.mul,tM.negate=function(e,t){return HE.negate(e.array,t.array),e._dirty=!0,e},tM.normalize=function(e,t){return HE.normalize(e.array,t.array),e._dirty=!0,e},tM.random=function(e,t){return HE.random(e.array,t),e._dirty=!0,e},tM.scale=function(e,t,n){return HE.scale(e.array,t.array,n),e._dirty=!0,e},tM.scaleAndAdd=function(e,t,n,r){return HE.scaleAndAdd(e.array,t.array,n.array,r),e._dirty=!0,e},tM.sqrDist=function(e,t){return HE.sqrDist(e.array,t.array)},tM.squaredDistance=tM.sqrDist,tM.sqrLen=function(e){return HE.sqrLen(e.array)},tM.squaredLength=tM.sqrLen,tM.sub=function(e,t,n){return HE.subtract(e.array,t.array,n.array),e._dirty=!0,e},tM.subtract=tM.sub,tM.transformMat3=function(e,t,n){return HE.transformMat3(e.array,t.array,n.array),e._dirty=!0,e},tM.transformMat4=function(e,t,n){return HE.transformMat4(e.array,t.array,n.array),e._dirty=!0,e},tM.transformQuat=function(e,t,n){return HE.transformQuat(e.array,t.array,n.array),e._dirty=!0,e};var aM=Math.atan2,oM=Math.asin,sM=Math.abs;tM.eulerFromQuat=function(e,t,n){e._dirty=!0,t=t.array;var r=e.array,i=t[0],a=t[1],o=t[2],s=t[3],u=i*i,l=a*a,c=o*o,f=s*s;n=(n||"XYZ").toUpperCase();switch(n){case"XYZ":r[0]=aM(2*(i*s-a*o),f-u-l+c),r[1]=oM(iM(2*(i*o+a*s),-1,1)),r[2]=aM(2*(o*s-i*a),f+u-l-c);break;case"YXZ":r[0]=oM(iM(2*(i*s-a*o),-1,1)),r[1]=aM(2*(i*o+a*s),f-u-l+c),r[2]=aM(2*(i*a+o*s),f-u+l-c);break;case"ZXY":r[0]=oM(iM(2*(i*s+a*o),-1,1)),r[1]=aM(2*(a*s-o*i),f-u-l+c),r[2]=aM(2*(o*s-i*a),f-u+l-c);break;case"ZYX":r[0]=aM(2*(i*s+o*a),f-u-l+c),r[1]=oM(iM(2*(a*s-i*o),-1,1)),r[2]=aM(2*(i*a+o*s),f+u-l-c);break;case"YZX":r[0]=aM(2*(i*s-o*a),f-u+l-c),r[1]=aM(2*(a*s-i*o),f+u-l-c),r[2]=oM(iM(2*(i*a+o*s),-1,1));break;case"XZY":r[0]=aM(2*(i*s+a*o),f-u+l-c),r[1]=aM(2*(i*o+a*s),f+u-l-c),r[2]=oM(iM(2*(o*s-i*a),-1,1));break;default:console.warn("Unkown order: "+n)}return e},tM.eulerFromMat3=function(e,t,n){var r=t.array,i=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7],c=r[2],f=r[5],h=r[8],d=e.array;n=(n||"XYZ").toUpperCase();switch(n){case"XYZ":d[1]=oM(iM(o,-1,1)),sM(o)<.99999?(d[0]=aM(-l,h),d[2]=aM(-a,i)):(d[0]=aM(f,u),d[2]=0);break;case"YXZ":d[0]=oM(-iM(l,-1,1)),sM(l)<.99999?(d[1]=aM(o,h),d[2]=aM(s,u)):(d[1]=aM(-c,i),d[2]=0);break;case"ZXY":d[0]=oM(iM(f,-1,1)),sM(f)<.99999?(d[1]=aM(-c,h),d[2]=aM(-a,u)):(d[1]=0,d[2]=aM(s,i));break;case"ZYX":d[1]=oM(-iM(c,-1,1)),sM(c)<.99999?(d[0]=aM(f,h),d[2]=aM(s,i)):(d[0]=0,d[2]=aM(-a,u));break;case"YZX":d[2]=oM(iM(s,-1,1)),sM(s)<.99999?(d[0]=aM(-l,u),d[1]=aM(-c,i)):(d[0]=0,d[1]=aM(o,h));break;case"XZY":d[2]=oM(-iM(a,-1,1)),sM(a)<.99999?(d[0]=aM(f,u),d[1]=aM(o,i)):(d[0]=aM(-l,h),d[1]=0);break;default:console.warn("Unkown order: "+n)}return e._dirty=!0,e},Object.defineProperties(tM,{POSITIVE_X:{get:function(){return new tM(1,0,0)}},NEGATIVE_X:{get:function(){return new tM(-1,0,0)}},POSITIVE_Y:{get:function(){return new tM(0,1,0)}},NEGATIVE_Y:{get:function(){return new tM(0,-1,0)}},POSITIVE_Z:{get:function(){return new tM(0,0,1)}},NEGATIVE_Z:{get:function(){return new tM(0,0,-1)}},UP:{get:function(){return new tM(0,1,0)}},ZERO:{get:function(){return new tM}}});var uM=tM,lM=1e-5,cM=function(e,t){this.origin=e||new uM,this.direction=t||new uM};cM.prototype={constructor:cM,intersectPlane:function(e,t){var n=e.normal.array,r=e.distance,i=this.origin.array,a=this.direction.array,o=HE.dot(n,a);if(0===o)return null;t||(t=new uM);var s=(HE.dot(n,i)-r)/o;return HE.scaleAndAdd(t.array,i,a,-s),t._dirty=!0,t},mirrorAgainstPlane:function(e){var t=HE.dot(e.normal.array,this.direction.array);HE.scaleAndAdd(this.direction.array,this.direction.array,e.normal.array,2*-t),this.direction._dirty=!0},distanceToPoint:function(){var e=HE.create();return function(t){HE.sub(e,t,this.origin.array);var n=HE.dot(e,this.direction.array);if(n<0)return HE.distance(this.origin.array,t);var r=HE.lenSquared(e);return Math.sqrt(r-n*n)}}(),intersectSphere:function(){var e=HE.create();return function(t,n,r){var i=this.origin.array,a=this.direction.array;t=t.array,HE.sub(e,t,i);var o=HE.dot(e,a),s=HE.squaredLength(e),u=s-o*o,l=n*n;if(!(u>l)){var c=Math.sqrt(l-u),f=o-c,h=o+c;return r||(r=new uM),f<0?h<0?null:(HE.scaleAndAdd(r.array,i,a,h),r):(HE.scaleAndAdd(r.array,i,a,f),r)}}}(),intersectBoundingBox:function(e,t){var n,r,i,a,o,s,u=this.direction.array,l=this.origin.array,c=e.min.array,f=e.max.array,h=1/u[0],d=1/u[1],p=1/u[2];if(h>=0?(n=(c[0]-l[0])*h,r=(f[0]-l[0])*h):(r=(c[0]-l[0])*h,n=(f[0]-l[0])*h),d>=0?(i=(c[1]-l[1])*d,a=(f[1]-l[1])*d):(a=(c[1]-l[1])*d,i=(f[1]-l[1])*d),n>a||i>r)return null;if((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),p>=0?(o=(c[2]-l[2])*p,s=(f[2]-l[2])*p):(s=(c[2]-l[2])*p,o=(f[2]-l[2])*p),n>s||o>r)return null;if((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0)return null;var g=n>=0?n:r;return t||(t=new uM),HE.scaleAndAdd(t.array,l,u,g),t},intersectTriangle:function(){var e=HE.create(),t=HE.create(),n=HE.create(),r=HE.create();return function(i,a,o,s,u,l){var c=this.direction.array,f=this.origin.array;i=i.array,a=a.array,o=o.array,HE.sub(e,a,i),HE.sub(t,o,i),HE.cross(r,t,c);var h=HE.dot(e,r);if(s){if(h>-lM)return null}else if(h>-lM&&h<lM)return null;HE.sub(n,f,i);var d=HE.dot(r,n)/h;if(d<0||d>1)return null;HE.cross(r,e,n);var p=HE.dot(c,r)/h;if(p<0||p>1||d+p>1)return null;HE.cross(r,e,t);var g=-HE.dot(n,r)/h;return g<0?null:(u||(u=new uM),l&&uM.set(l,1-d-p,d,p),HE.scaleAndAdd(u.array,f,c,g),u)}}(),applyTransform:function(e){uM.add(this.direction,this.direction,this.origin),uM.transformMat4(this.origin,this.origin,e),uM.transformMat4(this.direction,this.direction,e),uM.sub(this.direction,this.direction,this.origin),uM.normalize(this.direction,this.direction)},copy:function(e){uM.copy(this.origin,e.origin),uM.copy(this.direction,e.direction)},clone:function(){var e=new cM;return e.copy(this),e}};var fM=cM,hM={create:function(){var e=new qT(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},clone:function(e){var t=new qT(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},fromValues:function(e,t,n,r){var i=new qT(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},set:function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}};hM.sub=hM.subtract,hM.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},hM.mul=hM.multiply,hM.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e},hM.div=hM.divide,hM.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},hM.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},hM.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},hM.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},hM.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+a*a)},hM.dist=hM.distance,hM.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return n*n+r*r+i*i+a*a},hM.sqrDist=hM.squaredDistance,hM.length=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)},hM.len=hM.length,hM.squaredLength=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i},hM.sqrLen=hM.squaredLength,hM.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},hM.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},hM.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o),e},hM.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},hM.lerp=function(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e[3]=s+r*(n[3]-s),e},hM.random=function(e,t){return t=t||1,e[0]=YT(),e[1]=YT(),e[2]=YT(),e[3]=YT(),hM.normalize(e,e),hM.scale(e,e,t),e},hM.transformMat4=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e},hM.transformQuat=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*a-u*i,f=l*i+u*r-o*a,h=l*a+o*i-s*r,d=-o*r-s*i-u*a;return e[0]=c*l+d*-o+f*-u-h*-s,e[1]=f*l+d*-s+h*-o-c*-u,e[2]=h*l+d*-u+c*-s-f*-o,e},hM.forEach=function(){var e=hM.create();return function(t,n,r,i,a,o){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();var dM=hM,pM={create:function(){var e=new qT(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat4:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},clone:function(e){var t=new qT(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=c*o-s*l,h=-c*a+s*u,d=l*a-o*u,p=n*f+r*h+i*d;return p?(p=1/p,e[0]=f*p,e[1]=(-c*r+i*l)*p,e[2]=(s*r-i*o)*p,e[3]=h*p,e[4]=(c*n-i*u)*p,e[5]=(-s*n+i*a)*p,e[6]=d*p,e[7]=(-l*n+r*u)*p,e[8]=(o*n-r*a)*p,e):null},adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8];return e[0]=o*c-s*l,e[1]=i*l-r*c,e[2]=r*s-i*o,e[3]=s*u-a*c,e[4]=n*c-i*u,e[5]=i*a-n*s,e[6]=a*l-o*u,e[7]=r*u-n*l,e[8]=n*o-r*a,e},determinant:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*(l*a-o*u)+n*(-l*i+o*s)+r*(u*i-a*s)},multiply:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=n[0],d=n[1],p=n[2],g=n[3],m=n[4],v=n[5],y=n[6],_=n[7],b=n[8];return e[0]=h*r+d*o+p*l,e[1]=h*i+d*s+p*c,e[2]=h*a+d*u+p*f,e[3]=g*r+m*o+v*l,e[4]=g*i+m*s+v*c,e[5]=g*a+m*u+v*f,e[6]=y*r+_*o+b*l,e[7]=y*i+_*s+b*c,e[8]=y*a+_*u+b*f,e}};pM.mul=pM.multiply,pM.translate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=n[0],d=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=h*r+d*o+l,e[7]=h*i+d*s+c,e[8]=h*a+d*u+f,e},pM.rotate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=Math.sin(n),d=Math.cos(n);return e[0]=d*r+h*o,e[1]=d*i+h*s,e[2]=d*a+h*u,e[3]=d*o-h*r,e[4]=d*s-h*i,e[5]=d*u-h*a,e[6]=l,e[7]=c,e[8]=f,e},pM.scale=function(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},pM.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},pM.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,f=r*s,h=i*o,d=i*s,p=i*u,g=a*o,m=a*s,v=a*u;return e[0]=1-f-p,e[3]=c-v,e[6]=h+m,e[1]=c+v,e[4]=1-l-p,e[7]=d-g,e[2]=h-m,e[5]=d+g,e[8]=1-l-f,e},pM.normalFromMat4=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],g=t[13],m=t[14],v=t[15],y=n*s-r*o,_=n*u-i*o,b=n*l-a*o,x=r*u-i*s,w=r*l-a*s,S=i*l-a*u,T=c*g-f*p,E=c*m-h*p,M=c*v-d*p,C=f*m-h*g,A=f*v-d*g,O=h*v-d*m,D=y*O-_*A+b*C+x*M-w*E+S*T;return D?(D=1/D,e[0]=(s*O-u*A+l*C)*D,e[1]=(u*M-o*O-l*E)*D,e[2]=(o*A-s*M+l*T)*D,e[3]=(i*A-r*O-a*C)*D,e[4]=(n*O-i*M+a*E)*D,e[5]=(r*M-n*A-a*T)*D,e[6]=(g*S-m*w+v*x)*D,e[7]=(m*b-p*S-v*_)*D,e[8]=(p*w-g*b+v*y)*D,e):null},pM.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))};var gM=pM,mM={create:function(){var e=new qT(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}};mM.rotationTo=function(){var e=HE.create(),t=HE.fromValues(1,0,0),n=HE.fromValues(0,1,0);return function(r,i,a){var o=HE.dot(i,a);return o<-.999999?(HE.cross(e,t,i),HE.length(e)<1e-6&&HE.cross(e,n,i),HE.normalize(e,e),mM.setAxisAngle(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(HE.cross(e,i,a),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,mM.normalize(r,r))}}(),mM.setAxes=function(){var e=gM.create();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],mM.normalize(t,mM.fromMat3(t,e))}}(),mM.clone=dM.clone,mM.fromValues=dM.fromValues,mM.copy=dM.copy,mM.set=dM.set,mM.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},mM.setAxisAngle=function(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e},mM.add=dM.add,mM.multiply=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+o*s+i*l-a*u,e[1]=i*c+o*u+a*s-r*l,e[2]=a*c+o*l+r*u-i*s,e[3]=o*c-r*s-i*u-a*l,e},mM.mul=mM.multiply,mM.scale=dM.scale,mM.rotateX=function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=i*u+a*s,e[2]=a*u-i*s,e[3]=o*u-r*s,e},mM.rotateY=function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u-a*s,e[1]=i*u+o*s,e[2]=a*u+r*s,e[3]=o*u-i*s,e},mM.rotateZ=function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=i*u-r*s,e[2]=a*u+o*s,e[3]=o*u-a*s,e},mM.calculateW=function(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e},mM.dot=dM.dot,mM.lerp=dM.lerp,mM.slerp=function(e,t,n,r){var i,a,o,s,u,l=t[0],c=t[1],f=t[2],h=t[3],d=n[0],p=n[1],g=n[2],m=n[3];return a=l*d+c*p+f*g+h*m,a<0&&(a=-a,d=-d,p=-p,g=-g,m=-m),1-a>1e-6?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,u=Math.sin(r*i)/o):(s=1-r,u=r),e[0]=s*l+u*d,e[1]=s*c+u*p,e[2]=s*f+u*g,e[3]=s*h+u*m,e},mM.invert=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=a*s,e},mM.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},mM.length=dM.length,mM.len=mM.length,mM.squaredLength=dM.squaredLength,mM.sqrLen=mM.squaredLength,mM.normalize=dM.normalize,mM.fromMat3=function(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*o+o]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*a+o]-t[3*o+a])*n,e[a]=(t[3*a+i]+t[3*i+a])*n,e[o]=(t[3*o+i]+t[3*i+o])*n}return e};var vM=mM,yM=function(){this._axisX=new uM,this._axisY=new uM,this._axisZ=new uM,this.array=zE.create(),this._dirty=!0};yM.prototype={constructor:yM,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},adjoint:function(){return zE.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new yM).copy(this)},copy:function(e){return zE.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return zE.determinant(this.array)},fromQuat:function(e){return zE.fromQuat(this.array,e.array),this._dirty=!0,this},fromRotationTranslation:function(e,t){return zE.fromRotationTranslation(this.array,e.array,t.array),this._dirty=!0,this},fromMat2d:function(e){return yM.fromMat2d(this,e),this},frustum:function(e,t,n,r,i,a){return zE.frustum(this.array,e,t,n,r,i,a),this._dirty=!0,this},identity:function(){return zE.identity(this.array),this._dirty=!0,this},invert:function(){return zE.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(e,t,n){return zE.lookAt(this.array,e.array,t.array,n.array),this._dirty=!0,this},mul:function(e){return zE.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return zE.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return zE.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return zE.multiply(this.array,e.array,this.array),this._dirty=!0,this},ortho:function(e,t,n,r,i,a){return zE.ortho(this.array,e,t,n,r,i,a),this._dirty=!0,this},perspective:function(e,t,n,r){return zE.perspective(this.array,e,t,n,r),this._dirty=!0,this},rotate:function(e,t){return zE.rotate(this.array,this.array,e,t.array),this._dirty=!0,this},rotateX:function(e){return zE.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return zE.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return zE.rotateZ(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return zE.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return zE.translate(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return zE.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var e=HE.create(),t=HE.create(),n=HE.create(),r=gM.create();return function(i,a,o){var s=this.array;HE.set(e,s[0],s[1],s[2]),HE.set(t,s[4],s[5],s[6]),HE.set(n,s[8],s[9],s[10]);var u=HE.length(e),l=HE.length(t),c=HE.length(n),f=this.determinant();f<0&&(u=-u),i&&i.set(u,l,c),o.set(s[12],s[13],s[14]),gM.fromMat4(r,s),r[0]/=u,r[1]/=u,r[2]/=u,r[3]/=l,r[4]/=l,r[5]/=l,r[6]/=c,r[7]/=c,r[8]/=c,vM.fromMat3(a.array,r),vM.normalize(a.array,a.array),a._dirty=!0,o._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var _M=Object.defineProperty;if(_M){var bM=yM.prototype;_M(bM,"z",{get:function(){var e=this.array;return this._axisZ.set(e[8],e[9],e[10]),this._axisZ},set:function(e){var t=this.array;e=e.array,t[8]=e[0],t[9]=e[1],t[10]=e[2],this._dirty=!0}}),_M(bM,"y",{get:function(){var e=this.array;return this._axisY.set(e[4],e[5],e[6]),this._axisY},set:function(e){var t=this.array;e=e.array,t[4]=e[0],t[5]=e[1],t[6]=e[2],this._dirty=!0}}),_M(bM,"x",{get:function(){var e=this.array;return this._axisX.set(e[0],e[1],e[2]),this._axisX},set:function(e){var t=this.array;e=e.array,t[0]=e[0],t[1]=e[1],t[2]=e[2],this._dirty=!0}})}yM.adjoint=function(e,t){return zE.adjoint(e.array,t.array),e._dirty=!0,e},yM.copy=function(e,t){return zE.copy(e.array,t.array),e._dirty=!0,e},yM.determinant=function(e){return zE.determinant(e.array)},yM.identity=function(e){return zE.identity(e.array),e._dirty=!0,e},yM.ortho=function(e,t,n,r,i,a,o){return zE.ortho(e.array,t,n,r,i,a,o),e._dirty=!0,e},yM.perspective=function(e,t,n,r,i){return zE.perspective(e.array,t,n,r,i),e._dirty=!0,e},yM.lookAt=function(e,t,n,r){return zE.lookAt(e.array,t.array,n.array,r.array),e._dirty=!0,e},yM.invert=function(e,t){return zE.invert(e.array,t.array),e._dirty=!0,e},yM.mul=function(e,t,n){return zE.mul(e.array,t.array,n.array),e._dirty=!0,e},yM.multiply=yM.mul,yM.fromQuat=function(e,t){return zE.fromQuat(e.array,t.array),e._dirty=!0,e},yM.fromRotationTranslation=function(e,t,n){return zE.fromRotationTranslation(e.array,t.array,n.array),e._dirty=!0,e},yM.fromMat2d=function(e,t){e._dirty=!0;t=t.array,e=e.array;return e[0]=t[0],e[4]=t[2],e[12]=t[4],e[1]=t[1],e[5]=t[3],e[13]=t[5],e},yM.rotate=function(e,t,n,r){return zE.rotate(e.array,t.array,n,r.array),e._dirty=!0,e},yM.rotateX=function(e,t,n){return zE.rotateX(e.array,t.array,n),e._dirty=!0,e},yM.rotateY=function(e,t,n){return zE.rotateY(e.array,t.array,n),e._dirty=!0,e},yM.rotateZ=function(e,t,n){return zE.rotateZ(e.array,t.array,n),e._dirty=!0,e},yM.scale=function(e,t,n){return zE.scale(e.array,t.array,n.array),e._dirty=!0,e},yM.transpose=function(e,t){return zE.transpose(e.array,t.array),e._dirty=!0,e},yM.translate=function(e,t,n){return zE.translate(e.array,t.array,n.array),e._dirty=!0,e};var xM=yM,wM=function(e,t,n,r){e=e||0,t=t||0,n=n||0,r=void 0===r?1:r,this.array=vM.fromValues(e,t,n,r),this._dirty=!0};wM.prototype={constructor:wM,add:function(e){return vM.add(this.array,this.array,e.array),this._dirty=!0,this},calculateW:function(){return vM.calculateW(this.array,this.array),this._dirty=!0,this},set:function(e,t,n,r){return this.array[0]=e,this.array[1]=t,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new wM(this.x,this.y,this.z,this.w)},conjugate:function(){return vM.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(e){return vM.copy(this.array,e.array),this._dirty=!0,this},dot:function(e){return vM.dot(this.array,e.array)},fromMat3:function(e){return vM.fromMat3(this.array,e.array),this._dirty=!0,this},fromMat4:function(){var e=gM.create();return function(t){return gM.fromMat4(e,t.array),gM.transpose(e,e),vM.fromMat3(this.array,e),this._dirty=!0,this}}(),identity:function(){return vM.identity(this.array),this._dirty=!0,this},invert:function(){return vM.invert(this.array,this.array),this._dirty=!0,this},len:function(){return vM.len(this.array)},length:function(){return vM.length(this.array)},lerp:function(e,t,n){return vM.lerp(this.array,e.array,t.array,n),this._dirty=!0,this},mul:function(e){return vM.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return vM.multiply(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return vM.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return vM.multiply(this.array,e.array,this.array),this._dirty=!0,this},normalize:function(){return vM.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(e){return vM.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return vM.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return vM.rotateZ(this.array,this.array,e),this._dirty=!0,this},rotationTo:function(e,t){return vM.rotationTo(this.array,e.array,t.array),this._dirty=!0,this},setAxes:function(e,t,n){return vM.setAxes(this.array,e.array,t.array,n.array),this._dirty=!0,this},setAxisAngle:function(e,t){return vM.setAxisAngle(this.array,e.array,t),this._dirty=!0,this},slerp:function(e,t,n){return vM.slerp(this.array,e.array,t.array,n),this._dirty=!0,this},sqrLen:function(){return vM.sqrLen(this.array)},squaredLength:function(){return vM.squaredLength(this.array)},fromEuler:function(e,t){return wM.fromEuler(this,e,t)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var SM=Object.defineProperty;if(SM){var TM=wM.prototype;SM(TM,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),SM(TM,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),SM(TM,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),SM(TM,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}wM.add=function(e,t,n){return vM.add(e.array,t.array,n.array),e._dirty=!0,e},wM.set=function(e,t,n,r,i){vM.set(e.array,t,n,r,i),e._dirty=!0},wM.copy=function(e,t){return vM.copy(e.array,t.array),e._dirty=!0,e},wM.calculateW=function(e,t){return vM.calculateW(e.array,t.array),e._dirty=!0,e},wM.conjugate=function(e,t){return vM.conjugate(e.array,t.array),e._dirty=!0,e},wM.identity=function(e){return vM.identity(e.array),e._dirty=!0,e},wM.invert=function(e,t){return vM.invert(e.array,t.array),e._dirty=!0,e},wM.dot=function(e,t){return vM.dot(e.array,t.array)},wM.len=function(e){return vM.length(e.array)},wM.lerp=function(e,t,n,r){return vM.lerp(e.array,t.array,n.array,r),e._dirty=!0,e},wM.slerp=function(e,t,n,r){return vM.slerp(e.array,t.array,n.array,r),e._dirty=!0,e},wM.mul=function(e,t,n){return vM.multiply(e.array,t.array,n.array),e._dirty=!0,e},wM.multiply=wM.mul,wM.rotateX=function(e,t,n){return vM.rotateX(e.array,t.array,n),e._dirty=!0,e},wM.rotateY=function(e,t,n){return vM.rotateY(e.array,t.array,n),e._dirty=!0,e},wM.rotateZ=function(e,t,n){return vM.rotateZ(e.array,t.array,n),e._dirty=!0,e},wM.setAxisAngle=function(e,t,n){return vM.setAxisAngle(e.array,t.array,n),e._dirty=!0,e},wM.normalize=function(e,t){return vM.normalize(e.array,t.array),e._dirty=!0,e},wM.sqrLen=function(e){return vM.sqrLen(e.array)},wM.squaredLength=wM.sqrLen,wM.fromMat3=function(e,t){return vM.fromMat3(e.array,t.array),e._dirty=!0,e},wM.setAxes=function(e,t,n,r){return vM.setAxes(e.array,t.array,n.array,r.array),e._dirty=!0,e},wM.rotationTo=function(e,t,n){return vM.rotationTo(e.array,t.array,n.array),e._dirty=!0,e},wM.fromEuler=function(e,t,n){e._dirty=!0,t=t.array;var r=e.array,i=Math.cos(t[0]/2),a=Math.cos(t[1]/2),o=Math.cos(t[2]/2),s=Math.sin(t[0]/2),u=Math.sin(t[1]/2),l=Math.sin(t[2]/2);n=(n||"XYZ").toUpperCase();switch(n){case"XYZ":r[0]=s*a*o+i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o-s*u*l;break;case"YXZ":r[0]=s*a*o+i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o+s*u*l;break;case"ZXY":r[0]=s*a*o-i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o-s*u*l;break;case"ZYX":r[0]=s*a*o-i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o+s*u*l;break;case"YZX":r[0]=s*a*o+i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o-s*u*l;break;case"XZY":r[0]=s*a*o-i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o+s*u*l;break}};var EM=wM,MM=HE.set,CM=HE.copy,AM=function(e,t){this.min=e||new uM(1/0,1/0,1/0),this.max=t||new uM(-1/0,-1/0,-1/0),this.vertices=null};AM.prototype={constructor:AM,updateFromVertices:function(e){if(e.length>0){var t=this.min,n=this.max,r=t.array,i=n.array;CM(r,e[0]),CM(i,e[0]);for(var a=1;a<e.length;a++){var o=e[a];o[0]<r[0]&&(r[0]=o[0]),o[1]<r[1]&&(r[1]=o[1]),o[2]<r[2]&&(r[2]=o[2]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1]),o[2]>i[2]&&(i[2]=o[2])}t._dirty=!0,n._dirty=!0}},union:function(e){var t=this.min,n=this.max;return HE.min(t.array,t.array,e.min.array),HE.max(n.array,n.array,e.max.array),t._dirty=!0,n._dirty=!0,this},intersection:function(e){var t=this.min,n=this.max;return HE.max(t.array,t.array,e.min.array),HE.min(n.array,n.array,e.max.array),t._dirty=!0,n._dirty=!0,this},intersectBoundingBox:function(e){var t=this.min.array,n=this.max.array,r=e.min.array,i=e.max.array;return!(t[0]>i[0]||t[1]>i[1]||t[2]>i[2]||n[0]<r[0]||n[1]<r[1]||n[2]<r[2])},containBoundingBox:function(e){var t=this.min.array,n=this.max.array,r=e.min.array,i=e.max.array;return t[0]<=r[0]&&t[1]<=r[1]&&t[2]<=r[2]&&n[0]>=i[0]&&n[1]>=i[1]&&n[2]>=i[2]},containPoint:function(e){var t=this.min.array,n=this.max.array,r=e.array;return t[0]<=r[0]&&t[1]<=r[1]&&t[2]<=r[2]&&n[0]>=r[0]&&n[1]>=r[1]&&n[2]>=r[2]},isFinite:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this.min.array,t=this.max.array;return isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])})),applyTransform:function(e){this.transformFrom(this,e)},transformFrom:function(){var e=HE.create(),t=HE.create(),n=HE.create(),r=HE.create(),i=HE.create(),a=HE.create();return function(o,s){var u=o.min.array,l=o.max.array,c=s.array;return e[0]=c[0]*u[0],e[1]=c[1]*u[0],e[2]=c[2]*u[0],t[0]=c[0]*l[0],t[1]=c[1]*l[0],t[2]=c[2]*l[0],n[0]=c[4]*u[1],n[1]=c[5]*u[1],n[2]=c[6]*u[1],r[0]=c[4]*l[1],r[1]=c[5]*l[1],r[2]=c[6]*l[1],i[0]=c[8]*u[2],i[1]=c[9]*u[2],i[2]=c[10]*u[2],a[0]=c[8]*l[2],a[1]=c[9]*l[2],a[2]=c[10]*l[2],u=this.min.array,l=this.max.array,u[0]=Math.min(e[0],t[0])+Math.min(n[0],r[0])+Math.min(i[0],a[0])+c[12],u[1]=Math.min(e[1],t[1])+Math.min(n[1],r[1])+Math.min(i[1],a[1])+c[13],u[2]=Math.min(e[2],t[2])+Math.min(n[2],r[2])+Math.min(i[2],a[2])+c[14],l[0]=Math.max(e[0],t[0])+Math.max(n[0],r[0])+Math.max(i[0],a[0])+c[12],l[1]=Math.max(e[1],t[1])+Math.max(n[1],r[1])+Math.max(i[1],a[1])+c[13],l[2]=Math.max(e[2],t[2])+Math.max(n[2],r[2])+Math.max(i[2],a[2])+c[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(e){var t=this.min.array,n=this.max.array,r=e.array,i=t[0],a=t[1],o=t[2],s=n[0],u=n[1],l=t[2],c=n[0],f=n[1],h=n[2];if(1===r[15])t[0]=r[0]*i+r[12],t[1]=r[5]*a+r[13],n[2]=r[10]*o+r[14],n[0]=r[0]*c+r[12],n[1]=r[5]*f+r[13],t[2]=r[10]*h+r[14];else{var d=-1/o;t[0]=r[0]*i*d,t[1]=r[5]*a*d,n[2]=(r[10]*o+r[14])*d,d=-1/l,n[0]=r[0]*s*d,n[1]=r[5]*u*d,d=-1/h,t[2]=(r[10]*h+r[14])*d}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var e=this.vertices;if(!e){e=[];for(var t=0;t<8;t++)e[t]=HE.fromValues(0,0,0);this.vertices=e}var n=this.min.array,r=this.max.array;return MM(e[0],n[0],n[1],n[2]),MM(e[1],n[0],r[1],n[2]),MM(e[2],r[0],n[1],n[2]),MM(e[3],r[0],r[1],n[2]),MM(e[4],n[0],n[1],r[2]),MM(e[5],n[0],r[1],r[2]),MM(e[6],r[0],n[1],r[2]),MM(e[7],r[0],r[1],r[2]),this},copy:function(e){var t=this.min,n=this.max;return CM(t.array,e.min.array),CM(n.array,e.max.array),t._dirty=!0,n._dirty=!0,this},clone:function(){var e=new AM;return e.copy(this),e}};var OM=AM,DM=0,PM=dT.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},(function(){this.name||(this.name=(this.type||"NODE")+"_"+DM++),this.position||(this.position=new uM),this.rotation||(this.rotation=new EM),this.scale||(this.scale=new uM(1,1,1)),this.worldTransform=new xM,this.localTransform=new xM,this._children=[]}),{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(e){var t=this._scene;if(t){var n=t._nodeRepository;delete n[this.name],n[e]=this}this.name=e},add:function(e){var t=e._parent;if(t!==this){t&&t.remove(e),e._parent=this,this._children.push(e);var n=this._scene;n&&n!==e.scene&&e.traverse(this._addSelfToScene,this),e._needsUpdateWorldTransform=!0}},remove:function(e){var t=this._children,n=t.indexOf(e);n<0||(t.splice(n,1),e._parent=null,this._scene&&e.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var e=this._children,t=0;t<e.length;t++)e[t]._parent=null,this._scene&&e[t].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(e){e._scene.removeFromScene(e),e._scene=null},_addSelfToScene:function(e){this._scene.addToScene(e),e._scene=this._scene},isAncestor:function(e){var t=e._parent;while(t){if(t===this)return!0;t=t._parent}return!1},children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},getChildByName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},getDescendantByName:function(e){for(var t=this._children,n=0;n<t.length;n++){var r=t[n];if(r.name===e)return r;var i=r.getDescendantByName(e);if(i)return i}},queryNode:function(e){if(e){for(var t=e.split("/"),n=this,r=0;r<t.length;r++){var i=t[r];if(i){for(var a=!1,o=n._children,s=0;s<o.length;s++){var u=o[s];if(u.name===i){n=u,a=!0;break}}if(!a)return}}return n}},getPath:function(e){if(!this._parent)return"/";var t=this._parent,n=this.name;while(t._parent){if(n=t.name+"/"+n,t._parent==e)break;t=t._parent}return!t._parent&&e?null:n},traverse:function(e,t){e.call(t,this);for(var n=this._children,r=0,i=n.length;r<i;r++)n[r].traverse(e,t)},eachChild:function(e,t){for(var n=this._children,r=0,i=n.length;r<i;r++){var a=n[r];e.call(t,a,r)}},setLocalTransform:function(e){zE.copy(this.localTransform.array,e.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(e){var t=e?null:this.scale;this.localTransform.decomposeMatrix(t,this.rotation,this.position)},setWorldTransform:function(e){zE.copy(this.worldTransform.array,e.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var e=zE.create();return function(t){var n=this.localTransform,r=this.worldTransform;this._parent?(zE.invert(e,this._parent.worldTransform.array),zE.multiply(n.array,e,r.array)):zE.copy(n.array,r.array);var i=t?null:this.scale;n.decomposeMatrix(i,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var e=this.position,t=this.rotation,n=this.scale;if(this.transformNeedsUpdate()){var r=this.localTransform.array;zE.fromRotationTranslation(r,t.array,e.array),zE.scale(r,r,n.array),t._dirty=!1,n._dirty=!1,e._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var e=this.localTransform.array,t=this.worldTransform.array;this._parent?zE.multiplyAffine(t,this._parent.worldTransform.array,e):zE.copy(t,e)},updateWorldTransform:function(){var e=this;while(e&&e.getParent()&&e.getParent().transformNeedsUpdate())e=e.getParent();e.update()},update:function(e){this.autoUpdateLocalTransform?this.updateLocalTransform():e=!0,(e||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),e=!0,this._needsUpdateWorldTransform=!1);for(var t=this._children,n=0,r=t.length;n<r;n++)t[n].update(e)},getBoundingBox:function(){function e(e){return!e.invisible&&e.geometry}var t=new OM,n=new xM,r=new xM;return function(i,a){return a=a||new OM,i=i||e,this._parent?xM.invert(r,this._parent.worldTransform):xM.identity(r),this.traverse((function(e){e.geometry&&e.geometry.boundingBox&&(t.copy(e.geometry.boundingBox),xM.multiply(n,r,e.worldTransform),t.applyTransform(n),a.union(t))}),this,e),a}}(),getWorldPosition:function(e){this.transformNeedsUpdate()&&this.updateWorldTransform();var t=this.worldTransform.array;if(e){var n=e.array;return n[0]=t[12],n[1]=t[13],n[2]=t[14],e}return new uM(t[12],t[13],t[14])},clone:function(){var e=new this.constructor,t=this._children;e.setName(this.name),e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale);for(var n=0;n<t.length;n++)e.add(t[n].clone());return e},rotateAround:function(){var e=new uM,t=new xM;return function(n,r,i){e.copy(this.position).subtract(n);var a=this.localTransform;a.identity(),a.translate(n),a.rotate(i,r),t.fromRotationTranslation(this.rotation,e),a.multiply(t),a.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var e=new xM;return function(t,n){e.lookAt(this.position,t,n||this.localTransform.y).invert(),this.setLocalTransform(e),this.target=t}}()}),LM=PM,IM=LM.extend({material:null,geometry:null,mode:yT.TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:yT.BACK,frontFace:yT.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(e){},afterRender:function(e,t){},getBoundingBox:function(e,t){return t=LM.prototype.getBoundingBox.call(this,e,t),this.geometry&&this.geometry.boundingBox&&t.union(this.geometry.boundingBox),t},clone:function(){var e=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var t=LM.prototype.clone.call(this);t.geometry=this.geometry,t.material=this.material;for(var n=0;n<e.length;n++){var r=e[n];t[r]!==this[r]&&(t[r]=this[r])}return t}}()});IM.POINTS=yT.POINTS,IM.LINES=yT.LINES,IM.LINE_LOOP=yT.LINE_LOOP,IM.LINE_STRIP=yT.LINE_STRIP,IM.TRIANGLES=yT.TRIANGLES,IM.TRIANGLE_STRIP=yT.TRIANGLE_STRIP,IM.TRIANGLE_FAN=yT.TRIANGLE_FAN,IM.BACK=yT.BACK,IM.FRONT=yT.FRONT,IM.FRONT_AND_BACK=yT.FRONT_AND_BACK,IM.CW=yT.CW,IM.CCW=yT.CCW;var RM=IM,kM=dT.extend({scene:null,camera:null,renderer:null},(function(){this._ray=new fM,this._ndc=new eE}),{pick:function(e,t,n){var r=this.pickAll(e,t,[],n);return r[0]||null},pickAll:function(e,t,n,r){return this.renderer.screenToNDC(e,t,this._ndc),this.camera.castRay(this._ndc,this._ray),n=n||[],this._intersectNode(this.scene,n,r||!1),n.sort(this._intersectionCompareFunc),n},_intersectNode:function(e,t,n){e instanceof RM&&e.isRenderable()&&(e.ignorePicking&&!n||!(e.mode===yT.TRIANGLES&&e.geometry.isUseIndices()||e.geometry.pickByRay||e.geometry.pick)||this._intersectRenderable(e,t));for(var r=0;r<e._children.length;r++)this._intersectNode(e._children[r],t,n)},_intersectRenderable:function(){var e=new uM,t=new uM,n=new uM,r=new fM,i=new xM;return function(a,o){var s=a.isSkinnedMesh();r.copy(this._ray),xM.invert(i,a.worldTransform),s||r.applyTransform(i);var u=a.geometry,l=s?a.skeleton.boundingBox:u.boundingBox;if(!l||r.intersectBoundingBox(l))if(u.pick)u.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,a,o);else if(u.pickByRay)u.pickByRay(r,a,o);else{var c,f,h=a.cullFace===yT.BACK&&a.frontFace===yT.CCW||a.cullFace===yT.FRONT&&a.frontFace===yT.CW,d=u.indices,p=u.attributes.position,g=u.attributes.weight,m=u.attributes.joint,v=[];if(p&&p.value&&d){if(s){f=a.skeleton.getSubSkinMatrices(a.__uid__,a.joints);for(var y=0;y<a.joints.length;y++){v[y]=v[y]||[];for(var _=0;_<16;_++)v[y][_]=f[16*y+_]}var b=[],x=[],w=[],S=[],T=[],E=u.attributes.skinnedPosition;E&&E.value||(u.createAttribute("skinnedPosition","f",3),E=u.attributes.skinnedPosition,E.init(u.vertexCount));for(y=0;y<u.vertexCount;y++){p.get(y,b),g.get(y,x),m.get(y,w),x[3]=1-x[0]-x[1]-x[2],HE.set(S,0,0,0);for(_=0;_<4;_++)w[_]>=0&&x[_]>1e-4&&(HE.transformMat4(T,b,v[w[_]]),HE.scaleAndAdd(S,S,T,x[_]));E.set(y,S)}}for(y=0;y<d.length;y+=3){var M=d[y],C=d[y+1],A=d[y+2],O=s?u.attributes.skinnedPosition:p;if(O.get(M,e.array),O.get(C,t.array),O.get(A,n.array),c=h?r.intersectTriangle(e,t,n,a.culling):r.intersectTriangle(e,n,t,a.culling),c){var D=new uM;s?uM.copy(D,c):uM.transformMat4(D,c,a.worldTransform),o.push(new kM.Intersection(c,D,a,[M,C,A],y/3,uM.dist(D,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(e,t){return e.distance-t.distance}});kM.Intersection=function(e,t,n,r,i,a){this.point=e,this.pointWorld=t,this.target=n,this.triangle=r,this.triangleIndex=i,this.distance=a};var NM=kM,FM="__dt__",BM=function(){this._contextId=0,this._caches=[],this._context={}};BM.prototype={use:function(e,t){var n=this._caches;n[e]||(n[e]={},t&&(n[e]=t())),this._contextId=e,this._context=n[e]},put:function(e,t){this._context[e]=t},get:function(e){return this._context[e]},dirty:function(e){e=e||"";var t=FM+e;this.put(t,!0)},dirtyAll:function(e){e=e||"";for(var t=FM+e,n=this._caches,r=0;r<n.length;r++)n[r]&&(n[r][t]=!0)},fresh:function(e){e=e||"";var t=FM+e;this.put(t,!1)},freshAll:function(e){e=e||"";for(var t=FM+e,n=this._caches,r=0;r<n.length;r++)n[r]&&(n[r][t]=!1)},isDirty:function(e){e=e||"";var t=FM+e,n=this._context;return!n.hasOwnProperty(t)||!0===n[t]},deleteContext:function(e){delete this._caches[e],this._context={}},delete:function(e){delete this._context[e]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(e,t){var n=Object.keys(this._caches);n.forEach((function(n){e&&e.call(t,n)}))},miss:function(e){return!this._context.hasOwnProperty(e)}},BM.prototype.constructor=BM;var zM=BM,jM=dT.extend({width:512,height:512,type:yT.UNSIGNED_BYTE,format:yT.RGBA,wrapS:yT.REPEAT,wrapT:yT.REPEAT,minFilter:yT.LINEAR_MIPMAP_LINEAR,magFilter:yT.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},(function(){this._cache=new zM}),{getWebGLTexture:function(e){var t=e.gl,n=this._cache;return n.use(e.__uid__),n.miss("webgl_texture")&&n.put("webgl_texture",t.createTexture()),this.dynamic?this.update(e):n.isDirty()&&(this.update(e),n.fresh()),n.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(e){},updateCommon:function(e){var t=e.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,this.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===yT.DEPTH_COMPONENT&&(this.useMipmap=!1);var n=e.getGLExtension("EXT_sRGB");this.format!==jM.SRGB||n||(this.format=jM.RGB),this.format!==jM.SRGB_ALPHA||n||(this.format=jM.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?yT.CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?yT.CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var e=this.minFilter;return this.NPOT||!this.useMipmap?e===yT.NEAREST_MIPMAP_NEAREST||e===yT.NEAREST_MIPMAP_LINEAR?yT.NEAREST:e===yT.LINEAR_MIPMAP_LINEAR||e===yT.LINEAR_MIPMAP_NEAREST?yT.LINEAR:e:e},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1},dispose:function(e){var t=this._cache;t.use(e.__uid__);var n=t.get("webgl_texture");n&&e.gl.deleteTexture(n),t.deleteContext(e.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(jM.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e}}),Object.defineProperty(jM.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e}}),jM.BYTE=yT.BYTE,jM.UNSIGNED_BYTE=yT.UNSIGNED_BYTE,jM.SHORT=yT.SHORT,jM.UNSIGNED_SHORT=yT.UNSIGNED_SHORT,jM.INT=yT.INT,jM.UNSIGNED_INT=yT.UNSIGNED_INT,jM.FLOAT=yT.FLOAT,jM.HALF_FLOAT=36193,jM.UNSIGNED_INT_24_8_WEBGL=34042,jM.DEPTH_COMPONENT=yT.DEPTH_COMPONENT,jM.DEPTH_STENCIL=yT.DEPTH_STENCIL,jM.ALPHA=yT.ALPHA,jM.RGB=yT.RGB,jM.RGBA=yT.RGBA,jM.LUMINANCE=yT.LUMINANCE,jM.LUMINANCE_ALPHA=yT.LUMINANCE_ALPHA,jM.SRGB=35904,jM.SRGB_ALPHA=35906,jM.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,jM.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,jM.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,jM.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,jM.NEAREST=yT.NEAREST,jM.LINEAR=yT.LINEAR,jM.NEAREST_MIPMAP_NEAREST=yT.NEAREST_MIPMAP_NEAREST,jM.LINEAR_MIPMAP_NEAREST=yT.LINEAR_MIPMAP_NEAREST,jM.NEAREST_MIPMAP_LINEAR=yT.NEAREST_MIPMAP_LINEAR,jM.LINEAR_MIPMAP_LINEAR=yT.LINEAR_MIPMAP_LINEAR,jM.REPEAT=yT.REPEAT,jM.CLAMP_TO_EDGE=yT.CLAMP_TO_EDGE,jM.MIRRORED_REPEAT=yT.MIRRORED_REPEAT;var HM=jM,UM=RM.extend({skeleton:null,joints:null},(function(){this.joints||(this.joints=[])}),{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var e=RM.prototype.clone.call(this);return e.skeleton=this.skeleton,this.joints&&(e.joints=this.joints.slice()),e}});UM.POINTS=yT.POINTS,UM.LINES=yT.LINES,UM.LINE_LOOP=yT.LINE_LOOP,UM.LINE_STRIP=yT.LINE_STRIP,UM.TRIANGLES=yT.TRIANGLES,UM.TRIANGLE_STRIP=yT.TRIANGLE_STRIP,UM.TRIANGLE_FAN=yT.TRIANGLE_FAN,UM.BACK=yT.BACK,UM.FRONT=yT.FRONT,UM.FRONT_AND_BACK=yT.FRONT_AND_BACK,UM.CW=yT.CW,UM.CCW=yT.CCW;var VM=UM,GM={isPowerOfTwo:function(e){return 0===(e&e-1)},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}},WM=GM,XM=WM.isPowerOfTwo;function KM(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function qM(e,t){var n=KM(e.width),r=KM(e.height);t=t||document.createElement("canvas"),t.width=n,t.height=r;var i=t.getContext("2d");return i.drawImage(e.image,0,0,n,r),t}var YM=HM.extend((function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}}),{textureType:"texture2D",update:function(e){var t=e.gl;t.bindTexture(t.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(e);var n=this.format,r=this.type,i=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==HM.REPEAT&&this.wrapT!==HM.REPEAT||!this.NPOT);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,i?this.wrapS:this.getAvailableWrapS()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,i?this.wrapT:this.getAvailableWrapT()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i?this.magFilter:this.getAvailableMagFilter()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i?this.minFilter:this.getAvailableMinFilter());var a=e.getGLExtension("EXT_texture_filter_anisotropic");if(a&&this.anisotropic>1&&t.texParameterf(t.TEXTURE_2D,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r){var o=e.getGLExtension("OES_texture_half_float");o||(r=yT.FLOAT)}if(this.mipmaps.length)for(var s=this.width,u=this.height,l=0;l<this.mipmaps.length;l++){var c=this.mipmaps[l];this._updateTextureData(t,c,l,s,u,n,r,!1),s/=2,u/=2}else this._updateTextureData(t,this,0,this.width,this.height,n,r,i),!this.useMipmap||this.NPOT&&!i||t.generateMipmap(t.TEXTURE_2D);t.bindTexture(t.TEXTURE_2D,null)},_updateTextureData:function(e,t,n,r,i,a,o,s){if(t.image){var u=t.image;s&&(this._potCanvas=qM(this,this._potCanvas),u=this._potCanvas),e.texImage2D(e.TEXTURE_2D,n,a,a,o,u)}else a<=HM.COMPRESSED_RGBA_S3TC_DXT5_EXT&&a>=HM.COMPRESSED_RGB_S3TC_DXT1_EXT?e.compressedTexImage2D(e.TEXTURE_2D,n,a,r,i,0,t.pixels):e.texImage2D(e.TEXTURE_2D,n,a,r,i,0,a,o,t.pixels)},generateMipmap:function(e){var t=e.gl;this.useMipmap&&!this.NPOT&&(t.bindTexture(t.TEXTURE_2D,this._cache.get("webgl_texture")),t.generateMipmap(t.TEXTURE_2D))},isPowerOfTwo:function(){return XM(this.width)&&XM(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!(!this.width||!this.height)},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,null)},load:function(e,t){var n=_T["a"].createImage();t&&(n.crossOrigin=t);var r=this;return n.onload=function(){r.dirty(),r.trigger("success",r)},n.onerror=function(){r.trigger("error",r)},n.src=e,this.image=n,this}});Object.defineProperty(YM.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(e){this.image?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(YM.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(e){this.image?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});var ZM=YM;function $M(e){return{byte:_T["a"].Int8Array,ubyte:_T["a"].Uint8Array,short:_T["a"].Int16Array,ushort:_T["a"].Uint16Array}[e]||_T["a"].Float32Array}function QM(e){return"attr_"+e}function JM(e,t,n,r){switch(this.name=e,this.type=t,this.size=n,this.semantic=r||"",this.value=null,n){case 1:this.get=function(e){return this.value[e]},this.set=function(e,t){this.value[e]=t},this.copy=function(e,t){this.value[e]=this.value[e]};break;case 2:this.get=function(e,t){var n=this.value;return t[0]=n[2*e],t[1]=n[2*e+1],t},this.set=function(e,t){var n=this.value;n[2*e]=t[0],n[2*e+1]=t[1]},this.copy=function(e,t){var n=this.value;t*=2,e*=2,n[e]=n[t],n[e+1]=n[t+1]};break;case 3:this.get=function(e,t){var n=3*e,r=this.value;return t[0]=r[n],t[1]=r[n+1],t[2]=r[n+2],t},this.set=function(e,t){var n=3*e,r=this.value;r[n]=t[0],r[n+1]=t[1],r[n+2]=t[2]},this.copy=function(e,t){var n=this.value;t*=3,e*=3,n[e]=n[t],n[e+1]=n[t+1],n[e+2]=n[t+2]};break;case 4:this.get=function(e,t){var n=this.value,r=4*e;return t[0]=n[r],t[1]=n[r+1],t[2]=n[r+2],t[3]=n[r+3],t},this.set=function(e,t){var n=this.value,r=4*e;n[r]=t[0],n[r+1]=t[1],n[r+2]=t[2],n[r+3]=t[3]},this.copy=function(e,t){var n=this.value;t*=4,e*=4,n[e]=n[t],n[e+1]=n[t+1],n[e+2]=n[t+2],n[e+3]=n[t+3]}}}function eC(e,t,n,r,i){this.name=e,this.type=t,this.buffer=n,this.size=r,this.semantic=i,this.symbol="",this.needsRemove=!1}function tC(e){this.buffer=e,this.count=0}JM.prototype.init=function(e){if(!this.value||this.value.length!==e*this.size){var t=$M(this.type);this.value=new t(e*this.size)}},JM.prototype.fromArray=function(e){var t,n=$M(this.type);if(e[0]&&e[0].length){var r=0,i=this.size;t=new n(e.length*i);for(var a=0;a<e.length;a++)for(var o=0;o<i;o++)t[r++]=e[a][o]}else t=new n(e);this.value=t},JM.prototype.clone=function(e){var t=new JM(this.name,this.type,this.size,this.semantic);return e&&console.warn("todo"),t};var nC=dT.extend((function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}}),(function(){this._cache=new zM,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}}),{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var e=this.getEnabledAttributes(),t=0;t<e.length;t++)this.dirtyAttribute(e[t]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(e){this._cache.dirtyAll(QM(e)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(e,t){if(e<this.triangleCount&&e>=0){t||(t=[]);var n=this.indices;return t[0]=n[3*e],t[1]=n[3*e+1],t[2]=n[3*e+2],t}},setTriangleIndices:function(e,t){var n=this.indices;n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(e){var t,n=this.vertexCount>65535?_T["a"].Uint32Array:_T["a"].Uint16Array;if(e[0]&&e[0].length){var r=0,i=3;t=new n(e.length*i);for(var a=0;a<e.length;a++)for(var o=0;o<i;o++)t[r++]=e[a][o]}else t=new n(e);this.indices=t},createAttribute:function(e,t,n,r){var i=new JM(e,t,n,r);return this.attributes[e]&&this.removeAttribute(e),this.attributes[e]=i,this._attributeList.push(e),i},removeAttribute:function(e){var t=this._attributeList,n=t.indexOf(e);return n>=0&&(t.splice(n,1),delete this.attributes[e],!0)},getAttribute:function(e){return this.attributes[e]},getEnabledAttributes:function(){var e=this._enabledAttributes,t=this._attributeList;if(e)return e;for(var n=[],r=this.vertexCount,i=0;i<t.length;i++){var a=t[i],o=this.attributes[a];o.value&&o.value.length===r*o.size&&n.push(a)}return this._enabledAttributes=n,n},getBufferChunks:function(e){var t=this._cache;t.use(e.__uid__);var n=t.isDirty("attributes"),r=t.isDirty("indices");if(n||r){this._updateBuffer(e.gl,n,r);for(var i=this.getEnabledAttributes(),a=0;a<i.length;a++)t.fresh(QM(i[a]));t.fresh("attributes"),t.fresh("indices")}return t.fresh("any"),t.get("chunks")},_updateBuffer:function(e,t,n){var r=this._cache,i=r.get("chunks"),a=!1;i||(i=[],i[0]={attributeBuffers:[],indicesBuffer:null},r.put("chunks",i),a=!0);var o=i[0],s=o.attributeBuffers,u=o.indicesBuffer;if(t||a){var l=this.getEnabledAttributes(),c={};if(!a)for(var f=0;f<s.length;f++)c[s[f].name]=s[f];for(var h=0;h<l.length;h++){var d,p,g=l[h],m=this.attributes[g];a||(d=c[g]),p=d?d.buffer:e.createBuffer(),r.isDirty(QM(g))&&(e.bindBuffer(e.ARRAY_BUFFER,p),e.bufferData(e.ARRAY_BUFFER,m.value,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW)),s[h]=new eC(g,m.type,p,m.size,m.semantic)}for(f=h;f<s.length;f++)e.deleteBuffer(s[f].buffer);s.length=h}this.isUseIndices()&&(n||a)&&(u||(u=new tC(e.createBuffer()),o.indicesBuffer=u),u.count=this.indices.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW))},dispose:function(e){var t=this._cache;t.use(e.__uid__);var n=t.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];e.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&e.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var l=this.__vaoCache[u].vao;l&&s.deleteVertexArrayOES(l)}}this.__vaoCache={},t.deleteContext(e.__uid__)}});Object.defineProperty&&(Object.defineProperty(nC.prototype,"vertexCount",{enumerable:!1,get:function(){var e=this.attributes[this.mainAttribute];return e||(e=this.attributes[this._attributeList[0]]),e&&e.value?e.value.length/e.size:0}}),Object.defineProperty(nC.prototype,"triangleCount",{enumerable:!1,get:function(){var e=this.indices;return e?e.length/3:0}})),nC.STATIC_DRAW=yT.STATIC_DRAW,nC.DYNAMIC_DRAW=yT.DYNAMIC_DRAW,nC.STREAM_DRAW=yT.STREAM_DRAW,nC.AttributeBuffer=eC,nC.IndicesBuffer=tC,nC.Attribute=JM;var rC=nC,iC=HE.create,aC=HE.add,oC=HE.set,sC=rC.Attribute,uC=rC.extend((function(){return{attributes:{position:new sC("position","float",3,"POSITION"),texcoord0:new sC("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new sC("texcoord1","float",2,"TEXCOORD_1"),normal:new sC("normal","float",3,"NORMAL"),tangent:new sC("tangent","float",4,"TANGENT"),color:new sC("color","float",4,"COLOR"),weight:new sC("weight","float",3,"WEIGHT"),joint:new sC("joint","float",4,"JOINT"),barycentric:new sC("barycentric","float",3,null)},boundingBox:null}}),{mainAttribute:"position",updateBoundingBox:function(){var e=this.boundingBox;e||(e=this.boundingBox=new OM);var t=this.attributes.position.value;if(t&&t.length){var n=e.min,r=e.max,i=n.array,a=r.array;HE.set(i,t[0],t[1],t[2]),HE.set(a,t[0],t[1],t[2]);for(var o=3;o<t.length;){var s=t[o++],u=t[o++],l=t[o++];s<i[0]&&(i[0]=s),u<i[1]&&(i[1]=u),l<i[2]&&(i[2]=l),s>a[0]&&(a[0]=s),u>a[1]&&(a[1]=u),l>a[2]&&(a[2]=l)}n._dirty=!0,r._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var e=this.indices,t=this.attributes,n=t.position.value,r=t.normal.value;if(r&&r.length===n.length)for(var i=0;i<r.length;i++)r[i]=0;else r=t.normal.value=new _T["a"].Float32Array(n.length);for(var a,o,s,u=iC(),l=iC(),c=iC(),f=iC(),h=iC(),d=iC(),p=e?e.length:this.vertexCount,g=0;g<p;){e?(a=e[g++],o=e[g++],s=e[g++]):(a=g++,o=g++,s=g++),oC(u,n[3*a],n[3*a+1],n[3*a+2]),oC(l,n[3*o],n[3*o+1],n[3*o+2]),oC(c,n[3*s],n[3*s+1],n[3*s+2]),HE.sub(f,u,l),HE.sub(h,l,c),HE.cross(d,f,h);for(i=0;i<3;i++)r[3*a+i]=r[3*a+i]+d[i],r[3*o+i]=r[3*o+i]+d[i],r[3*s+i]=r[3*s+i]+d[i]}for(i=0;i<r.length;)oC(d,r[i],r[i+1],r[i+2]),HE.normalize(d,d),r[i++]=d[0],r[i++]=d[1],r[i++]=d[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.indices,t=this.attributes,n=t.position.value,r=t.normal.value,i=iC(),a=iC(),o=iC(),s=iC(),u=iC(),l=iC();r||(r=t.normal.value=new Float32Array(n.length));for(var c,f,h,d=e?e.length:this.vertexCount,p=0;p<d;){e?(c=e[p++],f=e[p++],h=e[p++]):(c=p++,f=p++,h=p++),oC(i,n[3*c],n[3*c+1],n[3*c+2]),oC(a,n[3*f],n[3*f+1],n[3*f+2]),oC(o,n[3*h],n[3*h+1],n[3*h+2]),HE.sub(s,i,a),HE.sub(u,a,o),HE.cross(l,s,u),HE.normalize(l,l);for(var g=0;g<3;g++)r[3*c+g]=l[g],r[3*f+g]=l[g],r[3*h+g]=l[g]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var e=this.vertexCount,t=this.attributes;t.tangent.value||(t.tangent.value=new Float32Array(4*e));var n=t.texcoord0.value,r=t.position.value,i=t.tangent.value,a=t.normal.value;if(n){for(var o=[],s=[],u=0;u<e;u++)o[u]=[0,0,0],s[u]=[0,0,0];var l,c,f,h=[0,0,0],d=[0,0,0],p=this.indices,g=p?p.length:this.vertexCount;for(u=0;u<g;){p?(l=p[u++],c=p[u++],f=p[u++]):(l=u++,c=u++,f=u++);var m=n[2*l],v=n[2*c],y=n[2*f],_=n[2*l+1],b=n[2*c+1],x=n[2*f+1],w=r[3*l],S=r[3*c],T=r[3*f],E=r[3*l+1],M=r[3*c+1],C=r[3*f+1],A=r[3*l+2],O=r[3*c+2],D=r[3*f+2],P=S-w,L=T-w,I=M-E,R=C-E,k=O-A,N=D-A,F=v-m,B=y-m,z=b-_,j=x-_,H=1/(F*j-z*B);h[0]=(j*P-z*L)*H,h[1]=(j*I-z*R)*H,h[2]=(j*k-z*N)*H,d[0]=(F*L-B*P)*H,d[1]=(F*R-B*I)*H,d[2]=(F*N-B*k)*H,aC(o[l],o[l],h),aC(o[c],o[c],h),aC(o[f],o[f],h),aC(s[l],s[l],d),aC(s[c],s[c],d),aC(s[f],s[f],d)}var U=iC(),V=iC(),G=iC();for(u=0;u<e;u++){G[0]=a[3*u],G[1]=a[3*u+1],G[2]=a[3*u+2];var W=o[u];HE.scale(U,G,HE.dot(G,W)),HE.sub(U,W,U),HE.normalize(U,U),HE.cross(V,G,W),i[4*u]=U[0],i[4*u+1]=U[1],i[4*u+2]=U[2],i[4*u+3]=HE.dot(V,s[u])<0?-1:1}this.dirty()}else console.warn("Geometry without texcoords can't generate tangents.")}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new _T["a"].Uint32Array(this.indices));for(var e=this.attributes,t=this.indices,n=this.getEnabledAttributes(),r={},i=0;i<n.length;i++){var a=n[i];r[a]=e[a].value,e[a].init(this.indices.length)}for(var o=0,s=0;s<t.length;s++){var u=t[s];for(i=0;i<n.length;i++){a=n[i];for(var l=e[a].value,c=e[a].size,f=0;f<c;f++)l[o*c+f]=r[a][u*c+f]}t[s]=o,o++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.attributes,t=e.barycentric.value,n=this.indices;if(!t||t.length!==3*n.length){t=e.barycentric.value=new Float32Array(3*n.length);for(var r=0;r<(n?n.length:this.vertexCount/3);)for(var i=0;i<3;i++){var a=n?n[r++]:3*r+i;t[3*a+i]=1}this.dirty()}}},applyTransform:function(e){var t=this.attributes,n=t.position.value,r=t.normal.value,i=t.tangent.value;e=e.array;var a=zE.create();zE.invert(a,e),zE.transpose(a,a);var o=HE.transformMat4,s=HE.forEach;s(n,3,0,null,o,e),r&&s(r,3,0,null,o,a),i&&s(i,4,0,null,o,a),this.boundingBox&&this.updateBoundingBox()},dispose:function(e){var t=this._cache;t.use(e.__uid__);var n=t.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];e.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&e.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var l=this.__vaoCache[u].vao;l&&s.deleteVertexArrayOES(l)}}this.__vaoCache={},t.deleteContext(e.__uid__)}});uC.STATIC_DRAW=rC.STATIC_DRAW,uC.DYNAMIC_DRAW=rC.DYNAMIC_DRAW,uC.STREAM_DRAW=rC.STREAM_DRAW,uC.AttributeBuffer=rC.AttributeBuffer,uC.IndicesBuffer=rC.IndicesBuffer,uC.Attribute=sC;var lC=uC,cC="vec3 calcAmbientSHLight(int idx, vec3 N) {\n int offset = 9 * idx;\n return ambientSHLightCoefficients[0]\n + ambientSHLightCoefficients[1] * N.x\n + ambientSHLightCoefficients[2] * N.y\n + ambientSHLightCoefficients[3] * N.z\n + ambientSHLightCoefficients[4] * N.x * N.z\n + ambientSHLightCoefficients[5] * N.z * N.y\n + ambientSHLightCoefficients[6] * N.y * N.x\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}",fC="uniform vec3 ",hC="uniform float ",dC="@export clay.header.",pC="@end",gC=":unconfigurable;",mC=[dC+"directional_light",fC+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+gC,fC+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+gC,pC,dC+"ambient_light",fC+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+gC,pC,dC+"ambient_sh_light",fC+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+gC,fC+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+gC,cC,pC,dC+"ambient_cubemap_light",fC+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+gC,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+gC,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+gC,pC,dC+"point_light",fC+"pointLightPosition[POINT_LIGHT_COUNT]"+gC,hC+"pointLightRange[POINT_LIGHT_COUNT]"+gC,fC+"pointLightColor[POINT_LIGHT_COUNT]"+gC,pC,dC+"spot_light",fC+"spotLightPosition[SPOT_LIGHT_COUNT]"+gC,fC+"spotLightDirection[SPOT_LIGHT_COUNT]"+gC,hC+"spotLightRange[SPOT_LIGHT_COUNT]"+gC,hC+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+gC,hC+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+gC,hC+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+gC,fC+"spotLightColor[SPOT_LIGHT_COUNT]"+gC,pC].join("\n");NE["import"](mC);var vC=LM.extend((function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}}),{type:"",clone:function(){var e=LM.prototype.clone.call(this);return e.color=Array.prototype.slice.call(this.color),e.intensity=this.intensity,e.castShadow=this.castShadow,e.shadowResolution=this.shadowResolution,e}}),yC=vC,_C=function(e,t){this.normal=e||new uM(0,1,0),this.distance=t||0};_C.prototype={constructor:_C,distanceToPoint:function(e){return HE.dot(e.array,this.normal.array)-this.distance},projectPoint:function(e,t){t||(t=new uM);var n=this.distanceToPoint(e);return HE.scaleAndAdd(t.array,e.array,this.normal.array,-n),t._dirty=!0,t},normalize:function(){var e=1/HE.len(this.normal.array);HE.scale(this.normal.array,e),this.distance*=e},intersectFrustum:function(e){for(var t=e.vertices,n=this.normal.array,r=HE.dot(t[0].array,n)>this.distance,i=1;i<8;i++)if(HE.dot(t[i].array,n)>this.distance!=r)return!0},intersectLine:function(){var e=HE.create();return function(t,n,r){var i=this.distanceToPoint(t),a=this.distanceToPoint(n);if(i>0&&a>0||i<0&&a<0)return null;var o=this.normal.array,s=this.distance,u=t.array;HE.sub(e,n.array,t.array),HE.normalize(e,e);var l=HE.dot(o,e);if(0===l)return null;r||(r=new uM);var c=(HE.dot(o,u)-s)/l;return HE.scaleAndAdd(r.array,u,e,-c),r._dirty=!0,r}}(),applyTransform:function(){var e=zE.create(),t=dM.create(),n=dM.create();return n[3]=1,function(r){r=r.array,HE.scale(n,this.normal.array,this.distance),dM.transformMat4(n,n,r),this.distance=HE.dot(n,this.normal.array),zE.invert(e,r),zE.transpose(e,e),t[3]=0,HE.copy(t,this.normal.array),dM.transformMat4(t,t,e),HE.copy(this.normal.array,t)}}(),copy:function(e){HE.copy(this.normal.array,e.normal.array),this.normal._dirty=!0,this.distance=e.distance},clone:function(){var e=new _C;return e.copy(this),e}};var bC=_C,xC=HE.set,wC=HE.copy,SC=HE.transformMat4,TC=Math.min,EC=Math.max,MC=function(){this.planes=[];for(var e=0;e<6;e++)this.planes.push(new bC);this.boundingBox=new OM,this.vertices=[];for(e=0;e<8;e++)this.vertices[e]=HE.fromValues(0,0,0)};MC.prototype={setFromProjection:function(e){var t=this.planes,n=e.array,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],f=n[8],h=n[9],d=n[10],p=n[11],g=n[12],m=n[13],v=n[14],y=n[15];xC(t[0].normal.array,o-r,c-s,p-f),t[0].distance=-(y-g),t[0].normalize(),xC(t[1].normal.array,o+r,c+s,p+f),t[1].distance=-(y+g),t[1].normalize(),xC(t[2].normal.array,o+i,c+u,p+h),t[2].distance=-(y+m),t[2].normalize(),xC(t[3].normal.array,o-i,c-u,p-h),t[3].distance=-(y-m),t[3].normalize(),xC(t[4].normal.array,o-a,c-l,p-d),t[4].distance=-(y-v),t[4].normalize(),xC(t[5].normal.array,o+a,c+l,p+d),t[5].distance=-(y+v),t[5].normalize();var _=this.boundingBox,b=this.vertices;if(0===y){var x=u/r,w=-v/(d-1),S=-v/(d+1),T=-S/u,E=-w/u;_.min.set(-T*x,-T,S),_.max.set(T*x,T,w),xC(b[0],-T*x,-T,S),xC(b[1],-T*x,T,S),xC(b[2],T*x,-T,S),xC(b[3],T*x,T,S),xC(b[4],-E*x,-E,w),xC(b[5],-E*x,E,w),xC(b[6],E*x,-E,w),xC(b[7],E*x,E,w)}else{var M=(-1-g)/r,C=(1-g)/r,A=(1-m)/u,O=(-1-m)/u,D=(-1-v)/d,P=(1-v)/d;_.min.set(Math.min(M,C),Math.min(O,A),Math.min(P,D)),_.max.set(Math.max(C,M),Math.max(A,O),Math.max(D,P));var L=_.min.array,I=_.max.array;xC(b[0],L[0],L[1],L[2]),xC(b[1],L[0],I[1],L[2]),xC(b[2],I[0],L[1],L[2]),xC(b[3],I[0],I[1],L[2]),xC(b[4],L[0],L[1],I[2]),xC(b[5],L[0],I[1],I[2]),xC(b[6],I[0],L[1],I[2]),xC(b[7],I[0],I[1],I[2])}},getTransformedBoundingBox:function(){var e=HE.create();return function(t,n){var r=this.vertices,i=n.array,a=t.min,o=t.max,s=a.array,u=o.array,l=r[0];SC(e,l,i),wC(s,e),wC(u,e);for(var c=1;c<8;c++)l=r[c],SC(e,l,i),s[0]=TC(e[0],s[0]),s[1]=TC(e[1],s[1]),s[2]=TC(e[2],s[2]),u[0]=EC(e[0],u[0]),u[1]=EC(e[1],u[1]),u[2]=EC(e[2],u[2]);return a._dirty=!0,o._dirty=!0,t}}()};var CC=MC,AC=LM.extend((function(){return{projectionMatrix:new xM,invProjectionMatrix:new xM,viewMatrix:new xM,frustum:new CC}}),(function(){this.update(!0)}),{update:function(e){LM.prototype.update.call(this,e),xM.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),xM.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(e){xM.copy(this.viewMatrix,e),xM.invert(this.worldTransform,e),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(e){xM.copy(this.projectionMatrix,e),xM.invert(this.invProjectionMatrix,e),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var e=dM.create();return function(t,n){var r=void 0!==n?n:new fM,i=t.array[0],a=t.array[1];return dM.set(e,i,a,-1,1),dM.transformMat4(e,e,this.invProjectionMatrix.array),dM.transformMat4(e,e,this.worldTransform.array),HE.scale(r.origin.array,e,1/e[3]),dM.set(e,i,a,1,1),dM.transformMat4(e,e,this.invProjectionMatrix.array),dM.transformMat4(e,e,this.worldTransform.array),HE.scale(e,e,1/e[3]),HE.sub(r.direction.array,e,r.origin.array),HE.normalize(r.direction.array,r.direction.array),r.direction._dirty=!0,r.origin._dirty=!0,r}}()}),OC=AC,DC=zE.create(),PC=zE.create(),LC={};function IC(e){var t=[],n=Object.keys(e);n.sort();for(var r=0;r<n.length;r++){var i=n[r];t.push(i+" "+e[i])}var a=t.join("\n");if(LC[a])return LC[a];var o=fT.genGUID();return LC[a]=o,o}function RC(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}RC.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},RC.prototype.add=function(e,t){t?this.transparent[this._transparentCount++]=e:this.opaque[this._opaqueCount++]=e},RC.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var kC=LM.extend((function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new OM,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new ST(20)}}),(function(){this._scene=this}),{addToScene:function(e){e instanceof OC?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(e)):e instanceof yC&&this.lights.push(e),e.name&&(this._nodeRepository[e.name]=e)},removeFromScene:function(e){var t;e instanceof OC?(t=this._cameraList.indexOf(e),t>=0&&this._cameraList.splice(t,1)):e instanceof yC&&(t=this.lights.indexOf(e),t>=0&&this.lights.splice(t,1)),e.name&&delete this._nodeRepository[e.name]},getNode:function(e){return this._nodeRepository[e]},setMainCamera:function(e){var t=this._cameraList.indexOf(e);t>=0&&this._cameraList.splice(t,1),this._cameraList.unshift(e)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var e=this.lights;this._previousLightNumber=this._lightNumber;for(var t={},n=0;n<e.length;n++){var r=e[n];if(!r.invisible){var i=r.group;t[i]||(t[i]={}),t[i][r.type]=t[i][r.type]||0,t[i][r.type]++}}for(var a in this._lightNumber=t,t)this._lightProgramKeys[a]=IC(t[a]);this._updateLightUniforms()},cloneNode:function(e){var t=e.clone(),n={};function r(e,t){n[e.__uid__]=t;for(var i=0;i<e._children.length;i++){var a=e._children[i],o=t._children[i];r(a,o)}}return r(e,t),t.traverse((function(e){e.skeleton&&(e.skeleton=e.skeleton.clone(n)),e.material&&(e.material=e.material.clone())})),t},updateRenderList:function(e,t){var n=e.__uid__,r=this._renderLists.get(n);r||(r=new RC,this._renderLists.put(n,r)),r.startCount(),t&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var i=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,e,i,r,t),r.endCount(),r},getRenderList:function(e){return this._renderLists.get(e.__uid__)},_doUpdateRenderList:function(e,t,n,r,i){if(!e.invisible)for(var a=0;a<e._children.length;a++){var o=e._children[a];if(o.isRenderable()){var s=o.isSkinnedMesh()?DC:o.worldTransform.array,u=o.geometry;zE.multiplyAffine(PC,t.viewMatrix.array,s),(i&&!u.boundingBox||!this.isFrustumCulled(o,t,PC))&&r.add(o,o.material.transparent||n)}o._children.length>0&&this._doUpdateRenderList(o,t,n,r,i)}},isFrustumCulled:function(){var e=new OM,t=new xM;return function(n,r,i){var a=n.boundingBox;if(a||(a=n.skeleton&&n.skeleton.boundingBox?n.skeleton.boundingBox:n.geometry.boundingBox),!a)return!1;if(t.array=i,e.transformFrom(a,t),n.castShadow&&this.viewBoundingBoxLastFrame.union(e),n.frustumCulling){if(!e.intersectBoundingBox(r.frustum.boundingBox))return!0;t.array=r.projectionMatrix.array,e.max.array[2]>0&&e.min.array[2]<0&&(e.max.array[2]=-1e-20),e.applyProjection(t);var o=e.min.array,s=e.max.array;if(s[0]<-1||o[0]>1||s[1]<-1||o[1]>1||s[2]<-1||o[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var e=this.lights;e.sort(NC);var t=this._lightUniforms;for(var n in t)for(var r in t[n])t[n][r].value.length=0;for(var i=0;i<e.length;i++){var a=e[i];if(!a.invisible){n=a.group;for(var r in a.uniformTemplates){var o=a.uniformTemplates[r],s=o.value(a);if(null!=s){t[n]||(t[n]={}),t[n][r]||(t[n][r]={type:"",value:[]});var u=t[n][r];switch(u.type=o.type+"v",o.type){case"1i":case"1f":case"t":u.value.push(s);break;case"2f":case"3f":case"4f":for(var l=0;l<s.length;l++)u.value.push(s[l]);break;default:console.error("Unkown light uniform type "+o.type)}}}}}},getLightGroups:function(){var e=[];for(var t in this._lightNumber)e.push(t);return e},getNumberChangedLightGroups:function(){var e=[];for(var t in this._lightNumber)this.isLightNumberChanged(t)&&e.push(t);return e},isLightNumberChanged:function(e){var t=this._previousLightNumber,n=this._lightNumber;for(var r in n[e]){if(!t[e])return!0;if(n[e][r]!==t[e][r])return!0}for(var r in t[e]){if(!n[e])return!0;if(n[e][r]!==t[e][r])return!0}return!1},getLightsNumbers:function(e){return this._lightNumber[e]},getProgramKey:function(e){return this._lightProgramKeys[e]},setLightUniforms:function(){function e(e,t,n){for(var r in e){var i=e[r];if("tv"===i.type){if(!t.hasUniform(r))continue;for(var a=[],o=0;o<i.value.length;o++){var s=i.value[o],u=t.takeCurrentTextureSlot(n,s);a.push(u)}t.setUniform(n.gl,"1iv",r,a)}else t.setUniform(n.gl,i.type,r,i.value)}}return function(t,n,r){e(this._lightUniforms[n],t,r),e(this.shadowUniforms,t,r)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function NC(e,t){if(t.castShadow&&!e.castShadow)return!0}var FC=kC,BC=WM.isPowerOfTwo,zC=["px","nx","py","ny","pz","nz"],jC=HM.extend((function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}}),{textureType:"textureCube",update:function(e){var t=e.gl;t.bindTexture(t.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(e);var n=this.format,r=this.type;t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,this.getAvailableWrapS()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,this.getAvailableWrapT()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var i=e.getGLExtension("EXT_texture_filter_anisotropic");if(i&&this.anisotropic>1&&t.texParameterf(t.TEXTURE_CUBE_MAP,i.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r){var a=e.getGLExtension("OES_texture_half_float");a||(r=yT.FLOAT)}if(this.mipmaps.length)for(var o=this.width,s=this.height,u=0;u<this.mipmaps.length;u++){var l=this.mipmaps[u];this._updateTextureData(t,l,u,o,s,n,r),o/=2,s/=2}else this._updateTextureData(t,this,0,this.width,this.height,n,r),!this.NPOT&&this.useMipmap&&t.generateMipmap(t.TEXTURE_CUBE_MAP);t.bindTexture(t.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(e,t,n,r,i,a,o){for(var s=0;s<6;s++){var u=zC[s],l=t.image&&t.image[u];l?e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,a,o,l):e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,r,i,0,a,o,t.pixels&&t.pixels[u])}},generateMipmap:function(e){var t=e.gl;this.useMipmap&&!this.NPOT&&(t.bindTexture(t.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),t.generateMipmap(t.TEXTURE_CUBE_MAP))},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?BC(this.image.px.width)&&BC(this.image.px.height):BC(this.width)&&BC(this.height)},isRenderable:function(){return this.image.px?HC(this.image.px)&&HC(this.image.nx)&&HC(this.image.py)&&HC(this.image.ny)&&HC(this.image.pz)&&HC(this.image.nz):!(!this.width||!this.height)},load:function(e,t){var n=0,r=this;return fT.each(e,(function(e,i){var a=_T["a"].createImage();t&&(a.crossOrigin=t),a.onload=function(){n--,0===n&&(r.dirty(),r.trigger("success",r))},a.onerror=function(){n--},n++,a.src=e,r.image[i]=a})),this}});function HC(e){return e.width>0&&e.height>0}Object.defineProperty(jC.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(jC.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});var UC=jC,VC=OC.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var e=this.fov/180*Math.PI;this.projectionMatrix.perspective(e,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array,t=2*Math.atan(1/e[5]);this.fov=t/Math.PI*180,this.aspect=e[5]/e[0],this.near=e[14]/(e[10]-1),this.far=e[14]/(e[10]+1)},clone:function(){var e=OC.prototype.clone.call(this);return e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e}}),GC=VC,WC="framebuffer",XC="renderbuffer",KC=XC+"_width",qC=XC+"_height",YC=XC+"_attached",ZC="depthtexture_attached",$C=yT.FRAMEBUFFER,QC=yT.RENDERBUFFER,JC=yT.DEPTH_ATTACHMENT,eA=yT.COLOR_ATTACHMENT0,tA=dT.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},(function(){this._cache=new zM,this._textures={}}),{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(e){if(e.__currentFrameBuffer){if(e.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}e.__currentFrameBuffer=this;var t=e.gl;t.bindFramebuffer($C,this._getFrameBufferGL(e)),this._boundRenderer=e;var n=this._cache;n.put("viewport",e.viewport);var r,i,a=!1;for(var o in this._textures){a=!0;var s=this._textures[o];s&&(r=s.texture.width,i=s.texture.height,this._doAttach(e,s.texture,o,s.target))}this._width=r,this._height=i,!a&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?e.setViewport(this.viewport):e.setViewport(0,0,r,i,1);var u=n.get("attached_textures");if(u)for(var o in u)if(!this._textures[o]){var l=u[o];this._doDetach(t,o,l)}if(!n.get(ZC)&&this.depthBuffer){n.miss(XC)&&n.put(XC,t.createRenderbuffer());var c=n.get(XC);r===n.get(KC)&&i===n.get(qC)||(t.bindRenderbuffer(QC,c),t.renderbufferStorage(QC,t.DEPTH_COMPONENT16,r,i),n.put(KC,r),n.put(qC,i),t.bindRenderbuffer(QC,null)),n.get(YC)||(t.framebufferRenderbuffer($C,JC,QC,c),n.put(YC,!0))}},unbind:function(e){e.__currentFrameBuffer=null;var t=e.gl;t.bindFramebuffer($C,null),this._boundRenderer=null,this._cache.use(e.__uid__);var n=this._cache.get("viewport");n&&e.setViewport(n),this.updateMipmap(e)},updateMipmap:function(e){var t=e.gl;for(var n in this._textures){var r=this._textures[n];if(r){var i=r.texture;if(!i.NPOT&&i.useMipmap&&i.minFilter===HM.LINEAR_MIPMAP_LINEAR){var a="textureCube"===i.textureType?yT.TEXTURE_CUBE_MAP:yT.TEXTURE_2D;t.bindTexture(a,i.getWebGLTexture(e)),t.generateMipmap(a),t.bindTexture(a,null)}}}},checkStatus:function(e){return e.checkFramebufferStatus($C)},_getFrameBufferGL:function(e){var t=this._cache;return t.use(e.__uid__),t.miss(WC)&&t.put(WC,e.gl.createFramebuffer()),t.get(WC)},attach:function(e,t,n){if(!e.width)throw new Error("The texture attached to color buffer is not a valid.");t=t||eA,n=n||yT.TEXTURE_2D;var r,i=this._boundRenderer,a=i&&i.gl;if(a){var o=this._cache;o.use(i.__uid__),r=o.get("attached_textures")}var s=this._textures[t];if(!s||s.target!==n||s.texture!==e||!r||null==r[t]){var u=!0;i&&(u=this._doAttach(i,e,t,n),this.viewport||i.setViewport(0,0,e.width,e.height,1)),u&&(this._textures[t]=this._textures[t]||{},this._textures[t].texture=e,this._textures[t].target=n)}},_doAttach:function(e,t,n,r){var i=e.gl,a=t.getWebGLTexture(e),o=this._cache.get("attached_textures");if(o&&o[n]){var s=o[n];if(s.texture===t&&s.target===r)return}n=+n;var u=!0;if(n===JC||n===yT.DEPTH_STENCIL_ATTACHMENT){var l=e.getGLExtension("WEBGL_depth_texture");if(l||(console.error("Depth texture is not supported by the browser"),u=!1),t.format!==yT.DEPTH_COMPONENT&&t.format!==yT.DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),u=!1),u){var c=this._cache.get(XC);c&&(i.framebufferRenderbuffer($C,JC,QC,null),i.deleteRenderbuffer(c),this._cache.put(XC,!1)),this._cache.put(YC,!1),this._cache.put(ZC,!0)}}return i.framebufferTexture2D($C,n,r,a,0),o||(o={},this._cache.put("attached_textures",o)),o[n]=o[n]||{},o[n].texture=t,o[n].target=r,u},_doDetach:function(e,t,n){e.framebufferTexture2D($C,t,n,null,0);var r=this._cache.get("attached_textures");r&&r[t]&&(r[t]=null),t!==JC&&t!==yT.DEPTH_STENCIL_ATTACHMENT||this._cache.put(ZC,!1)},detach:function(e,t){if(this._textures[e]=null,this._boundRenderer){var n=this._cache;n.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,e,t)}},dispose:function(e){var t=e.gl,n=this._cache;n.use(e.__uid__);var r=n.get(XC);r&&t.deleteRenderbuffer(r);var i=n.get(WC);i&&t.deleteFramebuffer(i),n.deleteContext(e.__uid__),this._textures={}}});tA.DEPTH_ATTACHMENT=JC,tA.COLOR_ATTACHMENT0=eA,tA.STENCIL_ATTACHMENT=yT.STENCIL_ATTACHMENT,tA.DEPTH_STENCIL_ATTACHMENT=yT.DEPTH_STENCIL_ATTACHMENT;var nA=tA,rA=["px","nx","py","ny","pz","nz"],iA=dT.extend((function(){var e={position:new uM,far:1e3,near:.1,texture:null,shadowMapPass:null},t=e._cameras={px:new GC({fov:90}),nx:new GC({fov:90}),py:new GC({fov:90}),ny:new GC({fov:90}),pz:new GC({fov:90}),nz:new GC({fov:90})};return t.px.lookAt(uM.POSITIVE_X,uM.NEGATIVE_Y),t.nx.lookAt(uM.NEGATIVE_X,uM.NEGATIVE_Y),t.py.lookAt(uM.POSITIVE_Y,uM.POSITIVE_Z),t.ny.lookAt(uM.NEGATIVE_Y,uM.NEGATIVE_Z),t.pz.lookAt(uM.POSITIVE_Z,uM.NEGATIVE_Y),t.nz.lookAt(uM.NEGATIVE_Z,uM.NEGATIVE_Y),e._frameBuffer=new nA,e}),{getCamera:function(e){return this._cameras[e]},render:function(e,t,n){var r=e.gl;n||t.update();for(var i=this.texture.width,a=2*Math.atan(i/(i-.5))/Math.PI*180,o=0;o<6;o++){var s=rA[o],u=this._cameras[s];if(uM.copy(u.position,this.position),u.far=this.far,u.near=this.near,u.fov=a,this.shadowMapPass){u.update();var l=t.getBoundingBox();l.applyTransform(u.viewMatrix),t.viewBoundingBoxLastFrame.copy(l),this.shadowMapPass.render(e,t,u,!0)}this._frameBuffer.attach(this.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+o),this._frameBuffer.bind(e),e.render(t,u,!0),this._frameBuffer.unbind(e)}},dispose:function(e){this._frameBuffer.dispose(e)}}),aA=iA,oA=lC.extend({dynamic:!1,widthSegments:1,heightSegments:1},(function(){this.build()}),{build:function(){for(var e=this.heightSegments,t=this.widthSegments,n=this.attributes,r=[],i=[],a=[],o=[],s=0;s<=e;s++)for(var u=s/e,l=0;l<=t;l++){var c=l/t;if(r.push([2*c-1,2*u-1,0]),i&&i.push([c,u]),a&&a.push([0,0,1]),l<t&&s<e){var f=l+s*(t+1);o.push([f,f+1,f+t+1]),o.push([f+t+1,f+1,f+t+2])}}n.position.fromArray(r),n.texcoord0.fromArray(i),n.normal.fromArray(a),this.initIndicesFromArray(o),this.boundingBox=new OM,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}}),sA=oA,uA=new xM,lA=lC.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},(function(){this.build()}),{build:function(){var e={px:cA("px",this.depthSegments,this.heightSegments),nx:cA("nx",this.depthSegments,this.heightSegments),py:cA("py",this.widthSegments,this.depthSegments),ny:cA("ny",this.widthSegments,this.depthSegments),pz:cA("pz",this.widthSegments,this.heightSegments),nz:cA("nz",this.widthSegments,this.heightSegments)},t=["position","texcoord0","normal"],n=0,r=0;for(var i in e)n+=e[i].vertexCount,r+=e[i].indices.length;for(var a=0;a<t.length;a++)this.attributes[t[a]].init(n);this.indices=new _T["a"].Uint16Array(r);var o=0,s=0;for(var i in e){var u=e[i];for(a=0;a<t.length;a++)for(var l=t[a],c=u.attributes[l].value,f=u.attributes[l].size,h="normal"===l,d=0;d<c.length;d++){var p=c[d];this.inside&&h&&(p=-p),this.attributes[l].value[d+f*s]=p}var g=u.indices.length;for(d=0;d<u.indices.length;d++)this.indices[d+o]=s+u.indices[this.inside?g-d-1:d];o+=u.indices.length,s+=u.vertexCount}this.boundingBox=new OM,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function cA(e,t,n){uA.identity();var r=new sA({widthSegments:t,heightSegments:n});switch(e){case"px":xM.translate(uA,uA,uM.POSITIVE_X),xM.rotateY(uA,uA,Math.PI/2);break;case"nx":xM.translate(uA,uA,uM.NEGATIVE_X),xM.rotateY(uA,uA,-Math.PI/2);break;case"py":xM.translate(uA,uA,uM.POSITIVE_Y),xM.rotateX(uA,uA,-Math.PI/2);break;case"ny":xM.translate(uA,uA,uM.NEGATIVE_Y),xM.rotateX(uA,uA,Math.PI/2);break;case"pz":xM.translate(uA,uA,uM.POSITIVE_Z);break;case"nz":xM.translate(uA,uA,uM.NEGATIVE_Z),xM.rotateY(uA,uA,Math.PI);break}return r.applyTransform(uA),r}var fA=lA,hA="@export clay.skybox.vertex\n#define SHADER_NAME skybox\nuniform mat4 world : WORLD;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nvarying vec3 v_WorldPosition;\nvoid main()\n{\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n@export clay.skybox.fragment\n#define PI 3.1415926\nuniform mat4 viewInverse : VIEWINVERSE;\n#ifdef EQUIRECTANGULAR\nuniform sampler2D environmentMap;\n#else\nuniform samplerCube environmentMap;\n#endif\nuniform float lod: 0.0;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\n@import clay.util.srgb\n@import clay.util.ACES\nvoid main()\n{\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n#ifdef EQUIRECTANGULAR\n float phi = acos(V.y);\n float theta = atan(-V.x, V.z) + PI * 0.5;\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\n#else\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\n #else\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\n #endif\n#endif\n#ifdef SRGB_DECODE\n texel = sRGBToLinear(texel);\n#endif\n#ifdef TONEMAPPING\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n#ifdef SRGB_ENCODE\n texel = linearTosRGB(texel);\n#endif\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\n}\n@end";NE["import"](hA);var dA=VM.extend((function(){var e=new NE({vertex:NE.source("clay.skybox.vertex"),fragment:NE.source("clay.skybox.fragment")}),t=new XT({shader:e,depthMask:!1});return{scene:null,geometry:new fA,material:t,environmentMap:null,culling:!1,_dummyCamera:new GC}}),(function(){var e=this.scene;e&&this.attachScene(e),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)}),{attachScene:function(e){this.scene&&this.detachScene(),e.skybox=this,this.scene=e,e.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(e){this.detachScene(),this.geometry.dispose(e)},setEnvironmentMap:function(e){"texture2D"===e.textureType?(this.material.define("EQUIRECTANGULAR"),e.minFilter=HM.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",e)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(e,t,n){this.renderSkybox(e,n)},renderSkybox:function(e,t){var n=this._dummyCamera;n.aspect=e.getViewportAspect(),n.fov=t.fov||50,n.updateProjectionMatrix(),xM.invert(n.invProjectionMatrix,n.projectionMatrix),n.worldTransform.copy(t.worldTransform),n.viewMatrix.copy(t.viewMatrix),this.position.copy(t.getWorldPosition()),this.update(),e.gl.disable(e.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),e.renderPass([this],n)}}),pA=dA,gA=pA,mA=542327876,vA=131072,yA=512,_A=4;function bA(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var xA=31,wA=bA("DXT1"),SA=bA("DXT3"),TA=bA("DXT5"),EA=0,MA=1,CA=2,AA=3,OA=4,DA=7,PA=20,LA=21,IA=28,RA={parse:function(e,t){var n=new Int32Array(e,0,xA);if(n[EA]!==mA)return null;if(!n(PA)&_A)return null;var r,i,a=n(LA),o=n[OA],s=n[AA],u=n[IA]&yA,l=n[CA]&vA;switch(a){case wA:r=8,i=HM.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case SA:r=16,i=HM.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case TA:r=16,i=HM.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var c=n[MA]+4,f=u?6:1,h=1;l&&(h=Math.max(1,n[DA]));for(var d=[],p=0;p<f;p++){var g=o,m=s;d[p]=new ZM({width:g,height:m,format:i});for(var v=[],y=0;y<h;y++){var _=Math.max(4,g)/4*Math.max(4,m)/4*r,b=new Uint8Array(e,c,_);c+=_,g*=.5,m*=.5,v[y]=b}d[p].pixels=v[0],l&&(d[p].mipmaps=v)}if(!t)return d[0];t.width=d[0].width,t.height=d[0].height,t.format=d[0].format,t.pixels=d[0].pixels,t.mipmaps=d[0].mipmaps}},kA=RA,NA=String.fromCharCode,FA=8,BA=32767;function zA(e,t,n,r){if(e[3]>0){var i=Math.pow(2,e[3]-128-8+r);t[n+0]=e[0]*i,t[n+1]=e[1]*i,t[n+2]=e[2]*i}else t[n+0]=0,t[n+1]=0,t[n+2]=0;return t[n+3]=1,t}function jA(e,t,n){for(var r="",i=t;i<n;i++)r+=NA(e[i]);return r}function HA(e,t){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]}function UA(e,t,n,r){var i=0,a=0,o=r;while(o>0)if(e[a][0]=t[n++],e[a][1]=t[n++],e[a][2]=t[n++],e[a][3]=t[n++],1===e[a][0]&&1===e[a][1]&&1===e[a][2]){for(var s=e[a][3]<<i>>>0;s>0;s--)HA(e[a-1],e[a]),a++,o--;i+=8}else a++,o--,i=0;return n}function VA(e,t,n,r){if(r<FA|r>BA)return UA(e,t,n,r);var i=t[n++];if(2!=i)return UA(e,t,n-1,r);if(e[0][1]=t[n++],e[0][2]=t[n++],i=t[n++],(e[0][2]<<8>>>0|i)>>>0!==r)return null;for(i=0;i<4;i++)for(var a=0;a<r;){var o=t[n++];if(o>128){o=(127&o)>>>0;var s=t[n++];while(o--)e[a++][i]=s}else while(o--)e[a++][i]=t[n++]}return n}var GA={parseRGBE:function(e,t,n){null==n&&(n=0);var r=new Uint8Array(e),i=r.length;if("#?"===jA(r,0,2)){for(var a=2;a<i;a++)if("\n"===NA(r[a])&&"\n"===NA(r[a+1]))break;if(!(a>=i)){a+=2;for(var o="";a<i;a++){var s=NA(r[a]);if("\n"===s)break;o+=s}var u=o.split(" "),l=parseInt(u[1]),c=parseInt(u[3]);if(c&&l){for(var f=a+1,h=[],d=0;d<c;d++){h[d]=[];for(var p=0;p<4;p++)h[d][p]=0}for(var g=new Float32Array(c*l*4),m=0,v=0;v<l;v++){f=VA(h,r,f,c);if(!f)return null;for(d=0;d<c;d++)zA(h[d],g,m,n),m+=4}return t||(t=new ZM),t.width=c,t.height=l,t.pixels=g,t.type=HM.FLOAT,t}}}},parseRGBEFromPNG:function(e){}},WA=GA,XA={loadTexture:function(e,t,n,r){var i;if("function"===typeof t?(n=t,r=n,t={}):t=t||{},"string"===typeof e){if(e.match(/.hdr$/)||"hdr"===t.fileType)return i=new ZM({width:0,height:0,sRGB:!1}),XA._fetchTexture(e,(function(e){WA.parseRGBE(e,i,t.exposure),i.dirty(),n&&n(i)}),r),i;e.match(/.dds$/)||"dds"===t.fileType?(i=new ZM({width:0,height:0}),XA._fetchTexture(e,(function(e){kA.parse(e,i),i.dirty(),n&&n(i)}),r)):(i=new ZM,i.load(e),i.success(n),i.error(r))}else"object"===typeof e&&"undefined"!==typeof e.px&&(i=new UC,i.load(e),i.success(n),i.error(r));return i},loadPanorama:function(e,t,n,r,i,a){var o=this;"function"===typeof r?(i=r,a=i,r={}):r=r||{},XA.loadTexture(t,r,(function(t){t.flipY=r.flipY||!1,o.panoramaToCubeMap(e,t,n,r),t.dispose(e),i&&i(n)}),a)},panoramaToCubeMap:function(e,t,n,r){var i=new aA,a=new gA({scene:new FC});return a.setEnvironmentMap(t),r=r||{},r.encodeRGBM&&a.material.define("fragment","RGBM_ENCODE"),n.sRGB=t.sRGB,i.texture=n,i.render(e,a.scene),i.texture=null,i.dispose(e),n},heightToNormal:function(e,t){var n=document.createElement("canvas"),r=n.width=e.width,i=n.height=e.height,a=n.getContext("2d");a.drawImage(e,0,0,r,i),t=t||!1;for(var o=a.getImageData(0,0,r,i),s=a.createImageData(r,i),u=0;u<o.data.length;u+=4){if(t){var l=o.data[u],c=o.data[u+1],f=o.data[u+2],h=Math.abs(l-c)+Math.abs(c-f);if(h>20)return console.warn("Given image is not a height map"),e}var d,p,g,m;u%(4*r)===0?(d=o.data[u],g=o.data[u+4]):u%(4*r)===4*(r-1)?(d=o.data[u-4],g=o.data[u]):(d=o.data[u-4],g=o.data[u+4]),u<4*r?(p=o.data[u],m=o.data[u+4*r]):u>r*(i-1)*4?(p=o.data[u-4*r],m=o.data[u]):(p=o.data[u-4*r],m=o.data[u+4*r]),s.data[u]=d-g+127,s.data[u+1]=p-m+127,s.data[u+2]=255,s.data[u+3]=255}return a.putImageData(s,0,0),n},isHeightImage:function(e,t,n){if(!e||!e.width||!e.height)return!1;var r=document.createElement("canvas"),i=r.getContext("2d"),a=t||32;n=n||20,r.width=r.height=a,i.drawImage(e,0,0,a,a);for(var o=i.getImageData(0,0,a,a),s=0;s<o.data.length;s+=4){var u=o.data[s],l=o.data[s+1],c=o.data[s+2],f=Math.abs(u-l)+Math.abs(l-c);if(f>n)return!1}return!0},_fetchTexture:function(e,t,n){_T["a"].request.get({url:e,responseType:"arraybuffer",onload:t,onerror:n})},createChessboard:function(e,t,n,r){e=e||512,t=t||64,n=n||"black",r=r||"white";var i=Math.ceil(e/t),a=document.createElement("canvas");a.width=e,a.height=e;var o=a.getContext("2d");o.fillStyle=r,o.fillRect(0,0,e,e),o.fillStyle=n;for(var s=0;s<i;s++)for(var u=0;u<i;u++){var l=u%2?s%2:s%2-1;l&&o.fillRect(s*t,u*t,t,t)}var c=new ZM({image:a,anisotropic:8});return c},createBlank:function(e){var t=document.createElement("canvas");t.width=1,t.height=1;var n=t.getContext("2d");n.fillStyle=e,n.fillRect(0,0,1,1);var r=new ZM({image:t});return r}},KA=XA,qA=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function YA(e){return"_on"+e}var ZA=function(e){var t=this;this._texture=new ZM({anisotropic:32,flipY:!1,surface:this,dispose:function(e){t.dispose(),ZM.prototype.dispose.call(this,e)}}),qA.forEach((function(e){this[YA(e)]=function(t){t.triangle&&this._meshes.forEach((function(n){this.dispatchEvent(e,n,t.triangle,t.point)}),this)}}),this),this._meshes=[],e&&this.setECharts(e),this.onupdate=null};ZA.prototype={constructor:ZA,getTexture:function(){return this._texture},setECharts:function(e){this._chart=e;var t=e.getDom();if(t instanceof HTMLCanvasElement){var n=this,r=e.getZr(),i=r.__oldRefreshImmediately||r.refreshImmediately;r.refreshImmediately=function(){i.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},r.__oldRefreshImmediately=i}else console.error("ECharts must init on canvas if it is used as texture."),t=document.createElement("canvas");this._texture.image=t,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var e=new uM,t=new uM,n=new uM,r=new eE,i=new eE,a=new eE,o=new eE,s=new uM;return function(u,l,c,f){var h=l.geometry,d=h.attributes.position,p=h.attributes.texcoord0,g=uM.dot,m=uM.cross;d.get(c[0],e.array),d.get(c[1],t.array),d.get(c[2],n.array),p.get(c[0],r.array),p.get(c[1],i.array),p.get(c[2],a.array),m(s,t,n);var v=g(e,s),y=g(f,s)/v;m(s,n,e);var _=g(f,s)/v;m(s,e,t);var b=g(f,s)/v;eE.scale(o,r,y),eE.scaleAndAdd(o,o,i,_),eE.scaleAndAdd(o,o,a,b);var x=o.x*this._chart.getWidth(),w=o.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(u,{zrX:x,zrY:w})}}(),attachToMesh:function(e){this._meshes.indexOf(e)>=0||(qA.forEach((function(t){e.on(t,this[YA(t)],this)}),this),this._meshes.push(e))},detachFromMesh:function(e){var t=this._meshes.indexOf(e);t>=0&&this._meshes.splice(t,1),qA.forEach((function(t){e.off(t,this[YA(t)])}),this)},dispose:function(){this._meshes.forEach((function(e){this.detachFromMesh(e)}),this)}};var $A=ZA,QA=OC.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array;this.left=(-1-e[12])/e[0],this.right=(1-e[12])/e[0],this.top=(1-e[13])/e[5],this.bottom=(-1-e[13])/e[5],this.near=-(-1-e[14])/e[10],this.far=-(1-e[14])/e[10]},clone:function(){var e=OC.prototype.clone.call(this);return e.left=this.left,e.right=this.right,e.near=this.near,e.far=this.far,e.top=this.top,e.bottom=this.bottom,e}}),JA=QA,eO="\n@export clay.compositor.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n v_Texcoord = texcoord;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end";NE["import"](eO);var tO=new sA,nO=new VM({geometry:tO,frustumCulling:!1}),rO=new JA,iO=dT.extend((function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}}),(function(){var e=new NE(NE.source("clay.compositor.vertex"),this.fragment),t=new XT({shader:e});t.enableTexturesAll(),this.material=t}),{setUniform:function(e,t){this.material.setUniform(e,t)},getUniform:function(e){var t=this.material.uniforms[e];if(t)return t.value},attachOutput:function(e,t){this.outputs||(this.outputs={}),t=t||yT.COLOR_ATTACHMENT0,this.outputs[t]=e},detachOutput:function(e){for(var t in this.outputs)this.outputs[t]===e&&(this.outputs[t]=null)},bind:function(e,t){if(this.outputs)for(var n in this.outputs){var r=this.outputs[n];r&&t.attach(r,n)}t&&t.bind(e)},unbind:function(e,t){t.unbind(e)},render:function(e,t){var n=e.gl;if(t){this.bind(e,t);var r=e.getGLExtension("EXT_draw_buffers");if(r&&this.outputs){var i=[];for(var a in this.outputs)a=+a,a>=n.COLOR_ATTACHMENT0&&a<=n.COLOR_ATTACHMENT0+8&&i.push(a);r.drawBuffersEXT(i)}}this.trigger("beforerender",this,e);var o=this.clearDepth?n.DEPTH_BUFFER_BIT:0;if(n.depthMask(!0),this.clearColor){o|=n.COLOR_BUFFER_BIT,n.colorMask(!0,!0,!0,!0);var s=this.clearColor;Array.isArray(s)&&n.clearColor(s[0],s[1],s[2],s[3])}n.clear(o),this.blendWithPrevious?(n.enable(n.BLEND),this.material.transparent=!0):(n.disable(n.BLEND),this.material.transparent=!1),this.renderQuad(e),this.trigger("afterrender",this,e),t&&this.unbind(e,t)},renderQuad:function(e){nO.material=this.material,e.renderPass([nO],rO)},dispose:function(e){}}),aO=iO,oO="#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform sampler2D normalDistribution;\nuniform vec2 viewportSize : [512, 256];\nconst vec3 N = vec3(0.0, 0.0, 1.0);\nconst float fSampleNumber = float(SAMPLE_NUMBER);\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nfloat G_Smith(float roughness, float NoV, float NoL) {\n float k = roughness * roughness / 2.0;\n float G1V = NoV / (NoV * (1.0 - k) + k);\n float G1L = NoL / (NoL * (1.0 - k) + k);\n return G1L * G1V;\n}\nvoid main() {\n vec2 uv = gl_FragCoord.xy / viewportSize;\n float NoV = uv.x;\n float roughness = uv.y;\n vec3 V;\n V.x = sqrt(1.0 - NoV * NoV);\n V.y = 0.0;\n V.z = NoV;\n float A = 0.0;\n float B = 0.0;\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(L.z, 0.0, 1.0);\n float NoH = clamp(H.z, 0.0, 1.0);\n float VoH = clamp(dot(V, H), 0.0, 1.0);\n if (NoL > 0.0) {\n float G = G_Smith(roughness, NoV, NoL);\n float G_Vis = G * VoH / (NoH * NoV);\n float Fc = pow(1.0 - VoH, 5.0);\n A += (1.0 - Fc) * G_Vis;\n B += Fc * G_Vis;\n }\n }\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\n}\n",sO="#define SHADER_NAME prefilter\n#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform sampler2D normalDistribution;\nuniform float roughness : 0.5;\nvarying vec2 v_Texcoord;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvoid main() {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n vec3 N = V;\n vec3 prefilteredColor = vec3(0.0);\n float totalWeight = 0.0;\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(dot(N, L), 0.0, 1.0);\n if (NoL > 0.0) {\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\n totalWeight += NoL;\n }\n }\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\n}\n",uO={},lO=["px","nx","py","ny","pz","nz"];uO.prefilterEnvironmentMap=function(e,t,n,r,i){i&&r||(r=uO.generateNormalDistribution(),i=uO.integrateBRDF(e,r)),n=n||{};var a=n.width||64,o=n.height||64,s=n.type||t.type,u=new UC({width:a,height:o,type:s,flipY:!1,mipmaps:[]});u.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var l=Math.min(a,o),c=Math.log(l)/Math.log(2)+1,f=new XT({shader:new NE({vertex:NE.source("clay.skybox.vertex"),fragment:sO})});f.set("normalDistribution",r),n.encodeRGBM&&f.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&f.define("fragment","RGBM_DECODE");var h,d=new FC;if("texture2D"===t.textureType){var p=new UC({width:a,height:o,type:s===HM.FLOAT?HM.HALF_FLOAT:s});KA.panoramaToCubeMap(e,t,p,{encodeRGBM:n.decodeRGBM}),t=p}h=new pA({scene:d,material:f}),h.material.set("environmentMap",t);var g=new aA({texture:u});n.encodeRGBM&&(s=u.type=HM.UNSIGNED_BYTE);for(var m=new ZM({width:a,height:o,type:s}),v=new nA({depthBuffer:!1}),y=_T["a"][s===HM.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],_=0;_<c;_++){u.mipmaps[_]={pixels:{}},h.material.set("roughness",_/(c-1));for(var b=m.width,x=2*Math.atan(b/(b-.5))/Math.PI*180,w=0;w<lO.length;w++){var S=new y(m.width*m.height*4);v.attach(m),v.bind(e);var T=g.getCamera(lO[w]);T.fov=x,e.render(d,T),e.gl.readPixels(0,0,m.width,m.height,HM.RGBA,s,S),v.unbind(e),u.mipmaps[_].pixels[lO[w]]=S}m.width/=2,m.height/=2,m.dirty()}return v.dispose(e),m.dispose(e),h.dispose(e),r.dispose(e),{environmentMap:u,brdfLookup:i,normalDistribution:r,maxMipmapLevel:c}},uO.integrateBRDF=function(e,t){t=t||uO.generateNormalDistribution();var n=new nA({depthBuffer:!1}),r=new aO({fragment:oO}),i=new ZM({width:512,height:256,type:HM.HALF_FLOAT,wrapS:HM.CLAMP_TO_EDGE,wrapT:HM.CLAMP_TO_EDGE,minFilter:HM.NEAREST,magFilter:HM.NEAREST,useMipmap:!1});return r.setUniform("normalDistribution",t),r.setUniform("viewportSize",[512,256]),r.attachOutput(i),r.render(e,n),n.dispose(e),i},uO.generateNormalDistribution=function(e,t){e=e||256,t=t||1024;for(var n=new ZM({width:e,height:t,type:HM.FLOAT,minFilter:HM.NEAREST,magFilter:HM.NEAREST,wrapS:HM.CLAMP_TO_EDGE,wrapT:HM.CLAMP_TO_EDGE,useMipmap:!1}),r=new Float32Array(t*e*4),i=[],a=0;a<e;a++){for(var o=a/e,s=o*o,u=0;u<t;u++){var l=(u<<16|u>>>16)>>>0;l=((1431655765&l)<<1|(2863311530&l)>>>1)>>>0,l=((858993459&l)<<2|(3435973836&l)>>>2)>>>0,l=((252645135&l)<<4|(4042322160&l)>>>4)>>>0,l=(((16711935&l)<<8|(4278255360&l)>>>8)>>>0)/4294967296;var c=Math.sqrt((1-l)/(1+(s*s-1)*l));i[u]=c}for(u=0;u<t;u++){var f=4*(u*e+a),h=(c=i[u],Math.sqrt(1-c*c)),d=u/t,p=2*Math.PI*d;r[f]=h*Math.cos(p),r[f+1]=c,r[f+2]=h*Math.sin(p),r[f+3]=1}}return n.pixels=r,n};var cO=uO,fO=yC.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(e,t){if(e.getGLExtension("EXT_shader_texture_lod")){this._brdfLookup||(this._normalDistribution=cO.generateNormalDistribution(),this._brdfLookup=cO.integrateBRDF(e,this._normalDistribution));var n=this.cubemap;if(!n.__prefiltered){var r=cO.prefilterEnvironmentMap(e,n,{encodeRGBM:!0,width:t,height:t},this._normalDistribution,this._brdfLookup);this.cubemap=r.environmentMap,this.cubemap.__prefiltered=!0,n.dispose(e)}}else console.warn("Device not support textureCubeLodEXT")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}},ambientCubemapLightCubemap:{type:"t",value:function(e){return e.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(e){return e._brdfLookup}}}}),hO=fO,dO=yC.extend({castShadow:!1,coefficients:[]},(function(){this._coefficientsTmpArr=new _T["a"].Float32Array(27)}),{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}},ambientSHLightCoefficients:{type:"3f",value:function(e){for(var t=e._coefficientsTmpArr,n=0;n<e.coefficients.length;n++)t[n]=e.coefficients[n];return t}}}}),pO=dO,gO={},mO=["px","nx","py","ny","pz","nz"];function vO(e,t){var n=e[0],r=e[1],i=e[2];return 0===t?1:1===t?n:2===t?r:3===t?i:4===t?n*i:5===t?r*i:6===t?n*r:7===t?3*i*i-1:n*n-r*r}var yO={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};function _O(e,t,n,r){for(var i=new _T["a"].Float32Array(27),a=HE.create(),o=HE.create(),s=HE.create(),u=0;u<9;u++){for(var l=HE.create(),c=0;c<mO.length;c++){for(var f=t[mO[c]],h=HE.create(),d=0,p=0,g=yO[mO[c]],m=0;m<r;m++)for(var v=0;v<n;v++){a[0]=v/(n-1)*2-1,a[1]=m/(r-1)*2-1,a[2]=-1,HE.normalize(a,a),s[0]=a[g[0]]*g[3],s[1]=a[g[1]]*g[4],s[2]=a[g[2]]*g[5],o[0]=f[p++]/255,o[1]=f[p++]/255,o[2]=f[p++]/255;var y=f[p++]/255*8.12;o[0]*=y,o[1]*=y,o[2]*=y,HE.scaleAndAdd(h,h,o,vO(s,u)*-a[2]),d+=-a[2]}HE.scaleAndAdd(l,l,h,1/d)}i[3*u]=l[0]/6,i[3*u+1]=l[1]/6,i[3*u+2]=l[2]/6}return i}gO.projectEnvironmentMap=function(e,t,n){var r;n=n||{},n.lod=n.lod||0;var i=new FC,a=64;"texture2D"===t.textureType?r=new gA({scene:i,environmentMap:t}):(a=t.image&&t.image.px?t.image.px.width:t.width,r=new pA({scene:i,environmentMap:t}));var o=Math.ceil(a/Math.pow(2,n.lod)),s=Math.ceil(a/Math.pow(2,n.lod)),u=new ZM({width:o,height:s}),l=new nA;r.material.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&r.material.define("fragment","RGBM_DECODE"),r.material.set("lod",n.lod);for(var c=new aA({texture:u}),f={},h=0;h<mO.length;h++){f[mO[h]]=new Uint8Array(o*s*4);var d=c.getCamera(mO[h]);d.fov=90,l.attach(u),l.bind(e),e.render(i,d),e.gl.readPixels(0,0,o,s,HM.RGBA,HM.UNSIGNED_BYTE,f[mO[h]]),l.unbind(e)}return r.dispose(e),l.dispose(e),u.dispose(e),_O(e,f,o,s)};var bO=gO,xO={firstNotNull:function(){for(var e=0,t=arguments.length;e<t;e++)if(null!=arguments[e])return arguments[e]},queryDataIndex:function(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?l.isArray(t.dataIndex)?l.map(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?l.isArray(t.name)?l.map(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0}},wO=xO,SO=lC.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},(function(){this.build()}),{build:function(){var e=this.heightSegments,t=this.widthSegments,n=this.attributes.position,r=this.attributes.texcoord0,i=this.attributes.normal,a=(t+1)*(e+1);n.init(a),r.init(a),i.init(a);var o,s,u,l,c,f,h,d,p,g,m,v=a>65535?Uint32Array:Uint16Array,y=this.indices=new v(t*e*6),_=this.radius,b=this.phiStart,x=this.phiLength,w=this.thetaStart,S=this.thetaLength,T=(_=this.radius,[]),E=[],M=0,C=1/_;for(h=0;h<=e;h++)for(f=0;f<=t;f++)l=f/t,c=h/e,o=-_*Math.cos(b+l*x)*Math.sin(w+c*S),s=_*Math.cos(w+c*S),u=_*Math.sin(b+l*x)*Math.sin(w+c*S),T[0]=o,T[1]=s,T[2]=u,E[0]=l,E[1]=c,n.set(M,T),r.set(M,E),T[0]*=C,T[1]*=C,T[2]*=C,i.set(M,T),M++;var A=t+1,O=0;for(h=0;h<e;h++)for(f=0;f<t;f++)p=h*A+f,d=h*A+f+1,m=(h+1)*A+f+1,g=(h+1)*A+f,y[O++]=d,y[O++]=p,y[O++]=m,y[O++]=p,y[O++]=g,y[O++]=m;this.boundingBox=new OM,this.boundingBox.max.set(_,_,_),this.boundingBox.min.set(-_,-_,-_)}}),TO=SO,EO=yC.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}}}),MO=EO,CO=yC.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new uM,e.__dir.copy(e.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}},clone:function(){var e=yC.prototype.clone.call(this);return e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}}),AO=CO,OO=yC.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(e){return e.range}},pointLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}},clone:function(){var e=yC.prototype.clone.call(this);return e.range=this.range,e}}),DO=OO,PO=yC.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(e){return e.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(e){return e.falloffFactor}},spotLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new uM,e.__dir.copy(e.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(e){var t=e.color,n=e.intensity;return[t[0]*n,t[1]*n,t[2]*n]}}},clone:function(){var e=yC.prototype.clone.call(this);return e.range=this.range,e.umbraAngle=this.umbraAngle,e.penumbraAngle=this.penumbraAngle,e.falloffFactor=this.falloffFactor,e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}}),LO=PO,IO=function(e,t,n,r){e=e||0,t=t||0,n=n||0,r=r||0,this.array=dM.fromValues(e,t,n,r),this._dirty=!0};IO.prototype={constructor:IO,add:function(e){return dM.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,t,n,r){return this.array[0]=e,this.array[1]=t,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new IO(this.x,this.y,this.z,this.w)},copy:function(e){return dM.copy(this.array,e.array),this._dirty=!0,this},dist:function(e){return dM.dist(this.array,e.array)},distance:function(e){return dM.distance(this.array,e.array)},div:function(e){return dM.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return dM.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return dM.dot(this.array,e.array)},len:function(){return dM.len(this.array)},length:function(){return dM.length(this.array)},lerp:function(e,t,n){return dM.lerp(this.array,e.array,t.array,n),this._dirty=!0,this},min:function(e){return dM.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return dM.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return dM.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return dM.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return dM.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return dM.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return dM.random(this.array,e),this._dirty=!0,this},scale:function(e){return dM.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,t){return dM.scaleAndAdd(this.array,this.array,e.array,t),this._dirty=!0,this},sqrDist:function(e){return dM.sqrDist(this.array,e.array)},squaredDistance:function(e){return dM.squaredDistance(this.array,e.array)},sqrLen:function(){return dM.sqrLen(this.array)},squaredLength:function(){return dM.squaredLength(this.array)},sub:function(e){return dM.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return dM.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return dM.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return dM.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var RO=Object.defineProperty;if(RO){var kO=IO.prototype;RO(kO,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),RO(kO,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),RO(kO,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),RO(kO,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}IO.add=function(e,t,n){return dM.add(e.array,t.array,n.array),e._dirty=!0,e},IO.set=function(e,t,n,r,i){dM.set(e.array,t,n,r,i),e._dirty=!0},IO.copy=function(e,t){return dM.copy(e.array,t.array),e._dirty=!0,e},IO.dist=function(e,t){return dM.distance(e.array,t.array)},IO.distance=IO.dist,IO.div=function(e,t,n){return dM.divide(e.array,t.array,n.array),e._dirty=!0,e},IO.divide=IO.div,IO.dot=function(e,t){return dM.dot(e.array,t.array)},IO.len=function(e){return dM.length(e.array)},IO.lerp=function(e,t,n,r){return dM.lerp(e.array,t.array,n.array,r),e._dirty=!0,e},IO.min=function(e,t,n){return dM.min(e.array,t.array,n.array),e._dirty=!0,e},IO.max=function(e,t,n){return dM.max(e.array,t.array,n.array),e._dirty=!0,e},IO.mul=function(e,t,n){return dM.multiply(e.array,t.array,n.array),e._dirty=!0,e},IO.multiply=IO.mul,IO.negate=function(e,t){return dM.negate(e.array,t.array),e._dirty=!0,e},IO.normalize=function(e,t){return dM.normalize(e.array,t.array),e._dirty=!0,e},IO.random=function(e,t){return dM.random(e.array,t),e._dirty=!0,e},IO.scale=function(e,t,n){return dM.scale(e.array,t.array,n),e._dirty=!0,e},IO.scaleAndAdd=function(e,t,n,r){return dM.scaleAndAdd(e.array,t.array,n.array,r),e._dirty=!0,e},IO.sqrDist=function(e,t){return dM.sqrDist(e.array,t.array)},IO.squaredDistance=IO.sqrDist,IO.sqrLen=function(e){return dM.sqrLen(e.array)},IO.squaredLength=IO.sqrLen,IO.sub=function(e,t,n){return dM.subtract(e.array,t.array,n.array),e._dirty=!0,e},IO.subtract=IO.sub,IO.transformMat4=function(e,t,n){return dM.transformMat4(e.array,t.array,n.array),e._dirty=!0,e},IO.transformQuat=function(e,t,n){return dM.transformQuat(e.array,t.array,n.array),e._dirty=!0,e};var NO=IO,FO={create:function(){var e=new qT(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},clone:function(e){var t=new qT(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},transpose:function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*a-i*r;return o?(o=1/o,e[0]=a*o,e[1]=-r*o,e[2]=-i*o,e[3]=n*o,e):null},adjoint:function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e},determinant:function(e){return e[0]*e[3]-e[2]*e[1]},multiply:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*s+a*u,e[1]=i*s+o*u,e[2]=r*l+a*c,e[3]=i*l+o*c,e}};FO.mul=FO.multiply,FO.rotate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=r*-s+a*u,e[3]=i*-s+o*u,e},FO.scale=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],u=n[1];return e[0]=r*s,e[1]=i*s,e[2]=a*u,e[3]=o*u,e},FO.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},FO.LDU=function(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]};var BO=FO,zO=function(){this.array=BO.create(),this._dirty=!0};zO.prototype={constructor:zO,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},clone:function(){return(new zO).copy(this)},copy:function(e){return BO.copy(this.array,e.array),this._dirty=!0,this},adjoint:function(){return BO.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return BO.determinant(this.array)},identity:function(){return BO.identity(this.array),this._dirty=!0,this},invert:function(){return BO.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return BO.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return BO.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return BO.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return BO.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return BO.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return BO.scale(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return BO.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},zO.adjoint=function(e,t){return BO.adjoint(e.array,t.array),e._dirty=!0,e},zO.copy=function(e,t){return BO.copy(e.array,t.array),e._dirty=!0,e},zO.determinant=function(e){return BO.determinant(e.array)},zO.identity=function(e){return BO.identity(e.array),e._dirty=!0,e},zO.invert=function(e,t){return BO.invert(e.array,t.array),e._dirty=!0,e},zO.mul=function(e,t,n){return BO.mul(e.array,t.array,n.array),e._dirty=!0,e},zO.multiply=zO.mul,zO.rotate=function(e,t,n){return BO.rotate(e.array,t.array,n),e._dirty=!0,e},zO.scale=function(e,t,n){return BO.scale(e.array,t.array,n.array),e._dirty=!0,e},zO.transpose=function(e,t){return BO.transpose(e.array,t.array),e._dirty=!0,e};var jO=zO,HO={create:function(){var e=new qT(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},clone:function(e){var t=new qT(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=n*a-r*i;return u?(u=1/u,e[0]=a*u,e[1]=-r*u,e[2]=-i*u,e[3]=n*u,e[4]=(i*s-a*o)*u,e[5]=(r*o-n*s)*u,e):null},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=n[0],c=n[1],f=n[2],h=n[3],d=n[4],p=n[5];return e[0]=r*l+a*c,e[1]=i*l+o*c,e[2]=r*f+a*h,e[3]=i*f+o*h,e[4]=r*d+a*p+s,e[5]=i*d+o*p+u,e}};HO.mul=HO.multiply,HO.rotate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*l,e[1]=i*c+o*l,e[2]=r*-l+a*c,e[3]=i*-l+o*c,e[4]=s,e[5]=u,e},HO.scale=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r*l,e[1]=i*l,e[2]=a*c,e[3]=o*c,e[4]=s,e[5]=u,e},HO.translate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=r*l+a*c+s,e[5]=i*l+o*c+u,e},HO.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)};var UO=HO,VO=function(){this.array=UO.create(),this._dirty=!0};VO.prototype={constructor:VO,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},clone:function(){return(new VO).copy(this)},copy:function(e){return UO.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return UO.determinant(this.array)},identity:function(){return UO.identity(this.array),this._dirty=!0,this},invert:function(){return UO.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return UO.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return UO.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return UO.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return UO.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return UO.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return UO.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return UO.translate(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},VO.copy=function(e,t){return UO.copy(e.array,t.array),e._dirty=!0,e},VO.determinant=function(e){return UO.determinant(e.array)},VO.identity=function(e){return UO.identity(e.array),e._dirty=!0,e},VO.invert=function(e,t){return UO.invert(e.array,t.array),e._dirty=!0,e},VO.mul=function(e,t,n){return UO.mul(e.array,t.array,n.array),e._dirty=!0,e},VO.multiply=VO.mul,VO.rotate=function(e,t,n){return UO.rotate(e.array,t.array,n),e._dirty=!0,e},VO.scale=function(e,t,n){return UO.scale(e.array,t.array,n.array),e._dirty=!0,e},VO.translate=function(e,t,n){return UO.translate(e.array,t.array,n.array),e._dirty=!0,e};var GO=VO,WO=function(){this.array=gM.create(),this._dirty=!0};WO.prototype={constructor:WO,setArray:function(e){for(var t=0;t<this.array.length;t++)this.array[t]=e[t];return this._dirty=!0,this},adjoint:function(){return gM.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new WO).copy(this)},copy:function(e){return gM.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return gM.determinant(this.array)},fromMat2d:function(e){return gM.fromMat2d(this.array,e.array),this._dirty=!0,this},fromMat4:function(e){return gM.fromMat4(this.array,e.array),this._dirty=!0,this},fromQuat:function(e){return gM.fromQuat(this.array,e.array),this._dirty=!0,this},identity:function(){return gM.identity(this.array),this._dirty=!0,this},invert:function(){return gM.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return gM.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return gM.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return gM.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return gM.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return gM.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return gM.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return gM.translate(this.array,this.array,e.array),this._dirty=!0,this},normalFromMat4:function(e){return gM.normalFromMat4(this.array,e.array),this._dirty=!0,this},transpose:function(){return gM.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},WO.adjoint=function(e,t){return gM.adjoint(e.array,t.array),e._dirty=!0,e},WO.copy=function(e,t){return gM.copy(e.array,t.array),e._dirty=!0,e},WO.determinant=function(e){return gM.determinant(e.array)},WO.identity=function(e){return gM.identity(e.array),e._dirty=!0,e},WO.invert=function(e,t){return gM.invert(e.array,t.array),e},WO.mul=function(e,t,n){return gM.mul(e.array,t.array,n.array),e._dirty=!0,e},WO.multiply=WO.mul,WO.fromMat2d=function(e,t){return gM.fromMat2d(e.array,t.array),e._dirty=!0,e},WO.fromMat4=function(e,t){return gM.fromMat4(e.array,t.array),e._dirty=!0,e},WO.fromQuat=function(e,t){return gM.fromQuat(e.array,t.array),e._dirty=!0,e},WO.normalFromMat4=function(e,t){return gM.normalFromMat4(e.array,t.array),e._dirty=!0,e},WO.rotate=function(e,t,n){return gM.rotate(e.array,t.array,n),e._dirty=!0,e},WO.scale=function(e,t,n){return gM.scale(e.array,t.array,n.array),e._dirty=!0,e},WO.transpose=function(e,t){return gM.transpose(e.array,t.array),e._dirty=!0,e},WO.translate=function(e,t,n){return gM.translate(e.array,t.array,n.array),e._dirty=!0,e};var XO=WO,KO={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(e,t){this._animators=this._animators||[];var n,r=this;if(e){for(var i=e.split("."),a=r,o=0,s=i.length;o<s;o++)a&&(a=a[i[o]]);a&&(n=a)}else n=r;if(null==n)throw new Error("Target "+e+" not exists");var u=this._animators,l=new Hn(n,t),c=this;return l.during((function(){c.__zr&&c.__zr.refresh()})).done((function(){var e=u.indexOf(l);e>=0&&u.splice(e,1)})),u.push(l),this.__zr&&this.__zr.animation.addAnimator(l),l},stopAnimation:function(e){this._animators=this._animators||[];for(var t=this._animators,n=t.length,r=0;r<n;r++)t[r].stop(e);return t.length=0,this},addAnimatorsToZr:function(e){if(this._animators)for(var t=0;t<this._animators.length;t++)e.animation.addAnimator(this._animators[t])},removeAnimatorsFromZr:function(e){if(this._animators)for(var t=0;t<this._animators.length;t++)e.animation.removeAnimator(this._animators[t])}},qO=KO,YO="\n@export clay.util.rand\nhighp float rand(vec2 uv) {\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\n return fract(sin(sn) * c);\n}\n@end\n@export clay.util.calculate_attenuation\nuniform float attenuationFactor : 5.0;\nfloat lightAttenuation(float dist, float range)\n{\n float attenuation = 1.0;\n attenuation = dist*dist/(range*range+1.0);\n float att_s = attenuationFactor;\n attenuation = 1.0/(attenuation*att_s+1.0);\n att_s = 1.0/(att_s+1.0);\n attenuation = attenuation - att_s;\n attenuation /= 1.0 - att_s;\n return clamp(attenuation, 0.0, 1.0);\n}\n@end\n@export clay.util.edge_factor\n#ifdef SUPPORT_STANDARD_DERIVATIVES\nfloat edgeFactor(float width)\n{\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#else\nfloat edgeFactor(float width)\n{\n return 1.0;\n}\n#endif\n@end\n@export clay.util.encode_float\nvec4 encodeFloat(const in float depth)\n{\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n vec4 res = fract(depth * bitShifts);\n res -= res.xxyz * bit_mask;\n return res;\n}\n@end\n@export clay.util.decode_float\nfloat decodeFloat(const in vec4 color)\n{\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n return dot(color, bitShifts);\n}\n@end\n@export clay.util.float\n@import clay.util.encode_float\n@import clay.util.decode_float\n@end\n@export clay.util.rgbm_decode\nvec3 RGBMDecode(vec4 rgbm, float range) {\n return range * rgbm.rgb * rgbm.a;\n}\n@end\n@export clay.util.rgbm_encode\nvec4 RGBMEncode(vec3 color, float range) {\n if (dot(color, color) == 0.0) {\n return vec4(0.0);\n }\n vec4 rgbm;\n color /= range;\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n rgbm.rgb = color / rgbm.a;\n return rgbm;\n}\n@end\n@export clay.util.rgbm\n@import clay.util.rgbm_decode\n@import clay.util.rgbm_encode\nvec4 decodeHDR(vec4 color)\n{\n#if defined(RGBM_DECODE) || defined(RGBM)\n return vec4(RGBMDecode(color, 8.12), 1.0);\n#else\n return color;\n#endif\n}\nvec4 encodeHDR(vec4 color)\n{\n#if defined(RGBM_ENCODE) || defined(RGBM)\n return RGBMEncode(color.xyz, 8.12);\n#else\n return color;\n#endif\n}\n@end\n@export clay.util.srgb\nvec4 sRGBToLinear(in vec4 value) {\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\n}\nvec4 linearTosRGB(in vec4 value) {\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\n}\n@end\n@export clay.chunk.skinning_header\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n#ifdef USE_SKIN_MATRICES_TEXTURE\nuniform sampler2D skinMatricesTexture : ignore;\nuniform float skinMatricesTextureSize: ignore;\nmat4 getSkinMatrix(sampler2D tex, float idx) {\n float j = idx * 4.0;\n float x = mod(j, skinMatricesTextureSize);\n float y = floor(j / skinMatricesTextureSize) + 0.5;\n vec2 scale = vec2(skinMatricesTextureSize);\n return mat4(\n texture2D(tex, vec2(x + 0.5, y) / scale),\n texture2D(tex, vec2(x + 1.5, y) / scale),\n texture2D(tex, vec2(x + 2.5, y) / scale),\n texture2D(tex, vec2(x + 3.5, y) / scale)\n );\n}\nmat4 getSkinMatrix(float idx) {\n return getSkinMatrix(skinMatricesTexture, idx);\n}\n#else\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\nmat4 getSkinMatrix(float idx) {\n return skinMatrix[int(idx)];\n}\n#endif\n#endif\n@end\n@export clay.chunk.skin_matrix\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\nif (weight.y > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\n}\nif (weight.z > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\n}\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\nif (weightW > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\n}\n@end\n@export clay.chunk.instancing_header\n#ifdef INSTANCING\nattribute vec4 instanceMat1;\nattribute vec4 instanceMat2;\nattribute vec4 instanceMat3;\n#endif\n@end\n@export clay.chunk.instancing_matrix\nmat4 instanceMat = mat4(\n vec4(instanceMat1.xyz, 0.0),\n vec4(instanceMat2.xyz, 0.0),\n vec4(instanceMat3.xyz, 0.0),\n vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)\n);\n@end\n@export clay.util.parallax_correct\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\n vec3 first = (boxMax - pos) / dir;\n vec3 second = (boxMin - pos) / dir;\n vec3 further = max(first, second);\n float dist = min(further.x, min(further.y, further.z));\n vec3 fixedPos = pos + dir * dist;\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\n return normalize(fixedPos - boxCenter);\n}\n@end\n@export clay.util.clamp_sample\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\n{\n#ifdef STEREO\n float eye = step(0.5, coord.x) * 0.5;\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\n#else\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\n#endif\n return texture2D(texture, coordClamped);\n}\n@end\n@export clay.util.ACES\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\n@end",ZO="\n@export ecgl.common.transformUniforms\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nuniform mat4 world : WORLD;\n@end\n\n@export ecgl.common.attributes\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 normal : NORMAL;\n@end\n\n@export ecgl.common.uv.header\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\nuniform vec2 detailUvRepeat : [1.0, 1.0];\nuniform vec2 detailUvOffset : [0.0, 0.0];\n\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n@export ecgl.common.uv.main\nv_Texcoord = texcoord * uvRepeat + uvOffset;\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\n@end\n\n@export ecgl.common.uv.fragmentHeader\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n\n@export ecgl.common.albedo.main\n\n vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\n #ifdef SRGB_DECODE\n albedoTexel = sRGBToLinear(albedoTexel);\n #endif\n#endif\n\n#ifdef DETAILMAP_ENABLED\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\n #ifdef SRGB_DECODE\n detailTexel = sRGBToLinear(detailTexel);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexHeader\n\n#ifdef WIREFRAME_QUAD\nattribute vec4 barycentric;\nvarying vec4 v_Barycentric;\n#elif defined(WIREFRAME_TRIANGLE)\nattribute vec3 barycentric;\nvarying vec3 v_Barycentric;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n v_Barycentric = barycentric;\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentHeader\n\nuniform float wireframeLineWidth : 1;\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\n\n#ifdef WIREFRAME_QUAD\nvarying vec4 v_Barycentric;\nfloat edgeFactor () {\n vec4 d = fwidth(v_Barycentric);\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\n}\n#elif defined(WIREFRAME_TRIANGLE)\nvarying vec3 v_Barycentric;\nfloat edgeFactor () {\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n if (wireframeLineWidth > 0.) {\n vec4 lineColor = wireframeLineColor;\n#ifdef SRGB_DECODE\n lineColor = sRGBToLinear(lineColor);\n#endif\n\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\n }\n#endif\n@end\n\n\n\n\n@export ecgl.common.bumpMap.header\n\n#ifdef BUMPMAP_ENABLED\nuniform sampler2D bumpMap;\nuniform float bumpScale : 1.0;\n\n\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\n{\n vec2 dSTdx = dFdx(v_Texcoord);\n vec2 dSTdy = dFdy(v_Texcoord);\n\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\n\n vec3 vSigmaX = dFdx(surfPos);\n vec3 vSigmaY = dFdy(surfPos);\n vec3 vN = surfNormal;\n\n vec3 R1 = cross(vSigmaY, vN);\n vec3 R2 = cross(vN, vSigmaX);\n\n float fDet = dot(vSigmaX, R1);\n\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\n return normalize(abs(fDet) * baseNormal - vGrad);\n\n}\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexHeader\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexMain\n\n#ifdef NORMALMAP_ENABLED\n if (dot(tangent, tangent) > 0.0) {\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n }\n#endif\n\n@end\n\n\n@export ecgl.common.normalMap.fragmentHeader\n\n#ifdef NORMALMAP_ENABLED\nuniform sampler2D normalMap;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.fragmentMain\n#ifdef NORMALMAP_ENABLED\n if (dot(v_Tangent, v_Tangent) > 0.0) {\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\n N = normalize(tbn * N);\n }\n }\n#endif\n@end\n\n\n\n@export ecgl.common.vertexAnimation.header\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevNormal;\nuniform float percent;\n#endif\n\n@end\n\n@export ecgl.common.vertexAnimation.main\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n vec3 norm = mix(prevNormal, normal, percent);\n#else\n vec3 pos = position;\n vec3 norm = normal;\n#endif\n\n@end\n\n\n@export ecgl.common.ssaoMap.header\n#ifdef SSAOMAP_ENABLED\nuniform sampler2D ssaoMap;\nuniform vec4 viewport : VIEWPORT;\n#endif\n@end\n\n@export ecgl.common.ssaoMap.main\n float ao = 1.0;\n#ifdef SSAOMAP_ENABLED\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\n#endif\n@end\n\n\n\n\n@export ecgl.common.diffuseLayer.header\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.header\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.layers.header\n@import ecgl.common.diffuseLayer.header\n@import ecgl.common.emissiveLayer.header\n@end\n\n@export ecgl.common.diffuseLayer.main\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\n float intensity = layerDiffuseIntensity[_idx_];\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\n }}\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.main\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\n {{\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n float intensity = layerEmissionIntensity[_idx_];\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\n }}\n#endif\n\n@end\n",$O="@export ecgl.color.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\n@import ecgl.common.uv.header\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position: POSITION;\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\nattribute vec3 normal: NORMAL;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nvarying vec3 v_Normal;\n#endif\n\nvoid main()\n{\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n @import ecgl.common.uv.main\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n@export ecgl.color.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\nvarying vec3 v_Normal;\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.layers.header\n\n@import ecgl.common.uv.fragmentHeader\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n\n}\n@end",QO="/**\n * http: */\n\n@export ecgl.lambert.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n\n@import ecgl.common.attributes\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.vertexAnimation.header\n\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n}\n\n@end\n\n\n@export ecgl.lambert.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n gl_FragColor *= sRGBToLinear(v_Color);\n #else\n gl_FragColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n vec3 lightColor = directionalLightColor[i];\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor.rgb *= diffuseColor;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end",JO="@export ecgl.realistic.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n\n\n@export ecgl.realistic.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n#define ROUGHNESS_CHANEL 0\n#define METALNESS_CHANEL 1\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\n\nuniform sampler2D detailMap;\nuniform sampler2D metalnessMap;\nuniform sampler2D roughnessMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform float metalness : 0.0;\nuniform float roughness : 0.5;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n@import clay.header.ambient_cubemap_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.normalMap.fragmentHeader\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import clay.util.rgbm\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n\nfloat D_Phong(float g, float ndh) {\n float a = pow(8192.0, g);\n return (a + 2.0) / 8.0 * pow(ndh, a);\n}\n\nvoid main()\n{\n vec4 albedoColor = color;\n\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n albedoColor *= sRGBToLinear(v_Color);\n #else\n albedoColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n albedoColor *= albedoTexel;\n\n float m = metalness;\n\n#ifdef METALNESSMAP_ENABLED\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 baseColor = albedoColor.rgb;\n albedoColor.rgb = baseColor * (1.0 - m);\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\n\n float g = 1.0 - roughness;\n\n#ifdef ROUGHNESSMAP_ENABLED\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 N = v_Normal;\n\n#ifdef DOUBLE_SIDED\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n@import ecgl.common.normalMap.fragmentMain\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseTerm = vec3(0.0);\n vec3 specularTerm = vec3(0.0);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\n }}\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\n {{\n vec3 L = -directionalLightDirection[_idx_];\n vec3 lc = directionalLightColor[_idx_];\n\n vec3 H = normalize(L + V);\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[_idx_];\n }\n#endif\n\n vec3 li = lc * ndl * shadowContrib;\n\n diffuseTerm += li;\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\n }}\n#endif\n\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n vec3 L = reflect(-V, N);\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\n float bias2 = rough2 * 5.0;\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\n vec3 envTexel2;\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\n {{\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\n }}\n#endif\n\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\n gl_FragColor.a = albedoColor.a;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n#ifdef SRGB_ENCODE\n gl_FragColor = linearTosRGB(gl_FragColor);\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end",eD="@export ecgl.hatching.vertex\n\n@import ecgl.realistic.vertex\n\n@end\n\n\n@export ecgl.hatching.fragment\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nuniform sampler2D hatch1;\nuniform sampler2D hatch2;\nuniform sampler2D hatch3;\nuniform sampler2D hatch4;\nuniform sampler2D hatch5;\nuniform sampler2D hatch6;\n\nfloat shade(in float tone) {\n vec4 c = vec4(1. ,1., 1., 1.);\n float step = 1. / 6.;\n vec2 uv = v_DetailTexcoord;\n if (tone <= step / 2.0) {\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\n }\n else if (tone <= step) {\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\n }\n if(tone > step && tone <= 2. * step){\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\n }\n if(tone > 2. * step && tone <= 3. * step){\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\n }\n if(tone > 3. * step && tone <= 4. * step){\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\n }\n if(tone > 4. * step && tone <= 5. * step){\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\n }\n if(tone > 5. * step){\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\n }\n\n return c.r;\n}\n\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n vec4 inkColor = sRGBToLinear(color);\n#else\n vec4 inkColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n inkColor *= sRGBToLinear(v_Color);\n #else\n inkColor *= v_Color;\n #endif\n#endif\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float tone = 0.0;\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n float lightTone = dot(directionalLightColor[i], w);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n tone += lightTone * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\n }\n@end\n",tD="@export ecgl.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\n\nvoid main(){\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\n gl_Position = v_ViewPosition;\n\n v_Texcoord = texcoord;\n\n}\n@end\n\n\n\n@export ecgl.sm.depth.fragment\n\n@import clay.sm.depth.fragment\n\n@end";function nD(e){return!e||"none"===e}function rD(e){return e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof Image}function iD(e){return e.getZr&&e.setOption}Object.assign(LM.prototype,qO),NE["import"](YO),NE["import"](FE),NE["import"](ZO),NE["import"]($O),NE["import"](QO),NE["import"](JO),NE["import"](eD),NE["import"](tD);var aD=FC.prototype.addToScene,oD=FC.prototype.removeFromScene;FC.prototype.addToScene=function(e){if(aD.call(this,e),this.__zr){var t=this.__zr;e.traverse((function(e){e.__zr=t,e.addAnimatorsToZr&&e.addAnimatorsToZr(t)}))}},FC.prototype.removeFromScene=function(e){oD.call(this,e),e.traverse((function(e){var t=e.__zr;e.__zr=null,t&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(t)}))},XT.prototype.setTextureImage=function(e,t,n,r){if(this.shader){var i,a=n.getZr(),o=this;return o.autoUpdateTextureStatus=!1,o.disableTexture(e),nD(t)||(i=sD.loadTexture(t,n,r,(function(t){o.enableTexture(e),a&&a.refresh()})),o.set(e,i)),i}};var sD={};sD.Renderer=eM,sD.Node=LM,sD.Mesh=VM,sD.Shader=NE,sD.Material=XT,sD.Texture=HM,sD.Texture2D=ZM,sD.Geometry=lC,sD.SphereGeometry=TO,sD.PlaneGeometry=sA,sD.CubeGeometry=fA,sD.AmbientLight=MO,sD.DirectionalLight=AO,sD.PointLight=DO,sD.SpotLight=LO,sD.PerspectiveCamera=GC,sD.OrthographicCamera=JA,sD.Vector2=eE,sD.Vector3=uM,sD.Vector4=NO,sD.Quaternion=EM,sD.Matrix2=jO,sD.Matrix2d=GO,sD.Matrix3=XO,sD.Matrix4=xM,sD.Plane=bC,sD.Ray=fM,sD.BoundingBox=OM,sD.Frustum=CC;var uD=KA.createBlank("rgba(255,255,255,0)").image;function lD(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function cD(e){if((e.wrapS===HM.REPEAT||e.wrapT===HM.REPEAT)&&e.image){var t=lD(e.width),n=lD(e.height);if(t!==e.width||n!==e.height){var r=document.createElement("canvas");r.width=t,r.height=n;var i=r.getContext("2d");i.drawImage(e.image,0,0,t,n),e.image=r}}}sD.loadTexture=function(e,t,n,r){"function"===typeof n&&(r=n,n={}),n=n||{};for(var i=Object.keys(n).sort(),a="",o=0;o<i.length;o++)a+=i[o]+"_"+n[i[o]]+"_";var s=t.__textureCache=t.__textureCache||new Xt(20);if(iD(e)){var u=e.__textureid__,l=s.get(a+u);if(l)l.texture.surface.setECharts(e),r&&r(l.texture);else{var c=new $A(e);c.onupdate=function(){t.getZr().refresh()},l={texture:c.getTexture()};for(o=0;o<i.length;o++)l.texture[i[o]]=n[i[o]];u=e.__textureid__||"__ecgl_ec__"+l.texture.__uid__,e.__textureid__=u,s.put(a+u,l),r&&r(l.texture)}return l.texture}if(rD(e)){u=e.__textureid__,l=s.get(a+u);if(!l){l={texture:new sD.Texture2D({image:e})};for(o=0;o<i.length;o++)l.texture[i[o]]=n[i[o]];u=e.__textureid__||"__ecgl_image__"+l.texture.__uid__,e.__textureid__=u,s.put(a+u,l),cD(l.texture),r&&r(l.texture)}return l.texture}l=s.get(a+e);if(l)l.callbacks?l.callbacks.push(r):r&&r(l.texture);else if(e.match(/.hdr$|^data:application\/octet-stream/)){l={callbacks:[r]};var f=KA.loadTexture(e,{exposure:n.exposure,fileType:"hdr"},(function(){f.dirty(),l.callbacks.forEach((function(e){e&&e(f)})),l.callbacks=null}));l.texture=f,s.put(a+e,l)}else{for(f=new sD.Texture2D({image:new Image}),o=0;o<i.length;o++)f[i[o]]=n[i[o]];l={texture:f,callbacks:[r]};var h=f.image;h.onload=function(){f.image=h,cD(f),f.dirty(),l.callbacks.forEach((function(e){e&&e(f)})),l.callbacks=null},h.src=e,f.image=uD,s.put(a+e,l)}return l.texture},sD.createAmbientCubemap=function(e,t,n,r){e=e||{};var i=e.texture,a=wO.firstNotNull(e.exposure,1),o=new hO({intensity:wO.firstNotNull(e.specularIntensity,1)}),s=new pO({intensity:wO.firstNotNull(e.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return o.cubemap=sD.loadTexture(i,n,{exposure:a},(function(){o.cubemap.flipY=!1,o.prefilter(t,32),s.coefficients=bO.projectEnvironmentMap(t,o.cubemap,{lod:1}),r&&r()})),{specular:o,diffuse:s}},sD.createBlankTexture=KA.createBlank,sD.isImage=rD,sD.additiveBlend=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)},sD.parseColor=function(e,t){return e instanceof Array?(t||(t=[]),t[0]=e[0],t[1]=e[1],t[2]=e[2],e.length>3?t[3]=e[3]:t[3]=1,t):(t=r.parse(e||"#000",t)||[0,0,0,0],t[0]/=255,t[1]/=255,t[2]/=255,t)},sD.directionFromAlphaBeta=function(e,t){var n=e/180*Math.PI+Math.PI/2,r=-t/180*Math.PI+Math.PI/2,i=[],a=Math.sin(n);return i[0]=a*Math.cos(r),i[1]=-Math.cos(n),i[2]=a*Math.sin(r),i},sD.getShadowResolution=function(e){var t=1024;switch(e){case"low":t=512;break;case"medium":break;case"high":t=2048;break;case"ultra":t=4096;break}return t},sD.COMMON_SHADERS=["lambert","color","realistic","hatching","shadow"],sD.createShader=function(e){"ecgl.shadow"===e&&(e="ecgl.displayShadow");var t=NE.source(e+".vertex"),n=NE.source(e+".fragment");t||console.error("Vertex shader of '%s' not exits",e),n||console.error("Fragment shader of '%s' not exits",e);var r=new NE(t,n);return r.name=e,r},sD.createMaterial=function(e,t){t instanceof Array||(t=[t]);var n=sD.createShader(e),r=new XT({shader:n});return t.forEach((function(e){"string"===typeof e&&r.define(e)})),r},sD.setMaterialFromModel=function(e,t,n,r){t.autoUpdateTextureStatus=!1;var i=n.getModel(e+"Material"),a=i.get("detailTexture"),o=wO.firstNotNull(i.get("textureTiling"),1),s=wO.firstNotNull(i.get("textureOffset"),0);"number"===typeof o&&(o=[o,o]),"number"===typeof s&&(s=[s,s]);var u=o[0]>1||o[1]>1?sD.Texture.REPEAT:sD.Texture.CLAMP_TO_EDGE,l={anisotropic:8,wrapS:u,wrapT:u};if("realistic"===e){var c=i.get("roughness"),f=i.get("metalness");null!=f?isNaN(f)&&(t.setTextureImage("metalnessMap",f,r,l),f=wO.firstNotNull(i.get("metalnessAdjust"),.5)):f=0,null!=c?isNaN(c)&&(t.setTextureImage("roughnessMap",c,r,l),c=wO.firstNotNull(i.get("roughnessAdjust"),.5)):c=.5;var h=i.get("normalTexture");t.setTextureImage("detailMap",a,r,l),t.setTextureImage("normalMap",h,r,l),t.set({roughness:c,metalness:f,detailUvRepeat:o,detailUvOffset:s})}else if("lambert"===e)t.setTextureImage("detailMap",a,r,l),t.set({detailUvRepeat:o,detailUvOffset:s});else if("color"===e)t.setTextureImage("detailMap",a,r,l),t.set({detailUvRepeat:o,detailUvOffset:s});else if("hatching"===e){var d=i.get("hatchingTextures")||[];d.length;for(var p=0;p<6;p++)t.setTextureImage("hatch"+(p+1),d[p],r,{anisotropic:8,wrapS:sD.Texture.REPEAT,wrapT:sD.Texture.REPEAT});t.set({detailUvRepeat:o,detailUvOffset:s})}},sD.updateVertexAnimation=function(e,t,n,r){var i=r.get("animation"),a=r.get("animationDurationUpdate"),o=r.get("animationEasingUpdate"),s=n.shadowDepthMaterial;if(i&&t&&a>0&&t.geometry.vertexCount===n.geometry.vertexCount){n.material.define("vertex","VERTEX_ANIMATION"),n.ignorePreZ=!0,s&&s.define("vertex","VERTEX_ANIMATION");for(var u=0;u<e.length;u++)n.geometry.attributes[e[u][0]].value=t.geometry.attributes[e[u][1]].value;n.geometry.dirty(),n.__percent=0,n.material.set("percent",0),n.stopAnimation(),n.animate().when(a,{__percent:1}).during((function(){n.material.set("percent",n.__percent),s&&s.set("percent",n.__percent)})).done((function(){n.ignorePreZ=!1,n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")})).start(o)}else n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")};var fD=sD,hD=function(e,t){this.id=e,this.zr=t;try{this.renderer=new eM({clearBit:0,devicePixelRatio:t.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(t.painter.getWidth(),t.painter.getHeight())}catch(r){return this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",void console.error(r)}this.onglobalout=this.onglobalout.bind(this),t.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var n=this.dom.style;n.position="absolute",n.left="0",n.top="0",this.views=[],this._picking=new NM({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new s.Rect({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null};function dD(e){var t=e.__zr;e.__zr=null,t&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(t)}hD.prototype.setUnpainted=function(){},hD.prototype.addView=function(e){if(e.layer!==this){var t=this._viewsToDispose.indexOf(e);t>=0&&this._viewsToDispose.splice(t,1),this.views.push(e),e.layer=this;var n=this.zr;e.scene.traverse((function(e){e.__zr=n,e.addAnimatorsToZr&&e.addAnimatorsToZr(n)}))}},hD.prototype.removeView=function(e){if(e.layer===this){var t=this.views.indexOf(e);t>=0&&(this.views.splice(t,1),e.scene.traverse(dD,this),e.layer=null,this._viewsToDispose.push(e))}},hD.prototype.removeViewsAll=function(){this.views.forEach((function(e){e.scene.traverse(dD,this),e.layer=null,this._viewsToDispose.push(e)}),this),this.views.length=0},hD.prototype.resize=function(e,t){var n=this.renderer;n.resize(e,t)},hD.prototype.clear=function(){var e=this.renderer.gl,t=this._backgroundColor||[0,0,0,0];e.clearColor(t[0],t[1],t[2],t[3]),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT)},hD.prototype.clearDepth=function(){var e=this.renderer.gl;e.clear(e.DEPTH_BUFFER_BIT)},hD.prototype.clearColor=function(){var e=this.renderer.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},hD.prototype.needsRefresh=function(){this.zr.refresh()},hD.prototype.refresh=function(e){this._backgroundColor=e?fD.parseColor(e):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var t=0;t<this.views.length;t++)this.views[t].prepareRender(this.renderer);this._doRender(!1),this._trackAndClean();for(t=0;t<this._viewsToDispose.length;t++)this._viewsToDispose[t].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()},hD.prototype.renderToCanvas=function(e){this._startAccumulating(!0),e.drawImage(this.dom,0,0,e.canvas.width,e.canvas.height)},hD.prototype._doRender=function(e){this.clear(),this.renderer.saveViewport();for(var t=0;t<this.views.length;t++)this.views[t].render(this.renderer,e);this.renderer.restoreViewport()},hD.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var pD=1;function gD(e){for(var t=0;t<e.length;t++)e[t].__used__=0}function mD(e,t){for(var n=0;n<t.length;n++)t[n].__used__||t[n].dispose(e)}function vD(e,t){e.__used__=e.__used__||0,e.__used__++,1===e.__used__&&t.push(e)}function yD(e,t,n){var r,i;e.traverse((function(e){if(e.isRenderable()){var a=e.geometry,o=e.material;if(o!==r)for(var s=o.getTextureUniforms(),u=0;u<s.length;u++){var l=s[u],c=o.uniforms[l].value;if(c)if(c instanceof HM)vD(c,t);else if(c instanceof Array)for(var f=0;f<c.length;f++)c[f]instanceof HM&&vD(c[f],t)}a!==i&&vD(a,n),r=o,i=a}}));for(var a=0;a<e.lights.length;a++)e.lights[a].cubemap&&vD(e.lights[a].cubemap,t)}hD.prototype._startAccumulating=function(e){var t=this;this._stopAccumulating();for(var n=!1,r=0;r<this.views.length;r++)n=this.views[r].needsAccumulate()||n;function i(r){if(t._accumulatingId&&r===t._accumulatingId){for(var a=!0,o=0;o<t.views.length;o++)a=t.views[o].isAccumulateFinished()&&n;a||(t._doRender(!0),e?i(r):Xr((function(){i(r)})))}}n&&(this._accumulatingId=pD++,e?i(t._accumulatingId):this._accumulatingTimeout=setTimeout((function(){i(t._accumulatingId)}),50))},hD.prototype._trackAndClean=function(){var e=[],t=[];this._textureList&&(gD(this._textureList),gD(this._geometriesList));for(var n=0;n<this.views.length;n++)yD(this.views[n].scene,e,t);this._textureList&&(mD(this.renderer,this._textureList),mD(this.renderer,this._geometriesList)),this._textureList=e,this._geometriesList=t},hD.prototype.dispose=function(){this._stopAccumulating(),this.renderer.disposeScene(this.scene),this.zr.off("globalout",this.onglobalout)},hD.prototype.onmousedown=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent("mousedown",e,t),this._dispatchDataEvent("mousedown",e,t)),this._downX=e.offsetX,this._downY=e.offsetY}},hD.prototype.onmousemove=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY),n=t&&t.target,r=this._hovered;this._hovered=t,r&&n!==r.target&&(r.relatedTarget=n,this._dispatchEvent("mouseout",e,r),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",e,t),t&&(this.zr.setCursorStyle("pointer"),r&&n===r.target||this._dispatchEvent("mouseover",e,t)),this._dispatchDataEvent("mousemove",e,t)}},hD.prototype.onmouseup=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var t=this.pickObject(e.offsetX,e.offsetY);t&&(this._dispatchEvent("mouseup",e,t),this._dispatchDataEvent("mouseup",e,t)),this._upX=e.offsetX,this._upY=e.offsetY}},hD.prototype.onclick=hD.prototype.dblclick=function(e){if(!e.target||!e.target.__isGLToZRProxy){var t=this._upX-this._downX,n=this._upY-this._downY;if(!(Math.sqrt(t*t+n*n)>20)){e=e.event;var r=this.pickObject(e.offsetX,e.offsetY);r&&(this._dispatchEvent(e.type,e,r),this._dispatchDataEvent(e.type,e,r));var i=this._clickToSetFocusPoint(e);if(i){var a=i.view.setDOFFocusOnPoint(i.distance);a&&this.zr.refresh()}}}},hD.prototype._clickToSetFocusPoint=function(e){for(var t=this.renderer,n=t.viewport,r=this.views.length-1;r>=0;r--){var i=this.views[r];if(i.hasDOF()&&i.containPoint(e.offsetX,e.offsetY)){this._picking.scene=i.scene,this._picking.camera=i.camera,t.viewport=i.viewport;var a=this._picking.pick(e.offsetX,e.offsetY,!0);if(a)return a.view=i,a}}t.viewport=n},hD.prototype.onglobalout=function(e){var t=this._hovered;t&&this._dispatchEvent("mouseout",e,{target:t.target})},hD.prototype.pickObject=function(e,t){for(var n=[],r=this.renderer,i=r.viewport,a=0;a<this.views.length;a++){var o=this.views[a];o.containPoint(e,t)&&(this._picking.scene=o.scene,this._picking.camera=o.camera,r.viewport=o.viewport,this._picking.pickAll(e,t,n))}return r.viewport=i,n.sort((function(e,t){return e.distance-t.distance})),n[0]},hD.prototype._dispatchEvent=function(e,t,n){n||(n={});var r=n.target;n.cancelBubble=!1,n.event=t,n.type=e,n.offsetX=t.offsetX,n.offsetY=t.offsetY;while(r)if(r.trigger(e,n),r=r.getParent(),n.cancelBubble)break;this._dispatchToView(e,n)},hD.prototype._dispatchDataEvent=function(e,t,n){var r=n&&n.target,i=r&&r.dataIndex,o=r&&r.seriesIndex,s=r&&r.eventData,u=!1,l=this._zrEventProxy;l.x=t.offsetX,l.y=t.offsetY,l.update();var c={target:l},f=a.getECData(l);"mousemove"===e&&(null!=i?i!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(f.dataIndex=this._lastDataIndex,f.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(c,"mouseout",t)),u=!0):null!=s&&s!==this._lastEventData&&(null!=this._lastEventData&&(f.eventData=this._lastEventData,this.zr.handler.dispatchToElement(c,"mouseout",t)),u=!0),this._lastEventData=s,this._lastDataIndex=i,this._lastSeriesIndex=o),f.eventData=s,f.dataIndex=i,f.seriesIndex=o,(null!=s||parseInt(i,10)>=0&&parseInt(o,10)>=0)&&(this.zr.handler.dispatchToElement(c,e,t),u&&this.zr.handler.dispatchToElement(c,"mouseover",t))},hD.prototype._dispatchToView=function(e,t){for(var n=0;n<this.views.length;n++)this.views[n].containPoint(t.offsetX,t.offsetY)&&this.views[n].trigger(e,t)},Object.assign(hD.prototype,oT);var _D=hD,bD=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function xD(e,t){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,r=e[t].emphasis;n&&(e[t]=n),r&&(e.emphasis=e.emphasis||{},e.emphasis[t]=r)}}function wD(e){xD(e,"itemStyle"),xD(e,"lineStyle"),xD(e,"areaStyle"),xD(e,"label")}function SD(e){e&&(e instanceof Array||(e=[e]),l.each(e,(function(e){if(e.axisLabel){var t=e.axisLabel;Object.assign(t,t.textStyle),t.textStyle=null}})))}var TD=function(e){l.each(e.series,(function(t){l.indexOf(bD,t.type)>=0&&(wD(t),"mapbox"===t.coordinateSystem&&(t.coordinateSystem="mapbox3D",e.mapbox3D=e.mapbox))})),SD(e.xAxis3D),SD(e.yAxis3D),SD(e.zAxis3D),SD(e.grid3D),xD(e.geo3D)};function ED(e){this._layers={},this._zr=e}ED.prototype.update=function(e,t){var n=this,r=t.getZr();if(r.getWidth()&&r.getHeight()){for(var i in this._layers)this._layers[i].removeViewsAll();e.eachComponent((function(n,r){if("series"!==n){var i=t.getViewOfComponentModel(r),s=r.coordinateSystem;if(i.__ecgl__){if(s){if(!s.viewGL)return void console.error("Can't find viewGL in coordinateSystem of component "+r.id);u=s.viewGL}else{if(!r.viewGL)return void console.error("Can't find viewGL of component "+r.id);u=s.viewGL}var u=s.viewGL,l=a(r);l.addView(u),i.afterRender&&i.afterRender(r,e,t,l),o(i.groupGL,r.get("silent"))}}})),e.eachSeries((function(n){var r=t.getViewOfSeriesModel(n),i=n.coordinateSystem;if(r.__ecgl__){if(i&&!i.viewGL&&!r.viewGL)return void console.error("Can't find viewGL of series "+r.id);var s=i&&i.viewGL||r.viewGL,u=a(n);u.addView(s),r.afterRender&&r.afterRender(n,e,t,u),o(r.groupGL,n.get("silent"))}}))}else console.warn("Dom has no width or height");function a(e){var t;r.setSleepAfterStill(0),t=(e.coordinateSystem&&e.coordinateSystem.model,e.get("zlevel"));var i=n._layers,a=i[t];if(!a){if(a=i[t]=new _D("gl-"+t,r),r.painter.isSingleCanvas()){a.virtual=!0;var o=new s.Image({z:1e4,style:{image:a.renderer.canvas},silent:!0});a.__hostImage=o,r.add(o)}r.painter.insertLayer(t,a)}return a.__hostImage&&a.__hostImage.setStyle({width:a.renderer.getWidth(),height:a.renderer.getHeight()}),a}function o(e,t){e&&e.traverse((function(e){e.isRenderable&&e.isRenderable()&&(e.ignorePicking=null!=e.$ignorePicking?e.$ignorePicking:t)}))}},vb((function(e){e.getZr().painter.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas)return this._layers[0].dom;var t=document.createElement("canvas"),n=e.pixelRatio||this.dpr;t.width=this.getWidth()*n,t.height=this.getHeight()*n;var r=t.getContext("2d");r.dpr=n,r.clearRect(0,0,t.width,t.height),e.backgroundColor&&(r.fillStyle=e.backgroundColor,r.fillRect(0,0,t.width,t.height));var i,a=this.storage.getDisplayList(!0),o={},s=this;function u(e,t){var n,i=s._zlevelList;null==e&&(e=-1/0);for(var a=0;a<i.length;a++){var o=i[a],u=s._layers[o];if(!u.__builtin__&&o>e&&o<t){n=u;break}}n&&n.renderToCanvas&&(r.save(),n.renderToCanvas(r),r.restore())}for(var l={ctx:r},c=0;c<a.length;c++){var f=a[c];f.zlevel!==i&&(u(i,f.zlevel),i=f.zlevel),this._doPaintEl(f,l,!0,o)}return u(i,1/0),t}})),yb((function(e,t){var n=t.getZr(),r=n.__egl=n.__egl||new ED(n);r.update(e,t)})),gb(TD);var MD={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(e){e=e||{},this.option.viewControl=this.option.viewControl||{},null!=e.alpha&&(this.option.viewControl.alpha=e.alpha),null!=e.beta&&(this.option.viewControl.beta=e.beta),null!=e.distance&&(this.option.viewControl.distance=e.distance),null!=e.center&&(this.option.viewControl.center=e.center)}},CD={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}},AD={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}},OD=fd.extend({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});l.merge(OD.prototype,MD),l.merge(OD.prototype,CD),l.merge(OD.prototype,AD);var DD=OD,PD=wO.firstNotNull,LD={left:0,middle:1,right:2};function ID(e){return e instanceof Array||(e=[e,e]),e}var RD=dT.extend((function(){return{zr:null,viewGL:null,_center:new uM,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new eE,_panVelocity:new eE,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}}),(function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach((function(e){this[e]=this[e].bind(this)}),this)}),{init:function(){var e=this.zr;e&&(e.on("mousedown",this._mouseDownHandler),e.on("globalout",this._mouseUpHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("pinch",this._pinchHandler),e.animation.on("frame",this._update),e.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var e=this.zr;e&&(e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("pinch",this._pinchHandler),e.off("globalout",this._mouseUpHandler),e.dom.removeEventListener("contextmenu",this._contextMenuHandler),e.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(e){this._distance=e,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(e){this._orthoSize=e,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(e){e=Math.max(Math.min(this.maxAlpha,e),this.minAlpha),this._theta=e/180*Math.PI,this._needsUpdate=!0},setBeta:function(e){e=Math.max(Math.min(this.maxBeta,e),this.minBeta),this._phi=-e/180*Math.PI,this._needsUpdate=!0},setCenter:function(e){this._center.setArray(e)},setViewGL:function(e){this.viewGL=e},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(e,t){t=t||{};var n=t.baseDistance||0,r=t.baseOrthoSize||1,i=e.get("projection");"perspective"!==i&&"orthographic"!==i&&"isometric"!==i&&(i="perspective"),this._projection=i,this.viewGL.setProjection(i);var a=e.get("distance")+n,o=e.get("orthographicSize")+r;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach((function(t){this[t[0]]=PD(e.get(t[0]),t[1])}),this),this.minDistance+=n,this.maxDistance+=n,this.minOrthographicSize+=r,this.maxOrthographicSize+=r;var s=e.ecModel,u={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach((function(t){u[t]=PD(e.get(t),s&&s.get(t))}));var l=PD(t.alpha,e.get("alpha"))||0,c=PD(t.beta,e.get("beta"))||0,f=PD(t.center,e.get("center"))||[0,0,0];u.animation&&u.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:l,beta:c,center:f,distance:a,orthographicSize:o,easing:u.animationEasingUpdate,duration:u.animationDurationUpdate}):(this.setDistance(a),this.setAlpha(l),this.setBeta(c),this.setCenter(f),this.setOrthographicSize(o)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){0},animateTo:function(e){var t=this.zr,n=this,r={},i={};return null!=e.distance&&(r.distance=this.getDistance(),i.distance=e.distance),null!=e.orthographicSize&&(r.orthographicSize=this.getOrthographicSize(),i.orthographicSize=e.orthographicSize),null!=e.alpha&&(r.alpha=this.getAlpha(),i.alpha=e.alpha),null!=e.beta&&(r.beta=this.getBeta(),i.beta=e.beta),null!=e.center&&(r.center=this.getCenter(),i.center=e.center),this._addAnimator(t.animation.animate(r).when(e.duration||1e3,i).during((function(){null!=r.alpha&&n.setAlpha(r.alpha),null!=r.beta&&n.setBeta(r.beta),null!=r.distance&&n.setDistance(r.distance),null!=r.center&&n.setCenter(r.center),null!=r.orthographicSize&&n.setOrthographicSize(r.orthographicSize),n._needsUpdate=!0}))).start(e.easing||"linear")},stopAllAnimation:function(){for(var e=0;e<this._animators.length;e++)this._animators[e].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(e){if(this._rotating){var t=("cw"===this.autoRotateDirection?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=t*e/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(e=Math.min(e,50),this._updateDistanceOrSize(e),this._updatePan(e),this._updateRotate(e),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(e){var t=this._rotateVelocity;this._phi=t.y*e/20+this._phi,this._theta=t.x*e/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(t,Math.pow(this.damping,e/16))},_updateDistanceOrSize:function(e){"perspective"===this._projection?this._setDistance(this._distance+this._zoomSpeed*e/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*e/20),this._zoomSpeed*=Math.pow(this.damping,e/16)},_setDistance:function(e){this._distance=Math.max(Math.min(e,this.maxDistance),this.minDistance)},_setOrthoSize:function(e){this._orthoSize=Math.max(Math.min(e,this.maxOrthographicSize),this.minOrthographicSize);var t=this.getCamera(),n=this._orthoSize,r=n/this.viewGL.viewport.height*this.viewGL.viewport.width;t.left=-r/2,t.right=r/2,t.top=n/2,t.bottom=-n/2},_updatePan:function(e){var t=this._panVelocity,n=this._distance,r=this.getCamera(),i=r.worldTransform.y,a=r.worldTransform.x;this._center.scaleAndAdd(a,-t.x*n/200).scaleAndAdd(i,-t.y*n/200),this._vectorDamping(t,0)},_updateTransform:function(){var e=this.getCamera(),t=new uM,n=this._theta+Math.PI/2,r=this._phi+Math.PI/2,i=Math.sin(n);t.x=i*Math.cos(r),t.y=-Math.cos(n),t.z=i*Math.sin(r),e.position.copy(this._center).scaleAndAdd(t,this._distance),e.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var e=this.autoRotateAfterStill,t=this;!isNaN(e)&&e>0&&(this._stillTimeout=setTimeout((function(){t._rotating=!0}),1e3*e))},_vectorDamping:function(e,t){var n=e.len();n*=t,n<1e-4&&(n=0),e.normalize().scale(n)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var e=this.getCamera().worldTransform.z,t=Math.asin(e.y),n=Math.atan2(e.x,e.z);this._theta=t,this._phi=-n,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(e){if(!e.target&&!this._isAnimating()){var t=e.offsetX,n=e.offsetY;this.viewGL&&!this.viewGL.containPoint(t,n)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),e.event.targetTouches?1===e.event.targetTouches.length&&(this._mode="rotate"):e.event.button===LD[this.rotateMouseButton]?this._mode="rotate":e.event.button===LD[this.panMouseButton]?this._mode="pan":this._mode="",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=e.offsetX,this._mouseY=e.offsetY)}},_mouseMoveHandler:function(e){if((!e.target||!e.target.__isGLToZRProxy)&&!this._isAnimating()){var t=ID(this.panSensitivity),n=ID(this.rotateSensitivity);"rotate"===this._mode?(this._rotateVelocity.y=(e.offsetX-this._mouseX)/this.zr.getHeight()*2*n[0],this._rotateVelocity.x=(e.offsetY-this._mouseY)/this.zr.getWidth()*2*n[1]):"pan"===this._mode&&(this._panVelocity.x=(e.offsetX-this._mouseX)/this.zr.getWidth()*t[0]*400,this._panVelocity.y=(-e.offsetY+this._mouseY)/this.zr.getHeight()*t[1]*400),this._mouseX=e.offsetX,this._mouseY=e.offsetY,e.event.preventDefault()}},_mouseWheelHandler:function(e){if(!this._isAnimating()){var t=e.event.wheelDelta||-e.event.detail;this._zoomHandler(e,t)}},_pinchHandler:function(e){this._isAnimating()||(this._zoomHandler(e,e.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(e,t){if(0!==t){var n,r=e.offsetX,i=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(r,i))n="perspective"===this._projection?Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(t>0?-1:1)*n*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&"rotate"===this._mode&&this._startCountingStill(),e.event.preventDefault()}},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return"right"===this.rotateMouseButton||"right"===this.panMouseButton},_contextMenuHandler:function(e){this._isRightMouseButtonUsed()&&e.preventDefault()},_addAnimator:function(e){var t=this._animators;return t.push(e),e.done((function(){var n=t.indexOf(e);n>=0&&t.splice(n,1)})),e}});Object.defineProperty(RD.prototype,"autoRotate",{get:function(e){return this._autoRotate},set:function(e){this._autoRotate=e,this._rotating=e}});var kD=RD,ND={convertToDynamicArray:function(e){e&&this.resetOffset();var t=this.attributes;for(var n in t)e||!t[n].value?t[n].value=[]:t[n].value=Array.prototype.slice.call(t[n].value);e||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var e=this.attributes;for(var t in e)e[t].value&&e[t].value.length>0?e[t].value=new Float32Array(e[t].value):e[t].value=null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}},FD={vec2:$T,vec3:HE,vec4:dM,mat2:BO,mat2d:UO,mat3:gM,mat4:zE,quat:vM},BD=FD,zD=BD.vec3,jD=[[0,0],[1,1]],HD=lC.extend((function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new lC.Attribute("position","float",3,"POSITION"),positionPrev:new lC.Attribute("positionPrev","float",3),positionNext:new lC.Attribute("positionNext","float",3),prevPositionPrev:new lC.Attribute("prevPositionPrev","float",3),prevPosition:new lC.Attribute("prevPosition","float",3),prevPositionNext:new lC.Attribute("prevPositionNext","float",3),offset:new lC.Attribute("offset","float",1),color:new lC.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.positionPrev.init(e),t.positionNext.init(e),t.offset.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,t,n,r){var i=zD.dist(e,t)+zD.dist(n,t)+zD.dist(r,n),a=1/(i+1)*this.segmentScale;return a},getCubicCurveVertexCount:function(e,t,n,r){var i=this._getCubicCurveApproxStep(e,t,n,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(e,t,n,r){var i=this._getCubicCurveApproxStep(e,t,n,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(jD)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(jD)},getPolylineVertexCount:function(e){var t;if("number"===typeof e)t=e;else{var n="number"!==typeof e[0];t=n?e.length:e.length/3}return this.useNativeLine?2*(t-1):2*(t-1)+2},getPolylineTriangleCount:function(e){var t;if("number"===typeof e)t=e;else{var n="number"!==typeof e[0];t=n?e.length:e.length/3}return this.useNativeLine?0:2*Math.max(t-1,0)},addCubicCurve:function(e,t,n,r,i,a){null==a&&(a=1);var o=e[0],s=e[1],u=e[2],l=t[0],c=t[1],f=t[2],h=n[0],d=n[1],p=n[2],g=r[0],m=r[1],v=r[2],y=this._getCubicCurveApproxStep(e,t,n,r),_=y*y,b=_*y,x=3*y,w=3*_,S=6*_,T=6*b,E=o-2*l+h,M=s-2*c+d,C=u-2*f+p,A=3*(l-h)-o+g,O=3*(c-d)-s+m,D=3*(f-p)-u+v,P=o,L=s,I=u,R=(l-o)*x+E*w+A*b,k=(c-s)*x+M*w+O*b,N=(f-u)*x+C*w+D*b,F=E*S+A*T,B=M*S+O*T,z=C*S+D*T,j=A*T,H=O*T,U=D*T,V=0,G=0,W=Math.ceil(1/y),X=new Float32Array(3*(W+1)),K=(X=[],0);for(G=0;G<W+1;G++)X[K++]=P,X[K++]=L,X[K++]=I,P+=R,L+=k,I+=N,R+=F,k+=B,N+=z,F+=j,B+=H,z+=U,V+=y,V>1&&(P=R>0?Math.min(P,g):Math.max(P,g),L=k>0?Math.min(L,m):Math.max(L,m),I=N>0?Math.min(I,v):Math.max(I,v));return this.addPolyline(X,i,a)},addLine:function(e,t,n,r){return this.addPolyline([e,t],n,r)},addPolyline:function(e,t,n,r,i){if(e.length){var a="number"!==typeof e[0];if(null==i&&(i=a?e.length:e.length/3),!(i<2)){null==r&&(r=0),null==n&&(n=1),this._itemVertexOffsets.push(this._vertexOffset);a="number"!==typeof e[0];var o,s,u=a?"number"!==typeof t[0]:t.length/4===i,l=this.attributes.position,c=this.attributes.positionPrev,f=this.attributes.positionNext,h=this.attributes.color,d=this.attributes.offset,p=this.indices,g=this._vertexOffset;n=Math.max(n,.01);for(var m=r;m<i;m++){if(a)o=e[m],s=u?t[m]:t;else{var v=3*m;if(o=o||[],o[0]=e[v],o[1]=e[v+1],o[2]=e[v+2],u){var y=4*m;s=s||[],s[0]=t[y],s[1]=t[y+1],s[2]=t[y+2],s[3]=t[y+3]}else s=t}if(this.useNativeLine?m>1&&(l.copy(g,g-1),h.copy(g,g-1),g++):(m<i-1&&(c.set(g+2,o),c.set(g+3,o)),m>0&&(f.set(g-2,o),f.set(g-1,o)),l.set(g,o),l.set(g+1,o),h.set(g,s),h.set(g+1,s),d.set(g,n/2),d.set(g+1,-n/2),g+=2),this.useNativeLine)h.set(g,s),l.set(g,o),g++;else if(m>0){var _=3*this._triangleOffset;p=this.indices;p[_]=g-4,p[_+1]=g-3,p[_+2]=g-2,p[_+3]=g-3,p[_+4]=g-1,p[_+5]=g-2,this._triangleOffset+=2}}if(!this.useNativeLine){var b=this._vertexOffset,x=this._vertexOffset+2*i;c.copy(b,b+2),c.copy(b+1,b+3),f.copy(x-1,x-3),f.copy(x-2,x-4)}return this._vertexOffset=g,this._vertexOffset}}},setItemColor:function(e,t){for(var n=this._itemVertexOffsets[e],r=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,t);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});l.defaults(HD.prototype,ND);var UD=HD;function VD(e,t,n,r,i,a,o){this._zr=e,this._x=0,this._y=0,this._rowHeight=0,this.width=r,this.height=i,this.offsetX=t,this.offsetY=n,this.dpr=o,this.gap=a}function GD(e){e=e||{},e.width=e.width||512,e.height=e.height||512,e.devicePixelRatio=e.devicePixelRatio||1,e.gap=null==e.gap?2:e.gap;var t=document.createElement("canvas");t.width=e.width*e.devicePixelRatio,t.height=e.height*e.devicePixelRatio,this._canvas=t,this._texture=new ZM({image:t,flipY:!1});var n=this;this._zr=i.init(t);var r=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){r.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},this._dpr=e.devicePixelRatio,this._coords={},this.onupdate=e.onupdate,this._gap=e.gap,this._textureAtlasNodes=[new VD(this._zr,0,0,e.width,e.height,this._gap,this._dpr)],this._nodeWidth=e.width,this._nodeHeight=e.height,this._currentNodeIdx=0}VD.prototype={constructor:VD,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(e,t,n){var r=e.getBoundingRect();null==t&&(t=r.width),null==n&&(n=r.height),t*=this.dpr,n*=this.dpr,this._fitElement(e,t,n);var i=this._x,a=this._y,o=this.width*this.dpr,s=this.height*this.dpr,u=this.gap;if(i+t+u>o&&(i=this._x=0,a+=this._rowHeight+u,this._y=a,this._rowHeight=0),this._x+=t+u,this._rowHeight=Math.max(this._rowHeight,n),a+n+u>s)return null;e.x+=this.offsetX*this.dpr+i,e.y+=this.offsetY*this.dpr+a,this._zr.add(e);var l=[this.offsetX/this.width,this.offsetY/this.height],c=[[i/o+l[0],a/s+l[1]],[(i+t)/o+l[0],(a+n)/s+l[1]]];return c},_fitElement:function(e,t,n){var r=e.getBoundingRect(),i=t/r.width,a=n/r.height;e.x=-r.x*i,e.y=-r.y*a,e.scaleX=i,e.scaleY=a,e.update()}},GD.prototype={clear:function(){for(var e=0;e<this._textureAtlasNodes.length;e++)this._textureAtlasNodes[e].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var e=4096/this._dpr,t=this._textureAtlasNodes,n=t.length,r=n*this._nodeWidth%e,i=Math.floor(n*this._nodeWidth/e)*this._nodeHeight;if(!(i>=e)){var a=(r+this._nodeWidth)*this._dpr,o=(i+this._nodeHeight)*this._dpr;try{this._zr.resize({width:a,height:o})}catch(u){this._canvas.width=a,this._canvas.height=o}var s=new VD(this._zr,r,i,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(s),s}},add:function(e,t,n){if(this._coords[e.id])return this._coords[e.id];var r=this._getCurrentNode().add(e,t,n);if(!r){var i=this._expand();if(!i)return;r=i.add(e,t,n)}return this._coords[e.id]=r,r},getCoordsScale:function(){var e=this._dpr;return[this._nodeWidth/this._canvas.width*e,this._nodeHeight/this._canvas.height*e]},getCoords:function(e){return this._coords[e]}};var WD=GD;function XD(){}XD.prototype={constructor:XD,setScene:function(e){this._scene=e,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(e){this._lightRoot=e,this.mainLight=new fD.DirectionalLight({shadowBias:.005}),this.ambientLight=new fD.AmbientLight,e.add(this.mainLight),e.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(e){var t=this.mainLight,n=this.ambientLight,r=e.getModel("light"),i=r.getModel("main"),a=r.getModel("ambient");t.intensity=i.get("intensity"),n.intensity=a.get("intensity"),t.color=fD.parseColor(i.get("color")).slice(0,3),n.color=fD.parseColor(a.get("color")).slice(0,3);var o=i.get("alpha")||0,s=i.get("beta")||0;t.position.setArray(fD.directionFromAlphaBeta(o,s)),t.lookAt(fD.Vector3.ZERO),t.castShadow=i.get("shadow"),t.shadowResolution=fD.getShadowResolution(i.get("shadowQuality"))},updateAmbientCubemap:function(e,t,n){var r=t.getModel("light.ambientCubemap"),i=r.get("texture");if(i){this._cubemapLightsCache=this._cubemapLightsCache||{};var a=this._cubemapLightsCache[i];if(!a){var o=this;a=this._cubemapLightsCache[i]=fD.createAmbientCubemap(r.option,e,n,(function(){o._isSkyboxFromAmbientCubemap&&o._skybox.setEnvironmentMap(a.specular.cubemap),n.getZr().refresh()}))}this._lightRoot.add(a.diffuse),this._lightRoot.add(a.specular),this._currentCubemapLights=a}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(e,t,n){var i=t.get("environment"),a=this;function o(){return a._skybox=a._skybox||new pA,a._skybox}var u=o();if(i&&"none"!==i)if("auto"===i)if(this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights){var l=this._currentCubemapLights.specular.cubemap;u.setEnvironmentMap(l),this._scene&&u.attachScene(this._scene),u.material.set("lod",3)}else this._skybox&&this._skybox.detachScene();else if("object"===typeof i&&i.colorStops||"string"===typeof i&&r.parse(i)){this._isSkyboxFromAmbientCubemap=!1;var c=new fD.Texture2D({anisotropic:8,flipY:!1});u.setEnvironmentMap(c);var f=c.image=document.createElement("canvas");f.width=f.height=16;var h=f.getContext("2d"),d=new s.Rect({shape:{x:0,y:0,width:16,height:16},style:{fill:i}});Fy(h,d),u.attachScene(this._scene)}else{this._isSkyboxFromAmbientCubemap=!1;c=fD.loadTexture(i,n,{anisotropic:8,flipY:!1});u.setEnvironmentMap(c),u.attachScene(this._scene)}else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var p=t.coordinateSystem;if(this._skybox)if(!p||!p.viewGL||"auto"===i||i.match&&i.match(/.hdr$/))this._skybox.material.undefine("fragment","SRGB_DECODE");else{var g=p.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[g]("fragment","SRGB_DECODE")}}};var KD=XD,qD=BD.vec3,YD=lC.extend((function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new lC.Attribute("position","float",3,"POSITION"),normal:new lC.Attribute("normal","float",3,"NORMAL"),color:new lC.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(e){var t=this.attributes,n=this.getQuadVertexCount()*e,r=this.getQuadTriangleCount()*e;this.vertexCount!==n&&(t.position.init(n),t.normal.init(n),t.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:function(){var e=qD.create(),t=qD.create(),n=qD.create(),r=[0,3,1,3,2,1];return function(i,a){var o=this.attributes.position,s=this.attributes.normal,u=this.attributes.color;qD.sub(e,i[1],i[0]),qD.sub(t,i[2],i[1]),qD.cross(n,e,t),qD.normalize(n,n);for(var l=0;l<4;l++)o.set(this._vertexOffset+l,i[l]),u.set(this._vertexOffset+l,a),s.set(this._vertexOffset+l,n);var c=3*this._faceOffset;for(l=0;l<6;l++)this.indices[c+l]=r[l]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}}()});l.defaults(YD.prototype,ND);var ZD=YD,$D=wO.firstNotNull,QD={x:0,y:2,z:1};function JD(e,t,n,r){var i=[0,0,0],a=r<0?n.getExtentMin():n.getExtentMax();i[QD[n.dim]]=a,e.position.setArray(i),e.rotation.identity(),t.distance=-Math.abs(a),t.normal.set(0,0,0),"x"===n.dim?(e.rotation.rotateY(r*Math.PI/2),t.normal.x=-r):"z"===n.dim?(e.rotation.rotateX(-r*Math.PI/2),t.normal.y=-r):(r>0&&e.rotation.rotateY(Math.PI),t.normal.z=-r)}function eP(e,t,n){this.rootNode=new fD.Node;var r=new fD.Mesh({geometry:new UD({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),i=new fD.Mesh({geometry:new ZD,material:n,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(i),this.rootNode.add(r),this.faceInfo=e,this.plane=new fD.Plane,this.linesMesh=r,this.quadsMesh=i}eP.prototype.update=function(e,t,n){var r=e.coordinateSystem,i=[r.getAxis(this.faceInfo[0]),r.getAxis(this.faceInfo[1])],a=this.linesMesh.geometry,o=this.quadsMesh.geometry;a.convertToDynamicArray(!0),o.convertToDynamicArray(!0),this._updateSplitLines(a,i,e,n),this._udpateSplitAreas(o,i,e,n),a.convertToTypedArray(),o.convertToTypedArray();var s=r.getAxis(this.faceInfo[2]);JD(this.rootNode,this.plane,s,this.faceInfo[3])},eP.prototype._updateSplitLines=function(e,t,n,r){var i=r.getDevicePixelRatio();t.forEach((function(r,a){var o=r.model,s=t[1-a].getExtent();if(!r.scale.isBlank()){var u=o.getModel("splitLine",n.getModel("splitLine"));if(u.get("show")){var c=u.getModel("lineStyle"),f=c.get("color"),h=$D(c.get("opacity"),1),d=$D(c.get("width"),1);f=l.isArray(f)?f:[f];for(var p=r.getTicksCoords({tickModel:u}),g=0,m=0;m<p.length;m++){var v=p[m].coord,y=fD.parseColor(f[g%f.length]);y[3]*=h;var _=[0,0,0],b=[0,0,0];_[a]=b[a]=v,_[1-a]=s[0],b[1-a]=s[1],e.addLine(_,b,y,d*i),g++}}}}))},eP.prototype._udpateSplitAreas=function(e,t,n,r){t.forEach((function(r,i){var a=r.model,o=t[1-i].getExtent();if(!r.scale.isBlank()){var s=a.getModel("splitArea",n.getModel("splitArea"));if(s.get("show")){var u=s.getModel("areaStyle"),c=u.get("color"),f=$D(u.get("opacity"),1);c=l.isArray(c)?c:[c];for(var h=r.getTicksCoords({tickModel:s,clamp:!0}),d=0,p=[0,0,0],g=[0,0,0],m=0;m<h.length;m++){var v=h[m].coord,y=[0,0,0],_=[0,0,0];if(y[i]=_[i]=v,y[1-i]=o[0],_[1-i]=o[1],0!==m){var b=fD.parseColor(c[d%c.length]);b[3]*=f,e.addQuad([p,y,_,g],b),p=y,g=_,d++}else p=y,g=_}}}}))};var tP=eP,nP=[0,1,2,0,2,3],rP=lC.extend((function(){return{attributes:{position:new lC.Attribute("position","float",3,"POSITION"),texcoord:new lC.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new lC.Attribute("offset","float",2),color:new lC.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(e){this._spriteCount=e;var t=4*e,n=2*e;this.vertexCount!==t&&(this.attributes.position.init(t),this.attributes.offset.init(t),this.attributes.color.init(t)),this.triangleCount!==n&&(this.indices=t>65535?new Uint32Array(3*n):new Uint16Array(3*n))},setSpriteAlign:function(e,t,n,r,i){var a,o,s,u;switch(null==n&&(n="left"),null==r&&(r="top"),i=i||0,n){case"left":a=i,s=t[0]+i;break;case"center":case"middle":a=-t[0]/2,s=t[0]/2;break;case"right":a=-t[0]-i,s=-i;break}switch(r){case"bottom":o=i,u=t[1]+i;break;case"middle":o=-t[1]/2,u=t[1]/2;break;case"top":o=-t[1]-i,u=-i;break}var l=4*e,c=this.attributes.offset;c.set(l,[a,u]),c.set(l+1,[s,u]),c.set(l+2,[s,o]),c.set(l+3,[a,o])},addSprite:function(e,t,n,r,i,a){var o=this._vertexOffset;this.setSprite(this._vertexOffset/4,e,t,n,r,i,a);for(var s=0;s<nP.length;s++)this.indices[3*this._faceOffset+s]=nP[s]+o;return this._faceOffset+=2,this._vertexOffset+=4,o/4},setSprite:function(e,t,n,r,i,a,o){for(var s=4*e,u=this.attributes,l=0;l<4;l++)u.position.set(s+l,t);var c=u.texcoord;c.set(s,[r[0][0],r[0][1]]),c.set(s+1,[r[1][0],r[0][1]]),c.set(s+2,[r[1][0],r[1][1]]),c.set(s+3,[r[0][0],r[1][1]]),this.setSpriteAlign(e,n,i,a,o)}});l.defaults(rP.prototype,ND);var iP=rP,aP="@export ecgl.labels.vertex\n\nattribute vec3 position: POSITION;\nattribute vec2 texcoord: TEXCOORD_0;\nattribute vec2 offset;\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n vec4 proj = worldViewProjection * vec4(position, 1.0);\n\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\n\n screen += offset;\n\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\n gl_Position = proj;\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n v_Texcoord = texcoord;\n}\n@end\n\n\n@export ecgl.labels.fragment\n\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform float alpha : 1.0;\nuniform sampler2D textureAtlas;\nuniform vec2 uvScale: [1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\nvarying float v_Miter;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n}\n\n@end";fD.Shader["import"](aP);var oP=fD.Mesh.extend((function(){var e=new iP({dynamic:!0}),t=new fD.Material({shader:fD.createShader("ecgl.labels"),transparent:!0,depthMask:!1});return{geometry:e,material:t,culling:!1,castShadow:!1,ignorePicking:!0}})),sP=wO.firstNotNull,uP={x:0,y:2,z:1};function lP(e,t){var n=new fD.Mesh({geometry:new UD({useNativeLine:!1}),material:t,castShadow:!1,ignorePicking:!0,renderOrder:2}),r=new oP;r.material.depthMask=!1;var i=new fD.Node;i.add(n),i.add(r),this.rootNode=i,this.dim=e,this.linesMesh=n,this.labelsMesh=r,this.axisLineCoords=null,this.labelElements=[]}var cP={x:"y",y:"x",z:"y"};lP.prototype.update=function(e,t,n){var r=e.coordinateSystem,i=r.getAxis(this.dim),a=this.linesMesh.geometry,o=this.labelsMesh.geometry;a.convertToDynamicArray(!0),o.convertToDynamicArray(!0);var u=i.model,l=i.getExtent(),c=n.getDevicePixelRatio(),f=u.getModel("axisLine",e.getModel("axisLine")),h=u.getModel("axisTick",e.getModel("axisTick")),d=u.getModel("axisLabel",e.getModel("axisLabel")),p=f.get("lineStyle.color");if(f.get("show")){var g=f.getModel("lineStyle"),m=[0,0,0],v=[0,0,0],y=uP[i.dim];m[y]=l[0],v[y]=l[1],this.axisLineCoords=[m,v];var _=fD.parseColor(p),b=sP(g.get("width"),1),x=sP(g.get("opacity"),1);_[3]*=x,a.addLine(m,v,_,b*c)}if(h.get("show")){var w=h.getModel("lineStyle"),S=fD.parseColor(sP(w.get("color"),p));b=sP(w.get("width"),1);S[3]*=sP(w.get("opacity"),1);for(var T=i.getTicksCoords(),E=h.get("length"),M=0;M<T.length;M++){var C=T[M].coord,A=(m=[0,0,0],v=[0,0,0],y=uP[i.dim],uP[cP[i.dim]]);m[y]=v[y]=C,v[A]=E,a.addLine(m,v,S,b*c)}}this.labelElements=[];c=n.getDevicePixelRatio();if(d.get("show")){T=i.getTicksCoords();var O=u.get("data"),D=d.get("margin"),P=i.getViewLabels();for(M=0;M<P.length;M++){var L=P[M].tickValue,I=P[M].formattedLabel,R=P[M].rawLabel,k=(C=i.dataToCoord(L),[0,0,0]);y=uP[i.dim],A=uP[cP[i.dim]];k[y]=k[y]=C,k[A]=D;var N=d;O&&O[L]&&O[L].textStyle&&(N=new Wf(O[L].textStyle,d,u.ecModel));var F=sP(N.get("color"),p),B=new s.Text({style:Tf(N,{text:I,fill:"function"===typeof F?F("category"===i.type?R:"value"===i.type?L+"":L,M):F,verticalAlign:"top",align:"left"})}),z=t.add(B),j=B.getBoundingRect();o.addSprite(k,[j.width*c,j.height*c],z),this.labelElements.push(B)}}if(u.get("name")){var H=u.getModel("nameTextStyle"),U=(k=[0,0,0],y=uP[i.dim],A=uP[cP[i.dim]],sP(H.get("color"),p)),V=H.get("borderColor");b=H.get("borderWidth");k[y]=k[y]=(l[0]+l[1])/2,k[A]=u.get("nameGap");B=new s.Text({style:Tf(H,{text:u.get("name"),fill:U,stroke:V,lineWidth:b})}),z=t.add(B),j=B.getBoundingRect();o.addSprite(k,[j.width*c,j.height*c],z),B.__idx=this.labelElements.length,this.nameLabelElement=B}this.labelsMesh.material.set("textureAtlas",t.getTexture()),this.labelsMesh.material.set("uvScale",t.getCoordsScale()),a.convertToTypedArray(),o.convertToTypedArray()},lP.prototype.setSpriteAlign=function(e,t,n){for(var r=n.getDevicePixelRatio(),i=this.labelsMesh.geometry,a=0;a<this.labelElements.length;a++){var o=this.labelElements[a],s=o.getBoundingRect();i.setSpriteAlign(a,[s.width*r,s.height*r],e,t)}var u=this.nameLabelElement;if(u){s=u.getBoundingRect();i.setSpriteAlign(u.__idx,[s.width*r,s.height*r],e,t),i.dirty()}this.textAlign=e,this.textVerticalAlign=t};var fP=lP,hP="@export ecgl.lines3D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, 1.0);\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n}\n@end\n\n\n\n@export ecgl.lines3D.clipNear\n\nvec4 clipNear(vec4 p1, vec4 p2) {\n float n = (p1.w - near) / (p1.w - p2.w);\n return vec4(mix(p1.xy, p2.xy, n), -near, near);\n}\n\n@end\n\n@export ecgl.lines3D.expandLine\n#ifdef VERTEX_ANIMATION\n vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\n vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\n vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\n#else\n vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\n vec4 currProj = worldViewProjection * vec4(position, 1.0);\n vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\n#endif\n\n if (currProj.w < 0.0) {\n if (nextProj.w > 0.0) {\n currProj = clipNear(currProj, nextProj);\n }\n else if (prevProj.w > 0.0) {\n currProj = clipNear(currProj, prevProj);\n }\n }\n\n vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\n\n vec2 dir;\n float len = offset;\n if (position == positionPrev) {\n dir = normalize(nextScreen - currScreen);\n }\n else if (position == positionNext) {\n dir = normalize(currScreen - prevScreen);\n }\n else {\n vec2 dirA = normalize(currScreen - prevScreen);\n vec2 dirB = normalize(nextScreen - currScreen);\n\n vec2 tanget = normalize(dirA + dirB);\n\n float miter = 1.0 / max(dot(tanget, dirA), 0.5);\n len *= miter;\n dir = tanget;\n }\n\n dir = vec2(-dir.y, dir.x) * len;\n currScreen += dir;\n\n currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\n@end\n\n\n@export ecgl.meshLines3D.vertex\n\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevPositionPrev;\nattribute vec3 prevPositionNext;\nuniform float percent : 1.0;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n}\n@end\n\n\n@export ecgl.meshLines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end",dP=wO.firstNotNull;fD.Shader["import"](hP);var pP={x:0,y:2,z:1},gP=$g.extend({type:"grid3D",__ecgl__:!0,init:function(e,t){var n=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]],r=["x","y","z"],i=new fD.Material({shader:fD.createShader("ecgl.color"),depthMask:!1,transparent:!0}),a=new fD.Material({shader:fD.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});i.define("fragment","DOUBLE_SIDED"),i.define("both","VERTEX_COLOR"),this.groupGL=new fD.Node,this._control=new kD({zr:t.getZr()}),this._control.init(),this._faces=n.map((function(e){var t=new tP(e,a,i);return this.groupGL.add(t.rootNode),t}),this),this._axes=r.map((function(e){var t=new fP(e,a);return this.groupGL.add(t.rootNode),t}),this);var o=t.getDevicePixelRatio();this._axisLabelSurface=new WD({width:256,height:256,devicePixelRatio:o}),this._axisLabelSurface.onupdate=function(){t.getZr().refresh()},this._axisPointerLineMesh=new fD.Mesh({geometry:new UD({useNativeLine:!1}),material:a,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new WD({width:128,height:128,devicePixelRatio:o}),this._axisPointerLabelsMesh=new oP({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new fD.Node,this._sceneHelper=new KD,this._sceneHelper.initLight(this._lightRoot)},render:function(e,t,n){this._model=e,this._api=n;var r=e.coordinateSystem;r.viewGL.add(this._lightRoot),e.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=e.getModel("viewControl");i.setFromViewControlModel(a,0),this._axisLabelSurface.clear(),i.off("update"),e.get("show")&&(this._faces.forEach((function(r){r.update(e,t,n)}),this),this._axes.forEach((function(t){t.update(e,this._axisLabelSurface,n)}),this)),i.on("update",this._onCameraChange.bind(this,e,n),this),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._initMouseHandler(e)},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n)},showAxisPointer:function(e,t,n,r){this._doShowAxisPointer(),this._updateAxisPointer(r.value)},hideAxisPointer:function(e,t,n,r){this._doHideAxisPointer()},_initMouseHandler:function(e){var t=e.coordinateSystem,n=t.viewGL;e.get("show")&&e.get("axisPointer.show")?n.on("mousemove",this._updateAxisPointerOnMousePosition,this):n.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(e){if(!e.target){for(var t,n=this._model,r=n.coordinateSystem,i=r.viewGL,a=i.castRay(e.offsetX,e.offsetY,new fD.Ray),o=0;o<this._faces.length;o++){var s=this._faces[o];if(!s.rootNode.invisible){s.plane.normal.dot(i.camera.worldTransform.z)<0&&s.plane.normal.negate();var u=a.intersectPlane(s.plane);if(u){var l=r.getAxis(s.faceInfo[0]),c=r.getAxis(s.faceInfo[1]),f=pP[s.faceInfo[0]],h=pP[s.faceInfo[1]];l.contain(u.array[f])&&c.contain(u.array[h])&&(t=u)}}}if(t){var d=r.pointToData(t.array,[],!0);this._updateAxisPointer(d),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(e,t){e.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var n=this._control;t.dispatchAction({type:"grid3DChangeCamera",alpha:n.getAlpha(),beta:n.getBeta(),distance:n.getDistance(),center:n.getCenter(),from:this.uid,grid3DId:e.id})},_updateFaceVisibility:function(){var e=this._control.getCamera(),t=new fD.Vector3;e.update();for(var n=0;n<this._faces.length/2;n++){for(var r=[],i=0;i<2;i++){var a=this._faces[2*n+i];a.rootNode.getWorldPosition(t),t.transformMat4(e.viewMatrix),r[i]=t.z}var o=r[0]>r[1]?0:1,s=this._faces[2*n+o],u=this._faces[2*n+1-o];s.rootNode.invisible=!0,u.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var e=this._model.coordinateSystem,t=e.getAxis("x"),n=e.getAxis("y"),r=e.getAxis("z"),i=r.getExtentMax(),a=r.getExtentMin(),o=t.getExtentMin(),s=t.getExtentMax(),u=n.getExtentMax(),l=n.getExtentMin(),c=this._axes[0].rootNode,f=this._axes[1].rootNode,h=this._axes[2].rootNode,d=this._faces,p=d[4].rootNode.invisible?l:u,g=d[2].rootNode.invisible?i:a,m=d[0].rootNode.invisible?o:s,v=d[2].rootNode.invisible?i:a,y=d[0].rootNode.invisible?s:o,_=d[4].rootNode.invisible?l:u;c.rotation.identity(),f.rotation.identity(),h.rotation.identity(),d[4].rootNode.invisible&&(this._axes[0].flipped=!0,c.rotation.rotateX(Math.PI)),d[0].rootNode.invisible&&(this._axes[1].flipped=!0,f.rotation.rotateZ(Math.PI)),d[4].rootNode.invisible&&(this._axes[2].flipped=!0,h.rotation.rotateY(Math.PI)),c.position.set(0,g,p),f.position.set(m,v,0),h.position.set(y,0,_),c.update(),f.update(),h.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var e=this._control.getCamera(),t=[new fD.Vector4,new fD.Vector4],n=new fD.Vector4;this.groupGL.getWorldPosition(n),n.w=1,n.transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),n.x/=n.w,n.y/=n.w,this._axes.forEach((function(r){for(var i=r.axisLineCoords,a=(r.labelsMesh.geometry,0);a<t.length;a++)t[a].setArray(i[a]),t[a].w=1,t[a].transformMat4(r.rootNode.worldTransform).transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),t[a].x/=t[a].w,t[a].y/=t[a].w;var o,s,u=t[1].x-t[0].x,l=t[1].y-t[0].y,c=(t[1].x+t[0].x)/2,f=(t[1].y+t[0].y)/2;Math.abs(l/u)<.5?(o="center",s=f>n.y?"bottom":"top"):(s="middle",o=c>n.x?"left":"right"),r.setSpriteAlign(o,s,this._api)}),this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(e){var t=this._model.coordinateSystem,n=t.dataToPoint(e),r=this._axisPointerLineMesh,i=r.geometry,a=this._model.getModel("axisPointer"),o=this._api.getDevicePixelRatio();function s(e){return wO.firstNotNull(e.model.get("axisPointer.show"),a.get("show"))}function u(e){var t=e.model.getModel("axisPointer",a),n=t.getModel("lineStyle"),r=fD.parseColor(n.get("color")),i=dP(n.get("width"),1),o=dP(n.get("opacity"),1);return r[3]*=o,{color:r,lineWidth:i}}i.convertToDynamicArray(!0);for(var l=0;l<this._faces.length;l++){var c=this._faces[l];if(!c.rootNode.invisible){for(var f=c.faceInfo,h=f[3]<0?t.getAxis(f[2]).getExtentMin():t.getAxis(f[2]).getExtentMax(),d=pP[f[2]],p=0;p<2;p++){var g=f[p],m=f[1-p],v=t.getAxis(g),y=t.getAxis(m);if(s(v)){var _=[0,0,0],b=[0,0,0],x=pP[g],w=pP[m];_[x]=b[x]=n[x],_[d]=b[d]=h,_[w]=y.getExtentMin(),b[w]=y.getExtentMax();var S=u(v);i.addLine(_,b,S.color,S.lineWidth*o)}}if(s(t.getAxis(f[2]))){_=n.slice(),b=n.slice();b[d]=h;S=u(t.getAxis(f[2]));i.addLine(_,b,S.color,S.lineWidth*o)}}}i.convertToTypedArray(),this._updateAxisPointerLabelsMesh(e),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(e){var t=this._model,n=this._axisPointerLabelsMesh,r=this._axisPointerLabelsSurface,i=t.coordinateSystem,a=t.getModel("axisPointer");n.geometry.convertToDynamicArray(!0),r.clear();var u={x:"y",y:"x",z:"y"};this._axes.forEach((function(t,l){var c=i.getAxis(t.dim),f=c.model,h=f.getModel("axisPointer",a),d=h.getModel("label"),p=h.get("lineStyle.color");if(d.get("show")&&h.get("show")){var g=e[l],m=d.get("formatter"),v=c.scale.getLabel({value:g});if(null!=m)v=m(v,e);else if("interval"===c.scale.type||"log"===c.scale.type){var y=o.getPrecisionSafe(c.scale.getTicks()[0]);v=g.toFixed(y+2)}var _=d.get("color"),b=new s.Text({style:Tf(d,{text:v,fill:_||p,align:"left",verticalAlign:"top"})}),x=r.add(b),w=b.getBoundingRect(),S=this._api.getDevicePixelRatio(),T=t.rootNode.position.toArray(),E=pP[u[t.dim]];T[E]+=(t.flipped?-1:1)*d.get("margin"),T[pP[t.dim]]=c.dataToCoord(e[l]),n.geometry.addSprite(T,[w.width*S,w.height*S],x,t.textAlign,t.textVerticalAlign)}}),this),r.getZr().refreshImmediately(),n.material.set("uvScale",r.getCoordsScale()),n.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose()}}),mP=function(){function e(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return U(this._dimList,(function(e){return this._axes[e]}),this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),G(this.getAxes(),(function(t){return t.scale.type===e}))},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}(),vP=mP;function yP(e){vP.call(this,e),this.type="cartesian3D",this.dimensions=["x","y","z"],this.size=[0,0,0]}yP.prototype={constructor:yP,model:null,containPoint:function(e){return this.getAxis("x").contain(e[0])&&this.getAxis("y").contain(e[2])&&this.getAxis("z").contain(e[1])},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])&&this.getAxis("z").containData(e[2])},dataToPoint:function(e,t,n){return t=t||[],t[0]=this.getAxis("x").dataToCoord(e[0],n),t[2]=this.getAxis("y").dataToCoord(e[1],n),t[1]=this.getAxis("z").dataToCoord(e[2],n),t},pointToData:function(e,t,n){return t=t||[],t[0]=this.getAxis("x").coordToData(e[0],n),t[1]=this.getAxis("y").coordToData(e[2],n),t[2]=this.getAxis("z").coordToData(e[1],n),t}},l.inherits(yP,vP);var _P=yP;function bP(e,t,n){NS.call(this,e,t,n)}bP.prototype={constructor:bP,getExtentMin:function(){var e=this._extent;return Math.min(e[0],e[1])},getExtentMax:function(){var e=this._extent;return Math.max(e[0],e[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}},l.inherits(bP,NS);var xP=bP,wP=function(){this._pool={},this._allocatedTextures=[]};wP.prototype={constructor:wP,get:function(e){var t=EP(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]);var n=this._pool[t];if(!n.length){var r=new ZM(e);return this._allocatedTextures.push(r),r}return n.pop()},put:function(e){var t=EP(e);this._pool.hasOwnProperty(t)||(this._pool[t]=[]);var n=this._pool[t];n.push(e)},clear:function(e){for(var t=0;t<this._allocatedTextures.length;t++)this._allocatedTextures[t].dispose(e);this._pool={},this._allocatedTextures=[]}};var SP={width:512,height:512,type:yT.UNSIGNED_BYTE,format:yT.RGBA,wrapS:yT.CLAMP_TO_EDGE,wrapT:yT.CLAMP_TO_EDGE,minFilter:yT.LINEAR_MIPMAP_LINEAR,magFilter:yT.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},TP=Object.keys(SP);function EP(e){fT.defaultsWithPropList(e,SP,TP),MP(e);for(var t="",n=0;n<TP.length;n++){var r=TP[n],i=e[r].toString();t+=i}return t}function MP(e){var t=CP(e.width,e.height);e.format===yT.DEPTH_COMPONENT&&(e.useMipmap=!1),t&&e.useMipmap||(e.minFilter==yT.NEAREST_MIPMAP_NEAREST||e.minFilter==yT.NEAREST_MIPMAP_LINEAR?e.minFilter=yT.NEAREST:e.minFilter!=yT.LINEAR_MIPMAP_LINEAR&&e.minFilter!=yT.LINEAR_MIPMAP_NEAREST||(e.minFilter=yT.LINEAR)),t||(e.wrapS=yT.CLAMP_TO_EDGE,e.wrapT=yT.CLAMP_TO_EDGE)}function CP(e,t){return 0===(e&e-1)&&0===(t&t-1)}var AP=wP,OP="@export clay.sm.depth.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nuniform vec2 uvRepeat = vec2(1.0, 1.0);\nuniform vec2 uvOffset = vec2(0.0, 0.0);\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nvoid main(){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n v_ViewPosition = worldViewProjection * P;\n gl_Position = v_ViewPosition;\n v_Texcoord = texcoord * uvRepeat + uvOffset;\n}\n@end\n@export clay.sm.depth.fragment\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nuniform float bias : 0.001;\nuniform float slopeScale : 1.0;\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\n@import clay.util.encode_float\nvoid main(){\n float depth = v_ViewPosition.z / v_ViewPosition.w;\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n#ifdef USE_VSM\n depth = depth * 0.5 + 0.5;\n float moment1 = depth;\n float moment2 = depth * depth;\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n moment2 += 0.25*(dx*dx+dy*dy);\n #endif\n gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\n#else\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\n #else\n depth += bias;\n #endif\n gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\n#endif\n}\n@end\n@export clay.sm.debug_depth\nuniform sampler2D depthMap;\nvarying vec2 v_Texcoord;\n@import clay.util.decode_float\nvoid main() {\n vec4 tex = texture2D(depthMap, v_Texcoord);\n#ifdef USE_VSM\n gl_FragColor = vec4(tex.rgb, 1.0);\n#else\n float depth = decodeFloat(tex);\n gl_FragColor = vec4(depth, depth, depth, 1.0);\n#endif\n}\n@end\n@export clay.sm.distance.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 world : WORLD;\nattribute vec3 position : POSITION;\n@import clay.chunk.skinning_header\nvarying vec3 v_WorldPosition;\nvoid main (){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = worldViewProjection * P;\n v_WorldPosition = (world * P).xyz;\n}\n@end\n@export clay.sm.distance.fragment\nuniform vec3 lightPosition;\nuniform float range : 100;\nvarying vec3 v_WorldPosition;\n@import clay.util.encode_float\nvoid main(){\n float dist = distance(lightPosition, v_WorldPosition);\n#ifdef USE_VSM\n gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\n#else\n dist = dist / range;\n gl_FragColor = encodeFloat(dist);\n#endif\n}\n@end\n@export clay.plugin.shadow_map_common\n@import clay.util.decode_float\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\n vec4 tex = texture2D(map, uv);\n return step(z, decodeFloat(tex) * 2.0 - 1.0);\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\n float shadowContrib = tapShadowMap(map, uv, z);\n vec2 offset = vec2(1.0 / textureSize) * scale;\n#ifdef PCF_KERNEL_SIZE\n for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\n shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\n }}\n return shadowContrib / float(PCF_KERNEL_SIZE + 1);\n#else\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\n return shadowContrib / 9.0;\n#endif\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\n return pcf(map, uv, z, textureSize, vec2(1.0));\n}\nfloat chebyshevUpperBound(vec2 moments, float z){\n float p = 0.0;\n z = z * 0.5 + 0.5;\n if (z <= moments.x) {\n p = 1.0;\n }\n float variance = moments.y - moments.x * moments.x;\n variance = max(variance, 0.0000001);\n float mD = moments.x - z;\n float pMax = variance / (variance + mD * mD);\n pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\n return max(p, pMax);\n}\nfloat computeShadowContrib(\n sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\n) {\n vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\n posInLightSpace.xyz /= posInLightSpace.w;\n float z = posInLightSpace.z;\n if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\n all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\n vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\n #ifdef USE_VSM\n vec2 moments = texture2D(map, uv * scale + offset).xy;\n return chebyshevUpperBound(moments, z);\n #else\n return pcf(map, uv * scale + offset, z, textureSize, scale);\n #endif\n }\n return 1.0;\n}\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\n return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\n}\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\n{\n float dist = length(direction);\n vec4 shadowTex = textureCube(map, direction);\n#ifdef USE_VSM\n vec2 moments = shadowTex.xy;\n float variance = moments.y - moments.x * moments.x;\n float mD = moments.x - dist;\n float p = variance / (variance + mD * mD);\n if(moments.x + 0.001 < dist){\n return clamp(p, 0.0, 1.0);\n }else{\n return 1.0;\n }\n#else\n return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\n#endif\n}\n@end\n@export clay.plugin.compute_shadow_map\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\n#if defined(SHADOW_CASCADE)\nuniform sampler2D directionalLightShadowMaps[1]:unconfigurable;\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;\nuniform float directionalLightShadowMapSizes[1]:unconfigurable;\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;\n#else\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#endif\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\nuniform bool shadowEnabled : true;\n#ifdef PCF_KERNEL_SIZE\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\n#endif\n@import clay.plugin.shadow_map_common\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\n spotLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n#ifdef SHADOW_CASCADE\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\n / (gl_DepthRange.far - gl_DepthRange.near);\n float shadowContrib;\n shadowContribs[0] = 1.0;\n for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\n if (\n depth >= shadowCascadeClipsNear[_idx_] &&\n depth <= shadowCascadeClipsFar[_idx_]\n ) {\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[0],\n vec2(1.0 / float(SHADOW_CASCADE), 1.0),\n vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\n );\n shadowContribs[0] = shadowContrib;\n }\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#else\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\n vec3 lightPosition;\n vec3 direction;\n for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n lightPosition = pointLightPosition[_idx_];\n direction = position - lightPosition;\n shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\n }}\n for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n@end",DP=["px","nx","py","ny","pz","nz"];function PP(e,t,n){if("alphaMap"===n)return e.material.get("diffuseMap");if("alphaCutoff"===n){if(e.material.isDefined("fragment","ALPHA_TEST")&&e.material.get("diffuseMap")){var r=e.material.get("alphaCutoff");return r||0}return 0}return"uvRepeat"===n?e.material.get("uvRepeat"):"uvOffset"===n?e.material.get("uvOffset"):t.get(n)}function LP(e,t){var n=e.material,r=t.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)}NE["import"](OP);var IP=dT.extend((function(){return{softShadow:IP.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new nA,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new AP}}),(function(){this._gaussianPassH=new aO({fragment:NE.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new aO({fragment:NE.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new aO({fragment:NE.source("clay.sm.debug_depth")})}),{render:function(e,t,n,r){n||(n=t.getMainCamera()),this.trigger("beforerender",this,e,t,n),this._renderShadowPass(e,t,n,r),this.trigger("afterrender",this,e,t,n)},renderDebug:function(e,t){e.saveClear();var n=e.viewport,r=0,i=0,a=t||n.width/4,o=a;for(var s in this.softShadow===IP.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM"),this._textures){var u=this._textures[s];e.setViewport(r,i,a*u.width/u.height,o),this._outputDepthPass.setUniform("depthMap",u),this._outputDepthPass.render(e),r+=a*u.width/u.height}e.setViewport(n),e.restoreClear()},_updateReceivers:function(e,t){if(t.receiveShadow?(this._receivers.push(t),t.material.set("shadowEnabled",1),t.material.set("pcfKernel",this.kernelPCF)):t.material.set("shadowEnabled",0),this.softShadow===IP.VSM)t.material.define("fragment","USE_VSM"),t.material.undefine("fragment","PCF_KERNEL_SIZE");else{t.material.undefine("fragment","USE_VSM");var n=this.kernelPCF;n&&n.length?t.material.define("fragment","PCF_KERNEL_SIZE",n.length/2):t.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(e,t){var n=this;t.traverse((function(t){t.isRenderable()&&n._updateReceivers(e,t)}));for(var r=0;r<t.lights.length;r++){var i=t.lights[r];i.castShadow&&!i.invisible&&this._lightsCastShadow.push(i)}},_renderShadowPass:function(e,t,n,r){for(var i in this._shadowMapNumber)this._shadowMapNumber[i]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var a=e.gl;if(r||t.update(),n&&n.update(),t.updateLights(),this._update(e,t),this._lightsCastShadow.length||!this._lastRenderNotCastShadow){this._lastRenderNotCastShadow=0===this._lightsCastShadow,a.enable(a.DEPTH_TEST),a.depthMask(!0),a.disable(a.BLEND),a.clearColor(1,1,1,1);for(var o,s=[],u=[],l=[],c=[],f=[],h=[],d=0;d<this._lightsCastShadow.length;d++){var p=this._lightsCastShadow[d];if("DIRECTIONAL_LIGHT"===p.type){if(o){console.warn("Only one direectional light supported with shadow cascade");continue}if(p.shadowCascade>4){console.warn("Support at most 4 cascade");continue}p.shadowCascade>1&&(o=p),this.renderDirectionalLightShadow(e,t,n,p,f,c,l)}else"SPOT_LIGHT"===p.type?this.renderSpotLightShadow(e,t,p,u,s):"POINT_LIGHT"===p.type&&this.renderPointLightShadow(e,t,p,h);this._shadowMapNumber[p.type]++}for(var g in this._shadowMapNumber){var m=this._shadowMapNumber[g],v=g+"_SHADOWMAP_COUNT";for(d=0;d<this._receivers.length;d++){var y=this._receivers[d],_=y.material;_.fragmentDefines[v]!==m&&(m>0?_.define("fragment",v,m):_.isDefined("fragment",v)&&_.undefine("fragment",v))}}for(d=0;d<this._receivers.length;d++){y=this._receivers[d],_=y.material;o?_.define("fragment","SHADOW_CASCADE",o.shadowCascade):_.undefine("fragment","SHADOW_CASCADE")}var b=t.shadowUniforms;if(l.length>0){var x=l.map(E);if(b.directionalLightShadowMaps={value:l,type:"tv"},b.directionalLightMatrices={value:c,type:"m4v"},b.directionalLightShadowMapSizes={value:x,type:"1fv"},o){var w=f.slice(),S=f.slice();w.pop(),S.shift(),w.reverse(),S.reverse(),c.reverse(),b.shadowCascadeClipsNear={value:w,type:"1fv"},b.shadowCascadeClipsFar={value:S,type:"1fv"}}}if(s.length>0){var T=s.map(E);b=t.shadowUniforms;b.spotLightShadowMaps={value:s,type:"tv"},b.spotLightMatrices={value:u,type:"m4v"},b.spotLightShadowMapSizes={value:T,type:"1fv"}}h.length>0&&(b.pointLightShadowMaps={value:h,type:"tv"})}function E(e){return e.height}},renderDirectionalLightShadow:function(){var e=new CC,t=new xM,n=new OM,r=new xM,i=new xM,a=new xM,o=new xM;return function(s,u,l,c,f,h,d){var p=this._getDepthMaterial(c),g={getMaterial:function(e){return e.shadowDepthMaterial||p},isMaterialChanged:LP,getUniform:PP,ifRender:function(e){return e.castShadow},sortCompare:eM.opaqueSortCompare};if(!u.viewBoundingBoxLastFrame.isFinite()){var m=u.getBoundingBox();u.viewBoundingBoxLastFrame.copy(m).applyTransform(l.viewMatrix)}var v=Math.min(-u.viewBoundingBoxLastFrame.min.z,l.far),y=Math.max(-u.viewBoundingBoxLastFrame.max.z,l.near),_=this._getDirectionalLightCamera(c,u,l),b=a.array;o.copy(_.projectionMatrix),zE.invert(i.array,_.worldTransform.array),zE.multiply(i.array,i.array,l.worldTransform.array),zE.multiply(b,o.array,i.array);for(var x=[],w=l instanceof GC,S=(l.near+l.far)/(l.near-l.far),T=2*l.near*l.far/(l.near-l.far),E=0;E<=c.shadowCascade;E++){var M=y*Math.pow(v/y,E/c.shadowCascade),C=y+(v-y)*E/c.shadowCascade,A=M*c.cascadeSplitLogFactor+C*(1-c.cascadeSplitLogFactor);x.push(A),f.push(-(-A*S+T)/-A)}var O=this._getTexture(c,c.shadowCascade);d.push(O);var D=s.viewport,P=s.gl;this._frameBuffer.attach(O),this._frameBuffer.bind(s),P.clear(P.COLOR_BUFFER_BIT|P.DEPTH_BUFFER_BIT);for(E=0;E<c.shadowCascade;E++){var L=x[E],I=x[E+1];w?zE.perspective(t.array,l.fov/180*Math.PI,l.aspect,L,I):zE.ortho(t.array,l.left,l.right,l.bottom,l.top,L,I),e.setFromProjection(t),e.getTransformedBoundingBox(n,i),n.applyProjection(o);var R=n.min.array,k=n.max.array;R[0]=Math.max(R[0],-1),R[1]=Math.max(R[1],-1),k[0]=Math.min(k[0],1),k[1]=Math.min(k[1],1),r.ortho(R[0],k[0],R[1],k[1],1,-1),_.projectionMatrix.multiplyLeft(r);var N=c.shadowResolution||512;s.setViewport((c.shadowCascade-E-1)*N,0,N,N,1);var F=u.updateRenderList(_);s.renderPass(F.opaque,_,g),this.softShadow===IP.VSM&&this._gaussianFilter(s,O,O.width);var B=new xM;B.copy(_.viewMatrix).multiplyLeft(_.projectionMatrix),h.push(B.array),_.projectionMatrix.copy(o)}this._frameBuffer.unbind(s),s.setViewport(D)}}(),renderSpotLightShadow:function(e,t,n,r,i){var a=this._getTexture(n),o=this._getSpotLightCamera(n),s=e.gl;this._frameBuffer.attach(a),this._frameBuffer.bind(e),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var u=this._getDepthMaterial(n),l={getMaterial:function(e){return e.shadowDepthMaterial||u},isMaterialChanged:LP,getUniform:PP,ifRender:function(e){return e.castShadow},sortCompare:eM.opaqueSortCompare},c=t.updateRenderList(o);e.renderPass(c.opaque,o,l),this._frameBuffer.unbind(e),this.softShadow===IP.VSM&&this._gaussianFilter(e,a,a.width);var f=new xM;f.copy(o.worldTransform).invert().multiplyLeft(o.projectionMatrix),i.push(a),r.push(f.array)},renderPointLightShadow:function(e,t,n,r){var i=this._getTexture(n),a=e.gl;r.push(i);var o=this._getDepthMaterial(n),s={getMaterial:function(e){return e.shadowDepthMaterial||o},getUniform:PP,sortCompare:eM.opaqueSortCompare},u={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},l=new OM,c=n.getWorldPosition().array,f=new OM,h=n.range;f.min.setArray(c),f.max.setArray(c);var d=new uM(h,h,h);f.max.add(d),f.min.sub(d);var p={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};t.traverse((function(e){if(e.isRenderable()&&e.castShadow){var t=e.geometry;if(!t.boundingBox){for(var n=0;n<DP.length;n++)u[DP[n]].push(e);return}if(l.transformFrom(t.boundingBox,e.worldTransform),!l.intersectBoundingBox(f))return;l.updateVertices();for(n=0;n<DP.length;n++)p[DP[n]]=!1;for(n=0;n<8;n++){var r=l.vertices[n],i=r[0]-c[0],a=r[1]-c[1],o=r[2]-c[2],s=Math.abs(i),h=Math.abs(a),d=Math.abs(o);s>h?s>d?p[i>0?"px":"nx"]=!0:p[o>0?"pz":"nz"]=!0:h>d?p[a>0?"py":"ny"]=!0:p[o>0?"pz":"nz"]=!0}for(n=0;n<DP.length;n++)p[DP[n]]&&u[DP[n]].push(e)}}));for(var g=0;g<6;g++){var m=DP[g],v=this._getPointLightCamera(n,m);this._frameBuffer.attach(i,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+g),this._frameBuffer.bind(e),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),e.renderPass(u[m],v,s)}this._frameBuffer.unbind(e)},_getDepthMaterial:function(e){var t=this._lightMaterials[e.__uid__],n="POINT_LIGHT"===e.type;if(!t){var r=n?"clay.sm.distance.":"clay.sm.depth.";t=new XT({precision:this.precision,shader:new NE(NE.source(r+"vertex"),NE.source(r+"fragment"))}),this._lightMaterials[e.__uid__]=t}return null!=e.shadowSlopeScale&&t.setUniform("slopeScale",e.shadowSlopeScale),null!=e.shadowBias&&t.setUniform("bias",e.shadowBias),this.softShadow===IP.VSM?t.define("fragment","USE_VSM"):t.undefine("fragment","USE_VSM"),n&&(t.set("lightPosition",e.getWorldPosition().array),t.set("range",e.range)),t},_gaussianFilter:function(e,t,n){var r={width:n,height:n,type:HM.FLOAT},i=this._texturePool.get(r);this._frameBuffer.attach(i),this._frameBuffer.bind(e),this._gaussianPassH.setUniform("texture",t),this._gaussianPassH.setUniform("textureWidth",n),this._gaussianPassH.render(e),this._frameBuffer.attach(t),this._gaussianPassV.setUniform("texture",i),this._gaussianPassV.setUniform("textureHeight",n),this._gaussianPassV.render(e),this._frameBuffer.unbind(e),this._texturePool.put(i)},_getTexture:function(e,t){var n=e.__uid__,r=this._textures[n],i=e.shadowResolution||512;return t=t||1,r||(r="POINT_LIGHT"===e.type?new UC:new ZM,r.width=i*t,r.height=i,this.softShadow===IP.VSM?(r.type=HM.FLOAT,r.anisotropic=4):(r.minFilter=yT.NEAREST,r.magFilter=yT.NEAREST,r.useMipmap=!1),this._textures[n]=r),r},_getPointLightCamera:function(e,t){this._lightCameras.point||(this._lightCameras.point={px:new GC,nx:new GC,py:new GC,ny:new GC,pz:new GC,nz:new GC});var n=this._lightCameras.point[t];switch(n.far=e.range,n.fov=90,n.position.set(0,0,0),t){case"px":n.lookAt(uM.POSITIVE_X,uM.NEGATIVE_Y);break;case"nx":n.lookAt(uM.NEGATIVE_X,uM.NEGATIVE_Y);break;case"py":n.lookAt(uM.POSITIVE_Y,uM.POSITIVE_Z);break;case"ny":n.lookAt(uM.NEGATIVE_Y,uM.NEGATIVE_Z);break;case"pz":n.lookAt(uM.POSITIVE_Z,uM.NEGATIVE_Y);break;case"nz":n.lookAt(uM.NEGATIVE_Z,uM.NEGATIVE_Y);break}return e.getWorldPosition(n.position),n.update(),n},_getDirectionalLightCamera:function(){var e=new xM,t=new OM,n=new OM;return function(r,i,a){this._lightCameras.directional||(this._lightCameras.directional=new JA);var o=this._lightCameras.directional;t.copy(i.viewBoundingBoxLastFrame),t.intersection(a.frustum.boundingBox),o.position.copy(t.min).add(t.max).scale(.5).transformMat4(a.worldTransform),o.rotation.copy(r.rotation),o.scale.copy(r.scale),o.updateWorldTransform(),xM.invert(e,o.worldTransform),xM.multiply(e,e,a.worldTransform),n.copy(t).applyTransform(e);var s=n.min.array,u=n.max.array;return o.position.set((s[0]+u[0])/2,(s[1]+u[1])/2,u[2]).transformMat4(o.worldTransform),o.near=0,o.far=-s[2]+u[2],isNaN(this.lightFrustumBias)?o.far*=4:o.far+=this.lightFrustumBias,o.left=s[0],o.right=u[0],o.top=u[1],o.bottom=s[1],o.update(!0),o}}(),_getSpotLightCamera:function(e){this._lightCameras.spot||(this._lightCameras.spot=new GC);var t=this._lightCameras.spot;return t.fov=2*e.penumbraAngle,t.far=e.range,t.worldTransform.copy(e.worldTransform),t.updateProjectionMatrix(),zE.invert(t.viewMatrix.array,t.worldTransform.array),t},dispose:function(e){var t=e.gl||e;for(var n in this._frameBuffer&&this._frameBuffer.dispose(t),this._textures)this._textures[n].dispose(t);this._texturePool.clear(e.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var r=0;r<this._receivers.length;r++){var i=this._receivers[r];if(i.material){var a=i.material;a.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),a.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),a.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),a.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});IP.VSM=1,IP.PCF=2;var RP=IP,kP=dT.extend((function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),{updateParameter:function(e,t){var n,r,i=this.outputs[e],a=i.parameters,o=i._parametersCopy;if(o||(o=i._parametersCopy={}),a)for(var s in a)"width"!==s&&"height"!==s&&(o[s]=a[s]);return n=a.width instanceof Function?a.width.call(this,t):a.width,r=a.height instanceof Function?a.height.call(this,t):a.height,o.width===n&&o.height===r||this._outputTextures[e]&&this._outputTextures[e].dispose(t.gl),o.width=n,o.height=r,o},setParameter:function(e,t){},getParameter:function(e){},setParameters:function(e){for(var t in e)this.setParameter(t,e[t])},render:function(){},getOutput:function(e,t){if(null==t)return t=e,this._outputTextures[t];var n=this.outputs[t];return n?this._rendered?n.outputLastFrame?this._prevOutputTextures[t]:this._outputTextures[t]:this._rendering?(this._prevOutputTextures[t]||(this._prevOutputTextures[t]=this._compositor.allocateTexture(n.parameters||{})),this._prevOutputTextures[t]):(this.render(e),this._outputTextures[t]):void 0},removeReference:function(e){if(this._outputReferences[e]--,0===this._outputReferences[e]){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}},link:function(e,t,n){this.inputLinks[e]={node:t,pin:n},t.outputLinks[n]||(t.outputLinks[n]=[]),t.outputLinks[n].push({node:this,pin:e}),this.pass.material.enableTexture(e)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(e){if(!this._rendering){for(var t in this._rendering=!0,this.inputLinks){var n=this.inputLinks[t];n.node.updateReference(n.pin)}this._rendering=!1}e&&this._outputReferences[e]++},beforeFrame:function(){for(var e in this._rendered=!1,this.outputLinks)this._outputReferences[e]=0},afterFrame:function(){for(var e in this.outputLinks)if(this._outputReferences[e]>0){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}}}),NP=kP,FP=dT.extend((function(){return{nodes:[]}}),{dirty:function(){this._dirty=!0},addNode:function(e){this.nodes.indexOf(e)>=0||(this.nodes.push(e),this._dirty=!0)},removeNode:function(e){"string"===typeof e&&(e=this.getNodeByName(e));var t=this.nodes.indexOf(e);t>=0&&(this.nodes.splice(t,1),this._dirty=!0)},getNodeByName:function(e){for(var t=0;t<this.nodes.length;t++)if(this.nodes[t].name===e)return this.nodes[t]},update:function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].clear();for(e=0;e<this.nodes.length;e++){var t=this.nodes[e];if(t.inputs)for(var n in t.inputs)if(t.inputs[n])if(!t.pass||t.pass.material.isUniformEnabled(n)){var r=t.inputs[n],i=this.findPin(r);i?t.link(n,i.node,i.pin):"string"===typeof r?console.warn("Node "+r+" not exist"):console.warn("Pin of "+r.node+"."+r.pin+" not exist")}else console.warn("Pin "+t.name+"."+n+" not used.")}},findPin:function(e){var t;if(("string"===typeof e||e instanceof NP)&&(e={node:e}),"string"===typeof e.node)for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n];r.name===e.node&&(t=r)}else t=e.node;if(t){var i=e.pin;if(i||t.outputs&&(i=Object.keys(t.outputs)[0]),t.outputs[i])return{node:t,pin:i}}}}),BP=FP,zP=BP.extend((function(){return{_outputs:[],_texturePool:new AP,_frameBuffer:new nA({depthBuffer:!1})}}),{addNode:function(e){BP.prototype.addNode.call(this,e),e._compositor=this},render:function(e,t){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var n=0;n<this.nodes.length;n++)this.nodes[n].outputs||this._outputs.push(this.nodes[n])}for(n=0;n<this.nodes.length;n++)this.nodes[n].beforeFrame();for(n=0;n<this._outputs.length;n++)this._outputs[n].updateReference();for(n=0;n<this._outputs.length;n++)this._outputs[n].render(e,t);for(n=0;n<this.nodes.length;n++)this.nodes[n].afterFrame()},allocateTexture:function(e){return this._texturePool.get(e)},releaseTexture:function(e){this._texturePool.put(e)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(e){this._texturePool.clear(e)}}),jP=zP,HP=NP.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},(function(){this.frameBuffer=new nA}),{render:function(e){this._rendering=!0;var t,n=e.gl;if(this.trigger("beforerender"),this.outputs){var r=this.frameBuffer;for(var i in this.outputs){var a=this.updateParameter(i,e),o=this.outputs[i],s=this._compositor.allocateTexture(a);this._outputTextures[i]=s;var u=o.attachment||n.COLOR_ATTACHMENT0;"string"==typeof u&&(u=n[u]),r.attach(s,u)}r.bind(e);var l=e.getGLExtension("EXT_draw_buffers");if(l){var c=[];for(var u in this.outputs)u=parseInt(u),u>=n.COLOR_ATTACHMENT0&&u<=n.COLOR_ATTACHMENT0+8&&c.push(u);l.drawBuffersEXT(c)}e.saveClear(),e.clearBit=yT.DEPTH_BUFFER_BIT|yT.COLOR_BUFFER_BIT,t=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),e.restoreClear(),r.unbind(e)}else t=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger("afterrender",t),this._rendering=!1,this._rendered=!0}}),UP=HP,VP=NP.extend((function(){return{texture:null,outputs:{color:{}}}}),(function(){}),{getOutput:function(e,t){return this.texture},beforeFrame:function(){},afterFrame:function(){}}),GP=VP,WP=NP.extend((function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),(function(){var e=new aO({fragment:this.shader});this.pass=e}),{render:function(e,t){this.trigger("beforerender",e),this._rendering=!0;var n=e.gl;for(var r in this.inputLinks){var i=this.inputLinks[r],a=i.node.getOutput(e,i.pin);this.pass.setUniform(r,a)}if(this.outputs){this.pass.outputs={};var o={};for(var s in this.outputs){var u=this.updateParameter(s,e);isNaN(u.width)&&this.updateParameter(s,e);var l=this.outputs[s],c=this._compositor.allocateTexture(u);this._outputTextures[s]=c;var f=l.attachment||n.COLOR_ATTACHMENT0;"string"===typeof f&&(f=n[f]),o[f]=c}for(var f in this._compositor.getFrameBuffer().bind(e),o)this._compositor.getFrameBuffer().attach(o[f],f);this.pass.render(e),this._compositor.getFrameBuffer().updateMipmap(e)}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(e),this.pass.render(e,t);for(var r in this.inputLinks){i=this.inputLinks[r];i.node.removeReference(i.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",e)},updateParameter:function(e,t){var n,r,i=this.outputs[e],a=i.parameters,o=i._parametersCopy;if(o||(o=i._parametersCopy={}),a)for(var s in a)"width"!==s&&"height"!==s&&(o[s]=a[s]);return n="function"===typeof a.width?a.width.call(this,t):a.width,r="function"===typeof a.height?a.height.call(this,t):a.height,n=Math.ceil(n),r=Math.ceil(r),o.width===n&&o.height===r||this._outputTextures[e]&&this._outputTextures[e].dispose(t),o.width=n,o.height=r,o},setParameter:function(e,t){this.pass.setUniform(e,t)},getParameter:function(e){return this.pass.getUniform(e)},setParameters:function(e){for(var t in e)this.setParameter(t,e[t])},define:function(e,t){this.pass.material.define("fragment",e,t)},undefine:function(e){this.pass.material.undefine("fragment",e)},removeReference:function(e){if(this._outputReferences[e]--,0===this._outputReferences[e]){var t=this.outputs[e];t.keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e])}},clear:function(){NP.prototype.clear.call(this),this.pass.material.disableTexturesAll()}}),XP=WP,KP="@export clay.compositor.coloradjust\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float exposure : 0.0;\nuniform float gamma : 1.0;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\n color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n color = clamp( color * pow(2.0, exposure), 0.0, 1.0);\n color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);\n float luminance = dot( color, w );\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.brightness\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = tex.rgb + vec3(brightness);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.contrast\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float contrast : 1.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.exposure\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float exposure : 0.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb * pow(2.0, exposure);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.gamma\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float gamma : 1.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = pow(tex.rgb, vec3(gamma));\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.saturation\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb;\n float luminance = dot(color, w);\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end",qP="@export clay.compositor.kernel.gaussian_9\nfloat gaussianKernel[9];\ngaussianKernel[0] = 0.07;\ngaussianKernel[1] = 0.09;\ngaussianKernel[2] = 0.12;\ngaussianKernel[3] = 0.14;\ngaussianKernel[4] = 0.16;\ngaussianKernel[5] = 0.14;\ngaussianKernel[6] = 0.12;\ngaussianKernel[7] = 0.09;\ngaussianKernel[8] = 0.07;\n@end\n@export clay.compositor.kernel.gaussian_13\nfloat gaussianKernel[13];\ngaussianKernel[0] = 0.02;\ngaussianKernel[1] = 0.03;\ngaussianKernel[2] = 0.06;\ngaussianKernel[3] = 0.08;\ngaussianKernel[4] = 0.11;\ngaussianKernel[5] = 0.13;\ngaussianKernel[6] = 0.14;\ngaussianKernel[7] = 0.13;\ngaussianKernel[8] = 0.11;\ngaussianKernel[9] = 0.08;\ngaussianKernel[10] = 0.06;\ngaussianKernel[11] = 0.03;\ngaussianKernel[12] = 0.02;\n@end\n@export clay.compositor.gaussian_blur\n#define SHADER_NAME gaussian_blur\nuniform sampler2D texture;varying vec2 v_Texcoord;\nuniform float blurSize : 2.0;\nuniform vec2 textureSize : [512.0, 512.0];\nuniform float blurDir : 0.0;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main (void)\n{\n @import clay.compositor.kernel.gaussian_9\n vec2 off = blurSize / textureSize;\n off *= vec2(1.0 - blurDir, blurDir);\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n for (int i = 0; i < 9; i++) {\n float w = gaussianKernel[i];\n vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));\n sum += texel * w;\n weightAll += w;\n }\n gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));\n}\n@end\n",YP="@export clay.compositor.hdr.log_lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n float luminance = dot(tex.rgb, w);\n luminance = log(luminance + 0.001);\n gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\n}\n@end\n@export clay.compositor.hdr.lum_adaption\nvarying vec2 v_Texcoord;\nuniform sampler2D adaptedLum;\nuniform sampler2D currentLum;\nuniform float frameTime : 0.02;\n@import clay.util.rgbm\nvoid main()\n{\n float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\n float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\n fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\n gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\n}\n@end\n@export clay.compositor.lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord );\n float luminance = dot(tex.rgb, w);\n gl_FragColor = vec4(vec3(luminance), 1.0);\n}\n@end",ZP="\n@export clay.compositor.lut\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform sampler2D lookup;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n float blueColor = tex.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec4 newColor1 = texture2D(lookup, texPos1);\n vec4 newColor2 = texture2D(lookup, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n gl_FragColor = vec4(newColor.rgb, tex.w);\n}\n@end",$P="@export clay.compositor.vignette\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float darkness: 1;\nuniform float offset: 1;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = texel.rgb;\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);\n gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));\n}\n@end",QP="@export clay.compositor.output\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = tex.rgb;\n#ifdef OUTPUT_ALPHA\n gl_FragColor.a = tex.a;\n#else\n gl_FragColor.a = 1.0;\n#endif\n gl_FragColor = encodeHDR(gl_FragColor);\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",JP="@export clay.compositor.bright\nuniform sampler2D texture;\nuniform float threshold : 1;\nuniform float scale : 1.0;\nuniform vec2 textureSize: [512, 512];\nvarying vec2 v_Texcoord;\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvec4 median(vec4 a, vec4 b, vec4 c)\n{\n return a + b + c - min(min(a, b), c) - max(max(a, b), c);\n}\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n#ifdef ANTI_FLICKER\n vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\n vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));\n vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));\n vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));\n vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));\n texel = median(median(texel, s1, s2), s3, s4);\n#endif\n float lum = dot(texel.rgb , lumWeight);\n vec4 color;\n if (lum > threshold && texel.a > 0.0)\n {\n color = vec4(texel.rgb * scale, texel.a * scale);\n }\n else\n {\n color = vec4(0.0);\n }\n gl_FragColor = encodeHDR(color);\n}\n@end\n",eL="@export clay.compositor.downsample\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nfloat brightness(vec3 c)\n{\n return max(max(c.r, c.g), c.b);\n}\n@import clay.util.clamp_sample\nvoid main()\n{\n vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n#ifdef ANTI_FLICKER\n vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\n vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\n vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\n vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\n float s1w = 1.0 / (brightness(s1) + 1.0);\n float s2w = 1.0 / (brightness(s2) + 1.0);\n float s3w = 1.0 / (brightness(s3) + 1.0);\n float s4w = 1.0 / (brightness(s4) + 1.0);\n float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\n vec4 color = vec4(\n (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\n 1.0\n );\n#else\n vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n color *= 0.25;\n#endif\n gl_FragColor = encodeHDR(color);\n}\n@end",tL="\n@export clay.compositor.upsample\n#define HIGH_QUALITY\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nuniform float sampleScale: 0.5;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main()\n{\n#ifdef HIGH_QUALITY\n vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n gl_FragColor = encodeHDR(s / 16.0);\n#else\n vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n gl_FragColor = encodeHDR(s / 4.0);\n#endif\n}\n@end",nL="@export clay.compositor.hdr.composite\n#define TONEMAPPING\nuniform sampler2D texture;\n#ifdef BLOOM_ENABLED\nuniform sampler2D bloom;\n#endif\n#ifdef LENSFLARE_ENABLED\nuniform sampler2D lensflare;\nuniform sampler2D lensdirt;\n#endif\n#ifdef LUM_ENABLED\nuniform sampler2D lum;\n#endif\n#ifdef LUT_ENABLED\nuniform sampler2D lut;\n#endif\n#ifdef COLOR_CORRECTION\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float saturation : 1.0;\n#endif\n#ifdef VIGNETTE\nuniform float vignetteDarkness: 1.0;\nuniform float vignetteOffset: 1.0;\n#endif\nuniform float exposure : 1.0;\nuniform float bloomIntensity : 0.25;\nuniform float lensflareIntensity : 1;\nvarying vec2 v_Texcoord;\n@import clay.util.srgb\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nfloat eyeAdaption(float fLum)\n{\n return mix(0.2, fLum, 0.5);\n}\n#ifdef LUT_ENABLED\nvec3 lutTransform(vec3 color) {\n float blueColor = color.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec4 newColor1 = texture2D(lut, texPos1);\n vec4 newColor2 = texture2D(lut, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n return newColor.rgb;\n}\n#endif\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = vec4(0.0);\n vec4 originalTexel = vec4(0.0);\n#ifdef TEXTURE_ENABLED\n texel = decodeHDR(texture2D(texture, v_Texcoord));\n originalTexel = texel;\n#endif\n#ifdef BLOOM_ENABLED\n vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));\n texel.rgb += bloomTexel.rgb * bloomIntensity;\n texel.a += bloomTexel.a * bloomIntensity;\n#endif\n#ifdef LENSFLARE_ENABLED\n texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\n#endif\n texel.a = min(texel.a, 1.0);\n#ifdef LUM_ENABLED\n float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\n float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\n float exposureBias = adaptedLumDest * exposure;\n#else\n float exposureBias = exposure;\n#endif\n#ifdef TONEMAPPING\n texel.rgb *= exposureBias;\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n texel = linearTosRGB(texel);\n#ifdef LUT_ENABLED\n texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\n#endif\n#ifdef COLOR_CORRECTION\n texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\n texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\n texel.rgb = mix(vec3(lum), texel.rgb, saturation);\n#endif\n#ifdef VIGNETTE\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\n texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\n#endif\n gl_FragColor = encodeHDR(texel);\n#ifdef DEBUG\n #if DEBUG == 1\n gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\n #elif DEBUG == 2\n gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\n #elif DEBUG == 3\n gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\n #endif\n#endif\n if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {\n gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));\n }\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",rL="@export clay.compositor.lensflare\n#define SAMPLE_NUMBER 8\nuniform sampler2D texture;\nuniform sampler2D lenscolor;\nuniform vec2 textureSize : [512, 512];\nuniform float dispersal : 0.3;\nuniform float haloWidth : 0.4;\nuniform float distortion : 1.0;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvec4 textureDistorted(\n in vec2 texcoord,\n in vec2 direction,\n in vec3 distortion\n) {\n return vec4(\n decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\n 1.0\n );\n}\nvoid main()\n{\n vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;\n vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\n vec2 haloVec = normalize(ghostVec) * haloWidth;\n vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\n vec4 result = vec4(0.0);\n for (int i = 0; i < SAMPLE_NUMBER; i++)\n {\n vec2 offset = fract(texcoord + ghostVec * float(i));\n float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n }\n result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\n float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n vec2 offset = fract(texcoord + haloVec);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n gl_FragColor = result;\n}\n@end",iL="@export clay.compositor.blend\n#define SHADER_NAME blend\n#ifdef TEXTURE1_ENABLED\nuniform sampler2D texture1;\nuniform float weight1 : 1.0;\n#endif\n#ifdef TEXTURE2_ENABLED\nuniform sampler2D texture2;\nuniform float weight2 : 1.0;\n#endif\n#ifdef TEXTURE3_ENABLED\nuniform sampler2D texture3;\nuniform float weight3 : 1.0;\n#endif\n#ifdef TEXTURE4_ENABLED\nuniform sampler2D texture4;\nuniform float weight4 : 1.0;\n#endif\n#ifdef TEXTURE5_ENABLED\nuniform sampler2D texture5;\nuniform float weight5 : 1.0;\n#endif\n#ifdef TEXTURE6_ENABLED\nuniform sampler2D texture6;\nuniform float weight6 : 1.0;\n#endif\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = vec4(0.0);\n#ifdef TEXTURE1_ENABLED\n tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\n#endif\n#ifdef TEXTURE2_ENABLED\n tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\n#endif\n#ifdef TEXTURE3_ENABLED\n tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\n#endif\n#ifdef TEXTURE4_ENABLED\n tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\n#endif\n#ifdef TEXTURE5_ENABLED\n tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\n#endif\n#ifdef TEXTURE6_ENABLED\n tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\n#endif\n gl_FragColor = encodeHDR(tex);\n}\n@end",aL="@export clay.compositor.fxaa\nuniform sampler2D texture;\nuniform vec4 viewport : VIEWPORT;\nvarying vec2 v_Texcoord;\n#define FXAA_REDUCE_MIN (1.0/128.0)\n#define FXAA_REDUCE_MUL (1.0/8.0)\n#define FXAA_SPAN_MAX 8.0\n@import clay.util.rgbm\nvoid main()\n{\n vec2 resolution = 1.0 / viewport.zw;\n vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\n vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );\n vec3 rgbM = rgbaM.xyz;\n float opacity = rgbaM.w;\n vec3 luma = vec3( 0.299, 0.587, 0.114 );\n float lumaNW = dot( rgbNW, luma );\n float lumaNE = dot( rgbNE, luma );\n float lumaSW = dot( rgbSW, luma );\n float lumaSE = dot( rgbSE, luma );\n float lumaM = dot( rgbM, luma );\n float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n vec2 dir;\n dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n dir * rcpDirMin)) * resolution;\n vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA *= 0.5;\n vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;\n rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;\n rgbB *= 0.25;\n rgbB += rgbA * 0.5;\n float lumaB = dot( rgbB, luma );\n if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\n {\n gl_FragColor = vec4( rgbA, opacity );\n }\n else {\n gl_FragColor = vec4( rgbB, opacity );\n }\n}\n@end";function oL(e){e["import"](KP),e["import"](qP),e["import"](YP),e["import"](ZP),e["import"]($P),e["import"](QP),e["import"](JP),e["import"](eL),e["import"](tL),e["import"](nL),e["import"](rL),e["import"](iL),e["import"](aL)}oL(NE);var sL=/^#source\((.*?)\)/;function uL(e,t){var n=new jP;t=t||{};var r={textures:{},parameters:{}},i=function(i,a){for(var o=0;o<e.nodes.length;o++){var s=e.nodes[o],u=lL(s,r,t);u&&n.addNode(u)}};for(var a in e.parameters){var o=e.parameters[a];r.parameters[a]=hL(o)}return dL(e,r,t,(function(e){r.textures=e,i()})),n}function lL(e,t,n){var r,i,a,o,s=e.type||"filter";if("filter"===s){var u=e.shader.trim(),l=sL.exec(u);if(l?r=NE.source(l[1].trim()):"#"===u.charAt(0)&&(r=t.shaders[u.substr(1)]),r||(r=u),!r)return}if(e.inputs)for(var c in i={},e.inputs)"string"===typeof e.inputs[c]?i[c]=e.inputs[c]:i[c]={node:e.inputs[c].node,pin:e.inputs[c].pin};if(e.outputs)for(var c in a={},e.outputs){var f=e.outputs[c];a[c]={},null!=f.attachment&&(a[c].attachment=f.attachment),null!=f.keepLastFrame&&(a[c].keepLastFrame=f.keepLastFrame),null!=f.outputLastFrame&&(a[c].outputLastFrame=f.outputLastFrame),f.parameters&&(a[c].parameters=hL(f.parameters))}if(o="scene"===s?new UP({name:e.name,scene:n.scene,camera:n.camera,outputs:a}):"texture"===s?new GP({name:e.name,outputs:a}):new XP({name:e.name,shader:r,inputs:i,outputs:a}),o){if(e.parameters)for(var c in e.parameters){var h=e.parameters[c];"string"===typeof h?(h=h.trim(),"#"===h.charAt(0)?h=t.textures[h.substr(1)]:o.on("beforerender",pL(c,mL(h)))):"function"===typeof h&&o.on("beforerender",h),o.setParameter(c,h)}if(e.defines&&o.pass)for(var c in e.defines){h=e.defines[c];o.pass.material.define("fragment",c,h)}}return o}function cL(e,t){return e}function fL(e,t){return t}function hL(e){var t={};if(!e)return t;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach((function(n){var r=e[n];null!=r&&("string"===typeof r&&(r=HM[r]),t[n]=r)}));var n=e.scale||1;return["width","height"].forEach((function(r){if(null!=e[r]){var i=e[r];"string"===typeof i?(i=i.trim(),t[r]=gL(r,mL(i),n)):t[r]=i}})),t.width||(t.width=cL),t.height||(t.height=fL),null!=e.useMipmap&&(t.useMipmap=e.useMipmap),t}function dL(e,t,n,r){if(e.textures){var i={},a=0,o=!1,s=n.textureRootPath;fT.each(e.textures,(function(e,t){var n,u=e.path,l=hL(e.parameters);if(Array.isArray(u)&&6===u.length)s&&(u=u.map((function(e){return fT.relative2absolute(e,s)}))),n=new UC(l);else{if("string"!==typeof u)return;s&&(u=fT.relative2absolute(u,s)),n=new ZM(l)}n.load(u),a++,n.once("success",(function(){i[t]=n,a--,0===a&&(r(i),o=!0)}))})),0!==a||o||r(i)}else r({})}function pL(e,t){return function(n){var r=n.getDevicePixelRatio(),i=n.getWidth(),a=n.getHeight(),o=t(i,a,r);this.setParameter(e,o)}}function gL(e,t,n){return n=n||1,function(e){var r=e.getDevicePixelRatio(),i=e.getWidth()*n,a=e.getHeight()*n;return t(i,a,r)}}function mL(e){var t=/^expr\((.*)\)$/.exec(e);if(t)try{var n=new Function("width","height","dpr","return "+t[1]);return n(1,1),n}catch(r){throw new Error("Invalid expression.")}}var vL=uL,yL=vL;function _L(e,t){var n=0,r=1/t,i=e;while(i>0)n+=r*(i%t),i=Math.floor(i/t),r/=t;return n}var bL=_L,xL="@export ecgl.ssao.estimate\n\nuniform sampler2D depthTex;\n\nuniform sampler2D normalTex;\n\nuniform sampler2D noiseTex;\n\nuniform vec2 depthTexSize;\n\nuniform vec2 noiseTexSize;\n\nuniform mat4 projection;\n\nuniform mat4 projectionInv;\n\nuniform mat4 viewInverseTranspose;\n\nuniform vec3 kernel[KERNEL_SIZE];\n\nuniform float radius : 1;\n\nuniform float power : 1;\n\nuniform float bias: 1e-2;\n\nuniform float intensity: 1.0;\n\nvarying vec2 v_Texcoord;\n\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\n float occlusion = 0.0;\n\n for (int i = 0; i < KERNEL_SIZE; i++) {\n vec3 samplePos = kernel[i];\n#ifdef NORMALTEX_ENABLED\n samplePos = kernelBasis * samplePos;\n#endif\n samplePos = samplePos * radius + originPos;\n\n vec4 texCoord = projection * vec4(samplePos, 1.0);\n texCoord.xy /= texCoord.w;\n\n vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\n\n float sampleDepth = depthTexel.r * 2.0 - 1.0;\n if (projection[3][3] == 0.0) {\n sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\n }\n else {\n sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];\n }\n \n float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\n occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\n }\n#ifdef NORMALTEX_ENABLED\n occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\n#else\n occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\n#endif\n return pow(occlusion, power);\n}\n\nvoid main()\n{\n\n vec4 depthTexel = texture2D(depthTex, v_Texcoord);\n\n#ifdef NORMALTEX_ENABLED\n vec4 tex = texture2D(normalTex, v_Texcoord);\n if (dot(tex.rgb, tex.rgb) == 0.0) {\n gl_FragColor = vec4(1.0);\n return;\n }\n vec3 N = tex.rgb * 2.0 - 1.0;\n N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\n\n vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\n vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\n vec3 T = normalize(rvec - N * dot(rvec, N));\n vec3 BT = normalize(cross(N, T));\n mat3 kernelBasis = mat3(T, BT, N);\n#else\n if (depthTexel.r > 0.99999) {\n gl_FragColor = vec4(1.0);\n return;\n }\n mat3 kernelBasis;\n#endif\n\n float z = depthTexel.r * 2.0 - 1.0;\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * projectedPos;\n\n vec3 position = p4.xyz / p4.w;\n\n float ao = ssaoEstimator(position, kernelBasis);\n ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\n gl_FragColor = vec4(vec3(ao), 1.0);\n}\n\n@end\n\n\n@export ecgl.ssao.blur\n#define SHADER_NAME SSAO_BLUR\n\nuniform sampler2D ssaoTexture;\n\n#ifdef NORMALTEX_ENABLED\nuniform sampler2D normalTex;\n#endif\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\nuniform int direction: 0.0;\n\n#ifdef DEPTHTEX_ENABLED\nuniform sampler2D depthTex;\nuniform mat4 projection;\nuniform float depthRange : 0.5;\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n#endif\n\nvoid main()\n{\n float kernel[5];\n kernel[0] = 0.122581;\n kernel[1] = 0.233062;\n kernel[2] = 0.288713;\n kernel[3] = 0.233062;\n kernel[4] = 0.122581;\n\n vec2 off = vec2(0.0);\n if (direction == 0) {\n off[0] = blurSize / textureSize.x;\n }\n else {\n off[1] = blurSize / textureSize.y;\n }\n\n vec2 coord = v_Texcoord;\n\n float sum = 0.0;\n float weightAll = 0.0;\n\n#ifdef NORMALTEX_ENABLED\n vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;\n#endif\n#if defined(DEPTHTEX_ENABLED)\n float centerDepth = getLinearDepth(v_Texcoord);\n#endif\n\n for (int i = 0; i < 5; i++) {\n vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));\n\n float w = kernel[i];\n#ifdef NORMALTEX_ENABLED\n vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;\n w *= clamp(dot(normal, centerNormal), 0.0, 1.0);\n#endif\n#ifdef DEPTHTEX_ENABLED\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\n#endif\n\n weightAll += w;\n sum += texture2D(ssaoTexture, coord).r * w;\n }\n\n gl_FragColor = vec4(vec3(sum / weightAll), 1.0);\n}\n\n@end\n";function wL(e){for(var t=new Uint8Array(e*e*4),n=0,r=new uM,i=0;i<e;i++)for(var a=0;a<e;a++)r.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),t[n++]=255*(.5*r.x+.5),t[n++]=255*(.5*r.y+.5),t[n++]=0,t[n++]=255;return t}function SL(e){return new ZM({pixels:wL(e),wrapS:HM.REPEAT,wrapT:HM.REPEAT,width:e,height:e})}function TL(e,t,n){var r=new Float32Array(3*e);t=t||0;for(var i=0;i<e;i++){var a=bL(i+t,2)*(n?1:2)*Math.PI,o=bL(i+t,3)*Math.PI,s=Math.random(),u=Math.cos(a)*Math.sin(o)*s,l=Math.cos(o)*s,c=Math.sin(a)*Math.sin(o)*s;r[3*i]=u,r[3*i+1]=l,r[3*i+2]=c}return r}function EL(e){e=e||{},this._ssaoPass=new aO({fragment:NE.source("ecgl.ssao.estimate")}),this._blurPass=new aO({fragment:NE.source("ecgl.ssao.blur")}),this._framebuffer=new nA({depthBuffer:!1}),this._ssaoTexture=new ZM,this._blurTexture=new ZM,this._blurTexture2=new ZM,this._depthTex=e.depthTexture,this._normalTex=e.normalTexture,this.setNoiseSize(4),this.setKernelSize(e.kernelSize||12),null!=e.radius&&this.setParameter("radius",e.radius),null!=e.power&&this.setParameter("power",e.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}NE["import"](xL),EL.prototype.setDepthTexture=function(e){this._depthTex=e},EL.prototype.setNormalTexture=function(e){this._normalTex=e,this._ssaoPass.material[e?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)},EL.prototype.update=function(e,t,n){var r=e.getWidth(),i=e.getHeight(),a=this._ssaoPass,o=this._blurPass;a.setUniform("kernel",this._kernels[n%this._kernels.length]),a.setUniform("depthTex",this._depthTex),null!=this._normalTex&&a.setUniform("normalTex",this._normalTex),a.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var s=new xM;xM.transpose(s,t.worldTransform),a.setUniform("projection",t.projectionMatrix.array),a.setUniform("projectionInv",t.invProjectionMatrix.array),a.setUniform("viewInverseTranspose",s.array);var u=this._ssaoTexture,l=this._blurTexture,c=this._blurTexture2;u.width=r/2,u.height=i/2,l.width=r,l.height=i,c.width=r,c.height=i,this._framebuffer.attach(u),this._framebuffer.bind(e),e.gl.clearColor(1,1,1,1),e.gl.clear(e.gl.COLOR_BUFFER_BIT),a.render(e),o.setUniform("textureSize",[r/2,i/2]),o.setUniform("projection",t.projectionMatrix.array),this._framebuffer.attach(l),o.setUniform("direction",0),o.setUniform("ssaoTexture",u),o.render(e),this._framebuffer.attach(c),o.setUniform("textureSize",[r,i]),o.setUniform("direction",1),o.setUniform("ssaoTexture",l),o.render(e),this._framebuffer.unbind(e);var f=e.clearColor;e.gl.clearColor(f[0],f[1],f[2],f[3])},EL.prototype.getTargetTexture=function(){return this._blurTexture2},EL.prototype.setParameter=function(e,t){"noiseTexSize"===e?this.setNoiseSize(t):"kernelSize"===e?this.setKernelSize(t):"intensity"===e?this._ssaoPass.material.set("intensity",t):this._ssaoPass.setUniform(e,t)},EL.prototype.setKernelSize=function(e){this._kernelSize=e,this._ssaoPass.material.define("fragment","KERNEL_SIZE",e),this._kernels=this._kernels||[];for(var t=0;t<30;t++)this._kernels[t]=TL(e,t*e,!!this._normalTex)},EL.prototype.setNoiseSize=function(e){var t=this._ssaoPass.getUniform("noiseTex");t?(t.data=wL(e),t.width=t.height=e,t.dirty()):(t=SL(e),this._ssaoPass.setUniform("noiseTex",SL(e))),this._ssaoPass.setUniform("noiseTexSize",[e,e])},EL.prototype.dispose=function(e){this._blurTexture.dispose(e),this._ssaoTexture.dispose(e),this._blurTexture2.dispose(e)};var ML=EL,CL="@export ecgl.ssr.main\n\n#define SHADER_NAME SSR\n#define MAX_ITERATION 20;\n#define SAMPLE_PER_FRAME 5;\n#define TOTAL_SAMPLES 128;\n\nuniform sampler2D sourceTexture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform sampler2D gBufferTexture3;\nuniform samplerCube specularCubemap;\nuniform float specularIntensity: 1;\n\nuniform mat4 projection;\nuniform mat4 projectionInv;\nuniform mat4 toViewSpace;\nuniform mat4 toWorldSpace;\n\nuniform float maxRayDistance: 200;\n\nuniform float pixelStride: 16;\nuniform float pixelStrideZCutoff: 50; \nuniform float screenEdgeFadeStart: 0.9; \nuniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; \nuniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;\n\nuniform float nearZ;\nuniform vec2 viewportSize : VIEWPORT_SIZE;\n\nuniform float jitterOffset: 0;\n\nvarying vec2 v_Texcoord;\n\n#ifdef DEPTH_DECODE\n@import clay.util.decode_float\n#endif\n\n#ifdef PHYSICALLY_CORRECT\nuniform sampler2D normalDistribution;\nuniform float sampleOffset: 0;\nuniform vec2 normalDistributionSize;\n\nvec3 transformNormal(vec3 H, vec3 N) {\n vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {\n float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));\n vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;\n return transformNormal(H, N);\n}\nfloat G_Smith(float g, float ndv, float ndl) {\n float roughness = 1.0 - g;\n float k = roughness * roughness / 2.0;\n float G1V = ndv / (ndv * (1.0 - k) + k);\n float G1L = ndl / (ndl * (1.0 - k) + k);\n return G1L * G1V;\n}\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n#endif\n\nfloat fetchDepth(sampler2D depthTexture, vec2 uv)\n{\n vec4 depthTexel = texture2D(depthTexture, uv);\n return depthTexel.r * 2.0 - 1.0;\n}\n\nfloat linearDepth(float depth)\n{\n if (projection[3][3] == 0.0) {\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n }\n else {\n return (depth - projection[3][2]) / projection[2][2];\n }\n}\n\nbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)\n{\n if (rayZFar > rayZNear)\n {\n float t = rayZFar; rayZFar = rayZNear; rayZNear = t;\n }\n float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\n return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\n}\n\n\nbool traceScreenSpaceRay(\n vec3 rayOrigin, vec3 rayDir, float jitter,\n out vec2 hitPixel, out vec3 hitPoint, out float iterationCount\n)\n{\n float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)\n ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\n\n vec3 rayEnd = rayOrigin + rayDir * rayLength;\n\n vec4 H0 = projection * vec4(rayOrigin, 1.0);\n vec4 H1 = projection * vec4(rayEnd, 1.0);\n\n float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\n\n vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\n\n vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\n vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\n\n P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\n vec2 delta = P1 - P0;\n\n bool permute = false;\n if (abs(delta.x) < abs(delta.y)) {\n permute = true;\n delta = delta.yx;\n P0 = P0.yx;\n P1 = P1.yx;\n }\n float stepDir = sign(delta.x);\n float invdx = stepDir / delta.x;\n\n vec3 dQ = (Q1 - Q0) * invdx;\n float dk = (k1 - k0) * invdx;\n\n vec2 dP = vec2(stepDir, delta.y * invdx);\n\n float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\n float pixStride = 1.0 + strideScaler * pixelStride;\n\n dP *= pixStride; dQ *= pixStride; dk *= pixStride;\n\n vec4 pqk = vec4(P0, Q0.z, k0);\n vec4 dPQK = vec4(dP, dQ.z, dk);\n\n pqk += dPQK * jitter;\n float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n float rayZNear;\n\n bool intersect = false;\n\n vec2 texelSize = 1.0 / viewportSize;\n\n iterationCount = 0.0;\n\n for (int i = 0; i < MAX_ITERATION; i++)\n {\n pqk += dPQK;\n\n rayZNear = rayZFar;\n rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n\n hitPixel = permute ? pqk.yx : pqk.xy;\n hitPixel *= texelSize;\n\n intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\n\n iterationCount += 1.0;\n\n dPQK *= 1.2;\n\n if (intersect) {\n break;\n }\n }\n\n Q0.xy += dQ.xy * iterationCount;\n Q0.z = pqk.z;\n hitPoint = Q0 / pqk.w;\n\n return intersect;\n}\n\nfloat calculateAlpha(\n float iterationCount, float reflectivity,\n vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir\n)\n{\n float alpha = clamp(reflectivity, 0.0, 1.0);\n alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));\n vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\n float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\n alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\n\n float _eyeFadeStart = eyeFadeStart;\n float _eyeFadeEnd = eyeFadeEnd;\n if (_eyeFadeStart > _eyeFadeEnd) {\n float tmp = _eyeFadeEnd;\n _eyeFadeEnd = _eyeFadeStart;\n _eyeFadeStart = tmp;\n }\n\n float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\n alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\n\n alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\n\n return alpha;\n}\n\n@import clay.util.rand\n\n@import clay.util.rgbm\n\nvoid main()\n{\n vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);\n\n if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\n discard;\n }\n\n float g = normalAndGloss.a;\n#if !defined(PHYSICALLY_CORRECT)\n if (g <= minGlossiness) {\n discard;\n }\n#endif\n\n float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\n\n vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);\n N = normalize((toViewSpace * vec4(N, 0.0)).xyz);\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);\n vec4 pos = projectionInv * projectedPos;\n vec3 rayOrigin = pos.xyz / pos.w;\n vec3 V = -normalize(rayOrigin);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n float iterationCount;\n float jitter = rand(fract(v_Texcoord + jitterOffset));\n\n#ifdef PHYSICALLY_CORRECT\n vec4 color = vec4(vec3(0.0), 1.0);\n vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);\n vec3 albedo = albedoMetalness.rgb;\n float m = albedoMetalness.a;\n vec3 diffuseColor = albedo * (1.0 - m);\n vec3 spec = mix(vec3(0.04), albedo, m);\n\n float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);\n\n for (int i = 0; i < SAMPLE_PER_FRAME; i++) {\n vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);\n vec3 rayDir = normalize(reflect(-V, H));\n#else\n vec3 rayDir = normalize(reflect(-V, N));\n#endif\n vec2 hitPixel;\n vec3 hitPoint;\n\n bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\n\n float dist = distance(rayOrigin, hitPoint);\n\n vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\n hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);\n#ifdef PHYSICALLY_CORRECT\n float ndl = clamp(dot(N, rayDir), 0.0, 1.0);\n float vdh = clamp(dot(V, H), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n vec3 litTexel = vec3(0.0);\n if (dot(hitNormal, rayDir) < 0.0 && intersect) {\n litTexel = texture2D(sourceTexture, hitPixel).rgb;\n litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);\n\n }\n else {\n #ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;\n#endif\n }\n color.rgb += ndl * litTexel * (\n F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)\n );\n }\n color.rgb /= float(SAMPLE_PER_FRAME);\n#else\n #if !defined(SPECULARCUBEMAP_ENABLED)\n if (dot(hitNormal, rayDir) >= 0.0) {\n discard;\n }\n if (!intersect) {\n discard;\n }\n#endif\n float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);\n vec4 color = texture2D(sourceTexture, hitPixel);\n color.rgb *= alpha;\n\n#ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n alpha = alpha * (intersect ? 1.0 : 0.0);\n float bias = (1.0 -g) * 5.0;\n color.rgb += (1.0 - alpha)\n * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb\n * specularIntensity;\n#endif\n\n#endif\n\n gl_FragColor = encodeHDR(color);\n}\n@end\n\n@export ecgl.ssr.blur\n\nuniform sampler2D texture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform mat4 projection;\nuniform float depthRange : 0.05;\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\n#ifdef BLEND\n #ifdef SSAOTEX_ENABLED\nuniform sampler2D ssaoTex;\n #endif\nuniform sampler2D sourceTexture;\n#endif\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n\n@import clay.util.rgbm\n\n\nvoid main()\n{\n @import clay.compositor.kernel.gaussian_9\n\n vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);\n float g = centerNTexel.a;\n float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;\n#ifdef VERTICAL\n vec2 off = vec2(0.0, maxBlurSize / textureSize.y);\n#else\n vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);\n#endif\n\n vec2 coord = v_Texcoord;\n\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n\n vec3 cN = centerNTexel.rgb * 2.0 - 1.0;\n float cD = getLinearDepth(v_Texcoord);\n for (int i = 0; i < 9; i++) {\n vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));\n float w = gaussianKernel[i]\n * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));\n\n weightAll += w;\n sum += decodeHDR(texture2D(texture, coord)) * w;\n }\n\n#ifdef BLEND\n float aoFactor = 1.0;\n #ifdef SSAOTEX_ENABLED\n aoFactor = texture2D(ssaoTex, v_Texcoord).r;\n #endif\n gl_FragColor = encodeHDR(\n sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))\n );\n#else\n gl_FragColor = encodeHDR(sum / weightAll);\n#endif\n}\n\n@end";function AL(e){e=e||{},this._ssrPass=new aO({fragment:NE.source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new aO({fragment:NE.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new aO({fragment:NE.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new aO({fragment:NE.source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",e.normalTexture),this._ssrPass.setUniform("gBufferTexture2",e.depthTexture),this._blurPass1.setUniform("gBufferTexture1",e.normalTexture),this._blurPass1.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.setUniform("gBufferTexture1",e.normalTexture),this._blurPass2.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new ZM({type:HM.HALF_FLOAT}),this._texture2=new ZM({type:HM.HALF_FLOAT}),this._texture3=new ZM({type:HM.HALF_FLOAT}),this._prevTexture=new ZM({type:HM.HALF_FLOAT}),this._currentTexture=new ZM({type:HM.HALF_FLOAT}),this._frameBuffer=new nA({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}NE["import"](CL),AL.prototype.setAmbientCubemap=function(e,t){this._ssrPass.material.set("specularCubemap",e),this._ssrPass.material.set("specularIntensity",t);var n=e&&t;this._ssrPass.material[n?"enableTexture":"disableTexture"]("specularCubemap")},AL.prototype.update=function(e,t,n,r){var i=e.getWidth(),a=e.getHeight(),o=this._ssrTexture,s=this._texture2,u=this._texture3;o.width=this._prevTexture.width=this._currentTexture.width=i/this._downScale,o.height=this._prevTexture.height=this._currentTexture.height=a/this._downScale,s.width=u.width=i,s.height=u.height=a;var l=this._frameBuffer,c=this._ssrPass,f=this._blurPass1,h=this._blurPass2,d=this._blendPass,p=new xM,g=new xM;xM.transpose(p,t.worldTransform),xM.transpose(g,t.viewMatrix),c.setUniform("sourceTexture",n),c.setUniform("projection",t.projectionMatrix.array),c.setUniform("projectionInv",t.invProjectionMatrix.array),c.setUniform("toViewSpace",p.array),c.setUniform("toWorldSpace",g.array),c.setUniform("nearZ",t.near);var m=r/this._totalSamples*this._samplePerFrame;if(c.setUniform("jitterOffset",m),c.setUniform("sampleOffset",r*this._samplePerFrame),f.setUniform("textureSize",[o.width,o.height]),h.setUniform("textureSize",[i,a]),h.setUniform("sourceTexture",n),f.setUniform("projection",t.projectionMatrix.array),h.setUniform("projection",t.projectionMatrix.array),l.attach(o),l.bind(e),c.render(e),this._physicallyCorrect&&(l.attach(this._currentTexture),d.setUniform("texture1",this._prevTexture),d.setUniform("texture2",o),d.material.set({weight1:r>=1?.95:0,weight2:r>=1?.05:1}),d.render(e)),l.attach(s),f.setUniform("texture",this._physicallyCorrect?this._currentTexture:o),f.render(e),l.attach(u),h.setUniform("texture",s),h.render(e),l.unbind(e),this._physicallyCorrect){var v=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=v}},AL.prototype.getTargetTexture=function(){return this._texture3},AL.prototype.setParameter=function(e,t){"maxIteration"===e?this._ssrPass.material.define("fragment","MAX_ITERATION",t):this._ssrPass.setUniform(e,t)},AL.prototype.setPhysicallyCorrect=function(e){e?(this._normalDistribution||(this._normalDistribution=cO.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=e},AL.prototype.setSSAOTexture=function(e){var t=this._blurPass2;e?(t.material.enableTexture("ssaoTex"),t.material.set("ssaoTex",e)):t.material.disableTexture("ssaoTex")},AL.prototype.isFinished=function(e){return!this._physicallyCorrect||e>this._totalSamples/this._samplePerFrame},AL.prototype.dispose=function(e){this._ssrTexture.dispose(e),this._texture2.dispose(e),this._texture3.dispose(e),this._prevTexture.dispose(e),this._currentTexture.dispose(e),this._frameBuffer.dispose(e)};var OL=AL,DL=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925],PL="@export ecgl.normal.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n@import ecgl.common.normalMap.vertexHeader\n\n@import ecgl.common.vertexAnimation.header\n\nvoid main()\n{\n\n @import ecgl.common.vertexAnimation.main\n\n @import ecgl.common.uv.main\n\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n @import ecgl.common.normalMap.vertexMain\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n}\n\n\n@end\n\n\n@export ecgl.normal.fragment\n\n#define ROUGHNESS_CHANEL 0\n\nuniform bool useBumpMap;\nuniform bool useRoughnessMap;\nuniform bool doubleSide;\nuniform float roughness;\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n@import ecgl.common.normalMap.fragmentHeader\n@import ecgl.common.bumpMap.header\n\nuniform sampler2D roughnessMap;\n\nvoid main()\n{\n vec3 N = v_Normal;\n \n bool flipNormal = false;\n if (doubleSide) {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n flipNormal = true;\n }\n }\n\n @import ecgl.common.normalMap.fragmentMain\n\n if (useBumpMap) {\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n }\n\n float g = 1.0 - roughness;\n\n if (useRoughnessMap) {\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n }\n\n if (flipNormal) {\n N = -N;\n }\n\n gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\n gl_FragColor.a = g;\n}\n@end";function LL(e,t,n,r,i){var a=e.gl;t.setUniform(a,"1i",n,i),a.activeTexture(a.TEXTURE0+i),r.isRenderable()?r.bind(e):r.unbind(e)}function IL(e,t,n,r,i){var a,o,s,u,l=e.gl;return function(i,c,f){if(!u||u.material!==i.material){var h=i.material,d=i.__program,p=h.get("roughness");null==p&&(p=1);var g=h.get("normalMap")||t,m=h.get("roughnessMap"),v=h.get("bumpMap"),y=h.get("uvRepeat"),_=h.get("uvOffset"),b=h.get("detailUvRepeat"),x=h.get("detailUvOffset"),w=!!v&&h.isTextureEnabled("bumpMap"),S=!!m&&h.isTextureEnabled("roughnessMap"),T=h.isDefined("fragment","DOUBLE_SIDED");v=v||n,m=m||r,f!==c?(c.set("normalMap",g),c.set("bumpMap",v),c.set("roughnessMap",m),c.set("useBumpMap",w),c.set("useRoughnessMap",S),c.set("doubleSide",T),null!=y&&c.set("uvRepeat",y),null!=_&&c.set("uvOffset",_),null!=b&&c.set("detailUvRepeat",b),null!=x&&c.set("detailUvOffset",x),c.set("roughness",p)):(d.setUniform(l,"1f","roughness",p),a!==g&&LL(e,d,"normalMap",g,0),o!==v&&v&&LL(e,d,"bumpMap",v,1),s!==m&&m&&LL(e,d,"roughnessMap",m,2),null!=y&&d.setUniform(l,"2f","uvRepeat",y),null!=_&&d.setUniform(l,"2f","uvOffset",_),null!=b&&d.setUniform(l,"2f","detailUvRepeat",b),null!=x&&d.setUniform(l,"2f","detailUvOffset",x),d.setUniform(l,"1i","useBumpMap",+w),d.setUniform(l,"1i","useRoughnessMap",+S),d.setUniform(l,"1i","doubleSide",+T)),a=g,o=v,s=m,u=i}}}function RL(e){e=e||{},this._depthTex=new ZM({format:HM.DEPTH_COMPONENT,type:HM.UNSIGNED_INT}),this._normalTex=new ZM({type:HM.HALF_FLOAT}),this._framebuffer=new nA,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,nA.DEPTH_ATTACHMENT),this._normalMaterial=new XT({shader:new NE(NE.source("ecgl.normal.vertex"),NE.source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=KA.createBlank("#000"),this._defaultBumpMap=KA.createBlank("#000"),this._defaultRoughessMap=KA.createBlank("#000"),this._debugPass=new aO({fragment:NE.source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}NE["import"](PL),RL.prototype.getDepthTexture=function(){return this._depthTex},RL.prototype.getNormalTexture=function(){return this._normalTex},RL.prototype.update=function(e,t,n){var r=e.getWidth(),i=e.getHeight(),a=this._depthTex,o=this._normalTex,s=this._normalMaterial;a.width=r,a.height=i,o.width=r,o.height=i;var u=t.getRenderList(n).opaque;this._framebuffer.bind(e),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT|e.gl.DEPTH_BUFFER_BIT),e.gl.disable(e.gl.BLEND),e.renderPass(u,n,{getMaterial:function(){return s},ifRender:function(e){return e.renderNormal},beforeRender:IL(e,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap,this._normalMaterial),sort:e.opaqueSortCompare}),this._framebuffer.unbind(e)},RL.prototype.renderDebug=function(e){this._debugPass.render(e)},RL.prototype.dispose=function(e){this._depthTex.dispose(e),this._normalTex.dispose(e)};var kL=RL;function NL(e){e=e||{},this._edgePass=new aO({fragment:NE.source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",e.normalTexture),this._edgePass.setUniform("depthTexture",e.depthTexture),this._targetTexture=new ZM({type:HM.HALF_FLOAT}),this._frameBuffer=new nA,this._frameBuffer.attach(this._targetTexture)}NL.prototype.update=function(e,t,n,r){var i=e.getWidth(),a=e.getHeight(),o=this._targetTexture;o.width=i,o.height=a;var s=this._frameBuffer;s.bind(e),this._edgePass.setUniform("projectionInv",t.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[i,a]),this._edgePass.setUniform("texture",n),this._edgePass.render(e),s.unbind(e)},NL.prototype.getTargetTexture=function(){return this._targetTexture},NL.prototype.setParameter=function(e,t){this._edgePass.setUniform(e,t)},NL.prototype.dispose=function(e){this._targetTexture.dispose(e),this._frameBuffer.dispose(e)};var FL=NL,BL={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]},zL="@export ecgl.dof.coc\n\nuniform sampler2D depth;\n\nuniform float zNear: 0.1;\nuniform float zFar: 2000;\n\nuniform float focalDistance: 3;\nuniform float focalRange: 1;\nuniform float focalLength: 30;\nuniform float fstop: 2.8;\n\nvarying vec2 v_Texcoord;\n\n@import clay.util.encode_float\n\nvoid main()\n{\n float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\n\n float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\n\n float aperture = focalLength / fstop;\n\n float coc;\n\n float uppper = focalDistance + focalRange;\n float lower = focalDistance - focalRange;\n if (dist <= uppper && dist >= lower) {\n coc = 0.5;\n }\n else {\n float focalAdjusted = dist > uppper ? uppper : lower;\n\n coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\n coc = clamp(coc, 0.0, 2.0) / 2.00001;\n\n if (dist < lower) {\n coc = -coc;\n }\n coc = coc * 0.5 + 0.5;\n }\n\n gl_FragColor = encodeFloat(coc);\n}\n@end\n\n\n@export ecgl.dof.composite\n\n#define DEBUG 0\n\nuniform sampler2D original;\nuniform sampler2D blurred;\nuniform sampler2D nearfield;\nuniform sampler2D coc;\nuniform sampler2D nearcoc;\nvarying vec2 v_Texcoord;\n\n@import clay.util.rgbm\n@import clay.util.float\n\nvoid main()\n{\n vec4 blurredColor = texture2D(blurred, v_Texcoord);\n vec4 originalColor = texture2D(original, v_Texcoord);\n\n float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\n\n fCoc = abs(fCoc * 2.0 - 1.0);\n\n float weight = smoothstep(0.0, 1.0, fCoc);\n \n#ifdef NEARFIELD_ENABLED\n vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);\n float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\n fNearCoc = abs(fNearCoc * 2.0 - 1.0);\n\n gl_FragColor = encodeHDR(\n mix(\n nearfieldColor, mix(originalColor, blurredColor, weight),\n pow(1.0 - fNearCoc, 4.0)\n )\n );\n#else\n gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\n#endif\n\n}\n\n@end\n\n\n\n@export ecgl.dof.diskBlur\n\n#define POISSON_KERNEL_SIZE 16;\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurRadius : 10.0;\nuniform vec2 textureSize : [512.0, 512.0];\n\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\n\nuniform float percent;\n\nfloat nrand(const in vec2 n) {\n return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n@import clay.util.rgbm\n@import clay.util.float\n\n\nvoid main()\n{\n vec2 offset = blurRadius / textureSize;\n\n float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\n float cosa = cos(rnd);\n float sina = sin(rnd);\n vec4 basis = vec4(cosa, -sina, sina, cosa);\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n#ifdef BLUR_COC\n float cocSum = 0.0;\n#else\n vec4 color = vec4(0.0);\n#endif\n\n\n float weightSum = 0.0;\n\n for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\n vec2 ofs = poissonKernel[i];\n\n ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\n\n vec2 uv = v_Texcoord + ofs * offset;\n vec4 texel = texture2D(texture, uv);\n\n float w = 1.0;\n#ifdef BLUR_COC\n float fCoc = decodeFloat(texel) * 2.0 - 1.0;\n cocSum += clamp(fCoc, -1.0, 0.0) * w;\n#else\n texel = texel;\n #if !defined(BLUR_NEARFIELD)\n float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\n w *= abs(fCoc);\n #endif\n texel.rgb *= texel.a;\n color += texel * w;\n#endif\n\n weightSum += w;\n }\n\n#ifdef BLUR_COC\n gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\n#else\n color /= weightSum;\n color.rgb /= (color.a + 0.0001);\n gl_FragColor = color;\n#endif\n}\n\n@end",jL="@export ecgl.edge\n\nuniform sampler2D texture;\n\nuniform sampler2D normalTexture;\nuniform sampler2D depthTexture;\n\nuniform mat4 projectionInv;\n\nuniform vec2 textureSize;\n\nuniform vec4 edgeColor: [0,0,0,0.8];\n\nvarying vec2 v_Texcoord;\n\nvec3 packColor(vec2 coord) {\n float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\n vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * p;\n\n return vec3(\n texture2D(normalTexture, coord).rg,\n -p4.z / p4.w / 5.0\n );\n}\n\nvoid main() {\n vec2 cc = v_Texcoord;\n vec3 center = packColor(cc);\n\n float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\n float dx = size / textureSize.x;\n float dy = size / textureSize.y;\n\n vec2 coord;\n vec3 topLeft = packColor(cc+vec2(-dx, -dy));\n vec3 top = packColor(cc+vec2(0.0, -dy));\n vec3 topRight = packColor(cc+vec2(dx, -dy));\n vec3 left = packColor(cc+vec2(-dx, 0.0));\n vec3 right = packColor(cc+vec2(dx, 0.0));\n vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\n vec3 bottom = packColor(cc+vec2(0.0, dy));\n vec3 bottomRight = packColor(cc+vec2(dx, dy));\n\n vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\n vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\n\n float edge = sqrt(dot(h, h) + dot(v, v));\n\n edge = smoothstep(0.8, 1.0, edge);\n\n gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\n}\n@end";function HL(e,t){return{color:{parameters:{width:e,height:t}}}}NE["import"](qP),NE["import"](ZP),NE["import"](QP),NE["import"](JP),NE["import"](eL),NE["import"](tL),NE["import"](nL),NE["import"](iL),NE["import"](aL),NE["import"](zL),NE["import"](jL);var UL=["composite","FXAA"];function VL(){this._width,this._height,this._dpr,this._sourceTexture=new ZM({type:HM.HALF_FLOAT}),this._depthTexture=new ZM({format:HM.DEPTH_COMPONENT,type:HM.UNSIGNED_INT}),this._framebuffer=new nA,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,nA.DEPTH_ATTACHMENT),this._normalPass=new kL,this._compositor=yL(BL);var e=this._compositor.getNodeByName("source");e.texture=this._sourceTexture;var t=this._compositor.getNodeByName("coc");this._sourceNode=e,this._cocNode=t,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map((function(e){return this._compositor.getNodeByName(e)}),this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=UL.map((function(e){return this._compositor.getNodeByName(e)}),this);var n={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new ML(n),this._ssrPass=new OL(n),this._edgePass=new FL(n)}VL.prototype.resize=function(e,t,n){n=n||1;e*=n,t*=n;var r=this._sourceTexture,i=this._depthTexture;r.width=e,r.height=t,i.width=e,i.height=t;var a={getWidth:function(){return e},getHeight:function(){return t},getDevicePixelRatio:function(){return n}};function o(e,t){if("function"===typeof e[t]){var n=e[t].__original||e[t];e[t]=function(e){return n.call(this,a)},e[t].__original=n}}this._compositor.nodes.forEach((function(e){for(var t in e.outputs){var n=e.outputs[t].parameters;n&&(o(n,"width"),o(n,"height"))}for(var r in e.parameters)o(e.parameters,r)})),this._width=e,this._height=t,this._dpr=n},VL.prototype.getWidth=function(){return this._width},VL.prototype.getHeight=function(){return this._height},VL.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR},VL.prototype._getPrevNode=function(e){var t=UL.indexOf(e.name)-1,n=this._finalNodesChain[t];while(n&&!this._compositor.getNodeByName(n.name))t-=1,n=this._finalNodesChain[t];return n},VL.prototype._getNextNode=function(e){var t=UL.indexOf(e.name)+1,n=this._finalNodesChain[t];while(n&&!this._compositor.getNodeByName(n.name))t+=1,n=this._finalNodesChain[t];return n},VL.prototype._addChainNode=function(e){var t=this._getPrevNode(e),n=this._getNextNode(e);t&&(e.inputs.texture=t.name,n?(e.outputs=HL(this.getWidth.bind(this),this.getHeight.bind(this)),n.inputs.texture=e.name):e.outputs=null,this._compositor.addNode(e))},VL.prototype._removeChainNode=function(e){var t=this._getPrevNode(e),n=this._getNextNode(e);t&&(n?(t.outputs=HL(this.getWidth.bind(this),this.getHeight.bind(this)),n.inputs.texture=t.name):t.outputs=null,this._compositor.removeNode(e))},VL.prototype.updateNormal=function(e,t,n,r){this._ifRenderNormalPass()&&this._normalPass.update(e,t,n)},VL.prototype.updateSSAO=function(e,t,n,r){this._ssaoPass.update(e,n,r)},VL.prototype.enableSSAO=function(){this._enableSSAO=!0},VL.prototype.disableSSAO=function(){this._enableSSAO=!1},VL.prototype.enableSSR=function(){this._enableSSR=!0},VL.prototype.disableSSR=function(){this._enableSSR=!1},VL.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()},VL.prototype.getSourceFrameBuffer=function(){return this._framebuffer},VL.prototype.getSourceTexture=function(){return this._sourceTexture},VL.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)},VL.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)},VL.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()},VL.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()},VL.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()},VL.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()},VL.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0},VL.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1},VL.prototype.enableEdge=function(){this._enableEdge=!0},VL.prototype.disableEdge=function(){this._enableEdge=!1},VL.prototype.setBloomIntensity=function(e){this._compositeNode.setParameter("bloomIntensity",e)},VL.prototype.setSSAOParameter=function(e,t){switch(e){case"quality":var n={low:6,medium:12,high:32,ultra:62}[t]||12;this._ssaoPass.setParameter("kernelSize",n);break;case"radius":this._ssaoPass.setParameter(e,t),this._ssaoPass.setParameter("bias",t/200);break;case"intensity":this._ssaoPass.setParameter(e,t);break;default:0}},VL.prototype.setDOFParameter=function(e,t){switch(e){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(e,t);break;case"blurRadius":for(var n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].setParameter("blurRadius",t);break;case"quality":var r={low:4,medium:8,high:16,ultra:32}[t]||8;this._dofBlurKernelSize=r;for(n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].pass.material.define("POISSON_KERNEL_SIZE",r);this._dofBlurKernel=new Float32Array(2*r);break;default:0}},VL.prototype.setSSRParameter=function(e,t){if(null!=t)switch(e){case"quality":var n={low:10,medium:15,high:30,ultra:80}[t]||20,r={low:32,medium:16,high:8,ultra:4}[t]||16;this._ssrPass.setParameter("maxIteration",n),this._ssrPass.setParameter("pixelStride",r);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-t,1),0));break;case"physical":this.setPhysicallyCorrectSSR(t);break;default:console.warn("Unkown SSR parameter "+e)}},VL.prototype.setPhysicallyCorrectSSR=function(e){this._ssrPass.setPhysicallyCorrect(e)},VL.prototype.setEdgeColor=function(e){var t=fD.parseColor(e);this._edgePass.setParameter("edgeColor",t)},VL.prototype.setExposure=function(e){this._compositeNode.setParameter("exposure",Math.pow(2,e))},VL.prototype.setColorLookupTexture=function(e,t){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?e:"none",t,{minFilter:fD.Texture.NEAREST,magFilter:fD.Texture.NEAREST,flipY:!1})},VL.prototype.setColorCorrection=function(e,t){this._compositeNode.setParameter(e,t)},VL.prototype.isSSREnabled=function(){return this._enableSSR},VL.prototype.composite=function(e,t,n,r,i){var a=this._sourceTexture,o=a;this._enableEdge&&(this._edgePass.update(e,n,a,i),a=o=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(e,n,a,i),o=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=o,this._cocNode.setParameter("depth",this._depthTexture);for(var s=this._dofBlurKernel,u=this._dofBlurKernelSize,l=Math.floor(DL.length/2/u),c=i%l,f=0;f<2*u;f++)s[f]=DL[f+c*u*2];for(f=0;f<this._dofBlurNodes.length;f++)this._dofBlurNodes[f].setParameter("percent",i/30),this._dofBlurNodes[f].setParameter("poissonKernel",s);this._cocNode.setParameter("zNear",n.near),this._cocNode.setParameter("zFar",n.far),this._compositor.render(e,r)},VL.prototype.dispose=function(e){this._sourceTexture.dispose(e),this._depthTexture.dispose(e),this._framebuffer.dispose(e),this._compositor.dispose(e),this._normalPass.dispose(e),this._ssaoPass.dispose(e)};var GL=VL;function WL(e){for(var t=[],n=0;n<30;n++)t.push([bL(n,2),bL(n,3)]);this._haltonSequence=t,this._frame=0,this._sourceTex=new ZM,this._sourceFb=new nA,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new ZM,this._outputTex=new ZM;var r=this._blendPass=new aO({fragment:NE.source("clay.compositor.blend")});r.material.disableTexturesAll(),r.material.enableTexture(["texture1","texture2"]),this._blendFb=new nA({depthBuffer:!1}),this._outputPass=new aO({fragment:NE.source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(e){e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)}}WL.prototype={constructor:WL,jitterProjection:function(e,t){var n=e.viewport,r=n.devicePixelRatio||e.getDevicePixelRatio(),i=n.width*r,a=n.height*r,o=this._haltonSequence[this._frame%this._haltonSequence.length],s=new xM;s.array[12]=(2*o[0]-1)/i,s.array[13]=(2*o[1]-1)/a,xM.mul(t.projectionMatrix,s,t.projectionMatrix),xM.invert(t.invProjectionMatrix,t.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(e,t){this._prevFrameTex.width=e,this._prevFrameTex.height=t,this._outputTex.width=e,this._outputTex.height=t,this._sourceTex.width=e,this._sourceTex.height=t,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(e,t,n){var r=this._blendPass;0===this._frame?(r.setUniform("weight1",0),r.setUniform("weight2",1)):(r.setUniform("weight1",.9),r.setUniform("weight2",.1)),r.setUniform("texture1",this._prevFrameTex),r.setUniform("texture2",t||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(e),r.render(e),this._blendFb.unbind(e),n||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(e));var i=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=i,this._frame++},dispose:function(e){this._sourceFb.dispose(e),this._blendFb.dispose(e),this._prevFrameTex.dispose(e),this._outputTex.dispose(e),this._sourceTex.dispose(e),this._outputPass.dispose(e),this._blendPass.dispose(e)}};var XL=WL;function KL(e){e=e||"perspective",this.layer=null,this.scene=new FC,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(e),this._compositor=new GL,this._temporalSS=new XL,this._shadowMapPass=new RP;for(var t=[],n=0,r=0;r<30;r++){for(var i=[],a=0;a<6;a++)i.push(4*bL(n,2)-2),i.push(4*bL(n,3)-2),n++;t.push(i)}this._pcfKernels=t,this.scene.on("beforerender",(function(e,t,n){this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,n)}),this)}KL.prototype.setProjection=function(e){var t=this.camera;t&&t.update(),"perspective"===e?this.camera instanceof GC||(this.camera=new GC,t&&this.camera.setLocalTransform(t.localTransform)):this.camera instanceof JA||(this.camera=new JA,t&&this.camera.setLocalTransform(t.localTransform)),this.camera.near=.1,this.camera.far=2e3},KL.prototype.setViewport=function(e,t,n,r,i){this.camera instanceof GC&&(this.camera.aspect=n/r),i=i||1,this.viewport.x=e,this.viewport.y=t,this.viewport.width=n,this.viewport.height=r,this.viewport.devicePixelRatio=i,this._compositor.resize(n*i,r*i),this._temporalSS.resize(n*i,r*i)},KL.prototype.containPoint=function(e,t){var n=this.viewport,r=this.layer.renderer.getHeight();return t=r-t,e>=n.x&&t>=n.y&&e<=n.x+n.width&&t<=n.y+n.height};var qL=new eE;KL.prototype.castRay=function(e,t,n){var r=this.layer.renderer,i=r.viewport;return r.viewport=this.viewport,r.screenToNDC(e,t,qL),this.camera.castRay(qL,n),r.viewport=i,n},KL.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var e=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var t=0;t<e.transparent.length;t++){var n=e.transparent[t],r=n.geometry;r.needsSortVerticesProgressively&&r.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),r.needsSortTrianglesProgressively&&r.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()},KL.prototype.render=function(e,t){this._doRender(e,t,this._frame),this._frame++},KL.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively},KL.prototype.needsTemporalSS=function(){var e=this._enableTemporalSS;return"auto"===e&&(e=this._enablePostEffect),e},KL.prototype.hasDOF=function(){return this._enableDOF},KL.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30},KL.prototype._doRender=function(e,t,n){var r=this.scene,i=this.camera;n=n||0,this._updateTransparent(e,r,i,n),t||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(e,r,i,!0)),this._updateShadowPCFKernel(n);var a=e.clearColor;if(e.gl.clearColor(a[0],a[1],a[2],a[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,i),this._compositor.updateNormal(e,r,i,this._temporalSS.getFrame())),this._updateSSAO(e,r,i,this._temporalSS.getFrame()),this._enablePostEffect){var o=this._compositor.getSourceFrameBuffer();o.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),e.render(r,i,!0,!0),o.unbind(e),this.needsTemporalSS()&&t?(this._compositor.composite(e,r,i,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),e.setViewport(this.viewport),this._temporalSS.render(e)):(e.setViewport(this.viewport),this._compositor.composite(e,r,i,null,0))}else if(this.needsTemporalSS()&&t){o=this._temporalSS.getSourceFrameBuffer();o.bind(e),e.saveClear(),e.clearBit=e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT,e.render(r,i,!0,!0),e.restoreClear(),o.unbind(e),e.setViewport(this.viewport),this._temporalSS.render(e)}else e.setViewport(this.viewport),e.render(r,i,!0,!0)},KL.prototype._updateTransparent=function(e,t,n,r){for(var i=new uM,a=new xM,o=n.getWorldPosition(),s=t.getRenderList(n).transparent,u=0;u<s.length;u++){var l=s[u],c=l.geometry;xM.invert(a,l.worldTransform),uM.transformMat4(i,o,a),c.needsSortTriangles&&c.needsSortTriangles()&&c.doSortTriangles(i,r),c.needsSortVertices&&c.needsSortVertices()&&c.doSortVertices(i,r)}},KL.prototype._updateSSAO=function(e,t,n){var r=this._enableSSAO&&this._enablePostEffect;r&&this._compositor.updateSSAO(e,t,n,this._temporalSS.getFrame());for(var i=t.getRenderList(n),a=0;a<i.opaque.length;a++){var o=i.opaque[a];o.renderNormal&&o.material[r?"enableTexture":"disableTexture"]("ssaoMap"),r&&o.material.set("ssaoMap",this._compositor.getSSAOTexture())}},KL.prototype._updateShadowPCFKernel=function(e){for(var t=this._pcfKernels[e%this._pcfKernels.length],n=this.scene.getRenderList(this.camera),r=n.opaque,i=0;i<r.length;i++)r[i].receiveShadow&&(r[i].material.set("pcfKernel",t),r[i].material.define("fragment","PCF_KERNEL_SIZE",t.length/2))},KL.prototype.dispose=function(e){this._compositor.dispose(e.gl),this._temporalSS.dispose(e.gl),this._shadowMapPass.dispose(e)},KL.prototype.setPostEffect=function(e,t){var n=this._compositor;this._enablePostEffect=e.get("enable");var r=e.getModel("bloom"),i=e.getModel("edge"),a=e.getModel("DOF",e.getModel("depthOfField")),o=e.getModel("SSAO",e.getModel("screenSpaceAmbientOcclusion")),s=e.getModel("SSR",e.getModel("screenSpaceReflection")),u=e.getModel("FXAA"),l=e.getModel("colorCorrection");r.get("enable")?n.enableBloom():n.disableBloom(),a.get("enable")?n.enableDOF():n.disableDOF(),s.get("enable")?n.enableSSR():n.disableSSR(),l.get("enable")?n.enableColorCorrection():n.disableColorCorrection(),i.get("enable")?n.enableEdge():n.disableEdge(),u.get("enable")?n.enableFXAA():n.disableFXAA(),this._enableDOF=a.get("enable"),this._enableSSAO=o.get("enable"),this._enableSSAO?n.enableSSAO():n.disableSSAO(),n.setBloomIntensity(r.get("intensity")),n.setEdgeColor(i.get("color")),n.setColorLookupTexture(l.get("lookupTexture"),t),n.setExposure(l.get("exposure")),["radius","quality","intensity"].forEach((function(e){n.setSSAOParameter(e,o.get(e))})),["quality","maxRoughness","physical"].forEach((function(e){n.setSSRParameter(e,s.get(e))})),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach((function(e){n.setDOFParameter(e,a.get(e))})),["brightness","contrast","saturation"].forEach((function(e){n.setColorCorrection(e,l.get(e))}))},KL.prototype.setDOFFocusOnPoint=function(e){if(this._enablePostEffect){if(e>this.camera.far||e<this.camera.near)return;return this._compositor.setDOFParameter("focalDistance",e),!0}},KL.prototype.setTemporalSuperSampling=function(e){this._enableTemporalSS=e.get("enable")},KL.prototype.isLinearSpace=function(){return this._enablePostEffect},KL.prototype.setRootNode=function(e){if(this.rootNode!==e){for(var t=this.rootNode.children(),n=0;n<t.length;n++)e.add(t[n]);e!==this.scene&&this.scene.add(e),this.rootNode=e}},KL.prototype.add=function(e){this.rootNode.add(e)},KL.prototype.remove=function(e){this.rootNode.remove(e)},KL.prototype.removeAll=function(e){this.rootNode.removeAll(e)},Object.assign(KL.prototype,oT);var YL=KL;function ZL(e,t){var n=e.getBoxLayoutParams(),r=rd(n,{width:t.getWidth(),height:t.getHeight()});r.y=t.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,t.getDevicePixelRatio());var i=e.get("boxWidth"),a=e.get("boxHeight"),o=e.get("boxDepth");this.getAxis("x").setExtent(-i/2,i/2),this.getAxis("y").setExtent(o/2,-o/2),this.getAxis("z").setExtent(-a/2,a/2),this.size=[i,a,o]}function $L(e,t){var n={};function r(e,t){n[e]=n[e]||[1/0,-1/0],n[e][0]=Math.min(t[0],n[e][0]),n[e][1]=Math.max(t[1],n[e][1])}e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData();["x","y","z"].forEach((function(e){t.mapDimensionsAll(e,!0).forEach((function(n){r(e,t.getDataExtent(n,!0))}))}))}}),this),["xAxis3D","yAxis3D","zAxis3D"].forEach((function(t){e.eachComponent(t,(function(e){var r=t.charAt(0),i=e.getReferringComponents("grid3D").models[0],o=i.coordinateSystem;if(o===this){var s=o.getAxis(r);if(!s){var u=a.createScale(n[r]||[1/0,-1/0],e);s=new xP(r,u),s.type=e.get("type");var l="category"===s.type;s.onBand=l&&e.get("boundaryGap"),s.inverse=e.get("inverse"),e.axis=s,s.model=e,s.getLabelModel=function(){return e.getModel("axisLabel",i.getModel("axisLabel"))},s.getTickModel=function(){return e.getModel("axisTick",i.getModel("axisTick"))},o.addAxis(s)}}}),this)}),this),this.resize(this.model,t)}var QL={dimensions:_P.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("grid3D",(function(e){e.__viewGL=e.__viewGL||new YL;var t=new _P;t.model=e,t.viewGL=e.__viewGL,e.coordinateSystem=t,n.push(t),t.resize=ZL,t.update=$L}));var r=["xAxis3D","yAxis3D","zAxis3D"];function i(e,t){return r.map((function(n){var r=e.getReferringComponents(n).models[0];return null==r&&(r=t.getComponent(n)),r}))}return e.eachSeries((function(t){if("cartesian3D"===t.get("coordinateSystem")){var n=t.getReferringComponents("grid3D").models[0];if(null==n){var r=i(t,e);n=r[0].getCoordSysModel();r.forEach((function(e){e.getCoordSysModel()}))}var a=n.coordinateSystem;t.coordinateSystem=a}})),n}},JL=QL,eI=fd.extend({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});a.mixinAxisModelCommonMethods(eI);var tI=eI,nI={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},rI=l.merge({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},nI),iI=l.merge({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},nI),aI=l.defaults({scale:!0,min:"dataMin",max:"dataMax"},iI),oI=l.defaults({logBase:10},iI);oI.scale=!0;var sI={categoryAxis3D:rI,valueAxis3D:iI,timeAxis3D:aI,logAxis3D:oI},uI=["value","category","time","log"],lI=function(e,t,n,r,i){uI.forEach((function(a){var o=n.extend({type:t+"Axis3D."+a,__ordinalMeta:null,mergeDefaultAndTheme:function(e,n){var i=n.getTheme();l.merge(e,i.get(a+"Axis3D")),l.merge(e,this.getDefaultOption()),e.type=r(t,e)},optionUpdated:function(){var e=this.option;"category"===e.type&&(this.__ordinalMeta=kx.createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:l.merge(l.clone(sI[a+"Axis3D"]),i||{},!0)});e.registerComponentModel(o)})),e.registerSubTypeDefaulter(t+"Axis3D",l.curry(r,t))};function cI(e,t){return t.type||(t.data?"category":"value")}function fI(e){e.registerComponentModel(DD),e.registerComponentView(gP),e.registerCoordinateSystem("grid3D",JL),["x","y","z"].forEach((function(t){lI(e,t,tI,cI,{name:t.toUpperCase()});var n=e.ComponentView.extend({type:t+"Axis3D"});e.registerComponentView(n)})),e.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},(function(e,t){t.eachComponent({mainType:"grid3D",query:e},(function(t){t.setView(e)}))})),e.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},(function(e,t){})),e.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},(function(e,t){}))}Jw(fI);var hI={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}},dI={getFilledRegions:function(e,t){var n,r=(e||[]).slice();if("string"===typeof t?(t=Ab(t),n=t&&t.geoJson):t&&t.features&&(n=t),!n)return[];for(var i={},a=n.features,o=0;o<r.length;o++)i[r[o].name]=r[o];for(o=0;o<a.length;o++){var s=a[o].properties.name;i[s]||r.push({name:s})}return r},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}},pI=fd.extend({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var e=this.option;e.regions=this.getFilledRegions(e.regions,e.map);var t=a.createDimensions(e.data||[],{coordDimensions:["value"],encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),n=new dx(t,this);n.initData(e.regions);var r={};n.each((function(e){var t=n.getName(e),i=n.getItemModel(e);r[t]=i})),this._regionModelMap=r,this._data=n},getData:function(){return this._data},getRegionModel:function(e){var t=this.getData().getName(e);return this._regionModelMap[t]||new Wf(null,this)},getRegionPolygonCoords:function(e){var t=this.getData().getName(e),n=this.coordinateSystem.getRegion(t);return n?n.geometries:[]},getFormattedLabel:function(e,t){var n=this._data.getName(e),r=this.getRegionModel(e),i=r.get("normal"===t?["label","formatter"]:["emphasis","label","formatter"]);null==i&&(i=r.get(["label","formatter"]));var a={name:n};if("function"===typeof i)return a.status=t,i(a);if("string"===typeof i){var o=a.seriesName;return i.replace("{a}",null!=o?o:"")}return n},defaultOption:{regions:[]}});l.merge(pI.prototype,dI),l.merge(pI.prototype,MD),l.merge(pI.prototype,CD),l.merge(pI.prototype,AD),l.merge(pI.prototype,hI);var gI=pI,mI=vI;function vI(e,t,n){n=n||2;var r,i,a,o,s,u,l,c=t&&t.length,f=c?t[0]*n:e.length,h=yI(e,0,f,n,!0),d=[];if(!h)return d;if(c&&(h=EI(e,t,h,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var p=n;p<f;p+=n)s=e[p],u=e[p+1],s<r&&(r=s),u<i&&(i=u),s>a&&(a=s),u>o&&(o=u);l=Math.max(a-r,o-i)}return bI(h,d,n,r,i,l),d}function yI(e,t,n,r,i){var a,o;if(i===WI(e,t,n,r)>0)for(a=t;a<n;a+=r)o=UI(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=UI(a,e[a],e[a+1],o);return o&&NI(o,o.next)&&(VI(o),o=o.next),o}function _I(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!NI(r,r.next)&&0!==kI(r.prev,r,r.next))r=r.next;else{if(VI(r),r=t=r.prev,r===r.next)return null;n=!0}}while(n||r!==t);return t}function bI(e,t,n,r,i,a,o){if(e){!o&&a&&OI(e,r,i,a);var s,u,l=e;while(e.prev!==e.next)if(s=e.prev,u=e.next,a?wI(e,r,i,a):xI(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),VI(e),e=u.next,l=u.next;else if(e=u,e===l){o?1===o?(e=SI(e,t,n),bI(e,t,n,r,i,a,2)):2===o&&TI(e,t,n,r,i,a):bI(_I(e),t,n,r,i,a,1);break}}}function xI(e){var t=e.prev,n=e,r=e.next;if(kI(t,n,r)>=0)return!1;var i=e.next.next;while(i!==e.prev){if(II(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&kI(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function wI(e,t,n,r){var i=e.prev,a=e,o=e.next;if(kI(i,a,o)>=0)return!1;var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,f=PI(s,u,t,n,r),h=PI(l,c,t,n,r),d=e.nextZ;while(d&&d.z<=h){if(d!==e.prev&&d!==e.next&&II(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&kI(d.prev,d,d.next)>=0)return!1;d=d.nextZ}d=e.prevZ;while(d&&d.z>=f){if(d!==e.prev&&d!==e.next&&II(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&kI(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function SI(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!NI(i,a)&&FI(i,r,r.next,a)&&zI(i,a)&&zI(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),VI(r),VI(r.next),r=e=a),r=r.next}while(r!==e);return r}function TI(e,t,n,r,i,a){var o=e;do{var s=o.next.next;while(s!==o.prev){if(o.i!==s.i&&RI(o,s)){var u=HI(o,s);return o=_I(o,o.next),u=_I(u,u.next),bI(o,t,n,r,i,a),void bI(u,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function EI(e,t,n,r){var i,a,o,s,u,l=[];for(i=0,a=t.length;i<a;i++)o=t[i]*r,s=i<a-1?t[i+1]*r:e.length,u=yI(e,o,s,r,!1),u===u.next&&(u.steiner=!0),l.push(LI(u));for(l.sort(MI),i=0;i<l.length;i++)CI(l[i],n),n=_I(n,n.next);return n}function MI(e,t){return e.x-t.x}function CI(e,t){if(t=AI(e,t),t){var n=HI(t,e);_I(n,n.next)}}function AI(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n.prev;var u,l=n,c=n.x,f=n.y,h=1/0;r=n.next;while(r!==l)i>=r.x&&r.x>=c&&i!==r.x&&II(a<f?i:o,a,c,f,a<f?o:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),(u<h||u===h&&r.x>n.x)&&zI(r,e)&&(n=r,h=u)),r=r.next;return n}function OI(e,t,n,r){var i=e;do{null===i.z&&(i.z=PI(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,DI(i)}function DI(e){var t,n,r,i,a,o,s,u,l=1;do{n=e,e=null,a=null,o=0;while(n){for(o++,r=n,s=0,t=0;t<l;t++)if(s++,r=r.nextZ,!r)break;u=l;while(s>0||u>0&&r)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1);return e}function PI(e,t,n,r,i){return e=32767*(e-n)/i,t=32767*(t-r)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function LI(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function II(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function RI(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!BI(e,t)&&zI(e,t)&&zI(t,e)&&jI(e,t)}function kI(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function NI(e,t){return e.x===t.x&&e.y===t.y}function FI(e,t,n,r){return!!(NI(e,t)&&NI(n,r)||NI(e,r)&&NI(n,t))||kI(e,t,n)>0!==kI(e,t,r)>0&&kI(n,r,e)>0!==kI(n,r,t)>0}function BI(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&FI(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function zI(e,t){return kI(e.prev,e,e.next)<0?kI(e,t,e.next)>=0&&kI(e,e.prev,t)>=0:kI(e,t,e.prev)<0||kI(e,e.next,t)<0}function jI(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function HI(e,t){var n=new GI(e.i,e.x,e.y),r=new GI(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function UI(e,t,n,r){var i=new GI(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function VI(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function GI(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function WI(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function XI(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function KI(e,t,n,r,i){var a=n,o=e[t];XI(e,t,r);for(var s=n;s<r;s++)i(e[s],o)<0&&(XI(e,s,a),a++);return XI(e,r,a),a}function qI(e,t,n,r){if(n<r){var i=Math.floor((n+r)/2),a=KI(e,i,n,r,t);qI(e,t,n,a-1),qI(e,t,a+1,r)}}function YI(){this._parts=[]}vI.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(WI(e,0,a,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;o-=Math.abs(WI(e,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;f+=Math.abs((e[h]-e[p])*(e[d+1]-e[h+1])-(e[h]-e[d])*(e[p+1]-e[h+1]))}return 0===o&&0===f?0:Math.abs((f-o)/o)},YI.prototype.step=function(e,t,n){var r=e.length;if(0===n){this._parts=[],this._sorted=!1;var i=Math.floor(r/2);this._parts.push({pivot:i,left:0,right:r-1}),this._currentSortPartIdx=0}if(!this._sorted){var a=this._parts;if(0===a.length)return this._sorted=!0,!0;if(a.length<512){for(var o=0;o<a.length;o++)a[o].pivot=KI(e,a[o].pivot,a[o].left,a[o].right,t);var s=[];for(o=0;o<a.length;o++){var u=a[o].left,l=a[o].pivot-1;l>u&&s.push({pivot:Math.floor((l+u)/2),left:u,right:l});u=a[o].pivot+1,l=a[o].right;l>u&&s.push({pivot:Math.floor((l+u)/2),left:u,right:l})}a=this._parts=s}else for(o=0;o<Math.floor(a.length/10);o++){var c=a.length-1-this._currentSortPartIdx;if(qI(e,t,a[c].left,a[c].right),this._currentSortPartIdx++,this._currentSortPartIdx===a.length)return this._sorted=!0,!0}return!1}},YI.sort=qI;var ZI=YI,$I=BD.vec3,QI=$I.create(),JI=$I.create(),eR=$I.create(),tR={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(e,t){var n=this.indices;if(0===t){var r=this.attributes.position;e=e.array;this._triangleZList&&this._triangleZList.length===this.triangleCount||(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new n.constructor(n.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var i,a=0,o=0;o<n.length;){r.get(n[o++],QI),r.get(n[o++],JI),r.get(n[o++],eR);var s=$I.sqrDist(QI,e),u=$I.sqrDist(JI,e),l=$I.sqrDist(eR,e),c=Math.min(s,u);c=Math.min(c,l),3===o?(i=c,c=0):c-=i,this._triangleZList[a++]=c}}var f=this._sortedTriangleIndices;for(o=0;o<f.length;o++)f[o]=o;if(this.triangleCount<2e4)0===t&&this._simpleSort(!0);else for(o=0;o<3;o++)this._progressiveQuickSort(3*t+o);var h=this._indicesTmp,d=this._triangleZListTmp,p=this._triangleZList;for(o=0;o<this.triangleCount;o++){var g=3*f[o],m=3*o;h[m++]=n[g++],h[m++]=n[g++],h[m]=n[g],d[o]=p[f[o]]}var v=this._indicesTmp;this._indicesTmp=this.indices,this.indices=v;v=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=v,this.dirtyIndices()},_simpleSort:function(e){var t=this._triangleZList,n=this._sortedTriangleIndices;function r(e,n){return t[n]-t[e]}e?Array.prototype.sort.call(n,r):ZI.sort(n,r,0,n.length-1)},_progressiveQuickSort:function(e){var t=this._triangleZList,n=this._sortedTriangleIndices;this._quickSort=this._quickSort||new ZI,this._quickSort.step(n,(function(e,n){return t[n]-t[e]}),e)}};function nR(e){var t=e.getVisual("style");if(t){var n=e.getVisual("drawType");return t[n]}}function rR(e){var t=e.getVisual("style");return t.opacity}function iR(e,t){var n=e.getItemVisual(t,"style");if(n){var r=e.getVisual("drawType");return n[r]}}function aR(e,t){var n=e.getItemVisual(t,"style");return n&&n.opacity}var oR=1,sR=2;function uR(e,t,n){this._labelsMesh=new oP,this._labelTextureSurface=new WD({width:512,height:512,devicePixelRatio:n.getDevicePixelRatio(),onupdate:function(){n.getZr().refresh()}}),this._api=n,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}uR.prototype.getLabelPosition=function(e,t,n){return[0,0,0]},uR.prototype.getLabelDistance=function(e,t,n){return 0},uR.prototype.getMesh=function(){return this._labelsMesh},uR.prototype.updateData=function(e,t,n){null==t&&(t=0),null==n&&(n=e.count()),this._labelsVisibilitiesBits&&this._labelsVisibilitiesBits.length===n-t||(this._labelsVisibilitiesBits=new Uint8Array(n-t));for(var r=["label","show"],i=["emphasis","label","show"],a=t;a<n;a++){var o=e.getItemModel(a),s=o.get(r),u=o.get(i);null==u&&(u=s);var l=(s?oR:0)|(u?sR:0);this._labelsVisibilitiesBits[a-t]=l}this._start=t,this._end=n,this._data=e},uR.prototype.updateLabels=function(e){if(this._data){e=e||[];for(var t=e.length>0,n={},r=0;r<e.length;r++)n[e[r]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var i=["label"],a=["emphasis","label"],o=this._data.hostModel,u=this._data,l=o.getModel(i),c=o.getModel(a,l),f={left:"right",right:"left",top:"center",bottom:"center"},h={left:"middle",right:"middle",top:"bottom",bottom:"top"},d=this._start;d<this._end;d++){var p=!1;t&&n[d]&&(p=!0);var g=this._labelsVisibilitiesBits[d-this._start]&(p?sR:oR);if(g){var m=u.getItemModel(d),v=m.getModel(p?a:i,p?c:l),y=v.get("distance")||0,_=v.get("position"),b=this._api.getDevicePixelRatio(),x=o.getFormattedLabel(d,p?"emphasis":"normal");if(null==x||""===x)return;var w=new s.Text({style:Tf(v,{text:x,fill:v.get("color")||iR(u,d)||"#000",align:"left",verticalAlign:"top",opacity:wO.firstNotNull(v.get("opacity"),aR(u,d),1)})}),S=w.getBoundingRect(),T=1.2;S.height*=T;var E=this._labelTextureSurface.add(w),M=f[_]||"center",C=h[_]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(d,_,y),[S.width*b,S.height*b],E,M,C,this.getLabelDistance(d,_,y)*b)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}};var lR=uR,cR=BD.vec3;function fR(e){this.rootNode=new fD.Node,this._triangulationResults={},this._shadersMap=fD.COMMON_SHADERS.filter((function(e){return"shadow"!==e})).reduce((function(e,t){return e[t]=fD.createShader("ecgl."+t),e}),{}),this._linesShader=fD.createShader("ecgl.meshLines3D");var t={};fD.COMMON_SHADERS.forEach((function(e){t[e]=new fD.Material({shader:fD.createShader("ecgl."+e)})})),this._groundMaterials=t,this._groundMesh=new fD.Mesh({geometry:new fD.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new lR(512,512,e),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=e}fD.Shader["import"](hP),fR.prototype={constructor:fR,extrudeY:!0,update:function(e,t,n,r,i){var a=e.getData();null==r&&(r=0),null==i&&(i=a.count()),this._startIndex=r,this._endIndex=i-1,this._triangulation(e,r,i);var o=this._getShader(e.get("shading"));this._prepareMesh(e,o,n,r,i),this.rootNode.updateWorldTransform(),this._updateRegionMesh(e,n,r,i);var s=e.coordinateSystem;"geo3D"===s.type&&this._updateGroundPlane(e,s,n);var u=this;this._labelsBuilder.updateData(a,r,i),this._labelsBuilder.getLabelPosition=function(e,t,n){var r=a.getName(e),i=n;if("geo3D"===s.type){var o=s.getRegion(r);if(!o)return[NaN,NaN,NaN];f=o.center;var l=s.dataToPoint([f[0],f[1],i]);return l}var c=u._triangulationResults[e-u._startIndex],f=u.extrudeY?[(c.max[0]+c.min[0])/2,c.max[1]+i,(c.max[2]+c.min[2])/2]:[(c.max[0]+c.min[0])/2,(c.max[1]+c.min[1])/2,c.max[2]+i]},this._data=a,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(e),this._lastHoverDataIndex=0},_initMeshes:function(){var e=this;function t(){var t=new fD.Mesh({name:"Polygon",material:new fD.Material({shader:e._shadersMap.lambert}),geometry:new fD.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return Object.assign(t.geometry,tR),t}var n=t(),r=new fD.Mesh({material:new fD.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new UD({useNativeLine:!1})});this.rootNode.add(n),this.rootNode.add(r),n.material.define("both","VERTEX_COLOR"),n.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=n,this._linesMesh=r,this.rootNode.add(this._groundMesh)},_getShader:function(e){var t=this._shadersMap[e];return t||(t=this._shadersMap.lambert),t.__shading=e,t},_prepareMesh:function(e,t,n,r,i){for(var a=0,o=0,s=0,u=0,l=r;l<i;l++){var c=this._getRegionPolygonInfo(l),f=this._getRegionLinesInfo(l,e,this._linesMesh.geometry);a+=c.vertexCount,o+=c.triangleCount,s+=f.vertexCount,u+=f.triangleCount}var h=this._polygonMesh,d=h.geometry;["position","normal","texcoord0","color"].forEach((function(e){d.attributes[e].init(a)})),d.indices=a>65535?new Uint32Array(3*o):new Uint16Array(3*o),h.material.shader!==t&&h.material.attachShader(t,!0),fD.setMaterialFromModel(t.__shading,h.material,e,n),s>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(s),this._linesMesh.geometry.setTriangleCount(u)),this._dataIndexOfVertex=new Uint32Array(a),this._vertexRangeOfDataIndex=new Uint32Array(2*(i-r))},_updateRegionMesh:function(e,t,n,r){for(var i=e.getData(),a=0,o=0,s=!1,u=this._polygonMesh,l=this._linesMesh,c=n;c<r;c++){var f=e.getRegionModel(c),h=f.getModel("itemStyle"),d=wO.firstNotNull(iR(i,c),h.get("color"),"#fff"),p=wO.firstNotNull(aR(i,c),1),g=fD.parseColor(d),m=fD.parseColor(h.get("borderColor"));g[3]*=p,m[3]*=p;var v=g[3]<.99;u.material.set("color",[1,1,1,1]),s=s||v;for(var y=wO.firstNotNull(f.get("height",!0),e.get("regionHeight")),_=this._updatePolygonGeometry(e,u.geometry,c,y,a,o,g),b=a;b<_.vertexOffset;b++)this._dataIndexOfVertex[b]=c;this._vertexRangeOfDataIndex[2*(c-n)]=a,this._vertexRangeOfDataIndex[2*(c-n)+1]=_.vertexOffset,a=_.vertexOffset,o=_.triangleOffset;var x=h.get("borderWidth"),w=x>0;w&&(x*=t.getDevicePixelRatio(),this._updateLinesGeometry(l.geometry,e,c,y,x,e.coordinateSystem.transform)),l.invisible=!w,l.material.set({color:m})}u=this._polygonMesh;u.material.transparent=s,u.material.depthMask=!s,u.geometry.updateBoundingBox(),u.frontFace=this.extrudeY?fD.Mesh.CCW:fD.Mesh.CW,u.material.get("normalMap")&&u.geometry.generateTangents(),u.seriesIndex=e.seriesIndex,u.on("mousemove",this._onmousemove,this),u.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(e){var t=e.getModel("debug.wireframe");if(t.get("show")){var n=fD.parseColor(t.get("lineStyle.color")||"rgba(0,0,0,0.5)"),r=wO.firstNotNull(t.get("lineStyle.width"),1),i=this._polygonMesh;i.geometry.generateBarycentric(),i.material.define("both","WIREFRAME_TRIANGLE"),i.material.set("wireframeLineColor",n),i.material.set("wireframeLineWidth",r)}},_onmousemove:function(e){var t=this._dataIndexOfVertex[e.triangle[0]];null==t&&(t=-1),t!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(t),this._labelsBuilder.updateLabels([t])),this._lastHoverDataIndex=t,this._polygonMesh.dataIndex=t},_onmouseout:function(e){e.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(e,t,n){var r=e.getModel("groundPlane",e);if(this._groundMesh.invisible=!r.get("show",!0),!this._groundMesh.invisible){var i=e.get("shading"),a=this._groundMaterials[i];a||(a=this._groundMaterials.lambert),fD.setMaterialFromModel(i,a,r,n),a.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=a,this._groundMesh.material.set("color",fD.parseColor(r.get("color"))),this._groundMesh.scale.set(t.size[0],t.size[2],1)}},_triangulation:function(e,t,n){this._triangulationResults=[];for(var r=[1/0,1/0,1/0],i=[-1/0,-1/0,-1/0],a=e.coordinateSystem,o=t;o<n;o++){for(var s=[],u=e.getRegionPolygonCoords(o),l=0;l<u.length;l++){var c=u[l].exterior,f=u[l].interiors,h=[],d=[];if(!(c.length<3)){for(var p=0,g=0;g<c.length;g++){var m=c[g];h[p++]=m[0],h[p++]=m[1]}for(g=0;g<f.length;g++)if(!(f[g].length<3)){for(var v=h.length/2,y=0;y<f[g].length;y++){m=f[g][y];h.push(m[0]),h.push(m[1])}d.push(v)}var _=mI(h,d),b=new Float64Array(h.length/2*3),x=[],w=[1/0,1/0,1/0],S=[-1/0,-1/0,-1/0],T=0;for(g=0;g<h.length;)cR.set(x,h[g++],0,h[g++]),a&&a.transform&&cR.transformMat4(x,x,a.transform),cR.min(w,w,x),cR.max(S,S,x),b[T++]=x[0],b[T++]=x[1],b[T++]=x[2];cR.min(r,r,w),cR.max(i,i,S),s.push({points:b,indices:_,min:w,max:S})}}this._triangulationResults.push(s)}this._geoBoundingBox=[r,i]},_getRegionPolygonInfo:function(e){for(var t=this._triangulationResults[e-this._startIndex],n=0,r=0,i=0;i<t.length;i++)n+=t[i].points.length/3,r+=t[i].indices.length/3;var a=2*n+4*n,o=2*r+2*n;return{vertexCount:a,triangleCount:o}},_updatePolygonGeometry:function(e,t,n,r,i,a,o){var s=e.get("projectUVOnGround"),u=t.attributes.position,l=t.attributes.normal,c=t.attributes.texcoord0,f=t.attributes.color,h=this._triangulationResults[n-this._startIndex],d=f.value&&o,p=t.indices,g=this.extrudeY?1:2,m=this.extrudeY?2:1,v=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],y=cR.mul([],this._geoBoundingBox[0],v),_=cR.mul([],this._geoBoundingBox[1],v),b=Math.max(_[0]-y[0],_[2]-y[2]);function x(e,t,n){for(var r=e.points,a=r.length,s=[],l=[],h=0;h<a;h+=3)s[0]=r[h],s[g]=t,s[m]=r[h+2],l[0]=(r[h]*v[0]-y[0])/b,l[1]=(r[h+2]*v[m]-y[2])/b,u.set(i,s),d&&f.set(i,o),c.set(i++,l)}function w(e,t,n){var r=i;x(e,t,n);for(var o=e.indices.length,s=0;s<o;s++)p[3*a+s]=e.indices[s]+r;a+=e.indices.length/3}for(var S=this.extrudeY?[0,1,0]:[0,0,1],T=cR.negate([],S),E=0;E<h.length;E++){var M=i,C=h[E];w(C,0,0),w(C,r,0);for(var A=C.points.length/3,O=0;O<A;O++)l.set(M+O,T),l.set(M+O+A,S);var D=[0,3,1,1,3,2],P=[[],[],[],[]],L=[],I=[],R=[],k=[],N=0;for(O=0;O<A;O++){for(var F=(O+1)%A,B=(C.points[3*F]-C.points[3*O])*v[0],z=(C.points[3*F+2]-C.points[3*O+2])*v[m],j=Math.sqrt(B*B+z*z),H=0;H<4;H++){var U=0===H||3===H,V=3*(U?O:F);P[H][0]=C.points[V],P[H][g]=H>1?r:0,P[H][m]=C.points[V+2],u.set(i+H,P[H]),s?(k[0]=(C.points[V]*v[0]-y[0])/b,k[1]=(C.points[V+2]*v[m]-y[m])/b):(k[0]=(U?N:N+j)/b,k[1]=(P[H][g]*v[g]-y[g])/b),c.set(i+H,k)}cR.sub(L,P[1],P[0]),cR.sub(I,P[3],P[0]),cR.cross(R,L,I),cR.normalize(R,R);for(H=0;H<4;H++)l.set(i+H,R),d&&f.set(i+H,o);for(H=0;H<6;H++)p[3*a+H]=D[H]+i;i+=4,a+=2,N+=j}}return t.dirty(),{vertexOffset:i,triangleOffset:a}},_getRegionLinesInfo:function(e,t,n){var r=0,i=0,a=t.getRegionModel(e),o=a.getModel("itemStyle"),s=o.get("borderWidth");if(s>0){var u=t.getRegionPolygonCoords(e);u.forEach((function(e){var t=e.exterior,a=e.interiors;r+=n.getPolylineVertexCount(t),i+=n.getPolylineTriangleCount(t);for(var o=0;o<a.length;o++)r+=n.getPolylineVertexCount(a[o]),i+=n.getPolylineTriangleCount(a[o])}),this)}return{vertexCount:r,triangleCount:i}},_updateLinesGeometry:function(e,t,n,r,i,a){function o(e){for(var t=new Float64Array(3*e.length),n=0,i=[],o=0;o<e.length;o++)i[0]=e[o][0],i[1]=r+.1,i[2]=e[o][1],a&&cR.transformMat4(i,i,a),t[n++]=i[0],t[n++]=i[1],t[n++]=i[2];return t}var s=[1,1,1,1],u=t.getRegionPolygonCoords(n);u.forEach((function(t){var n=t.exterior,r=t.interiors;e.addPolyline(o(n),s,i);for(var a=0;a<r.length;a++)e.addPolyline(o(r[a]),s,i)}))},highlight:function(e){var t=this._data;if(t){var n=t.getItemModel(e),i=n.getModel(["emphasis","itemStyle"]),a=i.get("color"),o=wO.firstNotNull(i.get("opacity"),aR(t,e),1);if(null==a){var s=iR(t,e);a=r.lift(s,-.4)}null==o&&(o=aR(t,e));var u=fD.parseColor(a);u[3]*=o,this._setColorOfDataIndex(t,e,u)}},downplay:function(e){var t=this._data;if(t){var n=wO.firstNotNull(iR(t,e),t.getItemModel(e).get(["itemStyle","color"]),"#fff"),r=wO.firstNotNull(aR(t,e),1),i=fD.parseColor(n);i[3]*=r,this._setColorOfDataIndex(t,e,i)}},_setColorOfDataIndex:function(e,t,n){if(!(t<this._startIndex&&t>this._endIndex)){t-=this._startIndex;for(var r=this._vertexRangeOfDataIndex[2*t];r<this._vertexRangeOfDataIndex[2*t+1];r++)this._polygonMesh.geometry.attributes.color.set(r,n);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}};var hR=fR,dR=$g.extend({type:"geo3D",__ecgl__:!0,init:function(e,t){this._geo3DBuilder=new hR(t),this.groupGL=new fD.Node,this._lightRoot=new fD.Node,this._sceneHelper=new KD(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new kD({zr:t.getZr()}),this._control.init()},render:function(e,t,n){this.groupGL.add(this._geo3DBuilder.rootNode);var r=e.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this._lightRoot),e.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=e.getModel("viewControl");i.setFromViewControlModel(a,0),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._geo3DBuilder.update(e,t,n,0,e.getData().count());var o=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse((function(e){e.material&&e.material[o]("fragment","SRGB_DECODE")})),i.off("update"),i.on("update",(function(){n.dispatchAction({type:"geo3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),center:i.getCenter(),from:this.uid,geo3DId:e.id})})),i.update()}},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n)},dispose:function(){this._control.dispose()}}),pR={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]};function gR(e,t){if("china"===e){var n=pR[t.name];if(n){var r=t.center;r[0]+=n[0]/10.5,r[1]+=-n[1]/14}}}var mR={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function vR(e,t){if("world"===e){var n=mR[t.name];if(n){var r=t.center;r[0]=n[0],r[1]=n[1]}}}var yR=BD.vec3,_R=BD.mat4,bR=[gR,vR];function xR(e,t,n,r,i){this.name=e,this.map=t,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(n,r,i),this.transform=_R.identity(new Float64Array(16)),this.invTransform=_R.identity(new Float64Array(16)),this.extrudeY=!0,this.altitudeAxis}xR.prototype={constructor:xR,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(e,t,n){var r=sS||sS;try{this.regions=e?r(e):[]}catch(l){throw"Invalid geoJson format\n"+l}t=t||{},n=n||{};for(var i=this.regions,a={},o=0;o<i.length;o++){var s=i[o].name;s=n[s]||s,i[o].name=s,a[s]=i[o],this.addGeoCoord(s,i[o].center);var u=t[s];u&&i[o].transformTo(u.left,u.top,u.width,u.height)}this._regionsMap=a,this._geoRect=null,bR.forEach((function(e){e(this)}),this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var e,t=this.regions,n=0;n<t.length;n++){var r=t[n].getBoundingRect();e=e||r.clone(),e.union(r)}return this._geoRect=e||new s.BoundingRect(0,0,0,0)},addGeoCoord:function(e,t){this._nameCoordMap[e]=t},getRegion:function(e){return this._regionsMap[e]},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},setSize:function(e,t,n){this.size=[e,t,n];var r=this.getGeoBoundingRect(),i=e/r.width,a=-n/r.height,o=-e/2-r.x*i,s=n/2-r.y*a,u=this.extrudeY?[o,0,s]:[o,s,0],l=this.extrudeY?[i,1,a]:[i,a,1],c=this.transform;_R.identity(c),_R.translate(c,c,u),_R.scale(c,c,l),_R.invert(this.invTransform,c)},dataToPoint:function(e,t){t=t||[];var n=this.extrudeY?1:2,r=this.extrudeY?2:1,i=e[2];return isNaN(i)&&(i=0),t[0]=e[0],t[r]=e[1],this.altitudeAxis?t[n]=this.altitudeAxis.dataToCoord(i):t[n]=0,t[n]+=this.regionHeight,yR.transformMat4(t,t,this.transform),t},pointToData:function(e,t){}};var wR=xR;function SR(e,t){var n=e.getBoxLayoutParams(),r=rd(n,{width:t.getWidth(),height:t.getHeight()});r.y=t.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,t.getDevicePixelRatio());var i=this.getGeoBoundingRect(),a=i.width/i.height*(e.get("aspectScale")||.75),o=e.get("boxWidth"),s=e.get("boxDepth"),u=e.get("boxHeight");null==u&&(u=5),isNaN(o)&&isNaN(s)&&(o=100),isNaN(s)?s=o/a:isNaN(o)&&(o=s/a),this.setSize(o,u,s),this.regionHeight=e.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(u-this.regionHeight,0))}function TR(e,t){var n=[1/0,-1/0];if(e.eachSeries((function(e){if(e.coordinateSystem===this&&"series.map3D"!==e.type){var t=e.getData(),r=e.coordDimToDataDim("alt"),i=r&&r[0];if(i){var a=t.getDataExtent(i,!0);n[0]=Math.min(n[0],a[0]),n[1]=Math.max(n[1],a[1])}}}),this),n&&isFinite(n[1]-n[0])){var r=a.createScale(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new NS("altitude",r),this.resize(this.model,t)}}var ER=0,MR={dimensions:wR.prototype.dimensions,create:function(e,t){var n=[];if(!Ab)throw new Error("geo3D component depends on geo component");function r(e,r){var i=MR.createGeo3D(e);e.__viewGL=e.__viewGL||new YL,i.viewGL=e.__viewGL,e.coordinateSystem=i,i.model=e,n.push(i),i.resize=SR,i.resize(e,t),i.update=TR}return e.eachComponent("geo3D",(function(e,t){r(e,t)})),e.eachSeriesByType("map3D",(function(e,t){var n=e.get("coordinateSystem");null==n&&(n="geo3D"),"geo3D"===n&&r(e,t)})),e.eachSeries((function(t){if("geo3D"===t.get("coordinateSystem")){if("series.map3D"===t.type)return;var n=t.getReferringComponents("geo3D").models[0];if(n||(n=e.getComponent("geo3D")),!n)throw new Error('geo "'+wO.firstNotNull(t.get("geo3DIndex"),t.get("geo3DId"),0)+'" not found');t.coordinateSystem=n.coordinateSystem}})),n},createGeo3D:function(e){var t,n=e.get("map");return"string"===typeof n?(t=n,n=Ab(n)):n&&n.features&&(n={geoJson:n}),null==t&&(t="GEO_ANONYMOUS_"+ER++),new wR(t+ER++,t,n&&n.geoJson,n&&n.specialAreas,e.get("nameMap"))}},CR=MR;function AR(e){e.registerComponentModel(gI),e.registerComponentView(dR),e.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},(function(e,t){t.eachComponent({mainType:"geo3D",query:e},(function(t){t.setView(e)}))})),e.registerCoordinateSystem("geo3D",CR)}function OR(e,t){e.id=e.id||e.name||t+""}Jw(AR);var DR=fd.extend({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){DR.superApply(this,"init",arguments),l.each(this.option.layers,(function(e,t){l.merge(e,this.defaultLayerOption),OR(e,t)}),this)},mergeOption:function(e){var t=this.option.layers;function n(e){return l.reduce(e,(function(e,t,n){return OR(t,n),e[t.id]=t,e}),{})}if(this.option.layers=null,DR.superApply(this,"mergeOption",arguments),t&&t.length){var r=n(e.layers),i=n(t);for(var a in r)i[a]?l.merge(i[a],r[a],!0):t.push(e.layers[a]);this.option.layers=t}l.each(this.option.layers,(function(e){l.merge(e,this.defaultLayerOption)}),this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},atmosphere:{show:!1,offset:5,color:"#ffffff",glowPower:6,innerGlowPower:2},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(e,t,n){this.displacementData=e,this.displacementWidth=t,this.displacementHeight=n},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var e=this.getDisplacementTexture(),t=this.get("displacementScale");return e&&"none"!==e||(t=0),t},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var e=this.getDisplacementTexture(),t=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==e||this._displacementScale!==t,this._displacementTexture=e,this._displacementScale=t},isDisplacementChanged:function(){return this._displacementChanged}});l.merge(DR.prototype,MD),l.merge(DR.prototype,CD),l.merge(DR.prototype,AD),l.merge(DR.prototype,hI);var PR=DR,LR=Math.PI,IR=Math.sin,RR=Math.cos,kR=Math.tan,NR=Math.asin,FR=Math.atan2,BR=LR/180,zR=864e5,jR=2440588,HR=2451545;function UR(e){return e.valueOf()/zR-.5+jR}function VR(e){return UR(e)-HR}var GR=23.4397*BR;function WR(e,t){return FR(IR(e)*RR(GR)-kR(t)*IR(GR),RR(e))}function XR(e,t){return NR(IR(t)*RR(GR)+RR(t)*IR(GR)*IR(e))}function KR(e,t,n){return FR(IR(e),RR(e)*IR(t)-kR(n)*RR(t))}function qR(e,t,n){return NR(IR(t)*IR(n)+RR(t)*RR(n)*RR(e))}function YR(e,t){return BR*(280.16+360.9856235*e)-t}function ZR(e){return BR*(357.5291+.98560028*e)}function $R(e){var t=BR*(1.9148*IR(e)+.02*IR(2*e)+3e-4*IR(3*e)),n=102.9372*BR;return e+t+n+LR}function QR(e){var t=ZR(e),n=$R(t);return{dec:XR(n,0),ra:WR(n,0)}}var JR={getPosition:function(e,t,n){var r=BR*-n,i=BR*t,a=VR(e),o=QR(a),s=YR(a,r)-o.ra;return{azimuth:KR(s,i,o.dec),altitude:qR(s,i,o.dec)}}},ek=JR,tk="@export ecgl.atmosphere.vertex\nattribute vec3 position: POSITION;\nattribute vec3 normal : NORMAL;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 normalMatrix : WORLDINVERSETRANSPOSE;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n v_Normal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n\n\n@export ecgl.atmosphere.fragment\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform float glowPower;\nuniform vec3 glowColor;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n float intensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor = vec4(glowColor, intensity * intensity);\n}\n@end";fD.Shader["import"](YO),fD.Shader["import"](tk);var nk=$g.extend({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(e,t){this.groupGL=new fD.Node,this._sphereGeometry=new fD.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new fD.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new fD.PlaneGeometry,this._earthMesh=new fD.Mesh({renderNormal:!0}),this._atmosphereMesh=new fD.Mesh,this._atmosphereGeometry=new fD.SphereGeometry({widthSegments:80,heightSegments:40}),this._atmosphereMaterial=new fD.Material({shader:new fD.Shader(fD.Shader.source("ecgl.atmosphere.vertex"),fD.Shader.source("ecgl.atmosphere.fragment")),transparent:!0}),this._atmosphereMesh.geometry=this._atmosphereGeometry,this._atmosphereMesh.material=this._atmosphereMaterial,this._atmosphereMesh.frontFace=fD.Mesh.CW,this._lightRoot=new fD.Node,this._sceneHelper=new KD,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._atmosphereMesh),this.groupGL.add(this._earthMesh),this._control=new kD({zr:t.getZr()}),this._control.init(),this._layerMeshes={}},render:function(e,t,n){var r=e.coordinateSystem,i=e.get("shading");r.viewGL.add(this._lightRoot),e.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL),this._sceneHelper.setScene(r.viewGL.scene),r.viewGL.setPostEffect(e.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var a=this._earthMesh;a.geometry=this._sphereGeometry;var o="ecgl."+i;a.material&&a.material.shader.name===o||(a.material=fD.createMaterial(o)),fD.setMaterialFromModel(i,a.material,e,n),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach((function(e){var t=a.material.get(e);t&&(t.flipY=!1)})),a.material.set("color",fD.parseColor(e.get("baseColor")));var s=.99*r.radius;if(a.scale.set(s,s,s),e.get("atmosphere.show")){a.material.define("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!1,this._atmosphereMaterial.setUniforms({glowPower:e.get("atmosphere.glowPower")||6,glowColor:e.get("atmosphere.color")||"#ffffff"}),a.material.setUniforms({glowPower:e.get("atmosphere.innerGlowPower")||2,glowColor:e.get("atmosphere.color")||"#ffffff"});var u=e.get("atmosphere.offset")||5;this._atmosphereMesh.scale.set(s+u,s+u,s+u)}else a.material.undefine("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!0;var l=a.material.setTextureImage("diffuseMap",e.get("baseTexture"),n,{flipY:!1,anisotropic:8});l&&l.surface&&l.surface.attachToMesh(a);var c=a.material.setTextureImage("bumpMap",e.get("heightTexture"),n,{flipY:!1,anisotropic:8});c&&c.surface&&c.surface.attachToMesh(a),a.material[e.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(e,n),this._displaceVertices(e,n),this._updateViewControl(e,n),this._updateLayers(e,n)},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n)},_updateLayers:function(e,t){var n=e.coordinateSystem,r=e.get("layers"),i=n.radius,a=[],o=[],s=[],u=[];l.each(r,(function(e){var r=new Wf(e),l=r.get("type"),c=fD.loadTexture(r.get("texture"),t,{flipY:!1,anisotropic:8});if(c.surface&&c.surface.attachToMesh(this._earthMesh),"blend"===l){var f=r.get("blendTo"),h=wO.firstNotNull(r.get("intensity"),1);"emission"===f?(s.push(c),u.push(h)):(a.push(c),o.push(h))}else{var d=r.get("id"),p=this._layerMeshes[d];p||(p=this._layerMeshes[d]=new fD.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0}));var g=r.get("shading");"lambert"===g?(p.material=p.__lambertMaterial||new fD.Material({autoUpdateTextureStatus:!1,shader:fD.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),p.__lambertMaterial=p.material):(p.material=p.__colorMaterial||new fD.Material({autoUpdateTextureStatus:!1,shader:fD.createShader("ecgl.color"),transparent:!0,depthMask:!1}),p.__colorMaterial=p.material),p.material.enableTexture("diffuseMap");var m=r.get("distance"),v=i+(null==m?n.radius/100:m);p.scale.set(v,v,v),i=v;var y=this._blankTexture||(this._blankTexture=fD.createBlankTexture("rgba(255, 255, 255, 0)"));p.material.set("diffuseMap",y),fD.loadTexture(r.get("texture"),t,{flipY:!1,anisotropic:8},(function(e){e.surface&&e.surface.attachToMesh(p),p.material.set("diffuseMap",e),t.getZr().refresh()})),r.get("show")?this.groupGL.add(p):this.groupGL.remove(p)}}),this);var c=this._earthMesh.material;c.define("fragment","LAYER_DIFFUSEMAP_COUNT",a.length),c.define("fragment","LAYER_EMISSIVEMAP_COUNT",s.length),c.set("layerDiffuseMap",a),c.set("layerDiffuseIntensity",o),c.set("layerEmissiveMap",s),c.set("layerEmissionIntensity",u);var f=e.getModel("debug.wireframe");if(f.get("show")){c.define("both","WIREFRAME_TRIANGLE");var h=fD.parseColor(f.get("lineStyle.color")||"rgba(0,0,0,0.5)"),d=wO.firstNotNull(f.get("lineStyle.width"),1);c.set("wireframeLineWidth",d),c.set("wireframeLineColor",h)}else c.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(e,t){var n=e.coordinateSystem,r=e.getModel("viewControl"),i=(n.viewGL.camera,this);function a(){return{type:"globeChangeCamera",alpha:o.getAlpha(),beta:o.getBeta(),distance:o.getDistance()-n.radius,center:o.getCenter(),from:i.uid,globeId:e.id}}var o=this._control;o.setViewGL(n.viewGL);var s,u,l=r.get("targetCoord");null!=l&&(u=l[0]+90,s=l[1]),o.setFromViewControlModel(r,{baseDistance:n.radius,alpha:s,beta:u}),o.off("update"),o.on("update",(function(){t.dispatchAction(a())}))},_displaceVertices:function(e,t){var n=e.get("displacementQuality"),r=e.get("debug.wireframe.show"),i=e.coordinateSystem;if(e.isDisplacementChanged()||n!==this._displacementQuality||r!==this._showDebugWireframe){this._displacementQuality=n,this._showDebugWireframe=r;var a=this._sphereGeometry,o={low:100,medium:200,high:400,ultra:800}[n]||200,s=o/2;(a.widthSegments!==o||r)&&(a.widthSegments=o,a.heightSegments=s,a.build()),this._doDisplaceVertices(a,i),r&&a.generateBarycentric()}},_doDisplaceVertices:function(e,t){var n=e.attributes.position.value,r=e.attributes.texcoord0.value,i=e.__originalPosition;i&&i.length===n.length||(i=new Float32Array(n.length),i.set(n),e.__originalPosition=i);for(var a=t.displacementWidth,o=t.displacementHeight,s=t.displacementData,u=0;u<e.vertexCount;u++){var l=3*u,c=2*u,f=i[l+1],h=i[l+2],d=i[l+3],p=r[c++],g=r[c++],m=Math.round(p*(a-1)),v=Math.round(g*(o-1)),y=v*a+m,_=s?s[y]:0;n[l+1]=f+f*_,n[l+2]=h+h*_,n[l+3]=d+d*_}e.generateVertexNormals(),e.dirty(),e.updateBoundingBox()},_updateLight:function(e,t){var n=this._earthMesh;this._sceneHelper.updateLight(e);var r=this._sceneHelper.mainLight,i=e.get("light.main.time")||new Date,a=ek.getPosition(o.parseDate(i),0,0),s=Math.cos(a.altitude);r.position.y=-s*Math.cos(a.azimuth),r.position.x=Math.sin(a.altitude),r.position.z=s*Math.sin(a.azimuth),r.lookAt(n.getWorldPosition())},dispose:function(e,t){this.groupGL.removeAll(),this._control.dispose()}}),rk=BD.vec3;function ik(e){this.radius=e,this.viewGL=null,this.altitudeAxis,this.displacementData=null,this.displacementWidth,this.displacementHeight}ik.prototype={constructor:ik,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(e,t,n){this.displacementData=e,this.displacementWidth=t,this.displacementHeight=n},_getDisplacementScale:function(e,t){var n=(e+180)/360*(this.displacementWidth-1),r=(90-t)/180*(this.displacementHeight-1),i=Math.round(n)+Math.round(r)*this.displacementWidth;return this.displacementData[i]},dataToPoint:function(e,t){var n=e[0],r=e[1],i=e[2]||0,a=this.radius;this.displacementData&&(a*=1+this._getDisplacementScale(n,r)),this.altitudeAxis&&(a+=this.altitudeAxis.dataToCoord(i)),n=n*Math.PI/180,r=r*Math.PI/180;var o=Math.cos(r)*a;return t=t||[],t[0]=-o*Math.cos(n+Math.PI),t[1]=Math.sin(r)*a,t[2]=o*Math.sin(n+Math.PI),t},pointToData:function(e,t){var n=e[0],r=e[1],i=e[2],a=rk.len(e);n/=a,r/=a,i/=a;var o=Math.asin(r),s=Math.atan2(i,-n);s<0&&(s=2*Math.PI+s);var u=180*o/Math.PI,l=180*s/Math.PI-180;return t=t||[],t[0]=l,t[1]=u,t[2]=a-this.radius,this.altitudeAxis&&(t[2]=this.altitudeAxis.coordToData(t[2])),t}};var ak=ik;function ok(e,t){var n=document.createElement("canvas"),r=n.getContext("2d"),i=e.width,a=e.height;n.width=i,n.height=a,r.drawImage(e,0,0,i,a);for(var o=r.getImageData(0,0,i,a).data,s=new Float32Array(o.length/4),u=0;u<o.length/4;u++){var l=o[4*u];s[u]=l/255*t}return{data:s,width:i,height:a}}function sk(e,t){var n=e.getBoxLayoutParams(),r=rd(n,{width:t.getWidth(),height:t.getHeight()});r.y=t.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,t.getDevicePixelRatio()),this.radius=e.get("globeRadius");var i=e.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,i-this.radius)}function uk(e,t){var n=[1/0,-1/0];if(e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData(),r=e.coordDimToDataDim("alt"),i=r&&r[0];if(i){var a=t.getDataExtent(i,!0);n[0]=Math.min(n[0],a[0]),n[1]=Math.max(n[1],a[1])}}}),this),n&&isFinite(n[1]-n[0])){var r=a.createScale(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new NS("altitude",r),this.resize(this.model,t)}}var lk={dimensions:ak.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("globe",(function(e){e.__viewGL=e.__viewGL||new YL;var r=new ak;r.viewGL=e.__viewGL,e.coordinateSystem=r,r.model=e,n.push(r),r.resize=sk,r.resize(e,t),r.update=uk})),e.eachSeries((function(t){if("globe"===t.get("coordinateSystem")){var n=t.getReferringComponents("globe").models[0];if(n||(n=e.getComponent("globe")),!n)throw new Error('globe "'+wO.firstNotNull(t.get("globe3DIndex"),t.get("globe3DId"),0)+'" not found');var r=n.coordinateSystem;t.coordinateSystem=r}})),e.eachComponent("globe",(function(e,n){var r=e.coordinateSystem,i=e.getDisplacementTexture(),a=e.getDisplacemenScale();if(e.isDisplacementChanged()){if(e.hasDisplacement()){var o=!0;fD.loadTexture(i,t,(function(n){var r=n.image,i=ok(r,a);e.setDisplacementData(i.data,i.width,i.height),o||t.dispatchAction({type:"globeUpdateDisplacment"})})),o=!1}else r.setDisplacementData(null,0,0);r.setDisplacementData(e.displacementData,e.displacementWidth,e.displacementHeight)}})),n}},ck=lk;function fk(e){e.registerComponentModel(PR),e.registerComponentView(nk),e.registerCoordinateSystem("globe",ck),e.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},(function(e,t){t.eachComponent({mainType:"globe",query:e},(function(t){t.setView(e)}))})),e.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},(function(e,t){}))}Jw(fk);var hk=["zoom","center","pitch","bearing"],dk=fd.extend({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var e=this;return hk.reduce((function(t,n){return t[n]=e.get(n),t}),{})},setMapboxCameraOption:function(e){null!=e&&hk.forEach((function(t){null!=e[t]&&(this.option[t]=e[t])}),this)},getMapbox:function(){return this._mapbox},setMapbox:function(e){this._mapbox=e}});l.merge(dk.prototype,CD),l.merge(dk.prototype,AD);var pk=dk;function gk(e,t){if(this.id=e,this.zr=t,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}gk.prototype.resize=function(){this._mapbox.resize()},gk.prototype.getMapbox=function(){return this._mapbox},gk.prototype.clear=function(){},gk.prototype.refresh=function(){this._mapbox.resize()};var mk=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];gk.prototype._initEvents=function(){var e=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(e){return e.preventDefault(),!1}},mk.forEach((function(t){this._handlers[t]=function(t){var n={};for(var r in t)n[r]=t[r];n.bubbles=!1;var i=new t.constructor(t.type,n);e.dispatchEvent(i)},this.zr.dom.addEventListener(t,this._handlers[t])}),this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},gk.prototype.dispose=function(){mk.forEach((function(e){this.zr.dom.removeEventListener(e,this._handlers[e])}),this)};var vk=gk,yk="\n@export ecgl.displayShadow.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_WorldPosition;\n\nvarying vec3 v_Normal;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n\n@end\n\n\n@export ecgl.displayShadow.fragment\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform float roughness: 0.2;\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.ssaoMap.header\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n float shadow = 1.0;\n\n @import ecgl.common.ssaoMap.main\n\n#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {\n shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);\n }\n#endif\n\n shadow *= 0.5 + ao * 0.5;\n shadow = clamp(shadow, 0.0, 1.0);\n\n gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);\n}\n\n@end";fD.Shader["import"](yk);var _k=$g.extend({type:"mapbox3D",__ecgl__:!0,init:function(e,t){var n=t.getZr();this._zrLayer=new vk("mapbox3D",n),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new fD.Node,this._sceneHelper=new KD(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMapbox(),i=this._dispatchInteractAction.bind(this,t,r);["zoom","rotate","drag","pitch","rotate","move"].forEach((function(e){r.on(e,i)})),this._groundMesh=new fD.Mesh({geometry:new fD.PlaneGeometry,material:new fD.Material({shader:new fD.Shader({vertex:fD.Shader.source("ecgl.displayShadow.vertex"),fragment:fD.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(e,t,n){var r=this._zrLayer.getMapbox(),i=e.get("style"),a=JSON.stringify(i);a!==this._oldStyleStr&&i&&r.setStyle(i),this._oldStyleStr=a,r.setCenter(e.get("center")),r.setZoom(e.get("zoom")),r.setPitch(e.get("pitch")),r.setBearing(e.get("bearing")),e.setMapbox(r);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel("postEffect"),n),o.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._mapbox3DModel=e},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n),e.coordinateSystem.viewGL.scene.traverse((function(e){e.material&&(e.material.define("fragment","NORMAL_UP_AXIS",2),e.material.define("fragment","NORMAL_FRONT_AXIS",1))}))},updateCamera:function(e,t,n,r){e.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(e,t,n){e.dispatchAction({type:"mapbox3DChangeCamera",pitch:t.getPitch(),zoom:t.getZoom(),center:t.getCenter().toArray(),bearing:t.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var e=this._mapbox3DModel.coordinateSystem,t=e.dataToPoint(e.center);this._groundMesh.position.set(t[0],t[1],-.001);var n=new fD.Plane(new fD.Vector3(0,0,1),0),r=e.viewGL.camera.castRay(new fD.Vector2(-1,-1)),i=e.viewGL.camera.castRay(new fD.Vector2(1,1)),a=r.intersectPlane(n),o=i.intersectPlane(n),s=a.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(e,t){this._zrLayer&&this._zrLayer.dispose(),t.getZr().painter.delLayer(-1e3)}}),bk=BD.mat4,xk=512,wk=.6435011087932844,Sk=Math.PI,Tk=.1;function Ek(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.altitudeExtent,this.bearing=0,this.pitch=0,this.center=[0,0],this._origin,this.zoom=0,this._initialZoom,this.maxPitch=60,this.zoomOffset=0}Ek.prototype={constructor:Ek,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(e){this.bearing=e.bearing,this.pitch=e.pitch,this.center=e.center,this.zoom=e.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,xk)),null==this._initialZoom&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var e=.5/Math.tan(wk/2)*this.height*Tk,t=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,n=wk/2,r=Math.PI/2+t,i=Math.sin(n)*e/Math.sin(Math.PI-r-n),a=Math.cos(Math.PI/2-t)*i+e,o=1.1*a;this.pitch>50&&(o=1e3);var s=[];bk.perspective(s,wk,this.width/this.height,1,o),this.viewGL.camera.projectionMatrix.setArray(s),this.viewGL.camera.decomposeProjectionMatrix();s=bk.identity([]);var u=this.dataToPoint(this.center);bk.scale(s,s,[1,-1,1]),bk.translate(s,s,[0,0,-e]),bk.rotateX(s,s,t),bk.rotateZ(s,s,-this.bearing/180*Math.PI),bk.translate(s,s,[-u[0]*this.getScale()*Tk,-u[1]*this.getScale()*Tk,0]),this.viewGL.camera.viewMatrix.array=s;var l=[];bk.invert(l,s),this.viewGL.camera.worldTransform.array=l,this.viewGL.camera.decomposeWorldTransform();var c,f=xk*this.getScale();if(this.altitudeExtent&&!isNaN(this.boxHeight)){var h=this.altitudeExtent[1]-this.altitudeExtent[0];c=this.boxHeight/h*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset)}else c=f/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*Tk;this.viewGL.rootNode.scale.set(this.getScale()*Tk,this.getScale()*Tk,c)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(e,t){return this.projectOnTileWithScale(e,this.getScale()*xk,t)},projectOnTileWithScale:function(e,t,n){var r=e[0],i=e[1],a=r*Sk/180,o=i*Sk/180,s=t*(a+Sk)/(2*Sk),u=t*(Sk-Math.log(Math.tan(Sk/4+.5*o)))/(2*Sk);return n=n||[],n[0]=s,n[1]=u,n},unprojectFromTile:function(e,t){return this.unprojectOnTileWithScale(e,this.getScale()*xk,t)},unprojectOnTileWithScale:function(e,t,n){var r=e[0],i=e[1],a=r/t*(2*Sk)-Sk,o=2*(Math.atan(Math.exp(Sk-i/t*(2*Sk)))-Sk/4);return n=n||[],n[0]=180*a/Sk,n[1]=180*o/Sk,n},dataToPoint:function(e,t){return t=this.projectOnTileWithScale(e,xk,t),t[0]-=this._origin[0],t[1]-=this._origin[1],t[2]=isNaN(e[2])?0:e[2],isNaN(e[2])||(t[2]=e[2],this.altitudeExtent&&(t[2]-=this.altitudeExtent[0])),t}};var Mk=Ek;function Ck(){Mk.apply(this,arguments)}Ck.prototype=new Mk,Ck.prototype.constructor=Ck,Ck.prototype.type="mapbox3D";var Ak=Ck,Ok=function(e,t,n){function r(e,t){var n=t.getWidth(),r=t.getHeight(),i=t.getDevicePixelRatio();this.viewGL.setViewport(0,0,n,r,i),this.width=n,this.height=r,this.altitudeScale=e.get("altitudeScale"),this.boxHeight=e.get("boxHeight")}function i(e,t){if("auto"!==this.model.get("boxHeight")){var n=[1/0,-1/0];e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData(),r=e.coordDimToDataDim("alt")[0];if(r){var i=t.getDataExtent(r,!0);n[0]=Math.min(n[0],i[0]),n[1]=Math.max(n[1],i[1])}}}),this),n&&isFinite(n[1]-n[0])&&(this.altitudeExtent=n)}}return{dimensions:t.prototype.dimensions,create:function(a,o){var s=[];return a.eachComponent(e,(function(e){var n=e.__viewGL;n||(n=e.__viewGL=new YL,n.setRootNode(new fD.Node));var a=new t;a.viewGL=e.__viewGL,a.resize=r,a.resize(e,o),s.push(a),e.coordinateSystem=a,a.model=e,a.update=i})),a.eachSeries((function(t){if(t.get("coordinateSystem")===e){var n=t.getReferringComponents(e).models[0];if(n||(n=a.getComponent(e)),!n)throw new Error(e+' "'+wO.firstNotNull(t.get(e+"Index"),t.get(e+"Id"),0)+'" not found');t.coordinateSystem=n.coordinateSystem}})),n&&n(s,a,o),s}}},Dk=Ok("mapbox3D",Ak,(function(e){e.forEach((function(e){e.setCameraOption(e.model.getMapboxCameraOption())}))})),Pk=Dk;function Lk(e){e.registerComponentModel(pk),e.registerComponentView(_k),e.registerCoordinateSystem("mapbox3D",Pk),e.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},(function(e,t){t.eachComponent({mainType:"mapbox3D",query:e},(function(t){t.setMapboxCameraOption(e)}))}))}Jw(Lk);var Ik=["zoom","center","pitch","bearing"],Rk=fd.extend({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var e=this;return Ik.reduce((function(t,n){return t[n]=e.get(n),t}),{})},setMaptalksCameraOption:function(e){null!=e&&Ik.forEach((function(t){null!=e[t]&&(this.option[t]=e[t])}),this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(e){this._maptalks=e}});l.merge(Rk.prototype,CD),l.merge(Rk.prototype,AD);var kk=Rk;function Nk(e,t,n,r){if(this.id=e,this.zr=t,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:n,zoom:r,doubleClickZoom:!1,fog:!1}),this._initEvents()}Nk.prototype.resize=function(){this._maptalks.checkSize()},Nk.prototype.getMaptalks=function(){return this._maptalks},Nk.prototype.clear=function(){},Nk.prototype.refresh=function(){this._maptalks.checkSize()};var Fk=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];Nk.prototype._initEvents=function(){var e=this.dom;this._handlers=this._handlers||{contextmenu:function(e){return e.preventDefault(),!1}},Fk.forEach((function(t){this._handlers[t]=function(n){var r={};for(var i in n)r[i]=n[i];r.bubbles=!1;var a=new n.constructor(n.type,r);"mousewheel"===t||"DOMMouseScroll"===t?e.dispatchEvent(a):e.firstElementChild.dispatchEvent(a)},this.zr.dom.addEventListener(t,this._handlers[t])}),this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},Nk.prototype.dispose=function(){Fk.forEach((function(e){this.zr.dom.removeEventListener(e,this._handlers[e])}),this),this._maptalks.remove()};var Bk=Nk;fD.Shader["import"](yk);var zk=$g.extend({type:"maptalks3D",__ecgl__:!0,init:function(e,t){this._groundMesh=new fD.Mesh({geometry:new fD.PlaneGeometry,material:new fD.Material({shader:new fD.Shader({vertex:fD.Shader.source("ecgl.displayShadow.vertex"),fragment:fD.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(e,t){var n=t.getZr();this._zrLayer=new Bk("maptalks3D",n,e.get("center"),e.get("zoom")),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new fD.Node,this._sceneHelper=new KD(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMaptalks(),i=this._dispatchInteractAction.bind(this,t,r);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend","animating"].forEach((function(e){r.on(e,i)}))},render:function(e,t,n){this._zrLayer||this._initMaptalksLayer(e,n);var r=this._zrLayer.getMaptalks(),i=e.get("urlTemplate"),a=r.getBaseLayer();i!==this._oldUrlTemplate&&(a?a.setOptions({urlTemplate:i,attribution:e.get("attribution")}):(a=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:i,subdomains:["a","b","c"],attribution:e.get("attribution")}),r.setBaseLayer(a))),this._oldUrlTemplate=i,r.setCenter(e.get("center")),r.setZoom(e.get("zoom"),{animation:!1}),r.setPitch(e.get("pitch")),r.setBearing(e.get("bearing")),e.setMaptalks(r);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel("postEffect"),n),o.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._maptalks3DModel=e},afterRender:function(e,t,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n),e.coordinateSystem.viewGL.scene.traverse((function(e){e.material&&(e.material.define("fragment","NORMAL_UP_AXIS",2),e.material.define("fragment","NORMAL_FRONT_AXIS",1))}))},updateCamera:function(e,t,n,r){e.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(e,t,n){e.dispatchAction({type:"maptalks3DChangeCamera",pitch:t.getPitch(),zoom:Hk(t.getResolution())+1,center:t.getCenter().toArray(),bearing:t.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var e=this._maptalks3DModel.coordinateSystem,t=e.dataToPoint(e.center);this._groundMesh.position.set(t[0],t[1],-.001);var n=new fD.Plane(new fD.Vector3(0,0,1),0),r=e.viewGL.camera.castRay(new fD.Vector2(-1,-1)),i=e.viewGL.camera.castRay(new fD.Vector2(1,1)),a=r.intersectPlane(n),o=i.intersectPlane(n),s=a.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(e,t){this._zrLayer&&this._zrLayer.dispose(),t.getZr().painter.delLayer(-1e3)}}),jk=12756274*Math.PI/(256*Math.pow(2,20));function Hk(e){return 19-Math.log(e/jk)/Math.LN2}function Uk(){Mk.apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}Uk.prototype=new Mk,Uk.prototype.constructor=Uk,Uk.prototype.type="maptalks3D";var Vk=Uk,Gk=Ok("maptalks3D",Vk,(function(e){e.forEach((function(e){e.setCameraOption(e.model.getMaptalksCameraOption())}))})),Wk=Gk;function Xk(e){e.registerComponentModel(kk),e.registerComponentView(zk),e.registerCoordinateSystem("maptalks3D",Wk),e.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},(function(e,t){t.eachComponent({mainType:"maptalks3D",query:e},(function(t){t.setMaptalksCameraOption(e)}))}))}Jw(Xk);var Kk=BD.vec3,qk=a.dataStack.isDimensionStacked;function Yk(e){var t=e[0],n=e[1];return!(t>0&&n>0||t<0&&n<0)}function Zk(e,t){var n=e.getData(),r=e.get("barSize");if(null==r){var i,a,o=t.size,s=t.getAxis("x"),u=t.getAxis("y");i="category"===s.type?.7*s.getBandWidth():.6*Math.round(o[0]/Math.sqrt(n.count())),a="category"===u.type?.7*u.getBandWidth():.6*Math.round(o[1]/Math.sqrt(n.count())),r=[i,a]}else l.isArray(r)||(r=[r,r]);var c=t.getAxis("z").scale.getExtent(),f=Yk(c),h=["x","y","z"].map((function(t){return e.coordDimToDataDim(t)[0]})),d=qk(n,h[2]),p=d?n.getCalculationInfo("stackResultDimension"):h[2];n.each(h,(function(e,i,a,o){var s=n.get(p,o),u=d?s-a:f?0:c[0],l=t.dataToPoint([e,i,u]),h=t.dataToPoint([e,i,s]),g=Kk.dist(l,h),m=[0,h[1]<l[1]?-1:1,0];0===Math.abs(g)&&(g=.1);var v=[r[0],g,r[1]];n.setItemLayout(o,[l,m,v])})),n.setLayout("orient",[1,0,0])}var $k=Zk,Qk=function(e,t,n){for(var r=e.getDataExtent(t),i=e.getDataExtent(n),a=r[1]-r[0]||r[0],o=i[1]-i[0]||i[0],s=50,u=new Uint8Array(s*s),l=0;l<e.count();l++){var c=e.get(t,l),f=e.get(n,l),h=Math.floor((c-r[0])/a*(s-1)),d=Math.floor((f-i[0])/o*(s-1)),p=d*s+h;u[p]=u[p]||1}var g=0;for(l=0;l<u.length;l++)u[l]&&g++;return g/u.length},Jk=BD.vec3,eN=a.dataStack.isDimensionStacked;function tN(e,t){var n=e.getData(),r=e.get("minHeight")||0,i=e.get("barSize"),a=["lng","lat","alt"].map((function(t){return e.coordDimToDataDim(t)[0]}));if(null==i){var o=t.radius*Math.PI,s=Qk(n,a[0],a[1]);i=[o/Math.sqrt(n.count()/s),o/Math.sqrt(n.count()/s)]}else l.isArray(i)||(i=[i,i]);var u=iN(n,a);n.each(a,(function(e,a,o,s){var l=n.get(u.dimension,s),c=u.isStacked?l-o:t.altitudeAxis.scale.getExtent()[0],f=Math.max(t.altitudeAxis.dataToCoord(o),r),h=t.dataToPoint([e,a,c]),d=t.dataToPoint([e,a,l]),p=Jk.sub([],d,h);Jk.normalize(p,p);var g=[i[0],f,i[1]];n.setItemLayout(s,[h,p,g])})),n.setLayout("orient",uM.UP.array)}function nN(e,t){var n=e.getData(),r=e.get("barSize"),i=e.get("minHeight")||0,a=["lng","lat","alt"].map((function(t){return e.coordDimToDataDim(t)[0]}));if(null==r){var o=Math.min(t.size[0],t.size[2]),s=Qk(n,a[0],a[1]);r=[o/Math.sqrt(n.count()/s),o/Math.sqrt(n.count()/s)]}else l.isArray(r)||(r=[r,r]);var u=[0,1,0],c=iN(n,a);n.each(a,(function(e,a,o,s){var l=n.get(c.dimension,s),f=c.isStacked?l-o:t.altitudeAxis.scale.getExtent()[0],h=Math.max(t.altitudeAxis.dataToCoord(o),i),d=t.dataToPoint([e,a,f]),p=[r[0],h,r[1]];n.setItemLayout(s,[d,u,p])})),n.setLayout("orient",[1,0,0])}function rN(e,t){var n=e.getData(),r=e.coordDimToDataDim("lng")[0],i=e.coordDimToDataDim("lat")[0],a=e.coordDimToDataDim("alt")[0],o=e.get("barSize"),s=e.get("minHeight")||0;if(null==o){var u=n.getDataExtent(r),c=n.getDataExtent(i),f=t.dataToPoint([u[0],c[0]]),h=t.dataToPoint([u[1],c[1]]),d=Math.min(Math.abs(f[0]-h[0]),Math.abs(f[1]-h[1]))||1,p=Qk(n,r,i);o=[d/Math.sqrt(n.count()/p),d/Math.sqrt(n.count()/p)]}else l.isArray(o)||(o=[o,o]),o[0]/=t.getScale()/16,o[1]/=t.getScale()/16;var g=[0,0,1],m=[r,i,a],v=iN(n,m);n.each(m,(function(e,r,i,a){var u=n.get(v.dimension,a),l=v.isStacked?u-i:0,c=t.dataToPoint([e,r,l]),f=t.dataToPoint([e,r,u]),h=Math.max(f[2]-c[2],s),d=[o[0],h,o[1]];n.setItemLayout(a,[c,g,d])})),n.setLayout("orient",[1,0,0])}function iN(e,t){var n=eN(e,t[2]);return{dimension:n?e.getCalculationInfo("stackResultDimension"):t[2],isStacked:n}}function aN(e){e.registerLayout((function(e,t){e.eachSeriesByType("bar3D",(function(e){var t=e.coordinateSystem,n=t&&t.type;"globe"===n?tN(e,t):"cartesian3D"===n?$k(e,t):"geo3D"===n?nN(e,t):("mapbox3D"===n||"maptalks3D"===n)&&rN(e,t)}))}))}var oN={getFormattedLabel:function(e,t,n,r,i){n=n||"normal";var a=e.getData(r),o=a.getItemModel(t),s=e.getDataParams(t,r);null!=i&&s.value instanceof Array&&(s.value=s.value[i]);var l,c=o.get("normal"===n?["label","formatter"]:["emphasis","label","formatter"]);return null==c&&(c=o.get(["label","formatter"])),"function"===typeof c?(s.status=n,l=c(s)):"string"===typeof c&&(l=u.formatTpl(c,s)),l},normalizeToArray:function(e){return e instanceof Array?e:null==e?[]:[e]}},sN=oN;function uN(e,t){var n=[];return l.each(e.dimensions,(function(r){var i=e.getDimensionInfo(r),a=i.otherDims,o=a[t];null!=o&&!1!==o&&(n[o]=i.name)})),n}var lN=function(e,t,n){function r(e){var r=!0,a=[],o=uN(i,"tooltip");function s(e,t){var o=i.getDimensionInfo(t);if(o&&!1!==o.otherDims.tooltip){var s=o.type,l=(r?"- "+(o.tooltipName||o.name)+": ":"")+("ordinal"===s?e+"":"time"===s?n?"":u.formatTime("yyyy/MM/dd hh:mm:ss",e):u.addCommas(e));l&&a.push(u.encodeHTML(l))}}return o.length?l.each(o,(function(e){s(i.get(e,t),e)})):l.each(e,s),(r?"<br/>":"")+a.join(r?"<br/>":", ")}var i=e.getData(),a=e.getRawValue(t),o=l.isArray(a)?r(a):u.encodeHTML(u.addCommas(a)),s=i.getName(t),c=iR(i,t);l.isObject(c)&&c.colorStops&&(c=(c.colorStops[0]||{}).color),c=c||"transparent";var f=u.getTooltipMarker(c),h=e.name;return"\0-"===h&&(h=""),h=h?u.encodeHTML(h)+(n?": ":"<br/>"):"",n?f+h+o:h+f+(s?u.encodeHTML(s)+": "+o:o)},cN=function(e,t,n){n=n||e.getSource();var r=t||xb(e.get("coordinateSystem"))||["x","y","z"],i=a.createDimensions(n,{dimensionsDefine:n.dimensionsDefine||e.get("dimensions"),encodeDefine:n.encodeDefine||e.get("encode"),coordDimensions:r.map((function(t){var n=e.getReferringComponents(t+"Axis3D").models[0];return{type:n&&"category"===n.get("type")?"ordinal":"float",name:t}}))});"cartesian3D"===e.get("coordinateSystem")&&i.forEach((function(t){if(r.indexOf(t.coordDim)>=0){var n=e.getReferringComponents(t.coordDim+"Axis3D").models[0];n&&"category"===n.get("type")&&(t.ordinalMeta=n.getOrdinalMeta())}}));var o=a.dataStack.enableDataStack(e,i,{byIndex:!0,stackedCoordDimension:"z"}),s=new dx(i,e);return s.setCalculationInfo(o),s.initData(n),s},fN=Yg.extend({type:"series.bar3D",dependencies:["globe"],visualStyleAccessPathvisu:"itemStyle",getInitialData:function(e,t){return cN(this)},getFormattedLabel:function(e,t,n,r){var i=sN.getFormattedLabel(this,e,t,n,r);return null==i&&(i=this.getData().get("z",e)),i},formatTooltip:function(e){return lN(this,e)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});l.merge(fN.prototype,hI);var hN=fN,dN=BD.vec3,pN=BD.mat3,gN=lC.extend((function(){return{attributes:{position:new lC.Attribute("position","float",3,"POSITION"),normal:new lC.Attribute("normal","float",3,"NORMAL"),color:new lC.Attribute("color","float",4,"COLOR"),prevPosition:new lC.Attribute("prevPosition","float",3),prevNormal:new lC.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(e){var t=this.enableNormal,n=this.getBarVertexCount()*e,r=this.getBarTriangleCount()*e;this.vertexCount!==n&&(this.attributes.position.init(n),t?this.attributes.normal.init(n):this.attributes.normal.value=null,this.attributes.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r),this._dataIndices=new Uint32Array(n))},getBarVertexCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarVertexCount(e):this.enableNormal?24:8},getBarTriangleCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarTriangleCount(e):12},_getBevelBarVertexCount:function(e){return 4*(e+1)*(e+1)*2},_getBevelBarTriangleCount:function(e){var t=4*e+3,n=2*e+1;return(t+1)*n*2+4},setColor:function(e,t){for(var n=this.getBarVertexCount(),r=n*e,i=n*(e+1),a=r;a<i;a++)this.attributes.color.set(a,t);this.dirtyAttribute("color")},getDataIndexOfVertex:function(e){return this._dataIndices?this._dataIndices[e]:null},addBar:function(){for(var e=dN.create,t=dN.scaleAndAdd,n=e(),r=e(),i=e(),a=e(),o=e(),s=e(),u=e(),l=[],c=[],f=0;f<8;f++)l[f]=e();var h=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],d=[0,1,2,0,2,3],p=[];for(f=0;f<h.length;f++)for(var g=h[f],m=0;m<2;m++){for(var v=[],y=0;y<3;y++)v.push(g[d[3*m+y]]);p.push(v)}return function(e,f,g,m,v,y){var _=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(e,f,g,m,this.bevelSize,this.bevelSegments,v);else{dN.copy(i,f),dN.normalize(i,i),dN.cross(a,g,i),dN.normalize(a,a),dN.cross(r,i,a),dN.normalize(a,a),dN.negate(o,r),dN.negate(s,i),dN.negate(u,a),t(l[0],e,r,m[0]/2),t(l[0],l[0],a,m[2]/2),t(l[1],e,r,m[0]/2),t(l[1],l[1],u,m[2]/2),t(l[2],e,o,m[0]/2),t(l[2],l[2],u,m[2]/2),t(l[3],e,o,m[0]/2),t(l[3],l[3],a,m[2]/2),t(n,e,i,m[1]),t(l[4],n,r,m[0]/2),t(l[4],l[4],a,m[2]/2),t(l[5],n,r,m[0]/2),t(l[5],l[5],u,m[2]/2),t(l[6],n,o,m[0]/2),t(l[6],l[6],u,m[2]/2),t(l[7],n,o,m[0]/2),t(l[7],l[7],a,m[2]/2);var b=this.attributes;if(this.enableNormal){c[0]=r,c[1]=o,c[2]=i,c[3]=s,c[4]=a,c[5]=u;for(var x=this._vertexOffset,w=0;w<h.length;w++){for(var S=3*this._triangleOffset,T=0;T<6;T++)this.indices[S++]=x+d[T];x+=4,this._triangleOffset+=2}for(w=0;w<h.length;w++){var E=c[w];for(T=0;T<4;T++){var M=h[w][T];b.position.set(this._vertexOffset,l[M]),b.normal.set(this._vertexOffset,E),b.color.set(this._vertexOffset++,v)}}}else{for(w=0;w<p.length;w++){for(S=3*this._triangleOffset,T=0;T<3;T++)this.indices[S+T]=p[w][T]+this._vertexOffset;this._triangleOffset++}for(w=0;w<l.length;w++)b.position.set(this._vertexOffset,l[w]),b.color.set(this._vertexOffset++,v)}}var C=this._vertexOffset;for(w=_;w<C;w++)this._dataIndices[w]=y}}(),_addBevelBar:function(){var e=dN.create(),t=dN.create(),n=dN.create(),r=pN.create(),i=[],a=[1,-1,-1,1],o=[1,1,-1,-1],s=[2,0];return function(u,l,c,f,h,d,p){dN.copy(t,l),dN.normalize(t,t),dN.cross(n,c,t),dN.normalize(n,n),dN.cross(e,t,n),dN.normalize(n,n),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=t[0],r[4]=t[1],r[5]=t[2],r[6]=n[0],r[7]=n[1],r[8]=n[2],h=Math.min(f[0],f[2])/2*h;for(var g=0;g<3;g++)i[g]=Math.max(f[g]-2*h,0);var m=(f[0]-i[0])/2,v=(f[1]-i[1])/2,y=(f[2]-i[2])/2,_=[],b=[],x=this._vertexOffset,w=[];for(g=0;g<2;g++){w[g]=w[g]=[];for(var S=0;S<=d;S++)for(var T=0;T<4;T++){(0===S&&0===g||1===g&&S===d)&&w[g].push(x);for(var E=0;E<=d;E++){var M=E/d*Math.PI/2+Math.PI/2*T,C=S/d*Math.PI/2+Math.PI/2*g;b[0]=m*Math.cos(M)*Math.sin(C),b[1]=v*Math.cos(C),b[2]=y*Math.sin(M)*Math.sin(C),_[0]=b[0]+a[T]*i[0]/2,_[1]=b[1]+v+s[g]*i[1]/2,_[2]=b[2]+o[T]*i[2]/2,Math.abs(m-v)<1e-6&&Math.abs(v-y)<1e-6||(b[0]/=m*m,b[1]/=v*v,b[2]/=y*y),dN.normalize(b,b),dN.transformMat3(_,_,r),dN.transformMat3(b,b,r),dN.add(_,_,u),this.attributes.position.set(x,_),this.enableNormal&&this.attributes.normal.set(x,b),this.attributes.color.set(x,p),x++}}}var A=4*d+3,O=2*d+1,D=A+1;for(T=0;T<O;T++)for(g=0;g<=A;g++){var P=T*D+g+this._vertexOffset,L=T*D+(g+1)%D+this._vertexOffset,I=(T+1)*D+(g+1)%D+this._vertexOffset,R=(T+1)*D+g+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[I,P,L]),this.setTriangleIndices(this._triangleOffset++,[I,R,P])}this.setTriangleIndices(this._triangleOffset++,[w[0][0],w[0][2],w[0][1]]),this.setTriangleIndices(this._triangleOffset++,[w[0][0],w[0][3],w[0][2]]),this.setTriangleIndices(this._triangleOffset++,[w[1][0],w[1][1],w[1][2]]),this.setTriangleIndices(this._triangleOffset++,[w[1][0],w[1][2],w[1][3]]),this._vertexOffset=x}}()});l.defaults(gN.prototype,ND),l.defaults(gN.prototype,tR);var mN=gN,vN=BD.vec3,yN=sm.extend({type:"bar3D",__ecgl__:!0,init:function(e,t){this.groupGL=new fD.Node,this._api=t,this._labelsBuilder=new lR(256,256,t);var n=this;this._labelsBuilder.getLabelPosition=function(e,t,r){if(n._data){var i=n._data.getItemLayout(e),a=i[0],o=i[1],s=i[2][1];return vN.scaleAndAdd([],a,o,r+s)}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(e,t,n){var r=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=r,this._barMesh||(this._barMesh=new fD.Mesh({geometry:new mN,shadowDepthMaterial:new fD.Material({shader:new fD.Shader(fD.Shader.source("ecgl.sm.depth.vertex"),fD.Shader.source("ecgl.sm.depth.fragment"))}),culling:"cartesian3D"===e.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var i=e.coordinateSystem;if(this._doRender(e,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var a=i.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[a]("fragment","SRGB_DECODE")}this._data=e.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(e)},_updateAnimation:function(e){fD.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,e)},_doRender:function(e,t){var n=e.getData(),r=e.get("shading"),i="color"!==r,a=this,o=this._barMesh,s="ecgl."+r;o.material&&o.material.shader.name===s||(o.material=fD.createMaterial(s,["VERTEX_COLOR"])),fD.setMaterialFromModel(r,o.material,e,t),o.geometry.enableNormal=i,o.geometry.resetOffset();var u=e.get("bevelSize"),l=e.get("bevelSmoothness");o.geometry.bevelSegments=l,o.geometry.bevelSize=u;var c=[],f=new Float32Array(4*n.count()),h=0,d=0,p=!1;n.each((function(e){if(n.hasValue(e)){var t=iR(n,e),r=aR(n,e);null==r&&(r=1),fD.parseColor(t,c),c[3]*=r,f[h++]=c[0],f[h++]=c[1],f[h++]=c[2],f[h++]=c[3],c[3]>0&&(d++,c[3]<.99&&(p=!0))}})),o.geometry.setBarCount(d);var g=n.getLayout("orient"),m=this._barIndexOfData=new Int32Array(n.count());d=0;n.each((function(e){if(n.hasValue(e)){var t=n.getItemLayout(e),r=t[0],i=t[1],o=t[2],s=4*e;c[0]=f[s++],c[1]=f[s++],c[2]=f[s++],c[3]=f[s++],c[3]>0&&(a._barMesh.geometry.addBar(r,i,g,o,c,e),m[e]=d++)}else m[e]=-1})),o.geometry.dirty(),o.geometry.updateBoundingBox();var v=o.material;v.transparent=p,v.depthMask=!p,o.geometry.sortTriangles=p,this._initHandler(e,t)},_initHandler:function(e,t){var n=e.getData(),r=this._barMesh,i="cartesian3D"===e.coordinateSystem.type;r.seriesIndex=e.seriesIndex;var a=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",(function(e){var o=r.geometry.getDataIndexOfVertex(e.triangle[0]);o!==a&&(this._downplay(a),this._highlight(o),this._labelsBuilder.updateLabels([o]),i&&t.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",o),n.get("y",o),n.get("z",o,!0)]})),a=o,r.dataIndex=o}),this),r.on("mouseout",(function(e){this._downplay(a),this._labelsBuilder.updateLabels(),a=-1,r.dataIndex=-1,i&&t.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_highlight:function(e){var t=this._data;if(t){var n=this._barIndexOfData[e];if(!(n<0)){var i=t.getItemModel(e),a=i.getModel("emphasis.itemStyle"),o=a.get("color"),s=a.get("opacity");if(null==o){var u=iR(t,e);o=r.lift(u,-.4)}null==s&&(s=aR(t,e));var l=fD.parseColor(o);l[3]*=s,this._barMesh.geometry.setColor(n,l),this._api.getZr().refresh()}}},_downplay:function(e){var t=this._data;if(t){var n=this._barIndexOfData[e];if(!(n<0)){var r=iR(t,e),i=aR(t,e),a=fD.parseColor(r);a[3]*=i,this._barMesh.geometry.setColor(n,a),this._api.getZr().refresh()}}},highlight:function(e,t,n,r){this._toggleStatus("highlight",e,t,n,r)},downplay:function(e,t,n,r){this._toggleStatus("downplay",e,t,n,r)},_toggleStatus:function(e,t,n,r,i){var a=t.getData(),o=wO.queryDataIndex(a,i),s=this;null!=o?l.each(sN.normalizeToArray(o),(function(t){"highlight"===e?this._highlight(t):this._downplay(t)}),this):a.each((function(t){"highlight"===e?s._highlight(t):s._downplay(t)}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function _N(e){e.registerChartView(yN),e.registerSeriesModel(hN),aN(e),e.registerProcessor((function(e,t){e.eachSeriesByType("bar3d",(function(e){var t=e.getData();t.filterSelf((function(e){return t.hasValue(e)}))}))}))}Jw(_N);var bN=Yg.extend({type:"series.line3D",dependencies:["grid3D"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,t){return cN(this)},formatTooltip:function(e){return lN(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}}),xN=bN,wN=BD.vec3;fD.Shader["import"](hP);var SN=sm.extend({type:"line3D",__ecgl__:!0,init:function(e,t){this.groupGL=new fD.Node,this._api=t},render:function(e,t,n){var r=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=r,this._line3DMesh||(this._line3DMesh=new fD.Mesh({geometry:new UD({useNativeLine:!1,sortTriangles:!0}),material:new fD.Material({shader:fD.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var i=e.coordinateSystem;if(i&&i.viewGL){i.viewGL.add(this.groupGL);var a=i.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[a]("fragment","SRGB_DECODE")}this._doRender(e,n),this._data=e.getData(),this._camera=i.viewGL.camera,this.updateCamera(),this._updateAnimation(e)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(e,t){var n=e.getData(),r=this._line3DMesh;r.geometry.resetOffset();var i=n.getLayout("points"),a=[],o=new Float32Array(i.length/3*4),s=0,u=!1;n.each((function(e){var t=iR(n,e),r=aR(n,e);null==r&&(r=1),fD.parseColor(t,a),a[3]*=r,o[s++]=a[0],o[s++]=a[1],o[s++]=a[2],o[s++]=a[3],a[3]<.99&&(u=!0)})),r.geometry.setVertexCount(r.geometry.getPolylineVertexCount(i)),r.geometry.setTriangleCount(r.geometry.getPolylineTriangleCount(i)),r.geometry.addPolyline(i,o,wO.firstNotNull(e.get("lineStyle.width"),1)),r.geometry.dirty(),r.geometry.updateBoundingBox();var l=r.material;l.transparent=u,l.depthMask=!u;var c=e.getModel("debug.wireframe");c.get("show")?(r.geometry.createAttribute("barycentric","float",3),r.geometry.generateBarycentric(),r.material.set("both","WIREFRAME_TRIANGLE"),r.material.set("wireframeLineColor",fD.parseColor(c.get("lineStyle.color")||"rgba(0,0,0,0.5)")),r.material.set("wireframeLineWidth",wO.firstNotNull(c.get("lineStyle.width"),1))):r.material.set("both","WIREFRAME_TRIANGLE"),this._points=i,this._initHandler(e,t)},_updateAnimation:function(e){fD.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,e)},_initHandler:function(e,t){var n=e.getData(),r=e.coordinateSystem,i=this._line3DMesh,a=-1;i.seriesIndex=e.seriesIndex,i.off("mousemove"),i.off("mouseout"),i.on("mousemove",(function(e){var o=r.pointToData(e.point.array),s=n.indicesOfNearest("x",o[0])[0];s!==a&&(t.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",s),n.get("y",s),n.get("z",s)]}),i.dataIndex=s),a=s}),this),i.on("mouseout",(function(e){a=-1,i.dataIndex=-1,t.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_updateNDCPosition:function(){var e=new xM,t=this._camera;xM.multiply(e,t.projectionMatrix,t.viewMatrix);var n=this._positionNDC,r=this._points,i=r.length/3;n&&n.length/2===i||(n=this._positionNDC=new Float32Array(2*i));for(var a=[],o=0;o<i;o++){var s=3*o,u=2*o;a[0]=r[s],a[1]=r[s+1],a[2]=r[s+2],a[3]=1,wN.transformMat4(a,a,e.array),n[u]=a[0]/a[3],n[u+1]=a[1]/a[3]}},_pick:function(e,t,n,r,i,a){var o=this._positionNDC,s=this._data.hostModel,u=s.get("lineStyle.width"),l=-1,c=n.viewport.width,f=n.viewport.height,h=.5*c,d=.5*f;e=(e+1)*h,t=(t+1)*d;for(var p=1;p<o.length/2;p++){var g=(o[2*(p-1)]+1)*h,m=(o[2*(p-1)+1]+1)*d,v=(o[2*p]+1)*h,y=(o[2*p+1]+1)*d;if(Ps(g,m,v,y,u,e,t)){var _=(g-e)*(g-e)+(m-t)*(m-t),b=(v-e)*(v-e)+(y-t)*(y-t);l=_<b?p-1:p}}if(l>=0){var x=3*l,w=new uM(this._points[x],this._points[x+1],this._points[x+2]);a.push({dataIndex:l,point:w,pointWorld:w.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(w)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function TN(e){e.registerChartView(SN),e.registerSeriesModel(xN),e.registerLayout((function(e,t){e.eachSeriesByType("line3D",(function(e){var t=e.getData(),n=e.coordinateSystem;if(n){if("cartesian3D"!==n.type)return void 0;var r=new Float32Array(3*t.count()),i=[],a=[],o=n.dimensions,s=o.map((function(t){return e.coordDimToDataDim(t)[0]}));n&&t.each(s,(function(e,t,o,s){i[0]=e,i[1]=t,i[2]=o,n.dataToPoint(i,a),r[3*s]=a[0],r[3*s+1]=a[1],r[3*s+2]=a[2]})),t.setLayout("points",r)}}))}))}Jw(TN);var EN=Yg.extend({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(e,t){return cN(this)},getFormattedLabel:function(e,t,n,r){var i=sN.getFormattedLabel(this,e,t,n,r);if(null==i){var a=this.getData(),o=a.dimensions[a.dimensions.length-1];i=a.get(o,e)}return i},formatTooltip:function(e){return lN(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}});function MN(e,t,n){t=t||document.createElement("canvas");t.width=e,t.height=e;var r=t.getContext("2d");return n&&n(r),t}function CN(e,t,n,r){l.isArray(t)||(t=[t,t]);var i=ON.getMarginByStyle(n,r),o=t[0]+i.left+i.right,s=t[1]+i.top+i.bottom,u=a.createSymbol(e,0,0,t[0],t[1]),c=Math.max(o,s);u.x=i.left,u.y=i.top,o>s?u.y+=(c-s)/2:u.x+=(c-o)/2;var f=u.getBoundingRect();return u.x-=f.x,u.y-=f.y,u.setStyle(n),u.update(),u.__size=c,u}function AN(e,t,n){var r=t.width,i=t.height,a=e.canvas.width,o=e.canvas.height,s=r/a,u=i/o;function l(e){return e<128?1:-1}function c(e,a){var o=1/0;e=Math.floor(e*s),a=Math.floor(a*u);for(var c=a*r+e,f=t.data[4*c],h=l(f),d=Math.max(a-n,0);d<Math.min(a+n,i);d++)for(var p=Math.max(e-n,0);p<Math.min(e+n,r);p++){c=d*r+p;var g=t.data[4*c],m=l(g),v=p-e,y=d-a;if(h!==m){var _=v*v+y*y;_<o&&(o=_)}}return h*Math.sqrt(o)}for(var f=e.createImageData(a,o),h=0;h<o;h++)for(var d=0;d<a;d++){var p=c(d,h),g=p/n*.5+.5,m=4*(h*a+d);f.data[m++]=255*(1-g),f.data[m++]=255*(1-g),f.data[m++]=255*(1-g),f.data[m++]=255}return f}var ON={getMarginByStyle:function(e){var t=e.minMargin||0,n=0;e.stroke&&"none"!==e.stroke&&(n=null==e.lineWidth?1:e.lineWidth);var r=e.shadowBlur||0,i=e.shadowOffsetX||0,a=e.shadowOffsetY||0,o={};return o.left=Math.max(n/2,-i+r,t),o.right=Math.max(n/2,i+r,t),o.top=Math.max(n/2,-a+r,t),o.bottom=Math.max(n/2,a+r,t),o},createSymbolSprite:function(e,t,n,r){var i=CN(e,t,n),a=ON.getMarginByStyle(n);return{image:MN(i.__size,r,(function(e){Fy(e,i)})),margin:a}},createSDFFromCanvas:function(e,t,n,r){return MN(t,r,(function(t){var r=e.getContext("2d"),i=r.getImageData(0,0,e.width,e.height);t.putImageData(AN(t,i,n),0,0)}))},createSimpleSprite:function(e,t){return MN(e,t,(function(t){var n=e/2;t.beginPath(),t.arc(n,n,60,0,2*Math.PI,!1),t.closePath();var r=t.createRadialGradient(n,n,0,n,n,n);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=r,t.fill()}))}},DN=ON,PN=BD.vec3,LN={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(e,t){var n=this.indices,r=PN.create();if(!n){n=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var i=0;i<n.length;i++)n[i]=i}if(0===t){var a,o=this.attributes.position,s=(e=e.array,0);this._zList&&this._zList.length===this.vertexCount||(this._zList=new Float32Array(this.vertexCount));for(i=0;i<this.vertexCount;i++){o.get(i,r);var u=PN.sqrDist(r,e);isNaN(u)&&(u=1e7,s++),0===i?(a=u,u=0):u-=a,this._zList[i]=u}this._noneCount=s}if(this.vertexCount<2e4)0===t&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(i=0;i<3;i++)this._progressiveQuickSort(3*t+i);this.dirtyIndices()},_simpleSort:function(e){var t=this._zList,n=this.indices;function r(e,n){return t[n]-t[e]}e?Array.prototype.sort.call(n,r):ZI.sort(n,r,0,n.length-1)},_progressiveQuickSort:function(e){var t=this._zList,n=this.indices;this._quickSort=this._quickSort||new ZI,this._quickSort.step(n,(function(e,n){return t[n]-t[e]}),e)}},IN="@export ecgl.sdfSprite.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform float elapsedTime : 0;\n\nattribute vec3 position : POSITION;\n\n#ifdef VERTEX_SIZE\nattribute float size;\n#else\nuniform float u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_FillColor: COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute float prevSize;\nuniform float percent : 1.0;\n#endif\n\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvarying float v_Size;\n\nvoid main()\n{\n\n#ifdef POSITIONTEXTURE_ENABLED\n gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\n#else\n\n #ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n #else\n vec3 pos = position;\n #endif\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n#endif\n\n#ifdef VERTEX_SIZE\n#ifdef VERTEX_ANIMATION\n v_Size = mix(prevSize, size, percent);\n#else\n v_Size = size;\n#endif\n#else\n v_Size = u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\n v_Color = a_FillColor;\n #endif\n\n gl_PointSize = v_Size;\n}\n\n@end\n\n@export ecgl.sdfSprite.fragment\n\nuniform vec4 color: [1, 1, 1, 1];\nuniform vec4 strokeColor: [1, 1, 1, 1];\nuniform float smoothing: 0.07;\n\nuniform float lineWidth: 0.0;\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\nvarying float v_Size;\n\nuniform sampler2D sprite;\n\n@import clay.util.srgb\n\nvoid main()\n{\n gl_FragColor = color;\n\n vec4 _strokeColor = strokeColor;\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n #endif\n\n#ifdef SPRITE_ENABLED\n float d = texture2D(sprite, gl_PointCoord).r;\n gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\n\n if (lineWidth > 0.0) {\n float sLineWidth = lineWidth / 2.0;\n\n float outlineMaxValue0 = 0.5 + sLineWidth;\n float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\n float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\n float outlineMinValue1 = 0.5 - sLineWidth;\n\n if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\n float a = _strokeColor.a;\n if (d <= outlineMinValue1) {\n a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\n }\n else {\n a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\n }\n gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\n gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\n }\n }\n#endif\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(gl_FragColor);\n#endif\n}\n@end",RN=BD.vec4;fD.Shader["import"](IN);var kN=fD.Mesh.extend((function(){var e=new fD.Geometry({dynamic:!0,attributes:{color:new fD.Geometry.Attribute("color","float",4,"COLOR"),position:new fD.Geometry.Attribute("position","float",3,"POSITION"),size:new fD.Geometry.Attribute("size","float",1),prevPosition:new fD.Geometry.Attribute("prevPosition","float",3),prevSize:new fD.Geometry.Attribute("prevSize","float",1)}});Object.assign(e,LN);var t=new fD.Material({shader:fD.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});t.enableTexture("sprite"),t.define("both","VERTEX_COLOR"),t.define("both","VERTEX_SIZE");var n=new fD.Texture2D({image:document.createElement("canvas"),flipY:!1});return t.set("sprite",n),e.pick=this._pick.bind(this),{geometry:e,material:t,mode:fD.Mesh.POINTS,sizeScale:1}}),{_pick:function(e,t,n,r,i,a){var o=this._positionNDC;if(o)for(var s=n.viewport,u=2/s.width,l=2/s.height,c=this.geometry.vertexCount-1;c>=0;c--){var f;f=this.geometry.indices?this.geometry.indices[c]:c;var h=o[2*f],d=o[2*f+1],p=this.geometry.attributes.size.get(f)/this.sizeScale,g=p/2;if(e>h-g*u&&e<h+g*u&&t>d-g*l&&t<d+g*l){var m=new fD.Vector3,v=new fD.Vector3;this.geometry.attributes.position.get(f,m.array),fD.Vector3.transformMat4(v,m,this.worldTransform),a.push({vertexIndex:f,point:m,pointWorld:v,target:this,distance:v.distance(r.getWorldPosition())})}}},updateNDCPosition:function(e,t,n){var r=this._positionNDC,i=this.geometry;r&&r.length/2===i.vertexCount||(r=this._positionNDC=new Float32Array(2*i.vertexCount));for(var a=RN.create(),o=0;o<i.vertexCount;o++)i.attributes.position.get(o,a),a[3]=1,RN.transformMat4(a,a,e.array),RN.scale(a,a,1/a[3]),r[2*o]=a[0],r[2*o+1]=a[1]}}),NN=kN,FN=20,BN=-10;function zN(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}function jN(e,t){this.rootNode=new fD.Node,this.is2D=e,this._labelsBuilder=new lR(256,256,t),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=t,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}jN.prototype={constructor:jN,highlightOnMouseover:!0,update:function(e,t,n,r,i){var a=this._prevMesh;this._prevMesh=this._mesh,this._mesh=a;var o=e.getData();if(null==r&&(r=0),null==i&&(i=o.count()),this._startDataIndex=r,this._endDataIndex=i-1,!this._mesh){var s=this._prevMesh&&this._prevMesh.material;this._mesh=new NN({renderOrder:10,frustumCulling:!1}),s&&(this._mesh.material=s)}s=this._mesh.material;var u=this._mesh.geometry,l=u.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var c=this._getSymbolInfo(e,r,i),f=n.getDevicePixelRatio(),h=e.getModel("itemStyle").getItemStyle(),d=e.get("large"),p=1;c.maxSize>2?(p=this._updateSymbolSprite(e,h,c,f),s.enableTexture("sprite")):s.disableTexture("sprite"),l.position.init(i-r);var g=[];if(d){s.undefine("VERTEX_SIZE"),s.undefine("VERTEX_COLOR");var m=nR(o),v=rR(o);fD.parseColor(m,g),g[3]*=v,s.set({color:g,u_Size:c.maxSize*this._sizeScale})}else s.set({color:[1,1,1,1]}),s.define("VERTEX_SIZE"),s.define("VERTEX_COLOR"),l.size.init(i-r),l.color.init(i-r),this._originalOpacity=new Float32Array(i-r);for(var y=o.getLayout("points"),_=l.position.value,b=0;b<i-r;b++){var x=3*b,w=2*b;if(this.is2D?(_[x]=y[w],_[x+1]=y[w+1],_[x+2]=BN):(_[x]=y[x],_[x+1]=y[x+1],_[x+2]=y[x+2]),!d){m=iR(o,b),v=aR(o,b);fD.parseColor(m,g),g[3]*=v,l.color.set(b,g),g[3]<.99&&!0;var S=o.getItemVisual(b,"symbolSize");S=S instanceof Array?Math.max(S[0],S[1]):S,isNaN(S)&&(S=0),l.size.value[b]=S*p*this._sizeScale,this._originalOpacity[b]=g[3]}}this._mesh.sizeScale=p,u.updateBoundingBox(),u.dirty(),this._updateMaterial(e,h);var T=e.coordinateSystem;if(T&&T.viewGL){var E=T.viewGL.isLinearSpace()?"define":"undefine";s[E]("fragment","SRGB_DECODE")}d||this._updateLabelBuilder(e,r,i),this._updateHandler(e,t,n),this._updateAnimation(e),this._api=n},getPointsMesh:function(){return this._mesh},updateLabels:function(e){this._labelsBuilder.updateLabels(e)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},_updateSymbolSprite:function(e,t,n,r){n.maxSize=Math.min(2*n.maxSize,200);var i=[];return n.aspect>1?(i[0]=n.maxSize,i[1]=n.maxSize/n.aspect):(i[1]=n.maxSize,i[0]=n.maxSize*n.aspect),i[0]=i[0]||1,i[1]=i[1]||1,this._symbolType===n.type&&zN(this._symbolSize,i)&&this._lineWidth===t.lineWidth||(DN.createSymbolSprite(n.type,i,{fill:"#fff",lineWidth:t.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(i[0]/2,10)},this._spriteImageCanvas),DN.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),FN,this._mesh.material.get("sprite").image),this._symbolType=n.type,this._symbolSize=i,this._lineWidth=t.lineWidth),this._spriteImageCanvas.width/n.maxSize*r},_updateMaterial:function(e,t){var n="lighter"===e.get("blendMode")?fD.additiveBlend:null,r=this._mesh.material;r.blend=n,r.set("lineWidth",t.lineWidth/FN);var i=fD.parseColor(t.stroke);r.set("strokeColor",i),r.transparent=!0,r.depthMask=!1,r.depthTest=!this.is2D,r.sortVertices=!this.is2D},_updateLabelBuilder:function(e,t,n){var r=e.getData(),i=this._mesh.geometry,a=i.attributes.position.value,o=(t=this._startDataIndex,this._mesh.sizeScale);this._labelsBuilder.updateData(r,t,n),this._labelsBuilder.getLabelPosition=function(e,n,r){var i=3*(e-t);return[a[i],a[i+1],a[i+2]]},this._labelsBuilder.getLabelDistance=function(e,n,r){var a=i.attributes.size.get(e-t)/o;return a/2+r},this._labelsBuilder.updateLabels()},_updateAnimation:function(e){fD.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,e)},_updateHandler:function(e,t,n){var r,i=e.getData(),a=this._mesh,o=this,s=-1,u=e.coordinateSystem&&"cartesian3D"===e.coordinateSystem.type;u&&(r=e.coordinateSystem.model),a.seriesIndex=e.seriesIndex,a.off("mousemove"),a.off("mouseout"),a.on("mousemove",(function(t){var l=t.vertexIndex+o._startDataIndex;l!==s&&(this.highlightOnMouseover&&(this.downplay(i,s),this.highlight(i,l),this._labelsBuilder.updateLabels([l])),u&&n.dispatchAction({type:"grid3DShowAxisPointer",value:[i.get(e.coordDimToDataDim("x")[0],l),i.get(e.coordDimToDataDim("y")[0],l),i.get(e.coordDimToDataDim("z")[0],l)],grid3DIndex:r.componentIndex})),a.dataIndex=l,s=l}),this),a.on("mouseout",(function(e){var t=e.vertexIndex+o._startDataIndex;this.highlightOnMouseover&&(this.downplay(i,t),this._labelsBuilder.updateLabels()),s=-1,a.dataIndex=-1,u&&n.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:r.componentIndex})}),this)},updateLayout:function(e,t,n){var r=e.getData();if(this._mesh){var i=this._mesh.geometry.attributes.position.value,a=r.getLayout("points");if(this.is2D)for(var o=0;o<a.length/2;o++){var s=3*o,u=2*o;i[s]=a[u],i[s+1]=a[u+1],i[s+2]=BN}else for(o=0;o<a.length;o++)i[o]=a[o];this._mesh.geometry.dirty(),n.getZr().refresh()}},updateView:function(e){if(this._mesh){var t=new xM;xM.mul(t,e.viewMatrix,this._mesh.worldTransform),xM.mul(t,e.projectionMatrix,t),this._mesh.updateNDCPosition(t,this.is2D,this._api)}},highlight:function(e,t){if(!(t>this._endDataIndex||t<this._startDataIndex)){var n=e.getItemModel(t),i=n.getModel("emphasis.itemStyle"),a=i.get("color"),o=i.get("opacity");if(null==a){var s=iR(e,t);a=r.lift(s,-.4)}null==o&&(o=aR(e,t));var u=fD.parseColor(a);u[3]*=o,this._mesh.geometry.attributes.color.set(t-this._startDataIndex,u),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(e,t){if(!(t>this._endDataIndex||t<this._startDataIndex)){var n=iR(e,t),r=aR(e,t),i=fD.parseColor(n);i[3]*=r,this._mesh.geometry.attributes.color.set(t-this._startDataIndex,i),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(e){if(this._originalOpacity){for(var t=this._mesh.geometry,n=0;n<t.vertexCount;n++){var r=this._originalOpacity[n]*e;t.attributes.color.value[4*n+3]=r}t.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(e){this._mesh&&this._setPositionTextureToMesh(this._mesh,e),this._positionTexture=e},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(e){if(e!==this._sizeScale){if(this._mesh){var t=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",t/this._sizeScale*e);var n=this._mesh.geometry.attributes;if(n.size.value)for(var r=0;r<n.size.value.length;r++)n.size.value[r]=n.size.value[r]/this._sizeScale*e}this._sizeScale=e}},_setPositionTextureToMesh:function(e,t){t&&e.material.set("positionTexture",t),e.material[t?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(e,t,n){if(e.get("large")){var r=wO.firstNotNull(e.get("symbolSize"),1);return r instanceof Array?(s=Math.max(r[0],r[1]),i=r[0]/r[1]):(s=r,i=1),{maxSize:r,type:e.get("symbol"),aspect:i}}for(var i,a=e.getData(),o=a.getItemVisual(0,"symbol")||"circle",s=0,u=t;u<n;u++){r=a.getItemVisual(u,"symbolSize");var l,c=a.getItemVisual(u,"symbol");if(r instanceof Array)l=r[0]/r[1],s=Math.max(Math.max(r[0],r[1]),s);else{if(isNaN(r))continue;l=1,s=Math.max(r,s)}0,o=c,i=l}return{maxSize:s,type:o,aspect:i}}};var HN=jN,UN=sm.extend({type:"scatter3D",hasSymbolVisual:!0,__ecgl__:!0,init:function(e,t){this.groupGL=new fD.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(e,t,n){if(this.groupGL.removeAll(),e.getData().count()){var r=e.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera;var i=this._pointsBuilderList[0];i||(i=this._pointsBuilderList[0]=new HN(!1,n)),this._pointsBuilderList.length=1,this.groupGL.add(i.rootNode),i.update(e,t,n),i.updateView(r.viewGL.camera)}else 0}},incrementalPrepareRender:function(e,t,n){var r=e.coordinateSystem;r&&r.viewGL&&(r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera),this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(e,t,n,r){if(!(e.end<=e.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new HN(!1,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),i.update(t,n,r,e.start,e.end),i.updateView(t.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach((function(e){e.updateView(this._camera)}),this)},highlight:function(e,t,n,r){this._toggleStatus("highlight",e,t,n,r)},downplay:function(e,t,n,r){this._toggleStatus("downplay",e,t,n,r)},_toggleStatus:function(e,t,n,r,i){var a=t.getData(),o=wO.queryDataIndex(a,i),s="highlight"===e;null!=o?l.each(sN.normalizeToArray(o),(function(e){for(var t=0;t<this._pointsBuilderList.length;t++){var n=this._pointsBuilderList[t];s?n.highlight(a,e):n.downplay(a,e)}}),this):a.each((function(e){for(var t=0;t<this._pointsBuilderList.length;t++){var n=this._pointsBuilderList[t];s?n.highlight(a,e):n.downplay(a,e)}}))},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function VN(e){e.registerChartView(UN),e.registerSeriesModel(EN),e.registerLayout({seriesType:"scatter3D",reset:function(e){var t=e.coordinateSystem;if(t){var n=t.dimensions;if(n.length<3)return void 0;var r=n.map((function(t){return e.coordDimToDataDim(t)[0]})),i=[],a=[];return{progress:function(e,n){for(var o=new Float32Array(3*(e.end-e.start)),s=e.start;s<e.end;s++){var u=3*(s-e.start);i[0]=n.get(r[0],s),i[1]=n.get(r[1],s),i[2]=n.get(r[2],s),t.dataToPoint(i,a),o[u]=a[0],o[u+1]=a[1],o[u+2]=a[2]}n.setLayout("points",o)}}}}})}Jw(VN);var GN=BD.vec3,WN=BD.vec2,XN=GN.normalize,KN=GN.cross,qN=GN.sub,YN=GN.add,ZN=GN.create,$N=ZN(),QN=ZN(),JN=ZN(),eF=ZN(),tF=[],nF=[];function rF(e,t){WN.copy(tF,e[0]),WN.copy(nF,e[1]);var n=[],r=n[0]=ZN(),i=n[1]=ZN(),a=n[2]=ZN(),o=n[3]=ZN();t.dataToPoint(tF,r),t.dataToPoint(nF,o),XN($N,r),qN(QN,o,r),XN(QN,QN),KN(JN,QN,$N),XN(JN,JN),KN(QN,$N,JN),YN(i,$N,QN),XN(i,i),XN($N,o),qN(QN,r,o),XN(QN,QN),KN(JN,QN,$N),XN(JN,JN),KN(QN,$N,JN),YN(a,$N,QN),XN(a,a),YN(eF,r,o),XN(eF,eF);var s=GN.dot(r,eF),u=GN.dot(eF,i),l=(Math.max(GN.len(r),GN.len(o))-s)/u*2;return GN.scaleAndAdd(i,r,i,l),GN.scaleAndAdd(a,o,a,l),n}function iF(e,t,n){var r=[],i=r[0]=GN.create(),a=r[1]=GN.create(),o=r[2]=GN.create(),s=r[3]=GN.create();t.dataToPoint(e[0],i),t.dataToPoint(e[1],s);var u=GN.dist(i,s);return GN.lerp(a,i,s,.3),GN.lerp(o,i,s,.3),GN.scaleAndAdd(a,a,n,Math.min(.1*u,10)),GN.scaleAndAdd(o,o,n,Math.min(.1*u,10)),r}function aF(e,t){for(var n=new Float32Array(3*e.length),r=0,i=[],a=0;a<e.length;a++)t.dataToPoint(e[a],i),n[r++]=i[0],n[r++]=i[1],n[r++]=i[2];return n}function oF(e){var t=[];return e.each((function(n){var r=e.getItemModel(n),i=r.option instanceof Array?r.option:r.getShallow("coords",!0);t.push(i)})),{coordsList:t}}function sF(e,t){var n=e.getData(),r=e.get("polyline");n.setLayout("lineType",r?"polyline":"cubicBezier");var i=oF(n);n.each((function(e){var a=i.coordsList[e],o=r?aF:rF;n.setItemLayout(e,o(a,t))}))}function uF(e,t,n){var r=e.getData(),i=e.get("polyline"),a=oF(r);r.setLayout("lineType",i?"polyline":"cubicBezier"),r.each((function(e){var o=a.coordsList[e],s=i?aF(o,t):iF(o,t,n);r.setItemLayout(e,s)}))}function lF(e,t){e.eachSeriesByType("lines3D",(function(e){var t=e.coordinateSystem;"globe"===t.type?sF(e,t):"geo3D"===t.type?uF(e,t,[0,1,0]):"mapbox3D"!==t.type&&"maptalks3D"!==t.type||uF(e,t,[0,0,1])}))}var cF=Yg.extend({type:"series.lines3D",dependencies:["globe"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,t){var n=new dx(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,r,i){if(e instanceof Array)return NaN;n.hasItemOption=!0;var a=e.value;return null!=a?a instanceof Array?a[i]:a:void 0})),n},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}}),fF="@export ecgl.trail2.vertex\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute float dist;\nattribute float distAll;\nattribute float start;\n\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nuniform float speed : 0;\nuniform float trailLength: 0.3;\nuniform float time;\nuniform float period: 1000;\n\nuniform float spotSize: 1;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n\n#ifdef CONSTANT_SPEED\n float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;\n#else\n float t = mod((time + start) / period, 1. + trailLength) - trailLength;\n#endif\n\n float trailLen = distAll * trailLength;\n\n v_Percent = (dist - t * distAll) / trailLen;\n\n v_SpotPercent = spotSize / distAll;\n\n }\n@end\n\n\n@export ecgl.trail2.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform float spotIntensity: 5;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n if (v_Percent > 1.0 || v_Percent < 0.0) {\n discard;\n }\n\n float fade = v_Percent;\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n\n if (v_Percent > (1.0 - v_SpotPercent)) {\n gl_FragColor.rgb *= spotIntensity;\n }\n\n gl_FragColor.a *= fade;\n}\n\n@end",hF=BD.vec3;function dF(e){return e>0?1:-1}fD.Shader["import"](fF);var pF=fD.Mesh.extend((function(){var e=new fD.Material({shader:new fD.Shader(fD.Shader.source("ecgl.trail2.vertex"),fD.Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),t=new UD({dynamic:!0});return t.createAttribute("dist","float",1),t.createAttribute("distAll","float",1),t.createAttribute("start","float",1),{geometry:t,material:e,culling:!1,$ignorePicking:!0}}),{updateData:function(e,t,n){var r=e.hostModel,i=this.geometry,a=r.getModel("effect"),o=a.get("trailWidth")*t.getDevicePixelRatio(),s=a.get("trailLength"),u=r.get("effect.constantSpeed"),l=1e3*r.get("effect.period"),c=null!=u;c?this.material.set("speed",u/1e3):this.material.set("period",l),this.material[c?"define":"undefine"]("vertex","CONSTANT_SPEED");var f=r.get("polyline");i.trailLength=s,this.material.set("trailLength",s),i.resetOffset(),["position","positionPrev","positionNext"].forEach((function(e){i.attributes[e].value=n.attributes[e].value}));var h=["dist","distAll","start","offset","color"];h.forEach((function(e){i.attributes[e].init(i.vertexCount)})),i.indices=n.indices;var d=[],p=a.get("trailColor"),g=a.get("trailOpacity"),m=null!=p,v=null!=g;this.updateWorldTransform();var y=this.worldTransform.x.len(),_=this.worldTransform.y.len(),b=this.worldTransform.z.len(),x=0,w=0;e.each((function(t){var r=e.getItemLayout(t),a=v?g:aR(e,t),s=iR(e,t);null==a&&(a=1),d=fD.parseColor(m?p:s,d),d[3]*=a;for(var u=f?n.getPolylineVertexCount(r):n.getCubicCurveVertexCount(r[0],r[1],r[2],r[3]),h=0,S=[],T=[],E=x;E<x+u;E++)i.attributes.position.get(E,S),S[0]*=y,S[1]*=_,S[2]*=b,E>x&&(h+=hF.dist(S,T)),i.attributes.dist.set(E,h),hF.copy(T,S);w=Math.max(w,h);var M=Math.random()*(c?h:l);for(E=x;E<x+u;E++)i.attributes.distAll.set(E,h),i.attributes.start.set(E,M),i.attributes.offset.set(E,dF(n.attributes.offset.get(E))*o/2),i.attributes.color.set(E,d);x+=u})),this.material.set("spotSize",.1*w*s),this.material.set("spotIntensity",a.get("spotIntensity")),i.dirty()},setAnimationTime:function(e){this.material.set("time",e)}});function gF(e){return null!=e.radius?e.radius:null!=e.size?Math.max(e.size[0],e.size[1],e.size[2]):100}fD.Shader["import"](hP);var mF=sm.extend({type:"lines3D",__ecgl__:!0,init:function(e,t){this.groupGL=new fD.Node,this._meshLinesMaterial=new fD.Material({shader:fD.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new fD.Mesh({geometry:new UD,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new pF},render:function(e,t,n){this.groupGL.add(this._linesMesh);var r=e.coordinateSystem,i=e.getData();if(r&&r.viewGL){var a=r.viewGL;a.add(this.groupGL),this._updateLines(e,t,n);var o=r.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[o]("fragment","SRGB_DECODE"),this._trailMesh.material[o]("fragment","SRGB_DECODE")}var s=this._trailMesh;if(s.stopAnimation(),e.get("effect.show")){this.groupGL.add(s),s.updateData(i,n,this._linesMesh.geometry),s.__time=s.__time||0;var u=36e5;this._curveEffectsAnimator=s.animate("",{loop:!0}).when(u,{__time:u}).during((function(){s.setAnimationTime(s.__time)})).start()}else this.groupGL.remove(s),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend="lighter"===e.get("blendMode")?fD.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var e=this._curveEffectsAnimator;e&&(e.isPaused()?e.resume():e.pause())},_updateLines:function(e,t,n){var r=e.getData(),i=e.coordinateSystem,a=this._linesMesh.geometry,o=e.get("polyline");a.expandLine=!0;var s=gF(i);a.segmentScale=s/20;var u="lineStyle.width".split("."),l=n.getDevicePixelRatio(),c=0;r.each((function(e){var t=r.getItemModel(e),n=t.get(u);null==n&&(n=1),r.setItemVisual(e,"lineWidth",n),c=Math.max(n,c)})),a.useNativeLine=!1;var f=0,h=0;r.each((function(e){var t=r.getItemLayout(e);o?(f+=a.getPolylineVertexCount(t),h+=a.getPolylineTriangleCount(t)):(f+=a.getCubicCurveVertexCount(t[0],t[1],t[2],t[3]),h+=a.getCubicCurveTriangleCount(t[0],t[1],t[2],t[3]))})),a.setVertexCount(f),a.setTriangleCount(h),a.resetOffset();var d=[];r.each((function(e){var t=r.getItemLayout(e),n=iR(r,e),i=aR(r,e),s=r.getItemVisual(e,"lineWidth")*l;null==i&&(i=1),d=fD.parseColor(n,d),d[3]*=i,o?a.addPolyline(t,d,s):a.addCubicCurve(t[0],t[1],t[2],t[3],d,s)})),a.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function vF(e){e.registerChartView(mF),e.registerSeriesModel(cF),e.registerLayout(lF),e.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},(function(){})),e.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},(function(){})),e.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},(function(){}))}function yF(e,t){for(var n=[],r=0;r<t.length;r++)n.push(e.dataToPoint(t[r]));return n}Jw(vF);var _F=Yg.extend({type:"series.polygons3D",getRegionModel:function(e){return this.getData().getItemModel(e)},getRegionPolygonCoords:function(e){var t=this.coordinateSystem,n=this.getData().getItemModel(e),r=n.option instanceof Array?n.option:n.getShallow("coords");n.get("multiPolygon")||(r=[r]);for(var i=[],a=0;a<r.length;a++){for(var o=[],s=1;s<r[a].length;s++)o.push(yF(t,r[a][s]));i.push({exterior:yF(t,r[a][0]),interiors:o})}return i},getInitialData:function(e){var t=new dx(["value"],this);return t.hasItemOption=!1,t.initData(e.data,[],(function(e,n,r,i){if(e instanceof Array)return NaN;t.hasItemOption=!0;var a=e.value;return null!=a?a instanceof Array?a[i]:a:void 0})),t},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});l.merge(_F.prototype,hI);var bF=_F,xF=sm.extend({type:"polygons3D",__ecgl__:!0,init:function(e,t){this.groupGL=new fD.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(e,t,n){this.groupGL.removeAll();var r=e.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL);var i=this._geo3DBuilderList[0];i||(i=new hR(n),i.extrudeY="mapbox3D"!==r.type&&"maptalks3D"!==r.type,this._geo3DBuilderList[0]=i),this._updateShaderDefines(r,i),i.update(e,t,n),this._geo3DBuilderList.length=1,this.groupGL.add(i.rootNode)},incrementalPrepareRender:function(e,t,n){this.groupGL.removeAll();var r=e.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(e,t,n,r){var i=this._geo3DBuilderList[this._currentStep],a=t.coordinateSystem;i||(i=new hR(r),i.extrudeY="mapbox3D"!==a.type&&"maptalks3D"!==a.type,this._geo3DBuilderList[this._currentStep]=i),i.update(t,n,r,e.start,e.end),this.groupGL.add(i.rootNode),this._updateShaderDefines(a,i),this._currentStep++},_updateShaderDefines:function(e,t){var n=e.viewGL.isLinearSpace()?"define":"undefine";t.rootNode.traverse((function(t){t.material&&(t.material[n]("fragment","SRGB_DECODE"),"mapbox3D"!==e.type&&"maptalks3D"!==e.type||(t.material.define("fragment","NORMAL_UP_AXIS",2),t.material.define("fragment","NORMAL_FRONT_AXIS",1)))}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function wF(e){e.registerChartView(xF),e.registerSeriesModel(bF)}Jw(wF);var SF=Yg.extend({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",formatTooltip:function(e){return lN(this,e)},getInitialData:function(e,t){var n=e.data;function r(e){return!(isNaN(e.min)||isNaN(e.max)||isNaN(e.step))}function i(e){var t=o.getPrecisionSafe;return Math.max(t(e.min),t(e.max),t(e.step))+1}if(!n)if(e.parametric){var a=e.parametricEquation||{},s=a.u||{},u=a.v||{};["u","v"].forEach((function(e){r(a[e])})),["x","y","z"].forEach((function(e){a[e]}));var l=Math.floor((s.max+s.step-s.min)/s.step),c=Math.floor((u.max+u.step-u.min)/u.step);n=new Float32Array(l*c*5);var f=i(s),h=i(u);for(T=0,E=0;E<c;E++)for(M=0;M<l;M++){var d=M*s.step+s.min,p=E*u.step+u.min,g=o.round(Math.min(d,s.max),f),m=o.round(Math.min(p,u.max),h);C=a.x(g,m),A=a.y(g,m),P=a.z(g,m);n[T++]=C,n[T++]=A,n[T++]=P,n[T++]=g,n[T++]=m}}else{var v=e.equation||{},y=v.x||{},_=v.y||{};if(["x","y"].forEach((function(e){r(v[e])})),"function"!==typeof v.z)return void 0;var b=Math.floor((y.max+y.step-y.min)/y.step),x=Math.floor((_.max+_.step-_.min)/_.step);n=new Float32Array(b*x*3);for(var w=i(y),S=i(_),T=0,E=0;E<x;E++)for(var M=0;M<b;M++){var C=M*y.step+y.min,A=E*_.step+_.min,O=o.round(Math.min(C,y.max),w),D=o.round(Math.min(A,_.max),S),P=v.z(O,D);n[T++]=O,n[T++]=D,n[T++]=P}}var L=["x","y","z"];e.parametric&&L.push("u","v");var I=cN(this,L,n);return I},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});l.merge(SF.prototype,hI);var TF=SF,EF=BD.vec3;function MF(e){return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])}var CF=sm.extend({type:"surface",__ecgl__:!0,init:function(e,t){this.groupGL=new fD.Node},render:function(e,t,n){var r=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=r,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var i=e.coordinateSystem,a=e.get("shading"),o=e.getData(),s="ecgl."+a;if(this._surfaceMesh.material&&this._surfaceMesh.material.shader.name===s||(this._surfaceMesh.material=fD.createMaterial(s,["VERTEX_COLOR","DOUBLE_SIDED"])),fD.setMaterialFromModel(a,this._surfaceMesh.material,e,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var u=i.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[u]("fragment","SRGB_DECODE")}var l=e.get("parametric"),c=e.get("dataShape");c||(c=this._getDataShape(o,l));var f=e.getModel("wireframe"),h=f.get("lineStyle.width"),d=f.get("show")&&h>0;this._updateSurfaceMesh(this._surfaceMesh,e,c,d);var p=this._surfaceMesh.material;d?(p.define("WIREFRAME_QUAD"),p.set("wireframeLineWidth",h),p.set("wireframeLineColor",fD.parseColor(f.get("lineStyle.color")))):p.undefine("WIREFRAME_QUAD"),this._initHandler(e,n),this._updateAnimation(e)},_updateAnimation:function(e){fD.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,e)},_createSurfaceMesh:function(){var e=new fD.Mesh({geometry:new fD.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new fD.Material({shader:new fD.Shader(fD.Shader.source("ecgl.sm.depth.vertex"),fD.Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return e.geometry.createAttribute("barycentric","float",4),e.geometry.createAttribute("prevPosition","float",3),e.geometry.createAttribute("prevNormal","float",3),Object.assign(e.geometry,tR),e},_initHandler:function(e,t){var n=e.getData(),r=this._surfaceMesh,i=e.coordinateSystem;function a(e,t){for(var n=1/0,i=-1,a=[],o=0;o<e.length;o++){r.geometry.attributes.position.get(e[o],a);var s=EF.dist(t.array,a);s<n&&(n=s,i=e[o])}return i}r.seriesIndex=e.seriesIndex;var o=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",(function(e){var s=a(e.triangle,e.point);if(s>=0){var u=[];r.geometry.attributes.position.get(s,u);for(var l=i.pointToData(u),c=1/0,f=-1,h=[],d=0;d<n.count();d++){h[0]=n.get("x",d),h[1]=n.get("y",d),h[2]=n.get("z",d);var p=EF.squaredDistance(h,l);p<c&&(f=d,c=p)}f!==o&&t.dispatchAction({type:"grid3DShowAxisPointer",value:l}),o=f,r.dataIndex=f}else r.dataIndex=-1}),this),r.on("mouseout",(function(e){o=-1,r.dataIndex=-1,t.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_updateSurfaceMesh:function(e,t,n,r){var i=e.geometry,a=t.getData(),o=a.getLayout("points"),s=0;a.each((function(e){a.hasValue(e)||s++}));var u=s||r,l=i.attributes.position,c=i.attributes.normal,f=i.attributes.texcoord0,h=i.attributes.barycentric,d=i.attributes.color,p=n[0],g=n[1],m=t.get("shading"),v="color"!==m;if(u){var y=(p-1)*(g-1)*4;l.init(y),r&&h.init(y)}else l.value=new Float32Array(o);d.init(i.vertexCount),f.init(i.vertexCount);var _=[0,3,1,1,3,2],b=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],x=i.indices=new(i.vertexCount>65535?Uint32Array:Uint16Array)((p-1)*(g-1)*6),w=function(e,t,n){n[1]=e*g+t,n[0]=e*g+t+1,n[3]=(e+1)*g+t+1,n[2]=(e+1)*g+t},S=!1;if(u){var T=[],E=[],M=0;v?c.init(i.vertexCount):c.value=null;for(var C=[[],[],[]],A=[],O=[],D=EF.create(),P=function(e,t,n){var r=3*t;return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n},L=new Float32Array(o.length),I=new Float32Array(o.length/3*4),R=0;R<a.count();R++)if(a.hasValue(R)){var k=fD.parseColor(iR(a,R)),N=aR(a,R);null!=N&&(k[3]*=N),k[3]<.99&&(S=!0);for(var F=0;F<4;F++)I[4*R+F]=k[F]}var B=[1e7,1e7,1e7];for(R=0;R<p-1;R++)for(var z=0;z<g-1;z++){var j=R*(g-1)+z,H=4*j;w(R,z,T);var U=!1;for(F=0;F<4;F++)P(o,T[F],E),MF(E)&&(U=!0);for(F=0;F<4;F++)U?l.set(H+F,B):(P(o,T[F],E),l.set(H+F,E)),r&&h.set(H+F,b[F]);for(F=0;F<6;F++)x[M++]=_[F]+H;if(v&&!U)for(F=0;F<2;F++){for(var V=3*F,G=0;G<3;G++){var W=T[_[V]+G];P(o,W,C[G])}EF.sub(A,C[0],C[1]),EF.sub(O,C[1],C[2]),EF.cross(D,A,O);for(G=0;G<3;G++){var X=3*T[_[V]+G];L[X]=L[X]+D[0],L[X+1]=L[X+1]+D[1],L[X+2]=L[X+2]+D[2]}}}if(v)for(R=0;R<L.length/3;R++)P(L,R,D),EF.normalize(D,D),L[3*R]=D[0],L[3*R+1]=D[1],L[3*R+2]=D[2];k=[];var K=[];for(R=0;R<p-1;R++)for(z=0;z<g-1;z++){j=R*(g-1)+z,H=4*j;w(R,z,T);for(F=0;F<4;F++){for(G=0;G<4;G++)k[G]=I[4*T[F]+G];d.set(H+F,k),v&&(P(L,T[F],D),c.set(H+F,D));W=T[F];K[0]=W%g/(g-1),K[1]=Math.floor(W/g)/(p-1),f.set(H+F,K)}j++}}else{for(K=[],R=0;R<a.count();R++){K[0]=R%g/(g-1),K[1]=Math.floor(R/g)/(p-1);k=fD.parseColor(iR(a,R)),N=aR(a,R);null!=N&&(k[3]*=N),k[3]<.99&&(S=!0),d.set(R,k),f.set(R,K)}T=[];var q=0;for(R=0;R<p-1;R++)for(z=0;z<g-1;z++){w(R,z,T);for(F=0;F<6;F++)x[q++]=T[_[F]]}v?i.generateVertexNormals():c.value=null}e.material.get("normalMap")&&i.generateTangents(),i.updateBoundingBox(),i.dirty(),e.material.transparent=S,e.material.depthMask=!S},_getDataShape:function(e,t){for(var n=-1/0,r=0,i=0,a=!1,o=t?"u":"x",s=e.count(),u=0;u<s;u++){var l=e.get(o,u);l<n&&(i,i=0,r++),n=l,i++}if(r&&1!==i||(a=!0),!a)return[r+1,i];var c=Math.floor(Math.sqrt(s));while(c>0){if(Math.floor(s/c)===s/c)return[c,s/c];c--}return c=Math.floor(Math.sqrt(s)),[c,c]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function AF(e){e.registerChartView(CF),e.registerSeriesModel(TF),e.registerLayout((function(e,t){e.eachSeriesByType("surface",(function(e){var t=e.coordinateSystem;t&&t.type;var n=e.getData(),r=new Float32Array(3*n.count()),i=[NaN,NaN,NaN];if(t&&"cartesian3D"===t.type){var a=t.dimensions,o=a.map((function(t){return e.coordDimToDataDim(t)[0]}));n.each(o,(function(e,a,o,s){var u;u=n.hasValue(s)?t.dataToPoint([e,a,o]):i,r[3*s]=u[0],r[3*s+1]=u[1],r[3*s+2]=u[2]}))}n.setLayout("points",r)}))}))}function OF(e,t){for(var n=[],r=0;r<t.length;r++)n.push(e.dataToPoint(t[r]));return n}Jw(AF);var DF=Yg.extend({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualStyleAccessPath:"itemStyle",optionUpdated:function(e){e=e||{};var t=this.get("coordinateSystem");null!=t&&"geo3D"!==t&&(this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null)},getInitialData:function(e){e.data=this.getFilledRegions(e.data,e.map);var t=a.createDimensions(e.data,{coordDimensions:["value"]}),n=new dx(t,this);n.initData(e.data);var r={};return n.each((function(e){var t=n.getName(e),i=n.getItemModel(e);r[t]=i})),this._regionModelMap=r,n},formatTooltip:function(e){return lN(this,e)},getRegionModel:function(e){var t=this.getData().getName(e);return this._regionModelMap[t]||new Wf(null,this)},getRegionPolygonCoords:function(e){var t=this.coordinateSystem,n=this.getData().getName(e);if(t.transform){var r=t.getRegion(n);return r?r.geometries:[]}this._geo||(this._geo=CR.createGeo3D(this));r=this._geo.getRegion(n);for(var i=[],a=0;a<r.geometries.length;a++){var o=r.geometries[a],s=[],u=OF(t,o.exterior);if(s&&s.length)for(var l=0;l<o.interiors.length;l++)s.push(OF(t,s[l]));i.push({interiors:s,exterior:u})}return i},getFormattedLabel:function(e,t){var n=sN.getFormattedLabel(this,e,t);return null==n&&(n=this.getData().getName(e)),n},defaultOption:{coordinateSystem:"geo3D",data:null}});l.merge(DF.prototype,dI),l.merge(DF.prototype,MD),l.merge(DF.prototype,CD),l.merge(DF.prototype,AD),l.merge(DF.prototype,hI);var PF=DF,LF=sm.extend({type:"map3D",__ecgl__:!0,init:function(e,t){this._geo3DBuilder=new hR(t),this.groupGL=new fD.Node},render:function(e,t,n){var r=e.coordinateSystem;if(r&&r.viewGL){if(this.groupGL.add(this._geo3DBuilder.rootNode),r.viewGL.add(this.groupGL),"geo3D"===r.type){r,this._sceneHelper||(this._sceneHelper=new KD,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var i=this._control;i||(i=this._control=new kD({zr:n.getZr()}),this._control.init());var a=e.getModel("viewControl");i.setViewGL(r.viewGL),i.setFromViewControlModel(a,0),i.off("update"),i.on("update",(function(){n.dispatchAction({type:"map3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),from:this.uid,map3DId:e.id})})),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),e.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(e,t,n,0,e.getData().count());var o=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse((function(e){e.material&&e.material[o]("fragment","SRGB_DECODE")}))}},afterRender:function(e,t,n,r){var i=r.renderer,a=e.coordinateSystem;a&&"geo3D"===a.type&&(this._sceneHelper.updateAmbientCubemap(i,e,n),this._sceneHelper.updateSkybox(i,e,n))},dispose:function(){this.groupGL.removeAll(),this._control.dispose()}});function IF(e){AR(e),e.registerChartView(LF),e.registerSeriesModel(PF),e.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},(function(e,t){t.eachComponent({mainType:"series",subType:"map3D",query:e},(function(t){t.setView(e)}))}))}Jw(IF);var RF=Yg.extend({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(){return a.createList(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});function kF(e){this.viewGL=e}kF.prototype.reset=function(e,t){this._updateCamera(t.getWidth(),t.getHeight(),t.getDevicePixelRatio()),this._viewTransform=wt(),this.updateTransform(e,t)},kF.prototype.updateTransform=function(e,t){var n=e.coordinateSystem;n.getRoamTransform&&(Ot(this._viewTransform,n.getRoamTransform()),this._setCameraTransform(this._viewTransform),t.getZr().refresh())},kF.prototype.dataToPoint=function(e,t,n){n=e.dataToPoint(t,null,n);var r=this._viewTransform;r&&ke(n,n,r)},kF.prototype.removeTransformInPoint=function(e){return this._viewTransform&&ke(e,e,this._viewTransform),e},kF.prototype.getZoom=function(){if(this._viewTransform){var e=this._viewTransform;return 1/Math.max(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]))}return 1},kF.prototype._setCameraTransform=function(e){var t=this.viewGL.camera;t.position.set(e[4],e[5],0),t.scale.set(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]),1)},kF.prototype._updateCamera=function(e,t,n){this.viewGL.setViewport(0,0,e,t,n);var r=this.viewGL.camera;r.left=r.top=0,r.bottom=t,r.right=e,r.near=0,r.far=100};var NF=kF,FF=sm.extend({type:"scatterGL",__ecgl__:!0,init:function(e,t){this.groupGL=new fD.Node,this.viewGL=new YL("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new NF(this.viewGL)},render:function(e,t,n){if(this.groupGL.removeAll(),this._glViewHelper.reset(e,n),e.getData().count()){var r=this._pointsBuilderList[0];r||(r=this._pointsBuilderList[0]=new HN(!0,n)),this._pointsBuilderList.length=1,this.groupGL.add(r.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),r.update(e,t,n),this.viewGL.setPostEffect(e.getModel("postEffect"),n)}},incrementalPrepareRender:function(e,t,n){this.groupGL.removeAll(),this._glViewHelper.reset(e,n),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),n)},incrementalRender:function(e,t,n,r){if(!(e.end<=e.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new HN(!0,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),this._removeTransformInPoints(t.getData().getLayout("points")),i.setSizeScale(this._sizeScale),i.update(t,n,r,e.start,e.end),r.getZr().refresh(),this._currentStep++}},updateTransform:function(e,t,n){if(e.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(e,n);var r=this._glViewHelper.getZoom(),i=Math.max((e.get("zoomScale")||0)*(r-1)+1,0);this._sizeScale=i,this._pointsBuilderList.forEach((function(e){e.setSizeScale(i)}))}},_removeTransformInPoints:function(e){if(e)for(var t=[],n=0;n<e.length;n+=2)t[0]=e[n],t[1]=e[n+1],this._glViewHelper.removeTransformInPoint(t),e[n]=t[0],e[n+1]=t[1]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function BF(e){e.registerChartView(FF),e.registerSeriesModel(RF),e.registerLayout({seriesType:"scatterGL",reset:function(e){var t,n=e.coordinateSystem,r=e.getData();if(n){var i=n.dimensions.map((function(e){return r.mapDimension(e)})).slice(0,2),a=[];1===i.length?t=function(e){for(var t=new Float32Array(2*(e.end-e.start)),a=e.start;a<e.end;a++){var o=2*(a-e.start),s=r.get(i[0],a),u=n.dataToPoint(s);t[o]=u[0],t[o+1]=u[1]}r.setLayout("points",t)}:2===i.length&&(t=function(e){for(var t=new Float32Array(2*(e.end-e.start)),o=e.start;o<e.end;o++){var s=2*(o-e.start),u=r.get(i[0],o),l=r.get(i[1],o);a[0]=u,a[1]=l,a=n.dataToPoint(a),t[s]=a[0],t[s+1]=a[1]}r.setLayout("points",t)})}return{progress:t}}})}function zF(e){return"_EC_"+e}Jw(BF);var jF=function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var n=this._nodesMap;if(!n[zF(e)]){var r=new HF(e,t);return r.hostGraph=this,this.nodes.push(r),n[zF(e)]=r,r}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[zF(e)]},e.prototype.addEdge=function(e,t,n){var r=this._nodesMap,i=this._edgesMap;if("number"===typeof e&&(e=this.nodes[e]),"number"===typeof t&&(t=this.nodes[t]),e instanceof HF||(e=r[zF(e)]),t instanceof HF||(t=r[zF(t)]),e&&t){var a=e.id+"-"+t.id,o=new UF(e,t,n);return o.hostGraph=this,this._directed&&(e.outEdges.push(o),t.inEdges.push(o)),e.edges.push(o),e!==t&&t.edges.push(o),this.edges.push(o),i[a]=o,o}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof HF&&(e=e.id),t instanceof HF&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},e.prototype.eachNode=function(e,t){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&e.call(t,n[i],i)},e.prototype.eachEdge=function(e,t){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&e.call(t,n[i],i)},e.prototype.breadthFirstTraverse=function(e,t,n,r){if(t instanceof HF||(t=this._nodesMap[zF(t)]),t){for(var i="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(r,t,null)){var o=[t];while(o.length){var s=o.shift(),u=s[i];for(a=0;a<u.length;a++){var l=u[a],c=l.node1===s?l.node2:l.node1;if(!c.__visited){if(e.call(r,c,s))return;o.push(c),c.__visited=!0}}}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,r=this.edges,i=0,a=n.length;i<a;i++)n[i].dataIndex=-1;for(i=0,a=e.count();i<a;i++)n[e.getRawIndex(i)].dataIndex=i;t.filterSelf((function(e){var n=r[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(i=0,a=r.length;i<a;i++)r[i].dataIndex=-1;for(i=0,a=t.count();i<a;i++)r[t.getRawIndex(i)].dataIndex=i},e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,r=this.edges,i=0;i<n.length;i++)t.addNode(n[i].id,n[i].dataIndex);for(i=0;i<r.length;i++){var a=r[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},e}(),HF=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},e}(),UF=function(){function e(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}return e.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.edgeData.getItemModel(this.dataIndex);return n.getModel(e)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e}();function VF(e,t){return{getValue:function(n){var r=this[e][t];return r.get(r.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}z(HF,VF("hostGraph","data")),z(UF,VF("hostGraph","edgeData"));var GF=jF,WF=wa();function XF(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,JF(t,n,e),H(n,(function(n){H(t.TRANSFERABLE_METHODS,(function(t){n.wrapMethod(t,q(KF,e))}))})),t.wrapMethod("cloneShallow",q(YF,e)),H(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,q(qF,e))})),fe(n[t.dataType]===t)}function KF(e,t){if(QF(this)){var n=R({},WF(this).datas);n[this.dataType]=t,JF(t,n,e)}else eB(t,this.dataType,WF(this).mainData,e);return t}function qF(e,t){return e.struct&&e.struct.update(),t}function YF(e,t){return H(WF(t).datas,(function(n,r){n!==t&&eB(n.cloneShallow(),r,t,e)})),t}function ZF(e){var t=WF(this).mainData;return null==e||null==t?t:WF(t).datas[e]}function $F(){var e=WF(this).mainData;return null==e?[{data:e}]:U(W(WF(e).datas),(function(t){return{type:t,data:WF(e).datas[t]}}))}function QF(e){return WF(e).mainData===e}function JF(e,t,n){WF(e).datas={},H(t,(function(t,r){eB(t,r,e,n)}))}function eB(e,t,n,r){WF(n).datas[t]=e,WF(e).mainData=n,e.dataType=t,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=e),e.getLinkedData=ZF,e.getLinkedDataAll=$F}var tB=XF,nB=function(e,t,n,r,i){for(var o=new GF(r),s=0;s<e.length;s++)o.addNode(wO.firstNotNull(e[s].id,e[s].name,s),s);var u,l=[],c=[],f=0;for(s=0;s<t.length;s++){var h=t[s],d=h.source,p=h.target;o.addEdge(d,p,f)&&(c.push(h),l.push(wO.firstNotNull(h.id,d+" > "+p)),f++)}var g=a.createDimensions(e,{coordDimensions:["value"]});u=new dx(g,n),u.initData(e);var m=new dx(["value"],n);return m.initData(c,l),i&&i(u,m),tB({mainData:u,struct:o,structAttr:"graph",datas:{node:u,edge:m},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o},rB=Yg.extend({type:"series.graphGL",visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,init:function(e){rB.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(e){rB.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(e,t,n,r){var i=sN.getFormattedLabel(this,e,t,n,r);if(null==i){var a=this.getData(),o=a.dimensions[a.dimensions.length-1];i=a.get(o,e)}return i},getInitialData:function(e,t){var n=e.edges||e.links||[],r=e.data||e.nodes||[],i=this;if(r&&n)return nB(r,n,this,!0,a).data;function a(e,n){e.wrapMethod("getItemModel",(function(e){var t=i._categoriesModels,n=e.getShallow("category"),r=t[n];return r&&(r.parentModel=e.parentModel,e.parentModel=r),e}));var r=t.getModel([]).getModel;function a(e,t){var n=r.call(this,e,t);return n.resolveParentPath=o,n}function o(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}n.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=o,e.getModel=a,e}))}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if("edge"===n){var r=this.getData(),i=this.getDataParams(e,n),a=r.graph.getEdgeByIndex(e),o=r.getName(a.node1.dataIndex),s=r.getName(a.node2.dataIndex),l=[];return null!=o&&l.push(o),null!=s&&l.push(s),l=u.encodeHTML(l.join(" > ")),i.value&&(l+=" : "+u.encodeHTML(i.value)),l}return rB.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=(this.option.categories||[]).map((function(e){return null!=e.value?e:Object.assign({value:0},e)})),t=new dx(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e,!0)}))},setView:function(e){null!=e.zoom&&(this.option.zoom=e.zoom),null!=e.offset&&(this.option.offset=e.offset)},setNodePosition:function(e){for(var t=0;t<e.length/2;t++){var n=e[2*t],r=e[2*t+1],i=this.getData().getRawDataItem(t);i.x=n,i.y=r}},isAnimationEnabled:function(){return rB.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}}),iB=rB,aB=BD.vec2,oB=[[0,0],[1,1]],sB=lC.extend((function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new lC.Attribute("position","float",2,"POSITION"),normal:new lC.Attribute("normal","float",2),offset:new lC.Attribute("offset","float",1),color:new lC.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var t=this.attributes;this.vertexCount!==e&&(t.position.init(e),t.color.init(e),this.useNativeLine||(t.offset.init(e),t.normal.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,t,n,r){var i=aB.dist(e,t)+aB.dist(n,t)+aB.dist(r,n),a=1/(i+1)*this.segmentScale;return a},getCubicCurveVertexCount:function(e,t,n,r){var i=this._getCubicCurveApproxStep(e,t,n,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(e,t,n,r){var i=this._getCubicCurveApproxStep(e,t,n,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(oB)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(oB)},getPolylineVertexCount:function(e){var t;if("number"===typeof e)t=e;else{var n="number"!==typeof e[0];t=n?e.length:e.length/2}return this.useNativeLine?2*(t-1):2*(t-1)+2},getPolylineTriangleCount:function(e){var t;if("number"===typeof e)t=e;else{var n="number"!==typeof e[0];t=n?e.length:e.length/2}return this.useNativeLine?0:2*(t-1)},addCubicCurve:function(e,t,n,r,i,a){null==a&&(a=1);var o=e[0],s=e[1],u=t[0],l=t[1],c=n[0],f=n[1],h=r[0],d=r[1],p=this._getCubicCurveApproxStep(e,t,n,r),g=p*p,m=g*p,v=3*p,y=3*g,_=6*g,b=6*m,x=o-2*u+c,w=s-2*l+f,S=3*(u-c)-o+h,T=3*(l-f)-s+d,E=o,M=s,C=(u-o)*v+x*y+S*m,A=(l-s)*v+w*y+T*m,O=x*_+S*b,D=w*_+T*b,P=S*b,L=T*b,I=0,R=0,k=Math.ceil(1/p),N=new Float32Array(3*(k+1)),F=(N=[],0);for(R=0;R<k+1;R++)N[F++]=E,N[F++]=M,E+=C,M+=A,C+=O,A+=D,O+=P,D+=L,I+=p,I>1&&(E=C>0?Math.min(E,h):Math.max(E,h),M=A>0?Math.min(M,d):Math.max(M,d));this.addPolyline(N,i,a)},addLine:function(e,t,n,r){this.addPolyline([e,t],n,r)},addPolyline:function(){var e=aB.create(),t=aB.create(),n=aB.create(),r=aB.create(),i=[],a=[],o=[];return function(s,u,l,c,f){if(s.length){var h="number"!==typeof s[0];if(null==f&&(f=h?s.length:s.length/2),!(f<2)){null==c&&(c=0),null==l&&(l=1),this._itemVertexOffsets.push(this._vertexOffset);for(var d,p=h?"number"!==typeof u[0]:u.length/4===f,g=this.attributes.position,m=this.attributes.color,v=this.attributes.offset,y=this.attributes.normal,_=this.indices,b=this._vertexOffset,x=0;x<f;x++){if(h)i=s[x+c],d=p?u[x+c]:u;else{var w=2*x+c;if(i=i||[],i[0]=s[w],i[1]=s[w+1],p){var S=4*x+c;d=d||[],d[0]=u[S],d[1]=u[S+1],d[2]=u[S+2],d[3]=u[S+3]}else d=u}if(this.useNativeLine)x>1&&(g.copy(b,b-1),m.copy(b,b-1),b++);else{var T;if(x<f-1){if(h)aB.copy(a,s[x+1]);else{w=2*(x+1)+c;a=a||[],a[0]=s[w],a[1]=s[w+1]}if(x>0){aB.sub(e,i,o),aB.sub(t,a,i),aB.normalize(e,e),aB.normalize(t,t),aB.add(r,e,t),aB.normalize(r,r);var E=l/2*Math.min(1/aB.dot(e,r),2);n[0]=-r[1],n[1]=r[0],T=E}else aB.sub(e,a,i),aB.normalize(e,e),n[0]=-e[1],n[1]=e[0],T=l/2}else aB.sub(e,i,o),aB.normalize(e,e),n[0]=-e[1],n[1]=e[0],T=l/2;y.set(b,n),y.set(b+1,n),v.set(b,T),v.set(b+1,-T),aB.copy(o,i),g.set(b,i),g.set(b+1,i),m.set(b,d),m.set(b+1,d),b+=2}if(this.useNativeLine)m.set(b,d),g.set(b,i),b++;else if(x>0){var M=3*this._faceOffset;_=this.indices;_[M]=b-4,_[M+1]=b-3,_[M+2]=b-2,_[M+3]=b-3,_[M+4]=b-1,_[M+5]=b-2,this._faceOffset+=2}}this._vertexOffset=b}}}}(),setItemColor:function(e,t){for(var n=this._itemVertexOffsets[e],r=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,t);this.dirty("color")}});l.defaults(sB.prototype,ND);var uB=sB,lB="@export ecgl.forceAtlas2.updateNodeRepulsion\n\n#define NODE_COUNT 0\n\nuniform sampler2D positionTex;\n\nuniform vec2 textureSize;\nuniform float gravity;\nuniform float scaling;\nuniform vec2 gravityCenter;\n\nuniform bool strongGravityMode;\nuniform bool preventOverlap;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, v_Texcoord);\n\n vec2 force = vec2(0.0);\n for (int i = 0; i < NODE_COUNT; i++) {\n vec2 uv = vec2(\n mod(float(i), textureSize.x) / (textureSize.x - 1.0),\n floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\n );\n vec4 n1 = texture2D(positionTex, uv);\n\n vec2 dir = n0.xy - n1.xy;\n float d2 = dot(dir, dir);\n\n if (d2 > 0.0) {\n float factor = 0.0;\n if (preventOverlap) {\n float d = sqrt(d2);\n d = d - n0.w - n1.w;\n if (d > 0.0) {\n factor = scaling * n0.z * n1.z / (d * d);\n }\n else if (d < 0.0) {\n factor = scaling * 100.0 * n0.z * n1.z;\n }\n }\n else {\n factor = scaling * n0.z * n1.z / d2;\n }\n force += dir * factor;\n }\n }\n\n vec2 dir = gravityCenter - n0.xy;\n float d = 1.0;\n if (!strongGravityMode) {\n d = length(dir);\n }\n\n force += dir * n0.z * gravity / (d + 1.0);\n\n gl_FragColor = vec4(force, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\n\nattribute vec2 node1;\nattribute vec2 node2;\nattribute float weight;\n\nuniform sampler2D positionTex;\nuniform float edgeWeightInfluence;\nuniform bool preventOverlap;\nuniform bool linLogMode;\n\nuniform vec2 windowSize: WINDOW_SIZE;\n\nvarying vec2 v_Force;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, node1);\n vec4 n1 = texture2D(positionTex, node2);\n\n vec2 dir = n1.xy - n0.xy;\n float d = length(dir);\n float w;\n if (edgeWeightInfluence == 0.0) {\n w = 1.0;\n }\n else if (edgeWeightInfluence == 1.0) {\n w = weight;\n }\n else {\n w = pow(weight, edgeWeightInfluence);\n }\n vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\n vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\n vec2 pos = node1 * scale * 2.0 - 1.0;\n gl_Position = vec4(pos + offset, 0.0, 1.0);\n gl_PointSize = 1.0;\n\n float factor;\n if (preventOverlap) {\n d = d - n1.w - n0.w;\n }\n if (d <= 0.0) {\n v_Force = vec2(0.0);\n return;\n }\n\n if (linLogMode) {\n factor = w * log(d) / d;\n }\n else {\n factor = w;\n }\n v_Force = dir * factor;\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\n\nvarying vec2 v_Force;\n\nvoid main() {\n gl_FragColor = vec4(v_Force, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\n\nattribute vec2 node;\n\nvarying vec2 v_NodeUv;\n\nvoid main() {\n\n v_NodeUv = node;\n gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n gl_PointSize = 1.0;\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\n\nvarying vec2 v_NodeUv;\n\nuniform sampler2D positionTex;\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_NodeUv).rg;\n vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\n\n float mass = texture2D(positionTex, v_NodeUv).z;\n float swing = length(force - forcePrev) * mass;\n float traction = length(force + forcePrev) * 0.5 * mass;\n\n gl_FragColor = vec4(swing, traction, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcGlobalSpeed\n\nuniform sampler2D globalSpeedPrevTex;\nuniform sampler2D weightedSumTex;\nuniform float jitterTolerence;\n\nvoid main() {\n vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\n float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\n float globalSpeed = jitterTolerence * jitterTolerence\n * weightedSum.y / weightedSum.x;\n if (prevGlobalSpeed > 0.0) {\n globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\n }\n gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updatePosition\n\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\nuniform sampler2D positionTex;\nuniform sampler2D globalSpeedTex;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_Texcoord).xy;\n vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\n vec4 node = texture2D(positionTex, v_Texcoord);\n\n float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\n float swing = length(force - forcePrev);\n float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\n\n float df = length(force);\n if (df > 0.0) {\n speed = min(df * speed, 10.0) / df;\n\n gl_FragColor = vec4(node.xy + speed * force, node.zw);\n }\n else {\n gl_FragColor = node;\n }\n}\n@end\n\n@export ecgl.forceAtlas2.edges.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 node;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nuniform sampler2D positionTex;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(\n texture2D(positionTex, node).xy, -10.0, 1.0\n );\n v_Color = a_Color;\n}\n@end\n\n@export ecgl.forceAtlas2.edges.fragment\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nvarying vec4 v_Color;\nvoid main() {\n gl_FragColor = color * v_Color;\n}\n@end";fD.Shader["import"](lB);var cB={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function fB(e){var t={type:fD.Texture.FLOAT,minFilter:fD.Texture.NEAREST,magFilter:fD.Texture.NEAREST};this._positionSourceTex=new fD.Texture2D(t),this._positionSourceTex.flipY=!1,this._positionTex=new fD.Texture2D(t),this._positionPrevTex=new fD.Texture2D(t),this._forceTex=new fD.Texture2D(t),this._forcePrevTex=new fD.Texture2D(t),this._weightedSumTex=new fD.Texture2D(t),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new fD.Texture2D(t),this._globalSpeedPrevTex=new fD.Texture2D(t),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new aO({fragment:fD.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new aO({fragment:fD.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new aO({fragment:fD.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new aO({fragment:fD.Shader.source("clay.compositor.output")});var n=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE)};this._edgeForceMesh=new fD.Mesh({geometry:new fD.Geometry({attributes:{node1:new fD.Geometry.Attribute("node1","float",2),node2:new fD.Geometry.Attribute("node2","float",2),weight:new fD.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new fD.Material({transparent:!0,shader:fD.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:n,depthMask:!1,depthText:!1}),mode:fD.Mesh.POINTS}),this._weightedSumMesh=new fD.Mesh({geometry:new fD.Geometry({attributes:{node:new fD.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new fD.Material({transparent:!0,shader:fD.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:n,depthMask:!1,depthText:!1}),mode:fD.Mesh.POINTS}),this._framebuffer=new nA({depthBuffer:!1}),this._dummyCamera=new fD.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}fB.prototype.updateOption=function(e){for(var t in cB)this[t]=cB[t];var n=this._nodes.length;if(this.jitterTolerence=n>5e4?10:n>5e3?1:.1,this.scaling=n>100?2:10,e)for(var t in cB)null!=e[t]&&(this[t]=e[t]);if(this.repulsionByDegree)for(var r=this._positionSourceTex.pixels,i=0;i<this._nodes.length;i++)r[4*i+2]=(this._nodes[i].degree||0)+1},fB.prototype._updateGravityCenter=function(e){var t=this._nodes,n=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var r=[1/0,1/0],i=[-1/0,-1/0],a=0;a<t.length;a++)r[0]=Math.min(t[a].x,r[0]),r[1]=Math.min(t[a].y,r[1]),i[0]=Math.max(t[a].x,i[0]),i[1]=Math.max(t[a].y,i[1]);this._gravityCenter=[.5*(r[0]+i[0]),.5*(r[1]+i[1])]}for(a=0;a<n.length;a++){var o=n[a].node1,s=n[a].node2;t[o].degree=(t[o].degree||0)+1,t[s].degree=(t[s].degree||0)+1}},fB.prototype.initData=function(e,t){this._nodes=e,this._edges=t,this._updateGravityCenter();var n=Math.ceil(Math.sqrt(e.length)),r=n,i=new Float32Array(n*r*4);this._resize(n,r);for(var a=0,o=0;o<e.length;o++){var s=e[o];i[a++]=s.x||0,i[a++]=s.y||0,i[a++]=s.mass||1,i[a++]=s.size||1}this._positionSourceTex.pixels=i;var u=this._edgeForceMesh.geometry,l=t.length;u.attributes.node1.init(2*l),u.attributes.node2.init(2*l),u.attributes.weight.init(2*l);var c=[];for(o=0;o<t.length;o++){var f=u.attributes,h=t[o].weight;null==h&&(h=1),f.node1.set(o,this.getNodeUV(t[o].node1,c)),f.node2.set(o,this.getNodeUV(t[o].node2,c)),f.weight.set(o,h),f.node1.set(o+l,this.getNodeUV(t[o].node2,c)),f.node2.set(o+l,this.getNodeUV(t[o].node1,c)),f.weight.set(o+l,h)}var d=this._weightedSumMesh.geometry;d.attributes.node.init(e.length);for(o=0;o<e.length;o++)d.attributes.node.set(o,this.getNodeUV(o,c));u.dirty(),d.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",e.length),this._nodeRepulsionPass.material.setUniform("textureSize",[n,r]),this._inited=!1,this._frame=0},fB.prototype.getNodes=function(){return this._nodes},fB.prototype.getEdges=function(){return this._edges},fB.prototype.step=function(e){this._inited||(this._initFromSource(e),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(e);var t=this._nodeRepulsionPass;t.setUniform("strongGravityMode",this.strongGravityMode),t.setUniform("gravity",this.gravity),t.setUniform("gravityCenter",this._gravityCenter),t.setUniform("scaling",this.scaling),t.setUniform("preventOverlap",this.preventOverlap),t.setUniform("positionTex",this._positionPrevTex),t.render(e);var n=this._edgeForceMesh;n.material.set("linLogMode",this.linLogMode),n.material.set("edgeWeightInfluence",this.edgeWeightInfluence),n.material.set("preventOverlap",this.preventOverlap),n.material.set("positionTex",this._positionPrevTex),e.gl.enable(e.gl.BLEND),e.renderPass([n],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT),e.gl.enable(e.gl.BLEND);var r=this._weightedSumMesh;r.material.set("positionTex",this._positionPrevTex),r.material.set("forceTex",this._forceTex),r.material.set("forcePrevTex",this._forcePrevTex),e.renderPass([r],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var i=this._globalSpeedPass;i.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),i.setUniform("weightedSumTex",this._weightedSumTex),i.setUniform("jitterTolerence",this.jitterTolerence),e.gl.disable(e.gl.BLEND),i.render(e);var a=this._positionPass;this._framebuffer.attach(this._positionTex),a.setUniform("globalSpeedTex",this._globalSpeedTex),a.setUniform("positionTex",this._positionPrevTex),a.setUniform("forceTex",this._forceTex),a.setUniform("forcePrevTex",this._forcePrevTex),a.render(e),this._framebuffer.unbind(e),this._swapTexture()},fB.prototype.update=function(e,t,n){null==t&&(t=1),t=Math.max(t,1);for(var r=0;r<t;r++)this.step(e);n&&n()},fB.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex},fB.prototype.getNodeUV=function(e,t){t=t||[];var n=this._positionTex.width,r=this._positionTex.height;return t[0]=e%n/(n-1),t[1]=Math.floor(e/n)/(r-1)||0,t},fB.prototype.getNodePosition=function(e,t){var n=this._positionArr,r=this._positionTex.width,i=this._positionTex.height,a=r*i;n&&n.length===4*a||(n=this._positionArr=new Float32Array(4*a)),this._framebuffer.bind(e),this._framebuffer.attach(this._positionPrevTex),e.gl.readPixels(0,0,r,i,e.gl.RGBA,e.gl.FLOAT,n),this._framebuffer.unbind(e),t||(t=new Float32Array(2*this._nodes.length));for(var o=0;o<this._nodes.length;o++)t[2*o]=n[4*o],t[2*o+1]=n[4*o+1];return t},fB.prototype.getTextureData=function(e,t){var n=this["_"+t+"Tex"],r=n.width,i=n.height;this._framebuffer.bind(e),this._framebuffer.attach(n);var a=new Float32Array(r*i*4);return e.gl.readPixels(0,0,r,i,e.gl.RGBA,e.gl.FLOAT,a),this._framebuffer.unbind(e),a},fB.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}},fB.prototype.isFinished=function(e){return this._frame>e},fB.prototype._swapTexture=function(){var e=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=e;e=this._forcePrevTex;this._forcePrevTex=this._forceTex,this._forceTex=e;e=this._globalSpeedPrevTex;this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=e},fB.prototype._initFromSource=function(e){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(e),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(e),e.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(e)},fB.prototype._resize=function(e,t){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach((function(n){this[n].width=e,this[n].height=t,this[n].dirty()}),this)},fB.prototype.dispose=function(e){this._framebuffer.dispose(e),this._copyPass.dispose(e),this._nodeRepulsionPass.dispose(e),this._positionPass.dispose(e),this._globalSpeedPass.dispose(e),this._edgeForceMesh.geometry.dispose(e),this._weightedSumMesh.geometry.dispose(e),this._positionSourceTex.dispose(e),this._positionTex.dispose(e),this._positionPrevTex.dispose(e),this._forceTex.dispose(e),this._forcePrevTex.dispose(e),this._weightedSumTex.dispose(e),this._globalSpeedTex.dispose(e),this._globalSpeedPrevTex.dispose(e)};var hB=fB;function dB(){var e={create:function(){return new Float32Array(2)},dist:function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},len:function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},scale:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},sub:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},normalize:function(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e},negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},set:function(e,t,n){return e[0]=t,e[1]=n,e}};function t(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var n=t.prototype;function r(){this.position=new Float32Array(2),this.force=e.create(),this.forcePrev=e.create(),this.mass=1,this.inDegree=0,this.outDegree=0}function i(e,t){this.source=e,this.target=t,this.weight=1}function a(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new t,this.rootRegion.centerOfMass=e.create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}n.beforeUpdate=function(){for(var e=0;e<this.nSubRegions;e++)this.subRegions[e].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},n.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var e=0;e<this.nSubRegions;e++)this.subRegions[e].afterUpdate()},n.addNode=function(e){if(0===this.nSubRegions){if(null==this.node)return void(this.node=e);this._addNodeToSubRegion(this.node),this.node=null}this._addNodeToSubRegion(e),this._updateCenterOfMass(e)},n.findSubRegion=function(e,t){for(var n=0;n<this.nSubRegions;n++){var r=this.subRegions[n];if(r.contain(e,t))return r}},n.contain=function(e,t){return this.bbox[0]<=e&&this.bbox[2]>=e&&this.bbox[1]<=t&&this.bbox[3]>=t},n.setBBox=function(e,t,n,r){this.bbox[0]=e,this.bbox[1]=t,this.bbox[2]=n,this.bbox[3]=r,this.size=(n-e+r-t)/2},n._newSubRegion=function(){var e=this.subRegions[this.nSubRegions];return e||(e=new t,this.subRegions[this.nSubRegions]=e),this.nSubRegions++,e},n._addNodeToSubRegion=function(e){var t=this.findSubRegion(e.position[0],e.position[1]),n=this.bbox;if(!t){var r=(n[0]+n[2])/2,i=(n[1]+n[3])/2,a=(n[2]-n[0])/2,o=(n[3]-n[1])/2,s=e.position[0]>=r?1:0,u=e.position[1]>=i?1:0;t=this._newSubRegion();t.setBBox(s*a+n[0],u*o+n[1],(s+1)*a+n[0],(u+1)*o+n[1])}t.addNode(e)},n._updateCenterOfMass=function(e){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var t=this.centerOfMass[0]*this.mass,n=this.centerOfMass[1]*this.mass;t+=e.position[0]*e.mass,n+=e.position[1]*e.mass,this.mass+=e.mass,this.centerOfMass[0]=t/this.mass,this.centerOfMass[1]=n/this.mass};var o=a.prototype;o.initNodes=function(e,t,n){var i=t.length;this.nodes.length=0;for(var a="undefined"!=typeof n,o=0;o<i;o++){var s=new r;s.position[0]=e[2*o],s.position[1]=e[2*o+1],s.mass=t[o],a&&(s.size=n[o]),this.nodes.push(s)}this._massArr=t,this._swingingArr=new Float32Array(i),a&&(this._sizeArr=n)},o.initEdges=function(e,t){var n=e.length/2;this.edges.length=0;for(var r=0;r<n;r++){var a=e[2*r],o=e[2*r+1],s=this.nodes[a],u=this.nodes[o];if(!s||!u)return void console.error("Node not exists, try initNodes before initEdges");s.outDegree++,u.inDegree++;var l=new i(s,u);t&&(l.weight=t[r]),this.edges.push(l)}},o.updateSettings=function(){if(this.repulsionByDegree)for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];t.mass=t.inDegree+t.outDegree+1}else for(e=0;e<this.nodes.length;e++){t=this.nodes[e];t.mass=this._massArr[e]}},o.update=function(){var t=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var n=0;n<t;n++)this.rootRegion.addNode(this.nodes[n]);this.rootRegion.afterUpdate()}for(n=0;n<t;n++){var r=this.nodes[n];e.copy(r.forcePrev,r.force),e.set(r.force,0,0)}for(n=0;n<t;n++){var i=this.nodes[n];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,i);else for(var a=n+1;a<t;a++){var o=this.nodes[a];this.applyNodeToNodeRepulsion(i,o,!1)}this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(i):this.applyNodeGravity(i))}for(n=0;n<this.edges.length;n++)this.applyEdgeAttraction(this.edges[n]);var s=0,u=0,l=e.create();for(n=0;n<t;n++){r=this.nodes[n];var c=e.dist(r.force,r.forcePrev);s+=c*r.mass,e.add(l,r.force,r.forcePrev);var f=.5*e.len(l);u+=f*r.mass,this._swingingArr[n]=c}var h=this.jitterTolerence*this.jitterTolerence*u/s;this._globalSpeed>0&&(h=Math.min(h/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=h;for(n=0;n<t;n++){r=this.nodes[n],c=this._swingingArr[n];var d=.1*h/(1+h*Math.sqrt(c)),p=e.len(r.force);p>0&&(d=Math.min(p*d,10)/p,e.scaleAndAdd(r.position,r.position,r.force,d))}},o.applyRegionToNodeRepulsion=function(){var t=e.create();return function(n,r){if(n.node)this.applyNodeToNodeRepulsion(n.node,r,!0);else{e.sub(t,r.position,n.centerOfMass);var i=t[0]*t[0]+t[1]*t[1];if(i>this.barnesHutTheta*n.size*n.size){var a=this.scaling*r.mass*n.mass/i;e.scaleAndAdd(r.force,r.force,t,a)}else for(var o=0;o<n.nSubRegions;o++)this.applyRegionToNodeRepulsion(n.subRegions[o],r)}}}(),o.applyNodeToNodeRepulsion=function(){var t=e.create();return function(n,r,i){if(n!=r){e.sub(t,n.position,r.position);var a=t[0]*t[0]+t[1]*t[1];if(0!==a){var o;if(this.preventOverlap){var s=Math.sqrt(a);if(s=s-n.size-r.size,s>0)o=this.scaling*n.mass*r.mass/(s*s);else{if(!(s<0))return;o=100*this.scaling*n.mass*r.mass}}else o=this.scaling*n.mass*r.mass/a;e.scaleAndAdd(n.force,n.force,t,o),e.scaleAndAdd(r.force,r.force,t,-o)}}}}(),o.applyEdgeAttraction=function(){var t=e.create();return function(n){var r=n.source,i=n.target;e.sub(t,r.position,i.position);var a,o,s=e.len(t);a=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?n.weight:Math.pow(n.weight,this.edgeWeightInfluence),this.preventOverlap&&(s=s-r.size-i.size,s<=0)||(o=this.linLogMode?-a*Math.log(s+1)/(s+1):-a,e.scaleAndAdd(r.force,r.force,t,o),e.scaleAndAdd(i.force,i.force,t,-o))}}(),o.applyNodeGravity=function(){var t=e.create();return function(n){e.sub(t,this.gravityCenter,n.position);var r=e.len(t);e.scaleAndAdd(n.force,n.force,t,this.gravity*n.mass/(r+1))}}(),o.applyNodeStrongGravity=function(){var t=e.create();return function(n){e.sub(t,this.gravityCenter,n.position),e.scaleAndAdd(n.force,n.force,t,this.gravity*n.mass)}}(),o.updateBBox=function(){for(var e=1/0,t=1/0,n=-1/0,r=-1/0,i=0;i<this.nodes.length;i++){var a=this.nodes[i].position;e=Math.min(e,a[0]),t=Math.min(t,a[1]),n=Math.max(n,a[0]),r=Math.max(r,a[1])}this.bbox[0]=e,this.bbox[1]=t,this.bbox[2]=n,this.bbox[3]=r},o.getGlobalSpeed=function(){return this._globalSpeed};var s=null;self.onmessage=function(e){switch(e.data.cmd){case"init":s=new a,s.initNodes(e.data.nodesPosition,e.data.nodesMass,e.data.nodesSize),s.initEdges(e.data.edges,e.data.edgesWeight);break;case"updateConfig":if(s)for(var t in e.data.config)s[t]=e.data.config[t];break;case"update":var n=e.data.steps;if(s){for(var r=0;r<n;r++)s.update();var i=s.nodes.length,o=new Float32Array(2*i);for(r=0;r<i;r++){var u=s.nodes[r];o[2*r]=u.position[0],o[2*r+1]=u.position[1]}self.postMessage({buffer:o.buffer,globalSpeed:s.getGlobalSpeed()},[o.buffer])}else{var l=new Float32Array;self.postMessage({buffer:l.buffer,globalSpeed:s.getGlobalSpeed()},[l.buffer])}break}}}var pB=dB,gB=pB.toString();gB=gB.slice(gB.indexOf("{")+1,gB.lastIndexOf("}"));var mB={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},vB=function(e){for(var t in mB)this[t]=mB[t];if(e)for(var t in e)this[t]=e[t];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new ZM({type:HM.FLOAT,flipY:!1,minFilter:HM.NEAREST,magFilter:HM.NEAREST})};vB.prototype.initData=function(e,t){var n=new Blob([gB]),r=window.URL.createObjectURL(n);this._worker=new Worker(r),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=e,this._edges=t,this._frame=0;for(var i=e.length,a=t.length,o=new Float32Array(2*i),s=new Float32Array(i),u=new Float32Array(i),l=new Float32Array(2*a),c=new Float32Array(a),f=0;f<e.length;f++){var h=e[f];o[2*f]=h.x,o[2*f+1]=h.y,s[f]=null==h.mass?1:h.mass,u[f]=null==h.size?1:h.size}for(f=0;f<t.length;f++){var d=t[f],p=d.node1,g=d.node2;l[2*f]=p,l[2*f+1]=g,c[f]=null==d.weight?1:d.weight}var m=Math.ceil(Math.sqrt(e.length)),v=m,y=new Float32Array(m*v*4),_=this._positionTex;_.width=m,_.height=v,_.pixels=y,this._worker.postMessage({cmd:"init",nodesPosition:o,nodesMass:s,nodesSize:u,edges:l,edgesWeight:c}),this._globalSpeed=1/0},vB.prototype.updateOption=function(e){var t={};for(var n in mB)t[n]=mB[n];var r=this._nodes,i=this._edges,a=r.length;if(t.jitterTolerence=a>5e4?10:a>5e3?1:.1,t.scaling=a>100?2:10,t.barnesHutOptimize=a>1e3,e)for(var n in mB)null!=e[n]&&(t[n]=e[n]);if(!t.gravityCenter){for(var o=[1/0,1/0],s=[-1/0,-1/0],u=0;u<r.length;u++)o[0]=Math.min(r[u].x,o[0]),o[1]=Math.min(r[u].y,o[1]),s[0]=Math.max(r[u].x,s[0]),s[1]=Math.max(r[u].y,s[1]);t.gravityCenter=[.5*(o[0]+s[0]),.5*(o[1]+s[1])]}for(u=0;u<i.length;u++){var l=i[u].node1,c=i[u].node2;r[l].degree=(r[l].degree||0)+1,r[c].degree=(r[c].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:t})},vB.prototype.update=function(e,t,n){null==t&&(t=1),t=Math.max(t,1),this._frame+=t,this._onupdate=n,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(t)})},vB.prototype._$onupdate=function(e){if(!this._disposed){var t=new Float32Array(e.data.buffer);this._globalSpeed=e.data.globalSpeed,this._positionArr=t,this._updateTexture(t),this._onupdate&&this._onupdate()}},vB.prototype.getNodePositionTexture=function(){return this._positionTex},vB.prototype.getNodeUV=function(e,t){t=t||[];var n=this._positionTex.width,r=this._positionTex.height;return t[0]=e%n/(n-1),t[1]=Math.floor(e/n)/(r-1),t},vB.prototype.getNodes=function(){return this._nodes},vB.prototype.getEdges=function(){return this._edges},vB.prototype.isFinished=function(e){return this._frame>e},vB.prototype.getNodePosition=function(e,t){if(t||(t=new Float32Array(2*this._nodes.length)),this._positionArr)for(var n=0;n<this._positionArr.length;n++)t[n]=this._positionArr[n];return t},vB.prototype._updateTexture=function(e){for(var t=this._positionTex.pixels,n=0,r=0;r<e.length;)t[n++]=e[r++],t[n++]=e[r++],t[n++]=1,t[n++]=1;this._positionTex.dirty()},vB.prototype.dispose=function(e){this._disposed=!0,this._worker=null};var yB=vB,_B=dT.extend((function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}}),(function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)}),{init:function(){var e=this.zr;e.on("mousedown",this._mouseDownHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("globalout",this._mouseUpHandler),e.animation.on("frame",this._update)},setTarget:function(e){this._target=e},setZoom:function(e){this._zoom=Math.max(Math.min(e,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(e){this._dx=e[0],this._dy=e[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var e=this._target,t=this._zoom;e.position.x=this._dx,e.position.y=this._dy,e.scale.set(t,t,t),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(e){if(!e.target){var t=e.offsetX,n=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(t,n)){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var r=this._convertPos(t,n);this._x=r.x,this._y=r.y}}},_convertPos:function(e,t){var n=this.viewGL.camera,r=this.viewGL.viewport;return{x:(e-r.x)/r.width*(n.right-n.left)+n.left,y:(t-r.y)/r.height*(n.bottom-n.top)+n.top}},_mouseMoveHandler:function(e){var t=this._convertPos(e.offsetX,e.offsetY);this._dx+=t.x-this._x,this._dy+=t.y-this._y,this._x=t.x,this._y=t.y,this._needsUpdate=!0},_mouseUpHandler:function(e){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(e){e=e.event;var t=e.wheelDelta||-e.detail;if(0!==t){var n=e.offsetX,r=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(n,r)){var i=t>0?1.1:.9,a=Math.max(Math.min(this._zoom*i,this.maxZoom),this.minZoom);i=a/this._zoom;var o=this._convertPos(n,r),s=(o.x-this._dx)*(i-1),u=(o.y-this._dy)*(i-1);this._dx-=s,this._dy-=u,this._zoom=a,this._needsUpdate=!0}}},dispose:function(){var e=this.zr;e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("globalout",this._mouseUpHandler),e.animation.off("frame",this._update)}}),bB=_B,xB="@export ecgl.lines2D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.vertex\n\nattribute vec2 position: POSITION;\nattribute vec2 normal;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n p2.xy /= p2.w;\n gl_Position.xy /= gl_Position.w;\n\n vec2 N = normalize(p2.xy - gl_Position.xy);\n gl_Position.xy += N * offset / viewport.zw * 2.0;\n\n gl_Position.xy *= gl_Position.w;\n\n v_Color = a_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n\n@end",wB=BD.vec2;fD.Shader["import"](xB);var SB=1,TB=sm.extend({type:"graphGL",__ecgl__:!0,init:function(e,t){this.groupGL=new fD.Node,this.viewGL=new YL("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new HN(!0,t),this._forceEdgesMesh=new fD.Mesh({material:new fD.Material({shader:fD.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new fD.Geometry({attributes:{node:new fD.Geometry.Attribute("node","float",2),color:new fD.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:fD.Mesh.LINES}),this._edgesMesh=new fD.Mesh({material:new fD.Material({shader:fD.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new uB({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new bB({zr:t.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(e,t,n){this.groupGL.add(this._pointsBuilder.rootNode),this._model=e,this._api=n,this._initLayout(e,t,n),this._pointsBuilder.update(e,t,n),this._forceLayoutInstance instanceof hB||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(e,n),this._control.off("update"),this._control.on("update",(function(){n.dispatchAction({type:"graphGLRoam",seriesId:e.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)}),this),this._control.setZoom(wO.firstNotNull(e.get("zoom"),1)),this._control.setOffset(e.get("offset")||[0,0]);var r=this._pointsBuilder.getPointsMesh();if(r.off("mousemove",this._mousemoveHandler),r.off("mouseout",this._mouseOutHandler,this),n.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,e.get("focusNodeAdjacency")){var i=e.get("focusNodeAdjacencyOn");"click"===i?n.getZr().on("click",this._clickHandler):"mouseover"===i&&(r.on("mousemove",this._mousemoveHandler,this),r.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1)}this._lastMouseOverDataIndex=-1},_clickHandler:function(e){if(!this._layouting){var t=this._pointsBuilder.getPointsMesh().dataIndex;t>=0?this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:t}):this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(e){if(!this._layouting){var t=this._pointsBuilder.getPointsMesh().dataIndex;t>=0?t!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:t}):this._mouseOutHandler(e),this._lastMouseOverDataIndex=t}},_mouseOutHandler:function(e){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(e,t){var n=this._forceEdgesMesh.geometry,r=t.getEdgeData(),i=0,a=this._forceLayoutInstance,o=2*r.count();n.attributes.node.init(o),n.attributes.color.init(o),r.each((function(t){var o=e[t];n.attributes.node.set(i,a.getNodeUV(o.node1)),n.attributes.node.set(i+1,a.getNodeUV(o.node2));var s=iR(r,o.dataIndex),u=fD.parseColor(s);u[3]*=wO.firstNotNull(aR(r,o.dataIndex),1),n.attributes.color.set(i,u),n.attributes.color.set(i+1,u),i+=2})),n.dirty()},_updateMeshLinesGeometry:function(){var e=this._model.getEdgeData(),t=this._edgesMesh.geometry,n=(e=this._model.getEdgeData(),this._model.getData().getLayout("points"));t.resetOffset(),t.setVertexCount(e.count()*t.getLineVertexCount()),t.setTriangleCount(e.count()*t.getLineTriangleCount());var r=[],i=[],a=["lineStyle","width"];this._originalEdgeColors=new Float32Array(4*e.count()),this._edgeIndicesMap=new Float32Array(e.count()),e.each((function(o){var s=e.graph.getEdgeByIndex(o),u=2*s.node1.dataIndex,l=2*s.node2.dataIndex;r[0]=n[u],r[1]=n[u+1],i[0]=n[l],i[1]=n[l+1];var c=iR(e,s.dataIndex),f=fD.parseColor(c);f[3]*=wO.firstNotNull(aR(e,s.dataIndex),1);var h=e.getItemModel(s.dataIndex),d=wO.firstNotNull(h.get(a),1)*this._api.getDevicePixelRatio();t.addLine(r,i,f,d);for(var p=0;p<4;p++)this._originalEdgeColors[4*s.dataIndex+p]=f[p];this._edgeIndicesMap[s.dataIndex]=o}),this),t.dirty()},_updateForceNodesGeometry:function(e){for(var t=this._pointsBuilder.getPointsMesh(),n=[],r=0;r<e.count();r++)this._forceLayoutInstance.getNodeUV(r,n),t.geometry.attributes.position.set(r,n);t.geometry.dirty("position")},_initLayout:function(e,t,n){var r=e.get("layout"),i=e.getGraph(),a=e.getBoxLayoutParams(),s=rd(a,{width:n.getWidth(),height:n.getHeight()});"force"===r&&(r="forceAtlas2"),this.stopLayout(e,t,n,{beforeLayout:!0});var u=e.getData(),l=e.getData();if("forceAtlas2"===r){var c=e.getModel("forceAtlas2"),f=this._forceLayoutInstance,h=[],d=[],p=u.getDataExtent("value"),g=l.getDataExtent("value"),m=wO.firstNotNull(c.get("edgeWeight"),1),v=wO.firstNotNull(c.get("nodeWeight"),1);"number"===typeof m&&(m=[m,m]),"number"===typeof v&&(v=[v,v]);var y=0,_={},b=new Float32Array(2*u.count());if(i.eachNode((function(e){var t,n,r=e.dataIndex,i=u.get("value",r);if(u.hasItemOption){var a=u.getItemModel(r);t=a.get("x"),n=a.get("y")}null==t&&(t=s.x+Math.random()*s.width,n=s.y+Math.random()*s.height),b[2*y]=t,b[2*y+1]=n,_[e.id]=y++;var l=o.linearMap(i,p,v);isNaN(l)&&(l=isNaN(v[0])?1:v[0]),h.push({x:t,y:n,mass:l,size:u.getItemVisual(r,"symbolSize")})})),u.setLayout("points",b),i.eachEdge((function(e){var t=e.dataIndex,n=u.get("value",t),r=o.linearMap(n,g,m);isNaN(r)&&(r=isNaN(m[0])?1:m[0]),d.push({node1:_[e.node1.id],node2:_[e.node2.id],weight:r,dataIndex:t})})),!f){var x=c.get("GPU");this._forceLayoutInstance&&((!x||this._forceLayoutInstance instanceof hB)&&(x||this._forceLayoutInstance instanceof yB)||(this._forceLayoutInstanceToDispose=this._forceLayoutInstance)),f=this._forceLayoutInstance=x?new hB:new yB}f.initData(h,d),f.updateOption(c.option),this._updateForceEdgesGeometry(f.getEdges(),e),this._updatePositionTexture(),n.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else{b=new Float32Array(2*u.count()),y=0;i.eachNode((function(e){var t,n,r=e.dataIndex;if(u.hasItemOption){var i=u.getItemModel(r);t=i.get("x"),n=i.get("y")}b[y++]=t,b[y++]=n})),u.setLayout("points",b),this._updateAfterLayout(e,t,n)}},_updatePositionTexture:function(){var e=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(e),this._forceEdgesMesh.material.set("positionTex",e)},startLayout:function(e,t,n,r){if(!r||null==r.from||r.from===this.uid){var i=this.viewGL,a=(n=this._api,this._forceLayoutInstance),o=this._model.getData(),s=this._model.getModel("forceAtlas2");if(a&&(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance)){this._updateForceNodesGeometry(e.getData()),this._pointsBuilder.hideLabels();var u=this,l=this._layoutId=SB++,c=s.getShallow("maxSteps"),f=s.getShallow("steps"),h=0,d=Math.max(2*f,20),p=function t(r){if(r===u._layoutId)return a.isFinished(c)?(n.dispatchAction({type:"graphGLStopLayout",from:u.uid}),void n.dispatchAction({type:"graphGLFinishLayout",points:o.getLayout("points"),from:u.uid})):void a.update(i.layer.renderer,f,(function(){u._updatePositionTexture(),h+=f,h>=d&&(u._syncNodePosition(e),h=0),n.getZr().refresh(),Xr((function(){t(r)}))}))};Xr((function(){u._forceLayoutInstanceToDispose&&(u._forceLayoutInstanceToDispose.dispose(i.layer.renderer),u._forceLayoutInstanceToDispose=null),p(l)})),this._layouting=!0}}},stopLayout:function(e,t,n,r){r&&null!=r.from&&r.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(r&&r.beforeLayout||(this._syncNodePosition(e),this._updateAfterLayout(e,t,n)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(e){var t=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);e.getData().setLayout("points",t),e.setNodePosition(t)},_updateAfterLayout:function(e,t,n){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(e,t,n),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(e,t,n,r){var i=this._model.getData();this._downplayAll();var a=r.dataIndex,o=i.graph,s=[],u=o.getNodeByIndex(a);s.push(u),u.edges.forEach((function(e){e.dataIndex<0||(e.node1!==u&&s.push(e.node1),e.node2!==u&&s.push(e.node2))}),this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),s.forEach((function(e){this._pointsBuilder.highlight(i,e.dataIndex)}),this),this._pointsBuilder.updateLabels(s.map((function(e){return e.dataIndex})));var l=[];u.edges.forEach((function(e){e.dataIndex>=0&&(this._highlightEdge(e.dataIndex),l.push(e))}),this),this._focusNodes=s,this._focusEdges=l},unfocusNodeAdjacency:function(e,t,n,r){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(e){var t=this._model.getEdgeData().getItemModel(e),n=fD.parseColor(t.get("emphasis.lineStyle.color")||t.get("lineStyle.color")),r=wO.firstNotNull(t.get("emphasis.lineStyle.opacity"),t.get("lineStyle.opacity"),1);n[3]*=r,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],n)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach((function(e){this._pointsBuilder.downplay(this._model.getData(),e.dataIndex)}),this),this._focusEdges&&this._focusEdges.forEach((function(e){this._downplayEdge(e.dataIndex)}),this)},_downplayEdge:function(e){var t=this._getColor(e,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],t)},_setEdgeFade:function(){var e=[];return function(t,n){this._getColor(t,e),e[3]*=n,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],e)}}(),_getColor:function(e,t){for(var n=0;n<4;n++)t[n]=this._originalEdgeColors[4*e+n];return t},_fadeOutEdgesAll:function(e){var t=this._model.getData().graph;t.eachEdge((function(t){this._setEdgeFade(t.dataIndex,e)}),this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(e,t){this.viewGL.setViewport(0,0,t.getWidth(),t.getHeight(),t.getDevicePixelRatio());for(var n=this.viewGL.camera,r=e.getData(),i=r.getLayout("points"),a=wB.create(1/0,1/0),o=wB.create(-1/0,-1/0),s=[],u=0;u<i.length;)s[0]=i[u++],s[1]=i[u++],wB.min(a,a,s),wB.max(o,o,s);var l=(o[1]+a[1])/2,c=(o[0]+a[0])/2;if(!(c>n.left&&c<n.right&&l<n.bottom&&l>n.top)){var f=Math.max(o[0]-a[0],10),h=f/t.getWidth()*t.getHeight();f*=1.4,h*=1.4,a[0]-=.2*f,n.left=a[0],n.top=l-h/2,n.bottom=l+h/2,n.right=f+a[0],n.near=0,n.far=100}},dispose:function(){var e=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(e),this.groupGL.removeAll(),this._layoutId=-1},remove:function(){this.groupGL.removeAll(),this._control.dispose()}});function EB(e){return e instanceof Array||(e=[e,e]),e}function MB(e){function t(){}e.registerChartView(TB),e.registerSeriesModel(iB),e.registerVisual((function(e){var t={};e.eachSeriesByType("graphGL",(function(e){var n=e.getCategoriesData(),r=e.getData(),i={};n.each((function(r){var a=n.getName(r);i["ec-"+a]=r;var o=n.getItemModel(r),s=o.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(a,t)),n.setItemVisual(r,"style",s);for(var u=["symbol","symbolSize","symbolKeepAspect"],l=0;l<u.length;l++){var c=o.getShallow(u[l],!0);null!=c&&n.setItemVisual(r,u[l],c)}})),n.count()&&r.each((function(e){var t=r.getItemModel(e),a=t.getShallow("category");if(null!=a){"string"===typeof a&&(a=i["ec-"+a]);var o=n.getItemVisual(a,"style"),s=r.ensureUniqueItemVisual(e,"style");l.extend(s,o);for(var u=["symbol","symbolSize","symbolKeepAspect"],c=0;c<u.length;c++)r.setItemVisual(e,u[c],n.getItemVisual(a,u[c]))}}))}))})),e.registerVisual((function(e){e.eachSeriesByType("graphGL",(function(e){var t=e.getGraph(),n=e.getEdgeData(),r=EB(e.get("edgeSymbol")),i=EB(e.get("edgeSymbolSize"));n.setVisual("drawType","stroke"),n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each((function(e){var r=n.getItemModel(e),i=t.getEdgeByIndex(e),a=EB(r.getShallow("symbol",!0)),o=EB(r.getShallow("symbolSize",!0)),s=r.getModel("lineStyle").getLineStyle(),u=n.ensureUniqueItemVisual(e,"style");switch(l.extend(u,s),u.stroke){case"source":var c=i.node1.getVisual("style");u.stroke=c&&c.fill;break;case"target":c=i.node2.getVisual("style");u.stroke=c&&c.fill;break}a[0]&&i.setVisual("fromSymbol",a[0]),a[1]&&i.setVisual("toSymbol",a[1]),o[0]&&i.setVisual("fromSymbolSize",o[0]),o[1]&&i.setVisual("toSymbolSize",o[1])}))}))})),e.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},(function(e,t){t.eachComponent({mainType:"series",query:e},(function(t){t.setView(e)}))})),e.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},t),e.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},t),e.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},t),e.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},t)}Jw(MB);var CB=Yg.extend({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualStyleAccessPath:"itemStyle",getInitialData:function(e,t){var n=xb(this.get("coordinateSystem"))||["x","y"];n.push("vx","vy");var r=a.createDimensions(this.getSource(),{coordDimensions:n,encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),i=new dx(r,this);return i.initData(this.getSource()),i},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}}),AB=lC.extend((function(){return{dynamic:!0,attributes:{position:new lC.Attribute("position","float",3,"POSITION")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(e){var t=this.attributes,n=4*e,r=2*e;this.vertexCount!==n&&t.position.init(n),this.triangleCount!==r&&(this.indices=0===r?null:this.vertexCount>65535?new Uint32Array(3*r):new Uint16Array(3*r))},addLine:function(e){var t=this._vertexOffset;this.attributes.position.set(t,[e[0],e[1],1]),this.attributes.position.set(t+1,[e[0],e[1],-1]),this.attributes.position.set(t+2,[e[0],e[1],2]),this.attributes.position.set(t+3,[e[0],e[1],-2]),this.setTriangleIndices(this._faceOffset++,[t,t+1,t+2]),this.setTriangleIndices(this._faceOffset++,[t+1,t+2,t+3]),this._vertexOffset+=4}}),OB=AB,DB="@export ecgl.vfParticle.particle.fragment\n\nuniform sampler2D particleTexture;\nuniform sampler2D spawnTexture;\nuniform sampler2D velocityTexture;\n\nuniform float deltaTime;\nuniform float elapsedTime;\n\nuniform float speedScaling : 1.0;\n\nuniform vec2 textureSize;\nuniform vec4 region : [0, 0, 1, 1];\nuniform float firstFrameTime;\n\nvarying vec2 v_Texcoord;\n\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, v_Texcoord);\n bool spawn = false;\n if (p.w <= 0.0) {\n p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));\n p.w -= firstFrameTime;\n spawn = true;\n }\n vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;\n v = (v - 0.5) * 2.0;\n p.z = length(v);\n p.xy += v * deltaTime / 10.0 * speedScaling;\n p.w -= deltaTime;\n\n if (spawn || p.xy != fract(p.xy)) {\n p.z = 0.0;\n }\n p.xy = fract(p.xy);\n\n gl_FragColor = p;\n}\n@end\n\n@export ecgl.vfParticle.renderPoints.vertex\n\n#define PI 3.1415926\n\nattribute vec2 texcoord : TEXCOORD_0;\n\nuniform sampler2D particleTexture;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nuniform float size : 1.0;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, texcoord);\n\n if (p.w > 0.0 && p.z > 1e-5) {\n gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n\n v_Mag = p.z;\n v_Uv = p.xy;\n\n gl_PointSize = size;\n}\n\n@end\n\n@export ecgl.vfParticle.renderPoints.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\nuniform sampler2D spriteTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n#ifdef SPRITETEXTURE_ENABLED\n gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\n if (color.a == 0.0) {\n discard;\n }\n#endif\n#ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.vertex\n\n#define PI 3.1415926\n\nattribute vec3 position : POSITION;\n\nuniform sampler2D particleTexture;\nuniform sampler2D prevParticleTexture;\n\nuniform float size : 1.0;\nuniform vec4 vp: VIEWPORT;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\n@import clay.util.rand\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, position.xy);\n vec4 p2 = texture2D(prevParticleTexture, position.xy);\n\n p.xy = p.xy * 2.0 - 1.0;\n p2.xy = p2.xy * 2.0 - 1.0;\n\n if (p.w > 0.0 && p.z > 1e-5) {\n vec2 dir = normalize(p.xy - p2.xy);\n vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\n if (abs(position.z) == 2.0) {\n gl_Position = vec4(p.xy + norm, 0.0, 1.0);\n v_Uv = p.xy;\n v_Mag = p.z;\n }\n else {\n gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\n v_Mag = p2.z;\n v_Uv = p2.xy;\n }\n gl_Position = worldViewProjection * gl_Position;\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n #ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n";function PB(e){var t=document.createElement("canvas");t.width=t.height=e;var n=t.getContext("2d");return n.fillStyle="#fff",n.arc(e/2,e/2,e/2,0,2*Math.PI),n.fill(),t}NE["import"](DB);var LB=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new ZM({type:HM.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};LB.prototype={constructor:LB,init:function(){var e={type:HM.FLOAT,minFilter:HM.NEAREST,magFilter:HM.NEAREST,useMipmap:!1};this._spawnTexture=new ZM(e),this._particleTexture0=new ZM(e),this._particleTexture1=new ZM(e),this._frameBuffer=new nA({depthBuffer:!1}),this._particlePass=new aO({fragment:NE.source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new aO({fragment:NE.source("clay.compositor.downsample")});var t=new VM({renderOrder:10,material:new XT({shader:new NE(NE.source("ecgl.vfParticle.renderPoints.vertex"),NE.source("ecgl.vfParticle.renderPoints.fragment"))}),mode:VM.POINTS,geometry:new lC({dynamic:!0,mainAttribute:"texcoord0"})}),n=new VM({renderOrder:10,material:new XT({shader:new NE(NE.source("ecgl.vfParticle.renderLines.vertex"),NE.source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new OB,culling:!1}),r=new VM({material:new XT({shader:new NE(NE.source("ecgl.color.vertex"),NE.source("ecgl.color.fragment"))}),geometry:new sA});r.material.enableTexture("diffuseMap"),this._particlePointsMesh=t,this._particleLinesMesh=n,this._lastFrameFullQuadMesh=r,this._camera=new JA,this._thisFrameTexture=new ZM,this._lastFrameTexture=new ZM},setParticleDensity:function(e,t){for(var n=e*t,r=new Float32Array(4*n),i=0,a=this.particleLife,o=0;o<e;o++)for(var s=0;s<t;s++,i++){r[4*i]=Math.random(),r[4*i+1]=Math.random(),r[4*i+2]=Math.random();var u=(a[1]-a[0])*Math.random()+a[0];r[4*i+3]=u}"line"===this._particleType?this._setLineGeometry(e,t):this._setPointsGeometry(e,t),this._spawnTexture.width=e,this._spawnTexture.height=t,this._spawnTexture.pixels=r,this._particleTexture0.width=this._particleTexture1.width=e,this._particleTexture0.height=this._particleTexture1.height=t,this._particlePass.setUniform("textureSize",[e,t])},_setPointsGeometry:function(e,t){var n=e*t,r=this._particlePointsMesh.geometry,i=r.attributes;i.texcoord0.init(n);for(var a=0,o=0;o<e;o++)for(var s=0;s<t;s++,a++)i.texcoord0.value[2*a]=o/e,i.texcoord0.value[2*a+1]=s/t;r.dirty()},_setLineGeometry:function(e,t){var n=e*t,r=this._getParticleMesh().geometry;r.setLineCount(n),r.resetOffset();for(var i=0;i<e;i++)for(var a=0;a<t;a++)r.addLine([i/e,a/t]);r.dirty()},_getParticleMesh:function(){return"line"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(e,t,n,r){var i=this._getParticleMesh(),a=this._frameBuffer,o=this._particlePass;r&&this._updateDownsampleTextures(e,t),i.material.set("size",this._particleSize*this._supersampling),i.material.set("color",this.particleColor),o.setUniform("speedScaling",this.particleSpeedScaling),a.attach(this._particleTexture1),o.setUniform("firstFrameTime",r?(this.particleLife[1]+this.particleLife[0])/2:0),o.setUniform("particleTexture",this._particleTexture0),o.setUniform("deltaTime",n),o.setUniform("elapsedTime",this._elapsedTime),o.render(e,a),i.material.set("particleTexture",this._particleTexture1),i.material.set("prevParticleTexture",this._particleTexture0),a.attach(this._thisFrameTexture),a.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT);var s=this._lastFrameFullQuadMesh;s.material.set("diffuseMap",this._lastFrameTexture),s.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),e.renderPass([s,i],this._camera),a.unbind(e),this._downsample(e),this._swapTexture(),this._elapsedTime+=n},_downsample:function(e){var t=this._downsampleTextures;if(0!==t.length){var n=0,r=this._thisFrameTexture,i=t[n];while(i)this._frameBuffer.attach(i),this._downsamplePass.setUniform("texture",r),this._downsamplePass.setUniform("textureSize",[r.width,r.height]),this._downsamplePass.render(e,this._frameBuffer),r=i,i=t[++n]}},getSurfaceTexture:function(){var e=this._downsampleTextures;return e.length>0?e[e.length-1]:this._lastFrameTexture},setRegion:function(e){this._particlePass.setUniform("region",e)},resize:function(e,t){this._lastFrameTexture.width=e*this._supersampling,this._lastFrameTexture.height=t*this._supersampling,this._thisFrameTexture.width=e*this._supersampling,this._thisFrameTexture.height=t*this._supersampling,this._width=e,this._height=t},setParticleSize:function(e){var t=this._getParticleMesh();if(e<=2)return t.material.disableTexture("spriteTexture"),void(t.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new ZM),this._spriteTexture.image&&this._spriteTexture.image.width===e||(this._spriteTexture.image=PB(e),this._spriteTexture.dirty()),t.material.transparent=!0,t.material.enableTexture("spriteTexture"),t.material.set("spriteTexture",this._spriteTexture),this._particleSize=e},setGradientTexture:function(e){var t=this._getParticleMesh().material;t[e?"enableTexture":"disableTexture"]("gradientTexture"),t.setUniform("gradientTexture",e)},setColorTextureImage:function(e,t){var n=this._getParticleMesh().material;n.setTextureImage("colorTexture",e,t,{flipY:!0})},setParticleType:function(e){this._particleType=e},clearFrame:function(e){var t=this._frameBuffer;t.attach(this._lastFrameTexture),t.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),t.unbind(e)},setSupersampling:function(e){this._supersampling=e,this.resize(this._width,this._height)},_updateDownsampleTextures:function(e,t){for(var n=this._downsampleTextures,r=Math.max(Math.floor(Math.log(this._supersampling/t.getDevicePixelRatio())/Math.log(2)),0),i=2,a=this._width*this._supersampling,o=this._height*this._supersampling,s=0;s<r;s++)n[s]=n[s]||new ZM,n[s].width=a/i,n[s].height=o/i,i*=2;for(;s<n.length;s++)n[s].dispose(e);n.length=r},_swapTexture:function(){var e=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=e;e=this._thisFrameTexture;this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=e},dispose:function(e){e.disposeFrameBuffer(this._frameBuffer),e.disposeTexture(this.vectorFieldTexture),e.disposeTexture(this._spawnTexture),e.disposeTexture(this._particleTexture0),e.disposeTexture(this._particleTexture1),e.disposeTexture(this._thisFrameTexture),e.disposeTexture(this._lastFrameTexture),e.disposeGeometry(this._particleLinesMesh.geometry),e.disposeGeometry(this._particlePointsMesh.geometry),e.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&e.disposeTexture(this._spriteTexture),this._particlePass.dispose(e),this._downsamplePass.dispose(e),this._downsampleTextures.forEach((function(t){t.dispose(e)}))}};var IB=LB,RB=sm.extend({type:"flowGL",__ecgl__:!0,init:function(e,t){this.viewGL=new YL("orthographic"),this.groupGL=new fD.Node,this.viewGL.add(this.groupGL),this._particleSurface=new IB;var n=new fD.Mesh({geometry:new fD.PlaneGeometry,material:new fD.Material({shader:new fD.Shader({vertex:fD.Shader.source("ecgl.color.vertex"),fragment:fD.Shader.source("ecgl.color.fragment")}),transparent:!0})});n.material.enableTexture("diffuseMap"),this.groupGL.add(n),this._planeMesh=n},render:function(e,t,n){var r=this._particleSurface;r.setParticleType(e.get("particleType")),r.setSupersampling(e.get("supersampling")),this._updateData(e,n),this._updateCamera(n.getWidth(),n.getHeight(),n.getDevicePixelRatio());var i=wO.firstNotNull(e.get("particleDensity"),128);r.setParticleDensity(i,i);var a=this._planeMesh,o=+new Date,s=this,u=!0;a.__percent=0,a.stopAnimation(),a.animate("",{loop:!0}).when(1e5,{__percent:1}).during((function(){var e=+new Date,t=Math.min(e-o,20);o+=t,s._renderer&&(r.update(s._renderer,n,t/1e3,u),a.material.set("diffuseMap",r.getSurfaceTexture())),u=!1})).start();var l=e.getModel("itemStyle"),c=fD.parseColor(l.get("color"));c[3]*=wO.firstNotNull(l.get("opacity"),1),a.material.set("color",c),r.setColorTextureImage(e.get("colorTexture"),n),r.setParticleSize(e.get("particleSize")),r.particleSpeedScaling=e.get("particleSpeed"),r.motionBlurFactor=1-Math.pow(.1,e.get("particleTrail"))},updateTransform:function(e,t,n){this._updateData(e,n)},afterRender:function(e,t,n,r){var i=r.renderer;this._renderer=i},_updateData:function(e,t){var n=e.coordinateSystem,r=n.dimensions.map((function(t){return e.coordDimToDataDim(t)[0]})),i=e.getData(),a=i.getDataExtent(r[0]),o=i.getDataExtent(r[1]),s=e.get("gridWidth"),u=e.get("gridHeight");if(null==s||"auto"===s){var l=(a[1]-a[0])/(o[1]-o[0]);s=Math.round(Math.sqrt(l*i.count()))}null!=u&&"auto"!==u||(u=Math.ceil(i.count()/s));var c=this._particleSurface.vectorFieldTexture,f=c.pixels;if(f&&f.length===u*s*4)for(var h=0;h<f.length;h++)f[h]=0;else f=c.pixels=new Float32Array(s*u*4);var d=0,p=1/0,g=new Float32Array(2*i.count()),m=0,v=[[1/0,1/0],[-1/0,-1/0]];i.each([r[0],r[1],"vx","vy"],(function(e,t,r,i){var a=n.dataToPoint([e,t]);g[m++]=a[0],g[m++]=a[1],v[0][0]=Math.min(a[0],v[0][0]),v[0][1]=Math.min(a[1],v[0][1]),v[1][0]=Math.max(a[0],v[1][0]),v[1][1]=Math.max(a[1],v[1][1]);var o=Math.sqrt(r*r+i*i);d=Math.max(d,o),p=Math.min(p,o)})),i.each(["vx","vy"],(function(e,t,n){var r=Math.round((g[2*n]-v[0][0])/(v[1][0]-v[0][0])*(s-1)),i=u-1-Math.round((g[2*n+1]-v[0][1])/(v[1][1]-v[0][1])*(u-1)),a=4*(i*s+r);f[a]=e/d*.5+.5,f[a+1]=t/d*.5+.5,f[a+3]=1})),c.width=s,c.height=u,"bmap"===e.get("coordinateSystem")&&this._fillEmptyPixels(c),c.dirty(),this._updatePlanePosition(v[0],v[1],e,t),this._updateGradientTexture(i.getVisual("visualMeta"),[p,d])},_fillEmptyPixels:function(e){var t=e.pixels,n=e.width,r=e.height;function i(e,i,a){e=Math.max(Math.min(e,n-1),0),i=Math.max(Math.min(i,r-1),0);var o=4*(i*(n-1)+e);return 0!==t[o+3]&&(a[0]=t[o],a[1]=t[o+1],!0)}function a(e,t,n){n[0]=e[0]+t[0],n[1]=e[1]+t[1]}for(var o=[],s=[],u=[],l=[],c=[],f=0,h=0;h<r;h++)for(var d=0;d<n;d++){var p=4*(h*(n-1)+d);0===t[p+3]&&(f=o[0]=o[1]=0,i(d-1,h,s)&&(f++,a(s,o,o)),i(d+1,h,u)&&(f++,a(u,o,o)),i(d,h-1,l)&&(f++,a(l,o,o)),i(d,h+1,c)&&(f++,a(c,o,o)),o[0]/=f,o[1]/=f,t[p]=o[0],t[p+1]=o[1]),t[p+3]=1}},_updateGradientTexture:function(e,t){if(e&&e.length){this._gradientTexture=this._gradientTexture||new fD.Texture2D({image:document.createElement("canvas")});var n=this._gradientTexture,r=n.image;r.width=200,r.height=1;var i=r.getContext("2d"),a=i.createLinearGradient(0,.5,r.width,.5);e[0].stops.forEach((function(e){var n;t[1]===t[0]?n=0:(n=e.value/t[1],n=Math.min(Math.max(n,0),1)),a.addColorStop(n,e.color)})),i.fillStyle=a,i.fillRect(0,0,r.width,r.height),n.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)}else this._particleSurface.setGradientTexture(null)},_updatePlanePosition:function(e,t,n,r){var i=this._limitInViewportAndFullFill(e,t,n,r);e=i.leftTop,t=i.rightBottom,this._particleSurface.setRegion(i.region),this._planeMesh.position.set((e[0]+t[0])/2,r.getHeight()-(e[1]+t[1])/2,0);var a=t[0]-e[0],o=t[1]-e[1];this._planeMesh.scale.set(a/2,o/2,1),this._particleSurface.resize(Math.max(Math.min(a,2048),1),Math.max(Math.min(o,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(e,t,n,r){var i=[Math.max(e[0],0),Math.max(e[1],0)],a=[Math.min(t[0],r.getWidth()),Math.min(t[1],r.getHeight())];if("bmap"===n.get("coordinateSystem")){var o=n.getData().getDataExtent(n.coordDimToDataDim("lng")[0]),s=Math.floor(o[1]-o[0])>=359;s&&(i[0]>0&&(i[0]=0),a[0]<r.getWidth()&&(a[0]=r.getWidth()))}var u=t[0]-e[0],l=t[1]-e[1],c=a[0]-i[0],f=a[1]-i[1],h=[(i[0]-e[0])/u,1-f/l-(i[1]-e[1])/l,c/u,f/l];return{leftTop:i,rightBottom:a,region:h}},_updateCamera:function(e,t,n){this.viewGL.setViewport(0,0,e,t,n);var r=this.viewGL.camera;r.left=r.bottom=0,r.top=t,r.right=e,r.near=0,r.far=100,r.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}});function kB(e){e.registerChartView(RB),e.registerSeriesModel(CB)}Jw(kB);var NB=Yg.extend({type:"series.linesGL",dependencies:["grid","geo"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",streamEnabled:!0,init:function(e){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),NB.superApply(this,"init",arguments)},mergeOption:function(e){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),NB.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=ye(this._flatCoords,t.flatCoords),this._flatCoordsOffset=ye(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e),n=t.option instanceof Array?t.option:t.getShallow("coords");return n},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],r=this._flatCoordsOffset[2*e+1],i=0;i<r;i++)t[i]=t[i]||[],t[i][0]=this._flatCoords[n+2*i],t[i][1]=this._flatCoords[n+2*i+1];return r}var a=this._getCoordsFromItemModel(e);for(i=0;i<a.length;i++)t[i]=t[i]||[],t[i][0]=a[i][0],t[i][1]=a[i][1];return a.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),"number"===typeof e[0]){for(var n=e.length,r=new Uint32Array(n),i=new Float64Array(n),a=0,o=0,s=0,u=0;u<n;){s++;var l=e[u++];r[o++]=a+t,r[o++]=l;for(var c=0;c<l;c++){var f=e[u++],h=e[u++];i[a++]=f,i[a++]=h}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,o),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var n=new dx(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,r,i){if(e instanceof Array)return NaN;n.hasItemOption=!0;var a=e.value;return null!=a?a instanceof Array?a[i]:a:void 0})),n},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}}),FB=NB,BB=sm.extend({type:"linesGL",__ecgl__:!0,init:function(e,t){this.groupGL=new fD.Node,this.viewGL=new YL("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new NF(this.viewGL),this._nativeLinesShader=fD.createShader("ecgl.lines3D"),this._meshLinesShader=fD.createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(e,t,n){this.groupGL.removeAll(),this._glViewHelper.reset(e,n);var r=this._linesMeshes[0];r||(r=this._linesMeshes[0]=this._createLinesMesh(e)),this._linesMeshes.length=1,this.groupGL.add(r),this._updateLinesMesh(e,r,0,e.getData().count()),this.viewGL.setPostEffect(e.getModel("postEffect"),n)},incrementalPrepareRender:function(e,t,n){this.groupGL.removeAll(),this._glViewHelper.reset(e,n),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),n)},incrementalRender:function(e,t,n,r){var i=this._linesMeshes[this._currentStep];i||(i=this._createLinesMesh(t),this._linesMeshes[this._currentStep]=i),this._updateLinesMesh(t,i,e.start,e.end),this.groupGL.add(i),r.getZr().refresh(),this._currentStep++},updateTransform:function(e,t,n){e.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(e,n)},_createLinesMesh:function(e){var t=new fD.Mesh({$ignorePicking:!0,material:new fD.Material({shader:fD.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new uB({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:fD.Mesh.LINES,culling:!1});return t},_updateLinesMesh:function(e,t,n,r){var i=e.getData();t.material.blend="lighter"===e.get("blendMode")?fD.additiveBlend:null;var a=e.get("lineStyle.curveness")||0,o=e.get("polyline"),s=t.geometry,u=e.coordinateSystem,l=wO.firstNotNull(e.get("lineStyle.width"),1);l>1?(t.material.shader!==this._meshLinesShader&&t.material.attachShader(this._meshLinesShader),t.mode=fD.Mesh.TRIANGLES):(t.material.shader!==this._nativeLinesShader&&t.material.attachShader(this._nativeLinesShader),t.mode=fD.Mesh.LINES),n=n||0,r=r||i.count(),s.resetOffset();var c=0,f=0,h=[],d=[],p=[],g=[],m=[],v=.3,y=.7;function _(){d[0]=h[0]*y+g[0]*v-(h[1]-g[1])*a,d[1]=h[1]*y+g[1]*v-(g[0]-h[0])*a,p[0]=h[0]*v+g[0]*y-(h[1]-g[1])*a,p[1]=h[1]*v+g[1]*y-(g[0]-h[0])*a}if(o||0!==a)for(var b=n;b<r;b++)if(o){var x=e.getLineCoordsCount(b);c+=s.getPolylineVertexCount(x),f+=s.getPolylineTriangleCount(x)}else e.getLineCoords(b,m),this._glViewHelper.dataToPoint(u,m[0],h),this._glViewHelper.dataToPoint(u,m[1],g),_(),c+=s.getCubicCurveVertexCount(h,d,p,g),f+=s.getCubicCurveTriangleCount(h,d,p,g);else{var w=r-n;c+=w*s.getLineVertexCount(),f+=w*s.getLineVertexCount()}s.setVertexCount(c),s.setTriangleCount(f);var S=n,T=[];for(b=n;b<r;b++){fD.parseColor(iR(i,S),T);var E=wO.firstNotNull(aR(i,S),1);T[3]*=E;x=e.getLineCoords(b,m);for(var M=0;M<x;M++)this._glViewHelper.dataToPoint(u,m[M],m[M]);o?s.addPolyline(m,T,l,0,x):0!==a?(h=m[0],g=m[1],_(),s.addCubicCurve(h,d,p,g,T,l)):s.addPolyline(m,T,l,0,2),S++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function zB(e){e.registerChartView(BB),e.registerSeriesModel(FB)}Jw(zB)},uyFV:function(e,t,n){"use strict";var r=n("HIsA"),i=n("qmtO").f,a=n("2I03"),o=n("B6LR"),s=n("JzK+"),u=n("eD14"),l=n("m52V"),c="".startsWith,f=Math.min,h=u("startsWith"),d=!l&&!h&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!d&&!h},{startsWith:function(e){var t=String(s(this));o(e);var n=a(f(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return c?c.call(t,r,n):t.slice(n,n+r.length)===r}})},v4S0:function(e,t,n){var r=n("HIsA"),i=n("Hiyu"),a=n("jUTB"),o=n("2hCa"),s=n("qmtO"),u=n("G70G");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),i=s.f,l=a(r),c={},f=0;while(l.length>f)n=i(r,t=l[f++]),void 0!==n&&u(c,t,n);return c}})},v8az:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("LTDN");r({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},vAB1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n("CU0g"),i=n("MMtT"),a=(0,i.LinkWrapper)(r.NavLink);t["default"]=a},vRjm:function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n},vYQ8:function(e,t,n){var r,i,a,o=n("2JD6"),s=n("7+LC"),u=n("IRht"),l=n("40mc"),c=n("b9+m"),f=n("riWr"),h=n("dpzy"),d=o.location,p=o.setImmediate,g=o.clearImmediate,m=o.process,v=o.MessageChannel,y=o.Dispatch,_=0,b={},x="onreadystatechange",w=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},S=function(e){return function(){w(e)}},T=function(e){w(e.data)},E=function(e){o.postMessage(e+"",d.protocol+"//"+d.host)};p&&g||(p=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return b[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(_),_},g=function(e){delete b[e]},"process"==u(m)?r=function(e){m.nextTick(S(e))}:y&&y.now?r=function(e){y.now(S(e))}:v&&!h?(i=new v,a=i.port2,i.port1.onmessage=T,r=l(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(E)||"file:"===d.protocol?r=x in f("script")?function(e){c.appendChild(f("script"))[x]=function(){c.removeChild(this),w(e)}}:function(e){setTimeout(S(e),0)}:(r=E,o.addEventListener("message",T,!1))),e.exports={set:p,clear:g}},vldi:function(e,t,n){"use strict";var r=n("2RC6").f,i=n("bWCM"),a=n("masK"),o=n("40mc"),s=n("xOST"),u=n("Ji6T"),l=n("me7Q"),c=n("QD/U"),f=n("Hiyu"),h=n("qDpf").fastKey,d=n("twJ5"),p=d.set,g=d.getterFor;e.exports={getConstructor:function(e,t,n,l){var c=e((function(e,r){s(e,c,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&u(r,e[l],e,n)})),d=g(t),m=function(e,t,n){var r,i,a=d(e),o=v(e,t);return o?o.value=n:(a.last=o={index:i=h(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},v=function(e,t){var n,r=d(e),i=h(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(c.prototype,{clear:function(){var e=this,t=d(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=d(t),r=v(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=d(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!v(this,e)}}),a(c.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&r(c.prototype,"size",{get:function(){return d(this).size}}),c},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),a=g(r);l(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(t)}}},"vn/D":function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("bXon"),o=n("hXyk"),s=n("DDwO"),u=n("70zE"),l=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=o(this),n=new(u(t,a("Set"))),r=s(t.has),i=s(n.add);return l(e,(function(e){r.call(t,e)&&i.call(n,e)})),n}})},w3Dd:function(e,t,n){"use strict";n("oTOb");var r=n("HIsA"),i=n("bXon"),a=n("nXFK"),o=n("GUTS"),s=n("masK"),u=n("J7X1"),l=n("afop"),c=n("twJ5"),f=n("xOST"),h=n("+qhb"),d=n("40mc"),p=n("KpHK"),g=n("hXyk"),m=n("pxmn"),v=n("bWCM"),y=n("OLna"),_=n("0Ccx"),b=n("tg/3"),x=n("kPvK"),w=i("fetch"),S=i("Headers"),T=x("iterator"),E="URLSearchParams",M=E+"Iterator",C=c.set,A=c.getterFor(E),O=c.getterFor(M),D=/\+/g,P=Array(4),L=function(e){return P[e-1]||(P[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},I=function(e){try{return decodeURIComponent(e)}catch(t){return e}},R=function(e){var t=e.replace(D," "),n=4;try{return decodeURIComponent(t)}catch(r){while(n)t=t.replace(L(n--),I);return t}},k=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(e){return N[e]},B=function(e){return encodeURIComponent(e).replace(k,F)},z=function(e,t){if(t){var n,r,i=t.split("&"),a=0;while(a<i.length)n=i[a++],n.length&&(r=n.split("="),e.push({key:R(r.shift()),value:R(r.join("="))}))}},j=function(e){this.entries.length=0,z(this.entries,e)},H=function(e,t){if(e<t)throw TypeError("Not enough arguments")},U=l((function(e,t){C(this,{type:M,iterator:_(A(e).entries),kind:t})}),"Iterator",(function(){var e=O(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),V=function(){f(this,V,E);var e,t,n,r,i,a,o,s,u,l=arguments.length>0?arguments[0]:void 0,c=this,d=[];if(C(c,{type:E,entries:d,updateURL:function(){},updateSearchParams:j}),void 0!==l)if(m(l))if(e=b(l),"function"===typeof e){t=e.call(l),n=t.next;while(!(r=n.call(t)).done){if(i=_(g(r.value)),a=i.next,(o=a.call(i)).done||(s=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:o.value+"",value:s.value+""})}}else for(u in l)h(l,u)&&d.push({key:u,value:l[u]+""});else z(d,"string"===typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},G=V.prototype;s(G,{append:function(e,t){H(arguments.length,2);var n=A(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){H(arguments.length,1);var t=A(this),n=t.entries,r=e+"",i=0;while(i<n.length)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){H(arguments.length,1);for(var t=A(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){H(arguments.length,1);for(var t=A(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){H(arguments.length,1);var t=A(this).entries,n=e+"",r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){H(arguments.length,1);for(var n,r=A(this),i=r.entries,a=!1,o=e+"",s=t+"",u=0;u<i.length;u++)n=i[u],n.key===o&&(a?i.splice(u--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=A(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){var t,n=A(this).entries,r=d(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),o(G,T,G.entries),o(G,"toString",(function(){var e,t=A(this).entries,n=[],r=0;while(r<t.length)e=t[r++],n.push(B(e.key)+"="+B(e.value));return n.join("&")}),{enumerable:!0}),u(V,E),r({global:!0,forced:!a},{URLSearchParams:V}),a||"function"!=typeof w||"function"!=typeof S||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(t=arguments[1],m(t)&&(n=t.body,p(n)===E&&(r=t.headers?new S(t.headers):new S,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:y(0,String(n)),headers:y(0,r)}))),i.push(t)),w.apply(this,i)}}),e.exports={URLSearchParams:V,getState:A}},w41v:function(e,t,n){"use strict";var r=n("45XY"),i=n("GumR"),a=n("fAam"),o=n("SrKn"),s=n("Rx/k"),u=n("Zwxo"),l=function(e){return null===e||void 0===e};function c(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[[d(t,e),"[",i,"]"].join("")]:[[d(t,e),"[",d(i,e),"]=",d(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[[d(t,e),"[]"].join("")]:[[d(t,e),"[]=",d(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null===r||void 0===r||0===r.length?n:0===n.length?[[d(t,e),"=",d(r,e)].join("")]:[[n,d(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[d(t,e)]:[[d(t,e),"=",d(r,e)].join("")])}}}}function f(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var i="string"===typeof n&&n.includes(e.arrayFormatSeparator),a="string"===typeof n&&!i&&p(n,e).includes(e.arrayFormatSeparator);n=a?p(n,e):n;var o=i||a?n.split(e.arrayFormatSeparator).map((function(t){return p(t,e)})):null===n?n:p(n,e);r[t]=o};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}function h(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}function p(e,t){return t.decode?s(e):e}function g(e){return Array.isArray(e)?e.sort():"object"===typeof e?g(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function m(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function v(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}function y(e){e=m(e);var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function _(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function b(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),h(t.arrayFormatSeparator);var n=f(t),a=Object.create(null);if("string"!==typeof e)return a;if(e=e.trim().replace(/^[?#&]/,""),!e)return a;var o,s=i(e.split("&"));try{for(s.s();!(o=s.n()).done;){var l=o.value,c=u(t.decode?l.replace(/\+/g," "):l,"="),d=r(c,2),m=d[0],v=d[1];v=void 0===v?null:["comma","separator"].includes(t.arrayFormat)?v:p(v,t),n(p(m,t),v,a)}}catch(M){s.e(M)}finally{s.f()}for(var y=0,b=Object.keys(a);y<b.length;y++){var x=b[y],w=a[x];if("object"===typeof w&&null!==w)for(var S=0,T=Object.keys(w);S<T.length;S++){var E=T[S];w[E]=_(w[E],t)}else a[x]=_(w,t)}return!1===t.sort?a:(!0===t.sort?Object.keys(a).sort():Object.keys(a).sort(t.sort)).reduce((function(e,t){var n=a[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=g(n):e[t]=n,e}),Object.create(null))}t.extract=y,t.parse=b,t.stringify=function(e,t){if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),h(t.arrayFormatSeparator);for(var n=function(n){return t.skipNull&&l(e[n])||t.skipEmptyString&&""===e[n]},r=c(t),i={},a=0,o=Object.keys(e);a<o.length;a++){var s=o[a];n(s)||(i[s]=e[s])}var u=Object.keys(i);return!1!==t.sort&&u.sort(t.sort),u.map((function(n){var i=e[n];return void 0===i?"":null===i?d(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):d(n,t)+"="+d(i,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=u(e,"#"),i=r(n,2),a=i[0],o=i[1];return Object.assign({url:a.split("?")[0]||"",query:b(y(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:p(o,t)}:{})},t.stringifyUrl=function(e,n){n=Object.assign({encode:!0,strict:!0},n);var r=m(e.url).split("?")[0]||"",i=t.extract(e.url),a=t.parse(i,{sort:!1}),o=Object.assign(a,e.query),s=t.stringify(o,n);s&&(s="?".concat(s));var u=v(e.url);return e.fragmentIdentifier&&(u="#".concat(d(e.fragmentIdentifier,n))),"".concat(r).concat(s).concat(u)}},w7rW:function(e,t,n){"use strict";var r=n("Wp5u").exportTypedArrayMethod,i=n("7+LC"),a=n("2JD6"),o=a.Uint8Array,s=o&&o.prototype||{},u=[].toString,l=[].join;i((function(){u.call({})}))&&(u=function(){return l.call(this)});var c=s.toString!=u;r("toString",u,c)},wFHg:function(e,t,n){var r=n("2hCa"),i=n("szjD").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?s(e):i(r(e))}},wKMT:function(e,t,n){var r=n("m52V"),i=n("0Ccx");e.exports=r?i:function(e){return Set.prototype.values.call(e)}},"wQ+q":function(e,t,n){var r=n("JzK+"),i=n("/Izz"),a="["+i+"]",o=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),u=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},waKi:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("bXon"),o=n("hXyk"),s=n("DDwO"),u=n("40mc"),l=n("70zE"),c=n("wKMT"),f=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e){var t=o(this),n=c(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,a("Set"))),h=s(i.add);return f(n,(function(e){r(e,e,t)&&h.call(i,e)}),void 0,!1,!0),i}})},wdlL:function(e,t,n){var r=n("HIsA"),i=n("RUgK").entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},"x+a2":function(e,t,n){"use strict";var r=n("PaPB"),i=n("JzK+");e.exports="".repeat||function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},x2v5:function(e){e.exports=JSON.parse("{}")},xOST:function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},xUti:function(e,t,n){var r=n("7+LC");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},xUzk:function(e,t,n){"use strict";var r=n("HIsA"),i=n("DDwO"),a=n("bXon"),o=n("0MLT"),s=n("uCRN"),u=n("Ji6T"),l="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var t=this,n=o.f(t),r=n.resolve,c=n.reject,f=s((function(){var n=i(t.resolve),o=[],s=0,f=1,h=!1;u(e,(function(e){var i=s++,u=!1;o.push(void 0),f++,n.call(t,e).then((function(e){u||h||(h=!0,r(e))}),(function(e){u||h||(u=!0,o[i]=e,--f||c(new(a("AggregateError"))(o,l)))}))})),--f||c(new(a("AggregateError"))(o,l))}));return f.error&&c(f.value),n.promise}})},xdXA:function(e,t,n){"use strict";var r=n("dZOt"),i=n("xwgP");t.useSubscription=function(e){var t=e.getCurrentValue,n=e.subscribe,a=i.useState((function(){return{getCurrentValue:t,subscribe:n,value:t()}}));e=a[0];var o=a[1];return a=e.value,e.getCurrentValue===t&&e.subscribe===n||(a=t(),o({getCurrentValue:t,subscribe:n,value:a})),i.useDebugValue(a),i.useEffect((function(){function e(){if(!i){var e=t();o((function(i){return i.getCurrentValue!==t||i.subscribe!==n||i.value===e?i:r({},i,{value:e})}))}}var i=!1,a=n(e);return e(),function(){i=!0,a()}}),[t,n]),a}},xgte:function(e,t,n){"use strict";function r(){var e=i(n("xwgP"));return r=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=r()["default"].createContext({config:{mode:"doc",title:"",navs:{},menus:{},locales:[],repository:{branch:"master"},theme:{}},meta:{title:""},menu:[],nav:[],base:"",routes:[]});t["default"]=a},xlmz:function(e,t,n){var r=n("HIsA"),i=n("hXyk"),a=n("pxmn"),o=n("+qhb"),s=n("7+LC"),u=n("2RC6"),l=n("qmtO"),c=n("kI7s"),f=n("OLna");function h(e,t,n){var r,s,d=arguments.length<4?e:arguments[3],p=l.f(i(e),t);if(!p){if(a(s=c(e)))return h(s,t,n,d);p=f(0)}if(o(p,"value")){if(!1===p.writable||!a(d))return!1;if(r=l.f(d,t)){if(r.get||r.set||!1===r.writable)return!1;r.value=n,u.f(d,t,r)}else u.f(d,t,f(0,n));return!0}return void 0!==p.set&&(p.set.call(d,n),!0)}var d=s((function(){var e=u.f({},"a",{configurable:!0});return!1!==Reflect.set(c(e),"a",1,e)}));r({target:"Reflect",stat:!0,forced:d},{set:h})},xp0c:function(e,t,n){var r=n("+qhb"),i=n("jUTB"),a=n("qmtO"),o=n("2RC6");e.exports=function(e,t){for(var n=i(t),s=o.f,u=a.f,l=0;l<n.length;l++){var c=n[l];r(e,c)||s(e,c,u(t,c))}}},xwgP:function(e,t,n){"use strict";e.exports=n("9VYP")},y6vz:function(e,t,n){var r=n("6tTE"),i=n("GPbW");e.exports=Object.keys||function(e){return r(e,i)}},zM5O:function(e,t,n){"use strict";var r=n("HIsA"),i=n("m52V"),a=n("hXyk"),o=n("wKMT"),s=n("Ji6T");r({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=a(this),n=o(t),r=void 0===e?",":String(e),i=[];return s(n,i.push,i,!1,!0),i.join(r)}})},zZgq:function(e,t,n){"use strict";var r=n("pMf/"),i=n("Wp5u").exportTypedArrayStaticMethod,a=n("b4JQ");i("from",a,r)},zcJV:function(e,t,n){var r=n("HIsA"),i=n("5AZ8");r({target:"Set",stat:!0},{from:i})}});